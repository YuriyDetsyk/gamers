function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _toConsumableArray2(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _createSuper(e){return function(){var t,n=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+7AZ":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return k})),n.d(t,"__importDefault",(function(){return w})),n.d(t,"__classPrivateFieldGet",(function(){return S})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"/uUt":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck2(this,e),this.compare=t,this.keySelector=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass2(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(r.a)},0:function(e,t,n){e.exports=n("zUnb")},"0EUg":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"0Xir":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=r.__importStar(n("8Y7J")),s=r.__importStar(n("Thfh")),c=r.__importStar(n("ukx+")),u=r.__importStar(n("t/sr")),l=function(){function e(t,n,r){_classCallCheck2(this,e),this.userGuard=t,this.roomGuard=n,this.pipeHelpers=r}return _createClass2(e,[{key:"canActivate",value:function(e){var t=this;return this.userGuard.canActivate(e).pipe(this.pipeHelpers.startRequestPipe,o.switchMap((function(n){return n?t.roomGuard.canActivate(e):i.of(!1)})),this.pipeHelpers.endRequestPipe)}}]),e}();t.UserAndRoomGuard=l,l.\u0275fac=function(e){return new(e||l)(a.\u0275\u0275inject(s.UserGuard),a.\u0275\u0275inject(c.RoomGuard),a.\u0275\u0275inject(u.PipeHelpers))},l.\u0275prov=a.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})},"128B":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Kqap"),i=n("BFxc"),o=n("xbPD"),a=n("mCNh");function s(e,t){return arguments.length>=2?function(n){return Object(a.a)(Object(r.a)(e,t),Object(i.a)(1),Object(o.a)(t))(n)}:function(t){return Object(a.a)(Object(r.a)((function(t,n,r){return e(t,n,r+1)})),Object(i.a)(1))(t)}}},"1G5W":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck2(this,e),this.notifier=t}return _createClass2(e,[{key:"call",value:function(e,t){var n=new s(e),r=Object(i.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).seenValue=!1,r}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(r.a)},"1O3W":function(e,t,n){"use strict";n.d(t,"a",(function(){return W})),n.d(t,"b",(function(){return q})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return K}));var r=n("7KAL"),i=n("8Y7J"),o=n("SCoL"),a=n("9gLZ"),s=n("SVse"),c=n("8LU1"),u=n("1z/I"),l=n("XNiG"),h=n("quSY"),f=n("HDdC"),d=n("VRyK"),p=n("IzEk"),v=n("1G5W"),m=n("Ht+U"),g=function(){function e(t,n){_classCallCheck2(this,e),this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass2(e,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Object(c.d)(-this._previousScrollPosition.left),e.style.top=Object(c.d)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=r,n.scrollBehavior=i}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}]),e}();function y(){return Error("Scroll strategy has already been attached.")}var _=function(){function e(t,n,r,i){var o=this;_classCallCheck2(this,e),this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run((function(){return o._overlayRef.detach()}))}}return _createClass2(e,[{key:"attach",value:function(e){if(this._overlayRef)throw y();this._overlayRef=e}},{key:"enable",value:function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe((function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()}))):this._scrollSubscription=t.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),b=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),e}();function C(e,t){return t.some((function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right}))}function k(e,t){return t.some((function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right}))}var w=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return _createClass2(e,[{key:"attach",value:function(e){if(this._overlayRef)throw y();this._overlayRef=e}},{key:"enable",value:function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),r=n.width,i=n.height;C(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(e.disable(),e._ngZone.run((function(){return e._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),S=function(){var e=function e(t,n,r,i){var o=this;_classCallCheck2(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new b},this.close=function(e){return new _(o._scrollDispatcher,o._ngZone,o._viewportRuler,e)},this.block=function(){return new g(o._viewportRuler,o._document)},this.reposition=function(e){return new w(o._scrollDispatcher,o._viewportRuler,o._ngZone,e)},this._document=i};return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.a),i["\u0275\u0275inject"](r.c),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](s.DOCUMENT))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(r.a),Object(i["\u0275\u0275inject"])(r.c),Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(s.DOCUMENT))},token:e,providedIn:"root"}),e}(),E=function e(t){if(_classCallCheck2(this,e),this.scrollStrategy=new b,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t)for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];void 0!==t[i]&&(this[i]=t[i])}},I=function e(t,n,r,i,o){_classCallCheck2(this,e),this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=t.originX,this.originY=t.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},O=function e(t,n){_classCallCheck2(this,e),this.connectionPair=t,this.scrollableViewProperties=n};function P(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid ".concat(e,' "').concat(t,'". ')+'Expected "top", "bottom" or "center".')}function x(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid ".concat(e,' "').concat(t,'". ')+'Expected "start", "end" or "center".')}var T=function(){var e=function(){function e(t){var n=this;_classCallCheck2(this,e),this._attachedOverlays=[],this._keydownListener=function(e){for(var t=n._attachedOverlays,r=t.length-1;r>-1;r--)if(t[r]._keydownEventSubscriptions>0){t[r]._keydownEvents.next(e);break}},this._document=t}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(e)}},{key:"remove",value:function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.DOCUMENT))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(s.DOCUMENT))},token:e,providedIn:"root"}),e}(),A=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),D=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._platform=n,this._document=t}return _createClass2(e,[{key:"ngOnDestroy",value:function(){var e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(e||A)for(var t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);var r=this._document.createElement("div");r.classList.add("cdk-overlay-container"),A?r.setAttribute("platform","test"):e||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.DOCUMENT),i["\u0275\u0275inject"](o.a))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(s.DOCUMENT),Object(i["\u0275\u0275inject"])(o.a))},token:e,providedIn:"root"}),e}(),R=function(){function e(t,n,r,i,o,a,s,c){var u=this;_classCallCheck2(this,e),this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=c,this._backdropElement=null,this._backdropClick=new l.a,this._attachments=new l.a,this._detachments=new l.a,this._locationChanges=h.a.EMPTY,this._backdropClickHandler=function(e){return u._backdropClick.next(e)},this._keydownEventsObservable=new f.a((function(e){var t=u._keydownEvents.subscribe(e);return u._keydownEventSubscriptions++,function(){t.unsubscribe(),u._keydownEventSubscriptions--}})),this._keydownEvents=new l.a,this._keydownEventSubscriptions=0,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return _createClass2(e,[{key:"attach",value:function(e){var t=this,n=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(p.a)(1)).subscribe((function(){t.hasAttached()&&t.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return t.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}}},{key:"dispose",value:function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEventsObservable}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}},{key:"setDirection",value:function(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}},{key:"addPanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!0)}},{key:"removePanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!1)}},{key:"getDirection",value:function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}},{key:"updateScrollStrategy",value:function(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var e=this._pane.style;e.width=Object(c.d)(this._config.width),e.height=Object(c.d)(this._config.height),e.minWidth=Object(c.d)(this._config.minWidth),e.minHeight=Object(c.d)(this._config.minHeight),e.maxWidth=Object(c.d)(this._config.maxWidth),e.maxHeight=Object(c.d)(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(e){this._pane.style.pointerEvents=e?"auto":"none"}},{key:"_attachBackdrop",value:function(){var e=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){e._backdropElement&&e._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var e,t=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",t._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),t._backdropElement==n&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(n,t._config.backdropClass,!1),clearTimeout(e)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",r)})),n.style.pointerEvents="none",e=this._ngZone.runOutsideAngular((function(){return setTimeout(r,500)}))}}},{key:"_toggleClasses",value:function(e,t,n){var r=e.classList;Object(c.b)(t).forEach((function(e){e&&(n?r.add(e):r.remove(e))}))}},{key:"_detachContentWhenStable",value:function(){var e=this;this._ngZone.runOutsideAngular((function(){var t=e._ngZone.onStable.asObservable().pipe(Object(v.a)(Object(d.a)(e._attachments,e._detachments))).subscribe((function(){e._pane&&e._host&&0!==e._pane.children.length||(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),t.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),e}(),j=/([A-Za-z%]+)$/,M=function(){function e(t,n,r,i,o){_classCallCheck2(this,e),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new l.a,this._resizeSubscription=h.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}return _createClass2(e,[{key:"attach",value:function(e){var t=this;if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){t._isInitialRender=!0,t.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var e,t,n=this._originRect,r=this._overlayRect,i=this._viewportRect,o=[],a=_createForOfIteratorHelper(this._preferredPositions);try{for(a.s();!(t=a.n()).done;){var s=t.value,c=this._getOriginPoint(n,s),u=this._getOverlayPoint(c,r,s),l=this._getOverlayFit(u,r,i,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,c);this._canFitWithFlexibleDimensions(l,u,i)?o.push({position:s,origin:c,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(c,s)}):(!e||e.overlayFit.visibleArea<l.visibleArea)&&(e={overlayFit:l,overlayPoint:u,originPoint:c,position:s,overlayRect:r})}}catch(g){a.e(g)}finally{a.f()}if(o.length){var h,f=null,d=-1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);m>d&&(d=m,f=v)}}catch(g){p.e(g)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&N(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}},{key:"withScrollableContainers",value:function(e){return this._scrollables=e,this}},{key:"withPositions",value:function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(e){return this._viewportMargin=e,this}},{key:"withFlexibleDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=e,this}},{key:"withGrowAfterOpen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=e,this}},{key:"withPush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=e,this}},{key:"withLockedPosition",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=e,this}},{key:"setOrigin",value:function(e){return this._origin=e,this}},{key:"withDefaultOffsetX",value:function(e){return this._offsetX=e,this}},{key:"withDefaultOffsetY",value:function(e){return this._offsetY=e,this}},{key:"withTransformOriginOn",value:function(e){return this._transformOriginSelector=e,this}},{key:"_getOriginPoint",value:function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}}},{key:"_getOverlayPoint",value:function(e,t,n){var r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}},{key:"_getOverlayFit",value:function(e,t,n,r){var i=e.x,o=e.y,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);var c=0-o,u=o+t.height-n.height,l=this._subtractOverflows(t.width,0-i,i+t.width-n.width),h=this._subtractOverflows(t.height,c,u),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:t.width*t.height===f,fitsInViewportVertically:h===t.height,fitsInViewportHorizontally:l==t.width}}},{key:"_canFitWithFlexibleDimensions",value:function(e,t,n){if(this._hasFlexibleDimensions){var r=n.bottom-t.y,i=n.right-t.x,o=F(this._overlayRef.getConfig().minHeight),a=F(this._overlayRef.getConfig().minWidth),s=e.fitsInViewportHorizontally||null!=a&&a<=i;return(e.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var r,i,o=this._viewportRect,a=Math.max(e.x+t.width-o.right,0),s=Math.max(e.y+t.height-o.bottom,0),c=Math.max(o.top-n.top-e.y,0),u=Math.max(o.left-n.left-e.x,0);return r=t.width<=o.width?u||-a:e.x<this._viewportMargin?o.left-n.left-e.x:0,i=t.height<=o.height?c||-s:e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:r,y:i},{x:e.x+r,y:e.y+i}}},{key:"_applyPosition",value:function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new O(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(t," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(e,t){var n,r,i,o,a,s,c=this._viewportRect,u=this._isRtl();if("top"===t.overlayY)r=e.y,n=c.height-r+this._viewportMargin;else if("bottom"===t.overlayY)i=c.height-e.y+2*this._viewportMargin,n=c.height-i+this._viewportMargin;else{var l=Math.min(c.bottom-e.y+c.top,e.y),h=this._lastBoundingBoxSize.height;n=2*l,r=e.y-l,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.y-h/2)}if("end"===t.overlayX&&!u||"start"===t.overlayX&&u)s=c.width-e.x+this._viewportMargin,o=e.x-this._viewportMargin;else if("start"===t.overlayX&&!u||"end"===t.overlayX&&u)a=e.x,o=c.right-e.x;else{var f=Math.min(c.right-e.x+c.left,e.x),d=this._lastBoundingBoxSize.width;o=2*f,a=e.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.x-d/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(e,t){var n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Object(c.d)(n.height),r.top=Object(c.d)(n.top),r.bottom=Object(c.d)(n.bottom),r.width=Object(c.d)(n.width),r.left=Object(c.d)(n.left),r.right=Object(c.d)(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=Object(c.d)(i)),o&&(r.maxWidth=Object(c.d)(o))}this._lastBoundingBoxSize=n,N(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){N(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){N(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(e,t){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){var a=this._viewportRuler.getViewportScrollPosition();N(n,this._getExactOverlayY(t,e,a)),N(n,this._getExactOverlayX(t,e,a))}else n.position="static";var s="",u=this._getOffset(t,"x"),l=this._getOffset(t,"y");u&&(s+="translateX(".concat(u,"px) ")),l&&(s+="translateY(".concat(l,"px)")),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=Object(c.d)(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Object(c.d)(o.maxWidth):i&&(n.maxWidth="")),N(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(e,t,n){var r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===e.overlayY?r.bottom="".concat(this._document.documentElement.clientHeight-(i.y+this._overlayRect.height),"px"):r.top=Object(c.d)(i.y),r}},{key:"_getExactOverlayX",value:function(e,t,n){var r={left:"",right:""},i=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?r.right="".concat(this._document.documentElement.clientWidth-(i.x+this._overlayRect.width),"px"):r.left=Object(c.d)(i.x),r}},{key:"_getScrollVisibility",value:function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(e){return e.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:k(e,n),isOriginOutsideView:C(e,n),isOverlayClipped:k(t,n),isOverlayOutsideView:C(t,n)}}},{key:"_subtractOverflows",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return e-Math.max(t,0)}),e)}},{key:"_getNarrowedViewportRect",value:function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(e){x("originX",e.originX),P("originY",e.originY),x("overlayX",e.overlayX),P("overlayY",e.overlayY)}))}},{key:"_addPanelClasses",value:function(e){var t=this;this._pane&&Object(c.b)(e).forEach((function(e){""!==e&&-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))}))}},{key:"_clearPanelClasses",value:function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach((function(t){e._pane.classList.remove(t)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var e=this._origin;if(e instanceof i.ElementRef)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();var t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}},{key:"positions",get:function(){return this._preferredPositions}}]),e}();function N(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function F(e){if("number"!=typeof e&&null!=e){var t=_slicedToArray(e.split(j),2),n=t[0],r=t[1];return r&&"px"!==r?null:parseFloat(n)}return e||null}var L=function(){function e(t,n,r,i,o,a,s){_classCallCheck2(this,e),this._preferredPositions=[],this._positionStrategy=new M(r,i,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,n)}return _createClass2(e,[{key:"attach",value:function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(e){this._positionStrategy.withScrollableContainers(e)}},{key:"withFallbackPosition",value:function(e,t,n,r){var i=new I(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}},{key:"withOffsetX",value:function(e){return this._positionStrategy.withDefaultOffsetX(e),this}},{key:"withOffsetY",value:function(e){return this._positionStrategy.withDefaultOffsetY(e),this}},{key:"withLockedPosition",value:function(e){return this._positionStrategy.withLockedPosition(e),this}},{key:"withPositions",value:function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(e){return this._positionStrategy.setOrigin(e),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),e}(),V=function(){function e(){_classCallCheck2(this,e),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass2(e,[{key:"attach",value:function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}},{key:"left",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}},{key:"right",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}},{key:"width",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}},{key:"centerHorizontally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(e),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(e),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,i=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==i&&"100vh"!==i||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=s?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,s?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}}]),e}(),U=function(){var e=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i}return _createClass2(e,[{key:"global",value:function(){return new V}},{key:"connectedTo",value:function(e,t,n){return new L(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(e){return new M(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.c),i["\u0275\u0275inject"](s.DOCUMENT),i["\u0275\u0275inject"](o.a),i["\u0275\u0275inject"](D))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(r.c),Object(i["\u0275\u0275inject"])(s.DOCUMENT),Object(i["\u0275\u0275inject"])(o.a),Object(i["\u0275\u0275inject"])(D))},token:e,providedIn:"root"}),e}(),B=0,G=function(){var e=function(){function e(t,n,r,i,o,a,s,c,u,l){_classCallCheck2(this,e),this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=c,this._directionality=u,this._location=l}return _createClass2(e,[{key:"create",value:function(e){var t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new E(e);return i.direction=i.direction||this._directionality.value,new R(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-".concat(B++),t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}},{key:"_createHostElement",value:function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}},{key:"_createPortalOutlet",value:function(e){return this._appRef||(this._appRef=this._injector.get(i.ApplicationRef)),new u.d(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](S),i["\u0275\u0275inject"](D),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](U),i["\u0275\u0275inject"](T),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](s.DOCUMENT),i["\u0275\u0275inject"](a.Directionality),i["\u0275\u0275inject"](s.Location,8))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),H=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],z=new i.InjectionToken("cdk-connected-overlay-scroll-strategy"),q=function(){var e=function e(t){_classCallCheck2(this,e),this.elementRef=t};return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e}(),W=function(){var e=function(){function e(t,n,r,o,a){_classCallCheck2(this,e),this._overlay=t,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new i.EventEmitter,this.positionChange=new i.EventEmitter,this.attach=new i.EventEmitter,this.detach=new i.EventEmitter,this.overlayKeydown=new i.EventEmitter,this._templatePortal=new u.f(n,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var e=this;this.positions&&this.positions.length||(this.positions=H),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe((function(t){e.overlayKeydown.next(t),t.keyCode!==m.e||Object(m.q)(t)||(t.preventDefault(),e._detachOverlay())}))}},{key:"_buildConfig",value:function(){var e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new E({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}},{key:"_updatePositionStrategy",value:function(e){var t=this,n=this.positions.map((function(e){return{originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||t.offsetX,offsetY:e.offsetY||t.offsetY,panelClass:e.panelClass||void 0}}));return e.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var e=this,t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe((function(t){return e.positionChange.emit(t)})),t}},{key:"_attachOverlay",value:function(){var e=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe((function(t){e.backdropClick.emit(t)})):this._backdropSubscription.unsubscribe()}},{key:"_detachOverlay",value:function(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}},{key:"offsetX",get:function(){return this._offsetX},set:function(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=Object(c.c)(e)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(e){this._lockPosition=Object(c.c)(e)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(e){this._flexibleDimensions=Object(c.c)(e)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(e){this._growAfterOpen=Object(c.c)(e)}},{key:"push",get:function(){return this._push},set:function(e){this._push=Object(c.c)(e)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](G),i["\u0275\u0275directiveInject"](i.TemplateRef),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](z),i["\u0275\u0275directiveInject"](a.Directionality,8))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[i["\u0275\u0275NgOnChangesFeature"]]}),e}(),Y={provide:z,deps:[G],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},K=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[G,Y],imports:[[a.BidiModule,u.e,r.b],r.b]}),e}()},"1uah":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("yCtX"),i=n("DH7j"),o=n("7o/Q"),a=n("l7GE"),s=n("ZUHj"),c=n("Lhse");function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return"function"==typeof i&&t.pop(),Object(r.a)(t,void 0).lift(new l(i))}var l=function(){function e(t){_classCallCheck2(this,e),this.resultSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.resultSelector))}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return _classCallCheck2(this,n),(i=t.call(this,e)).iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:null,i.values=o,i}return _createClass2(n,[{key:"_next",value:function(e){var t=this.iterators;Object(i.a)(e)?t.push(new d(e)):t.push("function"==typeof e[c.a]?new f(e[c.a]()):new p(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<t;s++){var c=e[s],u=c.next();if(c.hasCompleted()&&(o=!0),u.done)return void n.complete();a.push(u.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(o.a),f=function(){function e(t){_classCallCheck2(this,e),this.iterator=t,this.nextResult=t.next()}return _createClass2(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return e&&e.done}}]),e}(),d=function(){function e(t){_classCallCheck2(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return _createClass2(e,[{key:c.a,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return _createClass2(n,[{key:c.a,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(e,t){return Object(s.a)(this,this.observable,this,t)}}]),n}(a.a)},"1z/I":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return c}));var r=n("8Y7J"),i=n("SVse");function o(){throw Error("Host already has a portal attached")}var a=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"attach",value:function(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&o(),this._attachedHost=e,e.attach(this)}},{key:"detach",value:function(){var e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this)).component=e,a.viewContainerRef=r,a.injector=i,a.componentFactoryResolver=o,a}return n}(a),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this)).templateRef=e,o.viewContainerRef=r,o.context=i,o}return _createClass2(n,[{key:"attach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=t,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,e)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(a),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck2(this,n),(i=t.call(this)).element=e instanceof r.ElementRef?e.nativeElement:e,i}return n}(a),l=function(){function e(){_classCallCheck2(this,e),this._isDisposed=!1,this.attachDomPortal=null}return _createClass2(e,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&o(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof s?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof c?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof u?(this._attachedPortal=e,this.attachDomPortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this)).outletElement=e,s._componentFactoryResolver=r,s._appRef=i,s._defaultInjector=o,s.attachDomPortal=function(e){if(!s._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=s._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),s.outletElement.appendChild(t),_get(_getPrototypeOf(n.prototype),"setDisposeFn",_assertThisInitialized(s)).call(_assertThisInitialized(s),(function(){r.parentNode&&r.parentNode.replaceChild(t,r)}))},s._document=a,s}return _createClass2(n,[{key:"attachComponentPortal",value:function(e){var t,n=this,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn((function(){return t.destroy()}))):(t=r.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn((function(){n._appRef.detachView(t.hostView),t.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(t)),t}},{key:"attachTemplatePortal",value:function(e){var t=this,n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context);return r.detectChanges(),r.rootNodes.forEach((function(e){return t.outletElement.appendChild(e)})),this.setDisposeFn((function(){var e=n.indexOf(r);-1!==e&&n.remove(e)})),r}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(l),f=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this))._componentFactoryResolver=e,a._viewContainerRef=i,a._isInitialized=!1,a.attached=new r.EventEmitter,a.attachDomPortal=function(e){if(!a._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=a._document.createComment("dom-portal");e.setAttachedHost(_assertThisInitialized(a)),t.parentNode.insertBefore(r,t),a._getRootNode().appendChild(t),_get(_getPrototypeOf(n.prototype),"setDisposeFn",_assertThisInitialized(a)).call(_assertThisInitialized(a),(function(){r.parentNode&&r.parentNode.replaceChild(t,r)}))},a._document=o,a}return _createClass2(n,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(e){e.setAttachedHost(this);var t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=t.createComponent(r,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),_get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return i.destroy()})),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}},{key:"attachTemplatePortal",value:function(e){var t=this;e.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return _get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return t._viewContainerRef.clear()})),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}},{key:"_getRootNode",value:function(){var e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(n.prototype),"detach",this).call(this),e&&_get(_getPrototypeOf(n.prototype),"attach",this).call(this,e),this._attachedPortal=e)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ComponentFactoryResolver),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](i.DOCUMENT))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r["\u0275\u0275InheritDefinitionFeature"]]}),e}(),d=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e}()},"232T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("G+XK");function i(e){var t=[e.data];return e.firstChild&&t.unshift.apply(t,_toConsumableArray2(i(e.firstChild))),t}t.getFullRouteData=i,t.getLayoutData=function(e){var t,n,o,a,s=_createForOfIteratorHelper(i(e));try{for(s.s();!(a=s.n()).done;){var c=a.value;r.isNil(t)&&(t=c.showHeader),r.isNil(n)&&(n=c.showSidebar),r.isNil(o)&&(o=c.showFooter)}}catch(u){s.e(u)}finally{s.f()}return{showHeader:t,showSidebar:n,showFooter:o}}},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp"),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._value=e,r}return _createClass2(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(r.a)},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"2kLq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG");n("5x/H"),n("WI49");var i=n("Wcq6"),o=n("qCKp"),a=n("kU1M"),s=n("a6pu"),c=n("MBfS"),u=n("ultA"),l=r.__importStar(n("8Y7J")),h=r.__importStar(n("VRCc")),f=r.__importStar(n("wD+u")),d=r.__importStar(n("fMxG")),p=r.__importStar(n("t/sr")),v=function(){function e(t,n,r,i){var a=this;_classCallCheck2(this,e),this.afAuth=t,this.db=n,this.storage=r,this.pipeHelpers=i,this.authState$=new o.Observable((function(e){a.afAuth.onAuthStateChanged((function(t){return a.firebaseUser=t,t?a.session||(a.session=new o.Subject):a.session&&(a.session.next(),a.session.complete(),a.session=null),e.next(t)}),(function(t){return e.error(t)}),(function(){return e.complete()}))}))}return _createClass2(e,[{key:"signUp",value:function(e){var t=this;return o.from(this.afAuth.createUserWithEmailAndPassword(e.email,e.password)).pipe(this.pipeHelpers.startRequestPipe,a.switchMap((function(n){return o.defer((function(){return r.__awaiter(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new s.UserDto({id:n.user.uid,username:e.email.split("@")[0],gender:e.gender,biography:e.biography}),t.next=3,this.db.collection("users").doc(n.user.uid).set(u.convertToFirebaseObject(r));case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})))}))})),this.pipeHelpers.endRequestPipe)}},{key:"signIn",value:function(e){var t=this;return o.from(this.afAuth.setPersistence(i.auth.Auth.Persistence.LOCAL)).pipe(this.pipeHelpers.startRequestPipe,a.switchMap((function(){return o.from(t.afAuth.signInWithEmailAndPassword(e.email,e.password))})),a.switchMap((function(e){return t.getCurrentUser(e.user.uid)})),this.pipeHelpers.endRequestPipe)}},{key:"signInAnonymously",value:function(e){var t=this;return o.from(this.afAuth.setPersistence(i.auth.Auth.Persistence.LOCAL)).pipe(this.pipeHelpers.startRequestPipe,a.switchMap((function(){return o.from(t.afAuth.signInAnonymously())})),a.switchMap((function(n){return r.__awaiter(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="GUEST_".concat(n.user.uid),i=new s.UserDto({id:r,username:e}),t.next=3,this.db.collection("users").doc(r).set(u.convertToFirebaseObject(i));case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})))})),a.switchMap((function(e){return t.getCurrentUser(e)})),this.pipeHelpers.endRequestPipe)}},{key:"signOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e?this.signOutAndDelete():o.from(this.afAuth.signOut())).pipe(this.pipeHelpers.startRequestPipe,this.pipeHelpers.endRequestPipe)}},{key:"getCurrentUser",value:function(e){return this.db.collection("users").doc(e).get().pipe(this.pipeHelpers.startRequestPipe,a.map((function(e){return new s.UserDto(e.data())})),this.pipeHelpers.endRequestPipe)}},{key:"getAuthState",value:function(){return this.authState$}},{key:"uploadFile",value:function(e,t){var n={contentType:e.type||"image/png"},r=this.storage.ref("users/".concat(t,"/").concat(e.name));return o.from(r.put(e,n).then()).pipe(this.pipeHelpers.startRequestPipe,a.switchMap((function(){return r.getDownloadURL()})),a.map((function(e){return e})),this.pipeHelpers.endRequestPipe)}},{key:"update",value:function(e,t,n,r){var i=this;return o.from(this.db.collection(t).doc(n).update(u.convertToFirebaseObject(r))).pipe(this.pipeHelpers.startRequestPipe,a.switchMap((function(){return i.db.collection(t).doc(n).get()})),a.map((function(t){return new e(t.data())})),this.pipeHelpers.endRequestPipe)}},{key:"updateAll",value:function(e,t,n){return this.updateQuery(e,t,null,n)}},{key:"updateQuery",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,s=function(e){return r&&r.forEach((function(t){e=e.where(t.field,t.operator,t.value)})),e};return o.from(this.db.collection(t,s).get()).pipe(this.pipeHelpers.startRequestPipe,a.switchMap((function(e){var t=[o.of(null)];return e.forEach((function(e){t.push(o.from(e.ref.update(u.convertToFirebaseObject(i))))})),o.forkJoin(t)})),a.switchMap((function(){return n.db.collection(t,s).get()})),a.map((function(t){var n=[];return t.forEach((function(t){t.data&&n.push(new e(t.data()))})),n})),this.pipeHelpers.endRequestPipe)}},{key:"set",value:function(e,t,n,r){var i=this;return o.from(this.db.collection(t).doc(n).set(u.convertToFirebaseObject(r))).pipe(this.pipeHelpers.startRequestPipe,a.switchMap((function(){return i.db.collection(t).doc(n).get()})),a.map((function(t){return new e(t.data())})),this.pipeHelpers.endRequestPipe)}},{key:"get",value:function(e,t,n){return o.from(this.db.collection(t).doc(n).get()).pipe(this.pipeHelpers.startRequestPipe,a.map((function(t){return t.data()?new e(t.data()):t.data()})),this.pipeHelpers.endRequestPipe)}},{key:"getAll",value:function(e,t){return this.getQuery(e,t)}},{key:"getQuery",value:function(e,t,n){return o.from(this.db.collection(t,(function(e){return n&&n.forEach((function(t){e=e.where(t.field,t.operator,t.value)})),e})).get()).pipe(this.pipeHelpers.startRequestPipe,a.map((function(t){var n=[];return t.forEach((function(t){t.data&&n.push(new e(t.data()))})),n})),this.pipeHelpers.endRequestPipe)}},{key:"listen",value:function(e,t){return this.db.collection(t).valueChanges().pipe(a.map((function(t){return t.map((function(t){return new e(t)}))})),a.catchError((function(){return console.warn("Listening to ".concat(t," has failed")),o.of([])})))}},{key:"delete",value:function(e,t,n){var r=this;return this.get(e,t,n).pipe(this.pipeHelpers.startRequestPipe,a.switchMap((function(e){return e?o.from(r.db.collection(t).doc(n).delete()):o.of(null)})),this.pipeHelpers.endRequestPipe)}},{key:"deleteQuery",value:function(e,t){return o.from(this.db.collection(e,(function(e){return t.forEach((function(t){e=e.where(t.field,t.operator,t.value)})),e})).get()).pipe(this.pipeHelpers.startRequestPipe,a.switchMap((function(e){var t=[o.of(null)];return e.forEach((function(e){t.push(o.from(e.ref.delete()))})),o.forkJoin(t)})),this.pipeHelpers.endRequestPipe)}},{key:"generateId",value:function(e){return e?this.db.createId().substr(0,e):this.db.createId()}},{key:"generateNumericId",value:function(){return c.getRandomItem(_toConsumableArray2(Array(65535).keys()))}},{key:"getFormattedUserId",value:function(e){return e.isAnonymous?"GUEST_".concat(e.uid):e.uid}},{key:"signOutAndDelete",value:function(){var e=this;return this.authState$.pipe(a.take(1),a.switchMap((function(t){var n=e.getFormattedUserId(t);return o.forkJoin([o.of(t),e.delete(s.UserDto,"users",n),e.deleteQuery("players",[{field:"userId",operator:"==",value:n}]),e.deleteQuery("rooms",[{field:"authorId",operator:"==",value:n}])])})),a.switchMap((function(e){var t=_slicedToArray(e,1)[0];return o.from(t.delete())})))}}]),e}();t.FirebaseService=v,v.\u0275fac=function(e){return new(e||v)(l.\u0275\u0275inject(h.AngularFireAuth),l.\u0275\u0275inject(f.AngularFirestore),l.\u0275\u0275inject(d.AngularFireStorage),l.\u0275\u0275inject(p.PipeHelpers))},v.\u0275prov=l.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"})},"2vsq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("iInd"),a=n("Hs/S"),s=n("uOVL"),c=r.__importStar(n("8Y7J")),u=(r.__importStar(n("iInd")),[{path:"",component:s.GamesComponent,data:{showFooter:!0}},{path:a.Game.Nechto.toLowerCase(),loadChildren:function(){return Promise.resolve().then((function(){return r.__importStar(n("BPRl"))})).then((function(e){return e.NechtoModule}))}},{path:"**",redirectTo:"",pathMatch:"full"}]),l=function e(){_classCallCheck2(this,e)};t.GamesRoutingModule=l,l.\u0275mod=c.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=c.\u0275\u0275defineInjector({factory:function(e){return new(e||l)},imports:[[i.CommonModule,o.RouterModule.forChild(u)],o.RouterModule]})},"305l":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("PCNd"),a=n("cMCp"),s=r.__importStar(n("8Y7J")),c=function e(){_classCallCheck2(this,e)};t.AuthModule=c,c.\u0275mod=s.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=s.\u0275\u0275defineInjector({factory:function(e){return new(e||c)},imports:[[i.CommonModule,o.SharedModule,a.AuthRoutingModule]]})},"30Go":function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return k})),n.d(t,"__importDefault",(function(){return w})),n.d(t,"__classPrivateFieldGet",(function(){return S})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"3E0/":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("D0XW"),i=n("mlxB"),o=n("7o/Q"),a=n("WMd4");function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a,n=Object(i.a)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(n,t))}}var c=function(){function e(t,n){_classCallCheck2(this,e),this.delay=t,this.scheduler=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.delay,this.scheduler))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass2(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new l(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(a.a.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(a.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),n}(o.a),l=function e(t,n){_classCallCheck2(this,e),this.time=t,this.notification=n}},"3G0t":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG").__importStar(n("8Y7J")),i=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"get",value:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(n){}return t}},{key:"set",value:function(e,t){try{t=JSON.stringify(t)}catch(n){}localStorage.setItem(e,t)}}]),e}();t.LocalStorageService=i,i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})},"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass2(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck2(this,n),t.call(this)}return _createClass2(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UWI":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("D0XW"),i=n("tnsW"),o=n("PqYM");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;return Object(i.a)((function(){return Object(o.a)(e,t)}))}},"3aSD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("PCNd"),a=n("2vsq"),s=r.__importStar(n("8Y7J")),c=function e(){_classCallCheck2(this,e)};t.GamesModule=c,c.\u0275mod=s.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=s.\u0275\u0275defineInjector({factory:function(e){return new(e||c)},imports:[[i.CommonModule,o.SharedModule,a.GamesRoutingModule]]})},"3u7H":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("jEPN"),o=n("z4p9"),a=n("I9Nm"),s=n("ngNE"),c=n("gcyb"),u=n("G+XK"),l=n("jrk1"),h=r.__importStar(n("8Y7J")),f=r.__importStar(n("cUpR")),d=r.__importStar(n("S1xO")),p=r.__importStar(n("zyZ6")),v=r.__importStar(n("PHhj")),m=r.__importStar(n("TSSN")),g=r.__importStar(n("f4AX")),y=r.__importStar(n("SVse")),_=r.__importStar(n("rJgo")),b=r.__importStar(n("mnSs"));function C(e,t){1&e&&h.\u0275\u0275elementContainer(0)}function k(e,t){1&e&&h.\u0275\u0275elementContainer(0)}function w(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"div",11),h.\u0275\u0275template(1,k,1,0,"ng-container",12),h.\u0275\u0275elementEnd()),2&e){h.\u0275\u0275nextContext();var n=h.\u0275\u0275reference(9),r=h.\u0275\u0275reference(7);h.\u0275\u0275property("matMenuTriggerFor",n),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngTemplateOutlet",r)}}function S(e,t){1&e&&h.\u0275\u0275elementContainer(0)}function E(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275template(1,S,1,0,"ng-container",12),h.\u0275\u0275elementEnd()),2&e){h.\u0275\u0275nextContext();var n=h.\u0275\u0275reference(7);h.\u0275\u0275advance(1),h.\u0275\u0275property("ngTemplateOutlet",n)}}var I=function(e,t,n){return{"smth-card-back":e,"smth-card-disabled":t,"smth-card-inactive":n}};function O(e,t){if(1&e&&h.\u0275\u0275element(0,"div",13),2&e){var n=h.\u0275\u0275nextContext(2);h.\u0275\u0275property("ngClass",h.\u0275\u0275pureFunction3(5,I,!n.canView,n.isCardDisabled,!n.hasAnyAction))("tooltip",n.tooltipTemplate),h.\u0275\u0275attribute("data-id",n.card.id)("data-type",n.card.type)("data-action",n.card.action)}}function P(e,t){1&e&&h.\u0275\u0275elementContainer(0)}function x(e,t){if(1&e){var n=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",16),h.\u0275\u0275listener("click",(function(){return h.\u0275\u0275restoreView(n),h.\u0275\u0275nextContext(3).playCard()})),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()}if(2&e){var r=h.\u0275\u0275nextContext(3);h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(r.getActionName(r.GameActionGroup.Play))}}function T(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"button",17),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){h.\u0275\u0275nextContext(2);var n=h.\u0275\u0275reference(15),r=h.\u0275\u0275nextContext();h.\u0275\u0275property("matMenuTriggerFor",n),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(r.getActionName(r.GameActionGroup.Play))}}function A(e,t){if(1&e&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275template(1,P,1,0,"ng-container",1),h.\u0275\u0275template(2,x,2,1,"ng-template",null,14,h.\u0275\u0275templateRefExtractor),h.\u0275\u0275template(4,T,2,2,"ng-template",null,15,h.\u0275\u0275templateRefExtractor),h.\u0275\u0275elementContainerEnd()),2&e){var n=h.\u0275\u0275reference(3),r=h.\u0275\u0275reference(5),i=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",!i.filteredReceivingPlayers.length)("ngIfThen",n)("ngIfElse",r)}}function D(e,t){if(1&e){var n=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",16),h.\u0275\u0275listener("click",(function(){return h.\u0275\u0275restoreView(n),h.\u0275\u0275nextContext(2).takeCard()})),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()}if(2&e){var r=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(r.getActionName(r.GameActionGroup.Take))}}function R(e,t){if(1&e){var n=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",16),h.\u0275\u0275listener("click",(function(){return h.\u0275\u0275restoreView(n),h.\u0275\u0275nextContext(2).dropCard()})),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()}if(2&e){var r=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(r.getActionName(r.GameActionGroup.Drop))}}function j(e,t){if(1&e&&(h.\u0275\u0275elementStart(0,"button",17),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),2&e){h.\u0275\u0275nextContext();var n=h.\u0275\u0275reference(18),r=h.\u0275\u0275nextContext();h.\u0275\u0275property("matMenuTriggerFor",n),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(r.getActionName(r.GameActionGroup.Give))}}function M(e,t){if(1&e){var n=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",16),h.\u0275\u0275listener("click",(function(){h.\u0275\u0275restoreView(n);var e=t.$implicit;return h.\u0275\u0275nextContext(2).playCard(e.playerId)})),h.\u0275\u0275text(1),h.\u0275\u0275pipe(2,"translate"),h.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate2("",h.\u0275\u0275pipeBind1(2,2,"i18n.COMMON.PLAY_TO")," ",r.user.username,"")}}function N(e,t){if(1&e){var n=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",16),h.\u0275\u0275listener("click",(function(){h.\u0275\u0275restoreView(n);var e=t.$implicit;return h.\u0275\u0275nextContext(2).giveCard(e.playerId)})),h.\u0275\u0275text(1),h.\u0275\u0275pipe(2,"translate"),h.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate2("",h.\u0275\u0275pipeBind1(2,2,"i18n.COMMON.GIVE_TO")," ",r.user.username,"")}}function F(e,t){if(1&e&&(h.\u0275\u0275elementContainerStart(0),h.\u0275\u0275template(1,C,1,0,"ng-container",1),h.\u0275\u0275template(2,w,2,2,"ng-template",null,2,h.\u0275\u0275templateRefExtractor),h.\u0275\u0275template(4,E,2,1,"ng-template",null,3,h.\u0275\u0275templateRefExtractor),h.\u0275\u0275template(6,O,1,9,"ng-template",null,4,h.\u0275\u0275templateRefExtractor),h.\u0275\u0275elementStart(8,"mat-menu",null,5),h.\u0275\u0275template(10,A,6,3,"ng-container",0),h.\u0275\u0275template(11,D,2,1,"button",6),h.\u0275\u0275template(12,R,2,1,"button",6),h.\u0275\u0275template(13,j,2,2,"button",7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"mat-menu",null,8),h.\u0275\u0275template(16,M,3,4,"button",9),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"mat-menu",null,10),h.\u0275\u0275template(19,N,3,4,"button",9),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementContainerEnd()),2&e){var n=h.\u0275\u0275reference(3),r=h.\u0275\u0275reference(5),i=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",i.hasAnyAction)("ngIfThen",n)("ngIfElse",r),h.\u0275\u0275advance(9),h.\u0275\u0275property("ngIf",i.canPlay),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",i.canTake),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",i.canDrop),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",i.canGive),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",i.filteredReceivingPlayers),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",i.filteredReceivingPlayers)}}var L=function(){function e(t,n,r,a,u,h){_classCallCheck2(this,e),this.sanitizer=t,this.cardService=n,this.gameService=r,this.roomService=a,this.translateService=u,this.userService=h,this.isDisabled=!1,this.isClickable=!0,this.NechtoCardType=s.NechtoCardType,this.NechtoCardAction=o.NechtoCardAction,this.CardLocation=i.CardLocation,this.StepPhase=c.StepPhase,this.GameActionGroup=l.GameActionGroup}return _createClass2(e,[{key:"playCard",value:function(e){if(!this.isCardDisabled&&this.isClickable)return this.isHand?this.cardService.playHandCard(this.card.id,e).subscribe():this.isTable?this.cardService.playTableCard(this.card.id,e).subscribe():void 0}},{key:"takeCard",value:function(){if(!this.isCardDisabled&&this.isClickable)return this.isDeck?this.cardService.takeDeckCard(this.card.id).subscribe():this.isHand?this.cardService.takeHandCard(this.card.id).subscribe():void 0}},{key:"dropCard",value:function(){if(!this.isCardDisabled&&this.isClickable)return this.isHand?this.cardService.dropHandCard(this.card.id).subscribe():this.isTable?this.cardService.dropTableCard(this.card.id).subscribe():void 0}},{key:"giveCard",value:function(e){if(!this.isCardDisabled&&this.isClickable)return this.isHand?this.cardService.giveHandCard(this.card.id,e).subscribe():this.isTable?this.cardService.giveTableCard(this.card.id,e).subscribe():void 0}},{key:"processCard",value:function(){this.canDrop?this.dropCard():this.canTake&&this.takeCard()}},{key:"hasStepPhase",value:function(e){return this.gameService.hasStepPhase(e)}},{key:"hasAnyOfStepPhases",value:function(){var e;return(e=this.gameService).hasAnyOfStepPhases.apply(e,arguments)}},{key:"getActionName",value:function(e){var t;switch(e){case l.GameActionGroup.Take:t=this.isPickMode?"PICK":"TAKE";break;case l.GameActionGroup.Play:t="PLAY";break;case l.GameActionGroup.Drop:t="DROP";break;case l.GameActionGroup.Give:t="GIVE";break;default:t=""}return this.translateService.instant("i18n.ACTION_GROUPS.".concat(t))}},{key:"checkReceivingPlayers",value:function(e,t){var n,r=this,i=this.gameService.getCurrentStepPlayerId(),a=this.gameService.getActivePlayerComponents().filter((function(e){return e.playerId!==i})),s=this.gameService.getPlayerComponent(i),u=this.gameService.getPreviousPlayer(),l=this.gameService.getNextPlayer(),h=[],f=!1;switch(e){case c.StepPhase.PlayFromHand:default:switch(t){case o.NechtoCardAction.Event_Action_RunAway:(n=h).push.apply(n,_toConsumableArray2(a)),f=!0;break;case o.NechtoCardAction.Event_Action_Axe:return h.push(u,s,l),h.filter((function(e){return e.playerId===s.playerId?r.gameService.hasQuarantine(e.playerId)||r.gameService.hasAnyLockedDoor(e.playerId):!r.gameService.canExchange(e.playerId)}));default:return[]}return h=h.filter((function(e){return r.gameService.canExchange(e.playerId,!1,f)}))}}},{key:"getTakeStepPhases",value:function(){switch(this.location){case i.CardLocation.Deck:return[c.StepPhase.TakeFromDeck,c.StepPhase.FulfillHandFromDeck];case i.CardLocation.Hand:return[c.StepPhase.PickFromHand];case i.CardLocation.Trash:case i.CardLocation.Table:default:return[]}}},{key:"canDrop",get:function(){return this.cardService.canDrop()&&(this.isHand&&this.gameService.hasStepPhase(c.StepPhase.DropFromHand)&&this.gameService.getHandPartId(this.card.id)===this.gameService.getCurrentStepPlayerId()&&this.card.action!==o.NechtoCardAction.Event_Infection_It&&(this.card.subType!==a.NechtoCardSubType.Infection||!this.gameService.isInfected()||this.gameService.getHand().filter((function(e){return e.subType===a.NechtoCardSubType.Infection})).length>=2)&&(!this.gameService.hasStepPhases(c.StepPhase.ProcessPanic)||!this.gameService.getActivePanicCard()||![o.NechtoCardAction.Panic_ChainReaction,o.NechtoCardAction.Panic_BlindDate].includes(this.gameService.getActivePanicCard().action)||this.gameService.lastCard.id!==this.card.id)&&(!this.gameService.hasStepPhases(c.StepPhase.ProcessEvent)||!this.gameService.getActiveEventCard()||this.gameService.getActiveEventCard().action!==o.NechtoCardAction.Event_Action_Persistence||this.cardPosition>this.cardService.MAX_HAND_CARDS-1)||this.isTable&&this.gameService.hasStepPhase(c.StepPhase.DropFromTable)&&(this.gameService.getTablePartId(this.card.id)===this.gameService.getCurrentStepPlayerId()||[this.card.requester,this.card.eventRequester,this.card.panicRequester].includes(this.gameService.getCurrentStepPlayerId()))&&(!this.gameService.hadStepPhase(c.StepPhase.DefenceFromHand)||this.card.id===this.gameService.lastCard.id))}},{key:"canTake",get:function(){return this.cardService.canTake(this.getTakeStepPhases())&&(this.gameService.lastCard.action!==o.NechtoCardAction.Event_Action_Suspicion||this.gameService.getHandPartId(this.card.id)===this.gameService.getTablePartId(this.gameService.lastCard.id))}},{key:"canPlay",get:function(){return this.cardService.canPlay()&&(this.isHand&&this.gameService.getHandPartId(this.card.id)===this.gameService.getCurrentStepPlayerId()&&this.card.subType!==a.NechtoCardSubType.Infection&&(this.gameService.hasStepPhase(c.StepPhase.PlayFromHand)&&this.card.subType!==a.NechtoCardSubType.Defence&&(this.card.action!==o.NechtoCardAction.Event_Action_SwapPlaces||this.gameService.canExchange(this.gameService.getPreviousPlayer().playerId)||this.gameService.canExchange(this.gameService.getNextPlayer().playerId))&&(![o.NechtoCardAction.Event_Action_RunAway,o.NechtoCardAction.Event_Action_Axe].includes(this.card.action)||!!this.checkReceivingPlayers(c.StepPhase.PlayFromHand,this.card.action).length)&&(![o.NechtoCardAction.Event_Action_Temptation,o.NechtoCardAction.Event_Action_Analysis,o.NechtoCardAction.Event_Action_Suspicion,o.NechtoCardAction.Event_Action_Flamethrower].includes(this.card.action)||this.receivingPlayers.length>=1)||this.gameService.hasStepPhase(c.StepPhase.DefenceFromHand)&&this.card.subType===a.NechtoCardSubType.Defence&&(!this.gameService.hasStepPhase(c.StepPhase.ProcessPanic)||!this.gameService.getActivePanicCard()||this.gameService.getActivePanicCard().action!==o.NechtoCardAction.Panic_ChainReaction)&&(this.card.action!==o.NechtoCardAction.Event_Defence_GoodHere||[o.NechtoCardAction.Event_Action_SwapPlaces,o.NechtoCardAction.Event_Action_RunAway].includes(this.gameService.lastCard.action))&&(this.card.action!==o.NechtoCardAction.Event_Defence_NoBarbecue||this.gameService.lastCard.action===o.NechtoCardAction.Event_Action_Flamethrower)&&(![o.NechtoCardAction.Event_Defence_NoThanks,o.NechtoCardAction.Event_Defence_Fear,o.NechtoCardAction.Event_Defence_Miss].includes(this.card.action)||!!this.gameService.getActiveRequestedCard()))&&(!this.gameService.hasQuarantine(this.gameService.getCurrentStepPlayerId())||this.card.action===o.NechtoCardAction.Event_Action_Axe)||this.isTable&&this.gameService.hasStepPhase(c.StepPhase.PlayFromTable)&&(![o.NechtoCardAction.Event_Action_SwapPlaces,o.NechtoCardAction.Panic_GoAway,o.NechtoCardAction.Panic_OneTwo].includes(this.card.action)||this.receivingPlayers.length>=1)&&this.card.action!==o.NechtoCardAction.Event_Obstacle_Quarantine)}},{key:"canGive",get:function(){return this.cardService.canGive()&&this.card.action!==o.NechtoCardAction.Event_Infection_It&&(this.isHand&&this.gameService.hasAnyOfStepPhases(c.StepPhase.GiveToNextPlayer,c.StepPhase.GiveToPreviousPlayer,c.StepPhase.GiveToPlayer,c.StepPhase.GiveToSpecificPlayer)&&this.gameService.getHandPartId(this.card.id)===this.gameService.getCurrentStepPlayerId()&&(this.card.subType!==a.NechtoCardSubType.Infection||this.gameService.isIt()&&this.gameService.getHand().filter((function(e){return e.subType===a.NechtoCardSubType.Infection})).length>=2||this.gameService.isInfected()&&this.gameService.getHand().filter((function(e){return e.subType===a.NechtoCardSubType.Infection})).length>=2&&(this.gameService.hasStepPhase(c.StepPhase.GiveToPlayer)||this.gameService.hasStepPhase(c.StepPhase.GiveToNextPlayer)&&this.gameService.getNextPlayer()&&this.gameService.isIt(this.gameService.getNextPlayer().playerId)||this.gameService.hasStepPhase(c.StepPhase.GiveToPreviousPlayer)&&this.gameService.getActiveRequester()&&this.gameService.isIt(this.gameService.getActiveRequester().playerId)||this.gameService.hasStepPhase(c.StepPhase.GiveToSpecificPlayer)&&this.gameService.isIt(this.gameService.getTablePartId(this.gameService.lastCard.id))))&&(!this.gameService.hasStepPhase(c.StepPhase.ProcessPanic)||!this.gameService.getActivePanicCard()||this.gameService.getActivePanicCard().action!==o.NechtoCardAction.Panic_ChainReaction||this.card.id!==this.gameService.lastCard.id)||this.isTable&&this.gameService.hasStepPhase(c.StepPhase.ReturnToPlayer)&&!!this.card.requester)&&this.receivingPlayers.length>=1}},{key:"canView",get:function(){return this.card&&(this.isGameFinished||this.card.sharedWithPlayerId===this.gameService.getActivePlayerId()&&(!this.isTable||this.gameService.getTablePartId(this.card.id)===this.gameService.getCurrentStepPlayerId())||!this.card.hidden&&!this.isPickMode||this.location===i.CardLocation.Info)}},{key:"hasManyActions",get:function(){return[this.canDrop,this.canTake,this.canPlay,this.canGive].filter((function(e){return e})).length>1}},{key:"hasAnyAction",get:function(){return this.isClickable&&(this.canDrop||this.canTake||this.canPlay||this.canGive)}},{key:"isCardDisabled",get:function(){return this.isDisabled&&this.location!==i.CardLocation.Info}},{key:"tooltipTemplate",get:function(){var e="smth-card smth-card-selected";return this.canView||(e+=" smth-card-back"),this.isCardDisabled&&(e+=" smth-card-disabled"),this.sanitizer.bypassSecurityTrustHtml('\n            <div class="smth-card-tooltip">\n                <div class="d-flex justify-content-center font-weight-bold smth-card-action-info">\n                    '.concat(this.canPlay&&this.isCurrentPlayerTakingStep?'<h5 class="mb-0 px-1"><span class="badge badge-secondary text-uppercase">PLAY</span></h5>':"","\n                    ").concat(this.canTake&&this.isCurrentPlayerTakingStep?'<h5 class="mb-0 px-1"><span class="badge badge-secondary text-uppercase">\n                            '.concat(this.getActionName(l.GameActionGroup.Take),"\n                        </span></h5>"):"","\n                    ").concat(this.canDrop&&this.isCurrentPlayerTakingStep?'<h5 class="mb-0 px-1"><span class="badge badge-secondary text-uppercase">DROP</span></h5>':"","\n                    ").concat(this.canGive&&this.isCurrentPlayerTakingStep?'<h5 class="mb-0 px-1"><span class="badge badge-secondary text-uppercase">GIVE</span></h5>':"",'\n                </div>\n\n                <div class="').concat(e,'" data-type="').concat(this.card.type,'" data-action="').concat(this.card.action,'">\n                    <div style="background:#000;position:absolute;bottom:0;left:0;width:100%">\n                        ').concat(u.isNil(this.canPlay)||u.isNil(this.canTake)||u.isNil(this.canDrop)||u.isNil(this.canGive)||u.isNil(this.canView)?"\n                                <span>_____________</h5>\n                                <h5>Possible Issues</h5>\n                                ".concat(u.isNil(this.canPlay)?'<p style="margin: 0">canPlay: '.concat(this.canPlay,"</p>"):"","\n                                ").concat(u.isNil(this.canTake)?'<p style="margin: 0">canTake: '.concat(this.canTake,"</p>"):"","\n                                ").concat(u.isNil(this.canDrop)?'<p style="margin: 0">canDrop: '.concat(this.canDrop,"</p>"):"","\n                                ").concat(u.isNil(this.canGive)?'<p style="margin: 0">canGive: '.concat(this.canGive,"</p>"):"","\n                                ").concat(u.isNil(this.canView)?'<p style="margin: 0">canView: '.concat(this.canView,"</p>"):"","\n                            "):"","\n                    </div>\n                </div>\n            </div>\n        "))}},{key:"isHand",get:function(){return this.location===i.CardLocation.Hand}},{key:"isDeck",get:function(){return this.location===i.CardLocation.Deck}},{key:"isTable",get:function(){return this.location===i.CardLocation.Table}},{key:"isTrash",get:function(){return this.location===i.CardLocation.Trash}},{key:"isBorder",get:function(){return this.location===i.CardLocation.Border}},{key:"isCurrentPlayerTakingStep",get:function(){return this.gameService.isTakingStep(this.gameService.getActivePlayerId(),!0)}},{key:"filteredReceivingPlayers",get:function(){return this.receivingPlayers.filter((function(e){return!!e}))}},{key:"isGameFinished",get:function(){return this.roomService.isGameFinished()}},{key:"isBotPlaying",get:function(){return this.gameService.isBotPlaying}},{key:"receivingPlayers",get:function(){var e,t,n,r,i=this;if(!this.gameService.getActivePlayerComponents().length)return[];var a=this.gameService.getCurrentStepPlayerId(),s=this.gameService.getActivePlayerComponents(),u=s.filter((function(e){return e.playerId!==a})),l=this.gameService.getPlayerComponent(a),h=this.gameService.getActivePanicCard();if(this.hasStepPhase(c.StepPhase.GiveToPlayer)){var f=[];if(this.gameService.hasStepPhase(c.StepPhase.ProcessPanic)&&h)switch(h.action){case o.NechtoCardAction.Panic_Friends:return f.push.apply(f,_toConsumableArray2(u)),f.filter((function(e){return!i.gameService.hasQuarantine(e.playerId)}));default:f.push.apply(f,_toConsumableArray2(u))}else f.push.apply(f,_toConsumableArray2(u));return f}if(this.hasStepPhase(c.StepPhase.GiveToNextPlayer))return[this.gameService.getNextPlayer()];if(this.hasAnyOfStepPhases(c.StepPhase.GiveToPreviousPlayer,c.StepPhase.DefenceFromHand,c.StepPhase.ReturnToPlayer)){var d=this.gameService.getActiveRequester();return d?[d]:[]}if(this.hasStepPhase(c.StepPhase.GiveToSpecificPlayer))return[this.gameService.getPlayerComponent(this.gameService.getTablePartId(this.gameService.lastCard.id))];if(this.hasStepPhase(c.StepPhase.PlayFromHand)){var p=this.gameService.getPreviousPlayer(),v=this.gameService.getNextPlayer(),m=[];switch(this.card.action){case o.NechtoCardAction.Event_Obstacle_LockedDoor:case o.NechtoCardAction.Event_Action_Flamethrower:case o.NechtoCardAction.Event_Action_Analysis:case o.NechtoCardAction.Event_Action_Suspicion:m.push(p,v);break;case o.NechtoCardAction.Event_Obstacle_Quarantine:m.push(p,l,v);break;case o.NechtoCardAction.Event_Action_RunAway:case o.NechtoCardAction.Event_Action_SwapPlaces:case o.NechtoCardAction.Event_Action_Whiskey:case o.NechtoCardAction.Event_Action_LookAround:case o.NechtoCardAction.Event_Action_Persistence:case o.NechtoCardAction.Event_Action_Axe:return[];case o.NechtoCardAction.Event_Action_Temptation:(e=m).push.apply(e,_toConsumableArray2(u));break;default:(t=m).push.apply(t,_toConsumableArray2(s))}return m=m.filter((function(e){return i.gameService.canExchange(e.playerId,!1,!1)})).filter((function(e){return e.hasPlayer}))}if(this.hasStepPhase(c.StepPhase.PlayFromTable)){var g=this.gameService.getPreviousPlayer(),y=this.gameService.getNextPlayer(),_=[],b=!1,C=!1;switch(this.card.action){case o.NechtoCardAction.Event_Action_RunAway:case o.NechtoCardAction.Panic_GoAway:(n=_).push.apply(n,_toConsumableArray2(u)),b=!0,C=!0;break;case o.NechtoCardAction.Event_Action_LookAround:case o.NechtoCardAction.Panic_OldRopes:case o.NechtoCardAction.Panic_IsItParty:case o.NechtoCardAction.Panic_Oops:case o.NechtoCardAction.Panic_ThreeFour:return[];case o.NechtoCardAction.Event_Action_Axe:return _.push(g,l,y),_.filter((function(e){return e.playerId===l.playerId?i.gameService.hasQuarantine(e.playerId)||i.gameService.hasAnyLockedDoor(e.playerId):i.gameService.hasQuarantine(e.playerId)||i.gameService.hasLockedDoor(e.playerId,l.playerId)}));case o.NechtoCardAction.Event_Action_SwapPlaces:_.push(g,y),C=!0;break;case o.NechtoCardAction.Panic_BetweenUs:return C=!0,[g,y].filter((function(e){return e.hasPlayer}));case o.NechtoCardAction.Panic_OneTwo:var k=this.gameService.getPreviousPlayer(this.gameService.getPreviousPlayer(g.playerId).playerId),w=this.gameService.getNextPlayer(this.gameService.getNextPlayer(y.playerId).playerId);_.push(k,w),b=!0,C=!0;break;default:(r=_).push.apply(r,_toConsumableArray2(s))}return _=_.filter((function(e){return i.gameService.canExchange(e.playerId,!1,b,C)})).filter((function(e){return e.hasPlayer}))}return[]}},{key:"cardPosition",get:function(){var e=this;return this.isHand?this.gameService.getHand(this.gameService.getHandPartId(this.card.id)).findIndex((function(t){return t.id===e.card.id})):this.isTable?this.gameService.getTable(this.gameService.getTablePartId(this.card.id)).findIndex((function(t){return t.id===e.card.id})):void 0}},{key:"isPickMode",get:function(){return this.isHand&&(this.gameService.hasStepPhase(c.StepPhase.PickFromHand)||this.gameService.hadStepPhase(c.StepPhase.PickFromHand))&&this.gameService.getActiveEventCard()&&this.gameService.getHandPartId(this.card.id)===this.gameService.getTablePartId(this.gameService.getActiveEventCard().id)&&(!this.isBotPlaying&&this.gameService.getActivePlayerId()===this.gameService.getActiveEventCard().eventRequester||this.roomService.isBotManager(this.userService.getCurrentUserId())&&this.isBotPlaying&&this.gameService.getCurrentStepPlayerId()===this.gameService.getActiveEventCard().eventRequester)}}]),e}();t.NechtoCardComponent=L,L.\u0275fac=function(e){return new(e||L)(h.\u0275\u0275directiveInject(f.DomSanitizer),h.\u0275\u0275directiveInject(d.CardService),h.\u0275\u0275directiveInject(p.GameService),h.\u0275\u0275directiveInject(v.RoomService),h.\u0275\u0275directiveInject(m.TranslateService),h.\u0275\u0275directiveInject(g.UserService))},L.\u0275cmp=h.\u0275\u0275defineComponent({type:L,selectors:[["gw-nechto-card"]],inputs:{card:"card",location:"location",isDisabled:"isDisabled",isClickable:"isClickable"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["activeCard",""],["inactiveCard",""],["cardItem",""],["cardMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"matMenuTriggerFor",4,"ngIf"],["playCardMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["giveCardMenu","matMenu"],[3,"matMenuTriggerFor"],[4,"ngTemplateOutlet"],["content-type","html",1,"card","smth-card",3,"ngClass","tooltip"],["playCardSimple",""],["playCardToSomebody",""],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"]],template:function(e,t){1&e&&h.\u0275\u0275template(0,F,20,9,"ng-container",0),2&e&&h.\u0275\u0275property("ngIf",t.card)},directives:[y.NgIf,_._MatMenu,y.NgForOf,_.MatMenuTrigger,y.NgTemplateOutlet,y.NgClass,b.TooltipDirective,_.MatMenuItem],pipes:[m.TranslatePipe],styles:['.smth-card{background-repeat:no-repeat;background-position:50%;background-size:cover;cursor:pointer;margin:2.5px;width:44px;height:44px;position:relative}  .smth-card:not(  .smth-card-selected){background-color:#000;border:2px solid #000}  .smth-card:not(  .smth-card-selected):hover{border:2px solid #d9b08c}  .smth-card-inactive{cursor:not-allowed}  .smth-card-selected{content:"";background-size:contain;border-radius:10px;width:350px;height:500px;margin:0;z-index:10}  .smth-card-selected.smth-card-back[data-type=event],   .smth-card-selected.smth-card-disabled[data-type=event]{background-image:url(card-event.c449f6b443e9d0091692.png)}  .smth-card-selected.smth-card-back[data-type=panic],   .smth-card-selected.smth-card-disabled[data-type=panic]{background-image:url(card-panic.961a5784e0fb5d56a437.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=flamethrower]{background-image:url(card-event-flamethrower.3bf3c3a4f5526f2477a9.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=good-here]{background-image:url(card-event-good-here.457e330178de0d6439d4.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=infection1]{background-image:url(card-event-infection1.ba81048962e60d0d1d98.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=infection2]{background-image:url(card-event-infection2.6b36e2ca74096883e39b.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=infection3]{background-image:url(card-event-infection3.c085f38d8f2f5d359841.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=infection4]{background-image:url(card-event-infection4.b63f17ad69987e52c3f8.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=no-barbecue]{background-image:url(card-event-no-barbecue.79fda0d5a19765451d8b.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=persistence]{background-image:url(card-event-persistence.485160a5dde06b8a02ed.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=whiskey]{background-image:url(card-event-whiskey.333d9a878bab5387ad96.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=run-away]{background-image:url(card-event-run-away.6d0255aa4a893ecce554.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=swap-places]{background-image:url(card-event-swap-places.399871c42fdb220fbf60.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=quarantine]{background-image:url(card-event-quarantine.fe152e2158ca96173140.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=locked-door]{background-image:url(card-event-locked-door.7369c6eb2be3e519d3b0.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=axe]{background-image:url(card-event-axe.ce80288d8c65b10a856d.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=look-around]{background-image:url(card-event-look-around.2804dcaea766a435df94.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=temptation]{background-image:url(card-event-temptation.c6b7d74adda21f75fe34.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=analysis]{background-image:url(card-event-analysis.a8a6e625973a970ef00b.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=suspicion]{background-image:url(card-event-suspicion.cee60d56238c3f720ee3.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=no-thanks]{background-image:url(card-event-no-thanks.aa0fe4ed7e57738ca31d.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=miss]{background-image:url(card-event-miss.f51a0da47f55b55b799c.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=fear]{background-image:url(card-event-fear.0263df68522178da2da4.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=it]{background-image:url(card-event-it.5e9e14a840e789323878.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=friends]{background-image:url(card-panic-friends.bbfdb550a99129b4bf7e.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=old-ropes]{background-image:url(card-panic-old-ropes.86dda81815546b275ace.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=one-two]{background-image:url(card-panic-one-two.0e035ecaf06ee57be431.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=three-four]{background-image:url(card-panic-three-four.91550de4116771555c3d.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=confession-time]{background-image:url(card-panic-confession-time.b00f9671848903389fe8.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=oops]{background-image:url(card-panic-oops.d506810fbd1c294b0126.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=go-away]{background-image:url(card-panic-go-away.d2fb987bada007139652.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=forgetfulness]{background-image:url(card-panic-forgetfulness.9d66e3bed61e82fe06a7.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=chain-reaction]{background-image:url(card-panic-chain-reaction.f728ce62fa4c34e169ef.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=blind-date]{background-image:url(card-panic-blind-date.0602a00bcf259ba19698.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=is-it-party]{background-image:url(card-panic-is-it-party.a8a3bf737cc91bd94c10.png)}  .smth-card-selected:not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=between-us]{background-image:url(card-panic-between-us.c882168bf7f70796a2f9.png)}  .smth-card:not(  .smth-card-inactive):not(  .smth-card-selected){border:2px solid #42ab9e;box-shadow:0 0 5px 2px #42ab9e;-webkit-animation:pulsate-green 1s ease-in-out infinite;animation:pulsate-green 1s ease-in-out infinite}  .smth-card:not(  .smth-card-inactive):not(  .smth-card-selected):hover{border:2px solid #d9b08c}  .smth-card-tooltip .smth-card-action-info{color:#fff;padding:0 5px 2.5px}  .smth-card:not(  .smth-card-selected).smth-card-back[data-type=event],   .smth-card:not(  .smth-card-selected).smth-card-disabled[data-type=event]{background-image:url(card-event.a52f162a33026af35296.jpg)}  .smth-card:not(  .smth-card-selected).smth-card-back[data-type=panic],   .smth-card:not(  .smth-card-selected).smth-card-disabled[data-type=panic]{background-image:url(card-panic.54f9cc56e1a5c192621f.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=flamethrower]{background-image:url(card-event-flamethrower.9036c658f8d52b02cfdf.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=good-here]{background-image:url(card-event-good-here.0c635960c39951571ec4.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=infection1]{background-image:url(card-event-infection1.668aeef78a6fe2b359aa.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=infection2]{background-image:url(card-event-infection2.76a5a322b9b779d7fc1f.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=infection3]{background-image:url(card-event-infection3.5c59ce1e3db727659b0e.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=infection4]{background-image:url(card-event-infection4.01143b16bd32d6f987e1.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=no-barbecue]{background-image:url(card-event-no-barbecue.c7c4e7ea570f71be8afa.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=persistence]{background-image:url(card-event-persistence.2e5e035f9f46ee65c0cb.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=whiskey]{background-image:url(card-event-whiskey.a33a4ae338758fdc4c35.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=run-away]{background-image:url(card-event-run-away.9974ff6fe51659c35e70.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=swap-places]{background-image:url(card-event-swap-places.5d79d7ce0be46a7ff2a8.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=quarantine]{background-image:url(card-event-quarantine.97928b4420f044b05b8e.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=locked-door]{background-image:url(card-event-locked-door.7ceb237d523fea428b01.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=axe]{background-image:url(card-event-axe.6cfd47309b78b7db0830.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=look-around]{background-image:url(card-event-look-around.365e2c832357e72efe25.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=temptation]{background-image:url(card-event-temptation.077b8264d841149fb295.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=analysis]{background-image:url(card-event-analysis.797b7316cb98b3cafc07.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=suspicion]{background-image:url(card-event-suspicion.b1624377ec0f6bcb79aa.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=no-thanks]{background-image:url(card-event-no-thanks.e18f3cdee61a8de62225.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=miss]{background-image:url(card-event-miss.57b5ac4e8d3bccfeb9d0.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=fear]{background-image:url(card-event-fear.3aaeedf58cf73256440d.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=event][data-action=it]{background-image:url(card-event-it.9dcea66547f63f18252e.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=friends]{background-image:url(card-panic-friends.1cb841ad5d7f92df58d3.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=old-ropes]{background-image:url(card-panic-old-ropes.010b7ef2b645dd3c7f12.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=one-two]{background-image:url(card-panic-one-two.b5bebd84daff14b6bf79.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=three-four]{background-image:url(card-panic-three-four.55c60c5964b083f2de42.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=confession-time]{background-image:url(card-panic-confession-time.ba2217e9af9fb4cb5b81.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=oops]{background-image:url(card-panic-oops.7daa493bc49858f2dcc7.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=go-away]{background-image:url(card-panic-go-away.f9e09a6ee7b1824419e6.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=forgetfulness]{background-image:url(card-panic-forgetfulness.9ad158c2227a64544773.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=chain-reaction]{background-image:url(card-panic-chain-reaction.c0ee876f2130003f7565.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=blind-date]{background-image:url(card-panic-blind-date.8087f964283a6f2e8e1a.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=is-it-party]{background-image:url(card-panic-is-it-party.e01408d1aa86ebcb3e0c.jpg)}  .smth-card:not(  .smth-card-selected):not(.smth-card-back):not(.smth-card-disabled)[data-type=panic][data-action=between-us]{background-image:url(card-panic-between-us.2d6af106166ecf1f58d2.jpg)}']})},"4I5i":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},"4k7s":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("6yn5"),o=n("qCKp"),a=n("kU1M"),s=n("jEPN"),c=n("9/Hz"),u=n("Hs/S"),l=n("a6Ju"),h=n("VXtK"),f=n("g0WT"),d=n("DnmP"),p=r.__importStar(n("8Y7J")),v=r.__importStar(n("iInd")),m=r.__importStar(n("zyZ6")),g=r.__importStar(n("PHhj")),y=r.__importStar(n("R/cS")),_=r.__importStar(n("f4AX")),b=r.__importStar(n("y0H8")),C=r.__importStar(n("F8Su")),k=r.__importStar(n("cUpR")),w=r.__importStar(n("AYtS")),S=r.__importStar(n("SVse")),E=r.__importStar(n("g0WT")),I=r.__importStar(n("TSSN")),O=r.__importStar(n("3u7H")),P=r.__importStar(n("VXtK"));function x(e,t){1&e&&p.\u0275\u0275elementContainer(0)}function T(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"h5",22),p.\u0275\u0275elementStart(1,"span",23),p.\u0275\u0275text(2),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(3,"span",24),p.\u0275\u0275text(4,":"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e){var n=p.\u0275\u0275nextContext(3);p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(n.currentStepPlayer.user.username)}}function A(e,t){1&e&&p.\u0275\u0275elementContainer(0)}function D(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"h5",26),p.\u0275\u0275elementStart(1,"span",27),p.\u0275\u0275text(2),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=p.\u0275\u0275nextContext(4);p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(r.getFormattedStepPhase(n))}}function R(e,t){if(1&e&&p.\u0275\u0275template(0,D,3,1,"h5",25),2&e){var n=p.\u0275\u0275nextContext(3);p.\u0275\u0275property("ngForOf",n.currentStepPhases)}}function j(e,t){1&e&&p.\u0275\u0275elementContainer(0)}function M(e,t){1&e&&p.\u0275\u0275element(0,"h6",32)}function N(e,t){1&e&&p.\u0275\u0275element(0,"h6",33)}function F(e,t){if(1&e&&(p.\u0275\u0275template(0,M,1,0,"h6",28),p.\u0275\u0275template(1,N,1,0,"h6",29),p.\u0275\u0275elementStart(2,"div",30),p.\u0275\u0275elementStart(3,"h5",26),p.\u0275\u0275elementStart(4,"span",27),p.\u0275\u0275text(5),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(6,"gw-nechto-card",31),p.\u0275\u0275elementEnd()),2&e){var n=p.\u0275\u0275nextContext(3);p.\u0275\u0275property("ngIf",n.hasActiveEventCard),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",n.hasActivePanicCard),p.\u0275\u0275advance(4),p.\u0275\u0275textInterpolate(n.getFormattedAction(n.activeCard.action)),p.\u0275\u0275advance(1),p.\u0275\u0275property("card",n.activeCard)("isDisabled",!0)("location",n.CardLocation.Info)}}function L(e,t){1&e&&p.\u0275\u0275elementContainer(0)}function V(e,t){if(1&e&&(p.\u0275\u0275element(0,"h6",34),p.\u0275\u0275elementStart(1,"div",30),p.\u0275\u0275template(2,L,1,0,"ng-container",35),p.\u0275\u0275elementEnd()),2&e){p.\u0275\u0275nextContext(3);var n=p.\u0275\u0275reference(2);p.\u0275\u0275advance(2),p.\u0275\u0275property("ngTemplateOutlet",n)}}function U(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"div",14),p.\u0275\u0275elementStart(1,"div",36),p.\u0275\u0275element(2,"h6",37),p.\u0275\u0275elementStart(3,"div",38),p.\u0275\u0275elementStart(4,"h5",39),p.\u0275\u0275element(5,"span",40),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e){var n=p.\u0275\u0275nextContext(3);p.\u0275\u0275advance(5),p.\u0275\u0275property("innerHTML",n.formattedGameDirection,p.\u0275\u0275sanitizeHtml)}}function B(e,t){1&e&&p.\u0275\u0275elementContainer(0)}function G(e,t){if(1&e&&(p.\u0275\u0275element(0,"h6",41),p.\u0275\u0275elementStart(1,"div",38),p.\u0275\u0275elementStart(2,"h5",39),p.\u0275\u0275element(3,"span",42),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e){var n=p.\u0275\u0275nextContext(3);p.\u0275\u0275advance(3),p.\u0275\u0275property("innerHTML",n.formattedStepInfo,p.\u0275\u0275sanitizeHtml)}}function H(e,t){1&e&&p.\u0275\u0275elementContainer(0)}function z(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"div",36),p.\u0275\u0275element(1,"h6",43),p.\u0275\u0275elementStart(2,"div",30),p.\u0275\u0275template(3,H,1,0,"ng-container",35),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e){p.\u0275\u0275nextContext(3);var n=p.\u0275\u0275reference(2);p.\u0275\u0275advance(3),p.\u0275\u0275property("ngTemplateOutlet",n)}}function q(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"div",6),p.\u0275\u0275elementStart(1,"div",7),p.\u0275\u0275elementStart(2,"div",8),p.\u0275\u0275element(3,"h6",9),p.\u0275\u0275elementStart(4,"div",10),p.\u0275\u0275template(5,x,1,0,"ng-container",11),p.\u0275\u0275template(6,T,5,1,"ng-template",null,12,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275template(8,A,1,0,"ng-container",11),p.\u0275\u0275template(9,R,1,1,"ng-template",null,13,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(11,"div",14),p.\u0275\u0275elementStart(12,"div",15),p.\u0275\u0275template(13,j,1,0,"ng-container",11),p.\u0275\u0275template(14,F,7,6,"ng-template",null,16,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275template(16,V,3,1,"ng-template",null,17,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(18,U,6,1,"div",18),p.\u0275\u0275elementStart(19,"div",19),p.\u0275\u0275elementStart(20,"div",8),p.\u0275\u0275template(21,B,1,0,"ng-container",11),p.\u0275\u0275template(22,G,4,1,"ng-template",null,20,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275template(24,z,4,1,"ng-template",null,21,p.\u0275\u0275templateRefExtractor),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e){var n=p.\u0275\u0275reference(7),r=p.\u0275\u0275reference(10),i=p.\u0275\u0275reference(15),o=p.\u0275\u0275reference(17),a=p.\u0275\u0275reference(23),s=p.\u0275\u0275reference(25),c=p.\u0275\u0275nextContext(2),u=p.\u0275\u0275reference(2);p.\u0275\u0275advance(5),p.\u0275\u0275property("ngIf",c.currentStepPlayer&&c.currentStepPlayer.hasPlayer)("ngIfThen",n)("ngIfElse",u),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",c.currentStepPhases.length>0)("ngIfThen",r)("ngIfElse",u),p.\u0275\u0275advance(5),p.\u0275\u0275property("ngIf",c.hasAnyActiveCard)("ngIfThen",i)("ngIfElse",o),p.\u0275\u0275advance(5),p.\u0275\u0275property("ngIf",c.isGameMode&&!c.isGameFinished),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",c.isGameMode&&!c.isGameFinished&&c.formattedStepInfo)("ngIfThen",a)("ngIfElse",s)}}function W(e,t){1&e&&p.\u0275\u0275element(0,"gw-nechto-player",44),2&e&&p.\u0275\u0275property("playerId",t.$implicit)}function Y(e,t){1&e&&p.\u0275\u0275element(0,"gw-nechto-player",44),2&e&&p.\u0275\u0275property("playerId",t.$implicit)}function K(e,t){1&e&&p.\u0275\u0275element(0,"gw-nechto-player",44),2&e&&p.\u0275\u0275property("playerId",t.$implicit)}function Q(e,t){1&e&&p.\u0275\u0275element(0,"gw-nechto-player",44),2&e&&p.\u0275\u0275property("playerId",t.$implicit)}var X=function(){return[1,2,3,4,5]},J=function(){return[12]},Z=function(){return[6]},$=function(){return[11,10,9,8,7]};function ee(e,t){if(1&e&&(p.\u0275\u0275elementStart(0,"div",2),p.\u0275\u0275template(1,q,26,13,"div",3),p.\u0275\u0275elementStart(2,"div",4),p.\u0275\u0275template(3,W,1,1,"gw-nechto-player",5),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"div",4),p.\u0275\u0275template(5,Y,1,1,"gw-nechto-player",5),p.\u0275\u0275element(6,"gw-nechto-table"),p.\u0275\u0275template(7,K,1,1,"gw-nechto-player",5),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(8,"div",4),p.\u0275\u0275template(9,Q,1,1,"gw-nechto-player",5),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd()),2&e){var n=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",n.isGameMode&&!n.isGameFinished),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngClass",n.getPositioningClass(1)),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngForOf",n.getPlayerComponents(p.\u0275\u0275pureFunction0(8,X))),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngClass",n.getPositioningClass(2)),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngForOf",n.getPlayerComponents(p.\u0275\u0275pureFunction0(9,J))),p.\u0275\u0275advance(2),p.\u0275\u0275property("ngForOf",n.getPlayerComponents(p.\u0275\u0275pureFunction0(10,Z))),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngClass",n.getPositioningClass(3)),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngForOf",n.getPlayerComponents(p.\u0275\u0275pureFunction0(11,$)))}}function te(e,t){1&e&&(p.\u0275\u0275elementStart(0,"h5",39),p.\u0275\u0275elementStart(1,"span",27),p.\u0275\u0275text(2,"-"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementEnd())}var ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a,c,l,h,f,d,p,v){var m;return _classCallCheck2(this,n),(m=t.call(this,e,r,o,a,c,l)).activatedRoute=e,m.gameService=r,m.roomService=o,m.botService=a,m.router=c,m.userService=l,m.peerService=h,m.gameInfoService=f,m.sanitizer=d,m.cdr=p,m.audioHelpers=v,m.selectedGame=u.Game.Nechto,m.CardLocation=s.CardLocation,m.html=i.html,m.stripIndents=i.stripIndents,m}return _createClass2(n,[{key:"ngOnInit",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this),this.subscription.add(this.peerService.createOrRestorePeer(!0).subscribe()),this.subscription.add(this.gameInfoService.stepsInfo$.subscribe((function(){e.lastStepInfo=e.gameInfoService.getStepInfo(e.roomService.getSelectedRoomId())}))),this.subscription.add(this.gameService.currentGame$.pipe(a.filter((function(e){return!!e})),a.filter((function(e){return e.currentStepPhases.some((function(t){return!e.previousStepPhases.includes(t)}))||e.previousStepPhases.some((function(t){return!e.currentStepPhases.includes(t)}))})),a.map((function(t){e.audioHelpers.playSound(d.SoundEffect.StepEnd);var n=e.gameService.getActivePlayerId();t.previousStepPlayerId!==t.currentStepPlayerId&&t.currentStepPlayerId===n&&setTimeout((function(){return e.audioHelpers.playSound(d.SoundEffect.StepStart)}),300)}))).subscribe()),this.subscription.add(o.interval(this.botService.botProcessingInterval).pipe(a.switchMap((function(){return e.isBotManager&&!e.isGameFinished&&e.gameService.isBotTakingStep()&&!e.botService.isProcessingBotStep?e.botService.processBotStep():o.of(!0)}))).subscribe())}},{key:"getFormattedStepPhase",value:function(e){return this.gameInfoService.getFormattedStepPhase(e)}},{key:"getFormattedAction",value:function(e){return this.gameInfoService.getFormattedAction(e)}},{key:"getPlayerComponents",value:function(e){if(this.isGameMode){var t=this.roomService.getRoomMembers(this.roomService.getSelectedRoomId()).map((function(e){return e.playerId}));return e.filter((function(e){return t.includes(e)}))}var n=this.roomService.getSelectedRoom();return e.filter((function(e){return!n.maxQuantity||e<=n.maxQuantity}))}},{key:"getPositioningClass",value:function(e){return this.isGameMode?"justify-content-center":2===e?"justify-content-between":"justify-content-around"}},{key:"players",set:function(e){this.gameService.setPlayerComponents(e),this.cdr.detectChanges()}},{key:"table",set:function(e){this.gameService.setTableComponent(e)}},{key:"isGameMode",get:function(){return this.roomService.isGameMode()}},{key:"isGameFinished",get:function(){return this.roomService.isGameFinished()}},{key:"currentStepPlayer",get:function(){return this.gameService.getPlayerComponent(this.gameService.currentGame.currentStepPlayerId)}},{key:"currentStepPhases",get:function(){return this.gameService.currentStepPhases}},{key:"formattedStepInfo",get:function(){return this.lastStepInfo?this.sanitizer.bypassSecurityTrustHtml(this.gameInfoService.getFormattedStepInfo(this.lastStepInfo)):null}},{key:"formattedGameDirection",get:function(){return this.sanitizer.bypassSecurityTrustHtml(this.gameInfoService.getFormattedGameDirection(this.gameService.currentGame.direction||c.Direction.Clockwise))}},{key:"activeEventCard",get:function(){return this.gameService.getActiveEventCard()}},{key:"activePanicCard",get:function(){return this.gameService.getActivePanicCard()}},{key:"hasActiveEventCard",get:function(){return!!this.activeEventCard}},{key:"hasActivePanicCard",get:function(){return!!this.activePanicCard}},{key:"activeCard",get:function(){return this.hasActiveEventCard?this.activeEventCard:this.hasActivePanicCard?this.activePanicCard:null}},{key:"hasAnyActiveCard",get:function(){return this.hasActiveEventCard||this.hasActivePanicCard}},{key:"isBotManager",get:function(){return this.hasSelectedRoom&&this.roomService.isBotManager(this.userService.getCurrentUserId())}}]),n}(l.GameComponent);t.NechtoComponent=ne,ne.\u0275fac=function(e){return new(e||ne)(p.\u0275\u0275directiveInject(v.ActivatedRoute),p.\u0275\u0275directiveInject(m.GameService),p.\u0275\u0275directiveInject(g.RoomService),p.\u0275\u0275directiveInject(y.BotService),p.\u0275\u0275directiveInject(v.Router),p.\u0275\u0275directiveInject(_.UserService),p.\u0275\u0275directiveInject(b.PeerService),p.\u0275\u0275directiveInject(C.GameInfoService),p.\u0275\u0275directiveInject(k.DomSanitizer),p.\u0275\u0275directiveInject(p.ChangeDetectorRef),p.\u0275\u0275directiveInject(w.AudioHelpers))},ne.\u0275cmp=p.\u0275\u0275defineComponent({type:ne,selectors:[["gw-nechto"]],viewQuery:function(e,t){var n;1&e&&(p.\u0275\u0275viewQuery(f.NechtoTableComponent,!0),p.\u0275\u0275viewQuery(h.NechtoPlayerComponent,!0)),2&e&&(p.\u0275\u0275queryRefresh(n=p.\u0275\u0275loadQuery())&&(t.table=n.first),p.\u0275\u0275queryRefresh(n=p.\u0275\u0275loadQuery())&&(t.players=n))},features:[p.\u0275\u0275InheritDefinitionFeature],decls:3,vars:1,consts:[["class","flex-grow-1 d-flex flex-column justify-content-between h-100 smth-game",4,"ngIf"],["emptyDash",""],[1,"flex-grow-1","d-flex","flex-column","justify-content-between","h-100","smth-game"],["class","d-flex justify-content-center align-items-center smth-step-info border border-top-0 border-dark",4,"ngIf"],[1,"d-flex","align-items-center","smth-players-row",3,"ngClass"],[3,"playerId",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-center","smth-step-info","border","border-top-0","border-dark"],[1,"d-flex","justify-content-center","p-2","w-40","h-100","border-right","border-dark"],[1,"d-flex","flex-column","justify-content-center","align-items-start"],["translate","i18n.GAME.CURRENT_PLAYER_ACTIONS",1,"m-0"],[1,"d-flex","align-items-center","flex-wrap"],[4,"ngIf","ngIfThen","ngIfElse"],["player",""],["stepPhases",""],[1,"d-flex","justify-content-center","p-2","w-20","h-100","border-right","border-dark"],[1,"d-flex","flex-column","justify-content-center","align-items-center","flex-wrap"],["activeCardInfo",""],["noCardInfo",""],["class","d-flex justify-content-center p-2 w-20 h-100 border-right border-dark",4,"ngIf"],[1,"d-flex","justify-content-center","p-2","w-30","h-100"],["lastStepInfo",""],["noStepInfo",""],[1,"d-flex","mb-0"],[1,"badge","badge-dark"],[1,"mx-1"],["class","mb-0 mr-2",4,"ngFor","ngForOf"],[1,"mb-0","mr-2"],[1,"badge","badge-secondary"],["class","m-0","translate","i18n.GAME.ACTIVE_EVENT_CARD",4,"ngIf"],["class","m-0","translate","i18n.GAME.ACTIVE_PANIC_CARD",4,"ngIf"],[1,"d-flex","align-items-center"],[3,"card","isDisabled","location"],["translate","i18n.GAME.ACTIVE_EVENT_CARD",1,"m-0"],["translate","i18n.GAME.ACTIVE_PANIC_CARD",1,"m-0"],["translate","i18n.GAME.NO_ACTIVE_CARD",1,"m-0"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["translate","i18n.COMMON.DIRECTION",1,"mb-0"],[1,"d-flex"],[1,"mb-0"],[1,"badge","badge-dark","font-weight-normal","smth-game-direction",3,"innerHTML"],["translate","i18n.GAME.LAST_STEP_INFO",1,"mb-0","mr-2"],[1,"badge","badge-dark","font-weight-normal","smth-prev-step-info",3,"innerHTML"],["translate","i18n.GAME.NO_STEPS_MADE",1,"m-0"],[3,"playerId"]],template:function(e,t){1&e&&(p.\u0275\u0275template(0,ee,10,12,"div",0),p.\u0275\u0275template(1,te,3,0,"ng-template",null,1,p.\u0275\u0275templateRefExtractor)),2&e&&p.\u0275\u0275property("ngIf",t.hasSelectedRoom)},directives:[S.NgIf,S.NgClass,S.NgForOf,E.NechtoTableComponent,I.TranslateDirective,O.NechtoCardComponent,S.NgTemplateOutlet,P.NechtoPlayerComponent],styles:[".smth-game[_ngcontent-%COMP%]{background-color:#f4f7f6;position:relative;width:100%;height:100%}.smth-game[_ngcontent-%COMP%]   .smth-step-info[_ngcontent-%COMP%]{background-color:#d3d3d3}.smth-game[_ngcontent-%COMP%]   .smth-step-info[_ngcontent-%COMP%]   .smth-game-direction[_ngcontent-%COMP%], .smth-game[_ngcontent-%COMP%]   .smth-step-info[_ngcontent-%COMP%]   .smth-prev-step-info[_ngcontent-%COMP%]{white-space:normal}"]})},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(c((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck2(this,e),this.project=t,this.concurrent=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck2(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass2(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,t,n),a=this.destination;a.add(i);var s=Object(r.a)(this,e,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass2(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"5QHs":function(e,t,n){"use strict";n.r(t),n.d(t,"MAT_PAGINATOR_DEFAULT_OPTIONS",(function(){return Et})),n.d(t,"MAT_PAGINATOR_INTL_PROVIDER",(function(){return wt})),n.d(t,"MAT_PAGINATOR_INTL_PROVIDER_FACTORY",(function(){return bt})),n.d(t,"MatPaginator",(function(){return Ot})),n.d(t,"MatPaginatorIntl",(function(){return _t})),n.d(t,"MatPaginatorModule",(function(){return Pt})),n.d(t,"PageEvent",(function(){return St}));var r=n("SVse"),i=n("8Y7J"),o=n("Dxy4"),a=n("1O3W"),s=n("UhP/"),c=n("9b/N"),u=n("8LU1"),l=n("XNiG"),h=n("VRyK"),f=n("xgIS"),d=n("JX91"),p=n("1G5W"),v=n("IzEk"),m=n("GS7A"),g=n("omvX"),y=n("9gLZ"),_=n("SCoL"),b=["underline"],C=["connectionContainer"],k=["inputContainer"],w=["label"];function S(e,t){1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",14),i["\u0275\u0275element"](2,"div",15),i["\u0275\u0275element"](3,"div",16),i["\u0275\u0275element"](4,"div",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",18),i["\u0275\u0275element"](6,"div",15),i["\u0275\u0275element"](7,"div",16),i["\u0275\u0275element"](8,"div",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]())}function E(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275projection"](1,1),i["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275projection"](1,2),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](n._control.placeholder)}}function O(e,t){1&e&&i["\u0275\u0275projection"](0,3,["*ngSwitchCase","true"])}function P(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",23),i["\u0275\u0275text"](1," *"),i["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"label",20,21),i["\u0275\u0275listener"]("cdkObserveContent",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().updateOutlineGap()})),i["\u0275\u0275template"](2,I,4,1,"ng-container",12),i["\u0275\u0275template"](3,O,1,0,void 0,12),i["\u0275\u0275template"](4,P,2,0,"span",22),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("mat-empty",r._control.empty&&!r._shouldAlwaysFloat)("mat-form-field-empty",r._control.empty&&!r._shouldAlwaysFloat)("mat-accent","accent"==r.color)("mat-warn","warn"==r.color),i["\u0275\u0275property"]("cdkObserveContentDisabled","outline"!=r.appearance)("id",r._labelId)("ngSwitch",r._hasLabel()),i["\u0275\u0275attribute"]("for",r._control.id)("aria-owns",r._control.id),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngSwitchCase",!1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!r.hideRequiredMarker&&r._control.required&&!r._control.disabled)}}function T(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",24),i["\u0275\u0275projection"](1,4),i["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",25,26),i["\u0275\u0275element"](2,"span",27),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function D(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275projection"](1,5),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@transitionMessages",n._subscriptAnimationState)}}function R(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",31),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("id",n._hintLabelId),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.hintLabel)}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",28),i["\u0275\u0275template"](1,R,2,2,"div",29),i["\u0275\u0275projection"](2,6),i["\u0275\u0275element"](3,"div",30),i["\u0275\u0275projection"](4,7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@transitionMessages",n._subscriptAnimationState),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n.hintLabel)}}var M,N,F=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],L=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],V=0,U=((M=function e(){_classCallCheck2(this,e),this.id="mat-error-".concat(V++)}).\u0275fac=function(e){return new(e||M)},M.\u0275dir=i["\u0275\u0275defineDirective"]({type:M,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("id",t.id)},inputs:{id:"id"}}),M),B={transitionMessages:Object(m.n)("transitionMessages",[Object(m.k)("enter",Object(m.l)({opacity:1,transform:"translateY(0%)"})),Object(m.m)("void => enter",[Object(m.l)({opacity:0,transform:"translateY(-100%)"}),Object(m.e)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},G=((N=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||N)},N.\u0275dir=i["\u0275\u0275defineDirective"]({type:N}),N);function H(e){return Error("A hint was already declared for 'align=\"".concat(e,"\"'."))}var z,q,W,Y,K,Q,X,J=0,Z=((K=function e(){_classCallCheck2(this,e),this.align="start",this.id="mat-hint-".concat(J++)}).\u0275fac=function(e){return new(e||K)},K.\u0275dir=i["\u0275\u0275defineDirective"]({type:K,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,t){2&e&&(i["\u0275\u0275attribute"]("id",t.id)("align",null),i["\u0275\u0275classProp"]("mat-right","end"==t.align))},inputs:{align:"align",id:"id"}}),K),$=((Y=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||Y)},Y.\u0275dir=i["\u0275\u0275defineDirective"]({type:Y,selectors:[["mat-label"]]}),Y),ee=((W=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||W)},W.\u0275dir=i["\u0275\u0275defineDirective"]({type:W,selectors:[["mat-placeholder"]]}),W),te=((q=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||q)},q.\u0275dir=i["\u0275\u0275defineDirective"]({type:q,selectors:[["","matPrefix",""]]}),q),ne=((z=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||z)},z.\u0275dir=i["\u0275\u0275defineDirective"]({type:z,selectors:[["","matSuffix",""]]}),z),re=0,ie=Object(s.n)((function e(t){_classCallCheck2(this,e),this._elementRef=t}),"primary"),oe=new i.InjectionToken("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ae=((X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s,c,u){var h;return _classCallCheck2(this,n),(h=t.call(this,e))._elementRef=e,h._changeDetectorRef=r,h._dir=o,h._defaults=a,h._platform=s,h._ngZone=c,h._outlineGapCalculationNeededImmediately=!1,h._outlineGapCalculationNeededOnStable=!1,h._destroyed=new l.a,h._showAlwaysAnimate=!1,h._subscriptAnimationState="",h._hintLabel="",h._hintLabelId="mat-hint-".concat(re++),h._labelId="mat-form-field-label-".concat(re++),h._labelOptions=i||{},h.floatLabel=h._getDefaultFloatLabelState(),h._animationsEnabled="NoopAnimations"!==u,h.appearance=a&&a.appearance?a.appearance:"legacy",h._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,h}return _createClass2(n,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var e=this;this._validateControlChild();var t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(t.controlType)),t.stateChanges.pipe(Object(d.a)(null)).subscribe((function(){e._validatePlaceholders(),e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()})),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Object(p.a)(this._destroyed)).subscribe((function(){return e._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.asObservable().pipe(Object(p.a)(e._destroyed)).subscribe((function(){e._outlineGapCalculationNeededOnStable&&e.updateOutlineGap()}))})),Object(h.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){e._outlineGapCalculationNeededOnStable=!0,e._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Object(d.a)(null)).subscribe((function(){e._processHints(),e._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Object(d.a)(null)).subscribe((function(){e._syncDescribedByIds(),e._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Object(p.a)(this._destroyed)).subscribe((function(){"function"==typeof requestAnimationFrame?e._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return e.updateOutlineGap()}))})):e.updateOutlineGap()}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(e){var t=this._control?this._control.ngControl:null;return t&&t[e]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var e=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Object(f.a)(this._label.nativeElement,"transitionend").pipe(Object(v.a)(1)).subscribe((function(){e._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var e,t,n=this;this._hintChildren&&this._hintChildren.forEach((function(r){if("start"===r.align){if(e||n.hintLabel)throw H("start");e=r}else if("end"===r.align){if(t)throw H("end");t=r}}))}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var e=[];if("hint"===this._getDisplayedMessages()){var t=this._hintChildren?this._hintChildren.find((function(e){return"start"===e.align})):null,n=this._hintChildren?this._hintChildren.find((function(e){return"end"===e.align})):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&(e=this._errorChildren.map((function(e){return e.id})));this._control.setDescribedByIds(e)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var e=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var t=0,n=0,r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=r.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s,c=this._getStartEnd(a),u=this._getStartEnd(e.children[0].getBoundingClientRect()),l=0,h=_createForOfIteratorHelper(e.children);try{for(h.s();!(s=h.n()).done;)l+=s.value.offsetWidth}catch(p){h.e(p)}finally{h.f()}t=u-c-5,n=l>0?.75*l+10:0}for(var f=0;f<i.length;f++)i[f].style.width="".concat(t,"px");for(var d=0;d<o.length;d++)o[d].style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}},{key:"_isAttachedToDOM",value:function(){var e=this._elementRef.nativeElement;if(e.getRootNode){var t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}},{key:"appearance",get:function(){return this._appearance},set:function(e){var t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(e){this._hideRequiredMarker=Object(u.c)(e)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(e){this._hintLabel=e,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(e){this._explicitFormFieldControl=e}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),n}(ie)).\u0275fac=function(e){return new(e||X)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](s.d,8),i["\u0275\u0275directiveInject"](y.Directionality,8),i["\u0275\u0275directiveInject"](oe,8),i["\u0275\u0275directiveInject"](_.a),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](g.ANIMATION_MODULE_TYPE,8))},X.\u0275cmp=i["\u0275\u0275defineComponent"]({type:X,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){var r;1&e&&(i["\u0275\u0275contentQuery"](n,G,!0),i["\u0275\u0275staticContentQuery"](n,G,!0),i["\u0275\u0275contentQuery"](n,$,!0),i["\u0275\u0275staticContentQuery"](n,$,!0),i["\u0275\u0275contentQuery"](n,ee,!0),i["\u0275\u0275contentQuery"](n,U,!0),i["\u0275\u0275contentQuery"](n,Z,!0),i["\u0275\u0275contentQuery"](n,te,!0),i["\u0275\u0275contentQuery"](n,ne,!0)),2&e&&(i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t._controlNonStatic=r.first),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t._controlStatic=r.first),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t._labelChildNonStatic=r.first),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t._labelChildStatic=r.first),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t._placeholderChild=r.first),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t._errorChildren=r),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t._hintChildren=r),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t._prefixChildren=r),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t._suffixChildren=r))},viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275viewQuery"](b,!0),i["\u0275\u0275staticViewQuery"](C,!0),i["\u0275\u0275viewQuery"](k,!0),i["\u0275\u0275viewQuery"](w,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.underlineRef=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t._connectionContainerRef=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t._inputContainerRef=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat)("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:L,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](F),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1,2),i["\u0275\u0275listener"]("click",(function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)})),i["\u0275\u0275template"](3,S,9,0,"ng-container",3),i["\u0275\u0275template"](4,E,2,0,"div",4),i["\u0275\u0275elementStart"](5,"div",5,6),i["\u0275\u0275projection"](7),i["\u0275\u0275elementStart"](8,"span",7),i["\u0275\u0275template"](9,x,5,16,"label",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,T,2,0,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,A,3,4,"div",10),i["\u0275\u0275elementStart"](12,"div",11),i["\u0275\u0275template"](13,D,2,1,"div",12),i["\u0275\u0275template"](14,j,5,2,"div",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf","outline"==t.appearance),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t._prefixChildren.length),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t._hasFloatingLabel()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t._suffixChildren.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","outline"!=t.appearance),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitch",t._getDisplayedMessages()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","error"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase","hint"))},directives:[r.NgIf,r.NgSwitch,r.NgSwitchCase,c.a],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[B.transitionMessages]},changeDetection:0}),X),se=((Q=function e(){_classCallCheck2(this,e)}).\u0275mod=i["\u0275\u0275defineNgModule"]({type:Q}),Q.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Q)},imports:[[r.CommonModule,c.c]]}),Q),ce=n("YEUz"),ue=n("CtHx"),le=n("Ht+U"),he=n("NXyV"),fe=n("eIep"),de=n("pLZG"),pe=n("lJxs"),ve=n("/uUt"),me=n("7KAL"),ge=n("s7LF"),ye=["trigger"],_e=["panel"];function be(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",8),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.placeholder||"\xa0")}}function Ce(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.triggerValue||"\xa0")}}function ke(e,t){1&e&&i["\u0275\u0275projection"](0,0,["*ngSwitchCase","true"])}function we(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",9),i["\u0275\u0275template"](1,Ce,2,1,"span",10),i["\u0275\u0275template"](2,ke,1,0,void 0,11),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngSwitch",!!n.customTrigger),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngSwitchCase",!0)}}function Se(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275elementStart"](1,"div",13,14),i["\u0275\u0275listener"]("@transformPanel.done",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]()._handleKeydown(e)})),i["\u0275\u0275projection"](3,1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("@transformPanelWrap",void 0),i["\u0275\u0275advance"](1),i["\u0275\u0275classMapInterpolate1"]("mat-select-panel ",r._getPanelTheme(),""),i["\u0275\u0275styleProp"]("transform-origin",r._transformOrigin)("font-size",r._triggerFontSize,"px"),i["\u0275\u0275property"]("ngClass",r.panelClass)("@transformPanel",r.multiple?"showing-multiple":"showing")}}var Ee,Ie,Oe,Pe,xe,Te=[[["mat-select-trigger"]],"*"],Ae=["mat-select-trigger","*"],De={transformPanelWrap:Object(m.n)("transformPanelWrap",[Object(m.m)("* => void",Object(m.i)("@transformPanel",[Object(m.f)()],{optional:!0}))]),transformPanel:Object(m.n)("transformPanel",[Object(m.k)("void",Object(m.l)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(m.k)("showing",Object(m.l)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(m.k)("showing-multiple",Object(m.l)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(m.m)("void => *",Object(m.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(m.m)("* => void",Object(m.e)("100ms 25ms linear",Object(m.l)({opacity:0})))])},Re=0,je=new i.InjectionToken("mat-select-scroll-strategy"),Me=new i.InjectionToken("MAT_SELECT_CONFIG"),Ne={provide:je,deps:[a.c],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},Fe=function e(t,n){_classCallCheck2(this,e),this.source=t,this.value=n},Le=Object(s.o)(Object(s.s)(Object(s.p)(Object(s.q)((function e(t,n,r,i,o){_classCallCheck2(this,e),this._elementRef=t,this._defaultErrorStateMatcher=n,this._parentForm=r,this._parentFormGroup=i,this.ngControl=o}))))),Ve=((Oe=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||Oe)},Oe.\u0275dir=i["\u0275\u0275defineDirective"]({type:Oe,selectors:[["mat-select-trigger"]]}),Oe),Ue=((Ie=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a,s,c,u,f,p,m,g,y,_,b){var C;return _classCallCheck2(this,n),(C=t.call(this,s,a,u,f,m))._viewportRuler=e,C._changeDetectorRef=r,C._ngZone=o,C._dir=c,C._parentFormField=p,C.ngControl=m,C._liveAnnouncer=_,C._panelOpen=!1,C._required=!1,C._scrollTop=0,C._multiple=!1,C._compareWith=function(e,t){return e===t},C._uid="mat-select-".concat(Re++),C._destroy=new l.a,C._triggerFontSize=0,C._onChange=function(){},C._onTouched=function(){},C._optionIds="",C._transformOrigin="top",C._panelDoneAnimatingStream=new l.a,C._offsetY=0,C._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],C._disableOptionCentering=!1,C._focused=!1,C.controlType="mat-select",C.ariaLabel="",C.optionSelectionChanges=Object(he.a)((function(){var e=C.options;return e?e.changes.pipe(Object(d.a)(e),Object(fe.a)((function(){return Object(h.a).apply(void 0,_toConsumableArray2(e.map((function(e){return e.onSelectionChange}))))}))):C._ngZone.onStable.asObservable().pipe(Object(v.a)(1),Object(fe.a)((function(){return C.optionSelectionChanges})))})),C.openedChange=new i.EventEmitter,C._openedStream=C.openedChange.pipe(Object(de.a)((function(e){return e})),Object(pe.a)((function(){}))),C._closedStream=C.openedChange.pipe(Object(de.a)((function(e){return!e})),Object(pe.a)((function(){}))),C.selectionChange=new i.EventEmitter,C.valueChange=new i.EventEmitter,C.ngControl&&(C.ngControl.valueAccessor=_assertThisInitialized(C)),C._scrollStrategyFactory=y,C._scrollStrategy=C._scrollStrategyFactory(),C.tabIndex=parseInt(g)||0,C.id=C.id,b&&(null!=b.disableOptionCentering&&(C.disableOptionCentering=b.disableOptionCentering),null!=b.typeaheadDebounceInterval&&(C.typeaheadDebounceInterval=b.typeaheadDebounceInterval)),C}return _createClass2(n,[{key:"ngOnInit",value:function(){var e=this;this._selectionModel=new ue.c(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(ve.a)(),Object(p.a)(this._destroy)).subscribe((function(){e.panelOpen?(e._scrollTop=0,e.openedChange.emit(!0)):(e.openedChange.emit(!1),e.overlayDir.offsetX=0,e._changeDetectorRef.markForCheck())})),this._viewportRuler.change().pipe(Object(p.a)(this._destroy)).subscribe((function(){e._panelOpen&&(e._triggerRect=e.trigger.nativeElement.getBoundingClientRect(),e._changeDetectorRef.markForCheck())}))}},{key:"ngAfterContentInit",value:function(){var e=this;this._initKeyManager(),this._selectionModel.changed.pipe(Object(p.a)(this._destroy)).subscribe((function(e){e.added.forEach((function(e){return e.select()})),e.removed.forEach((function(e){return e.deselect()}))})),this.options.changes.pipe(Object(d.a)(null),Object(p.a)(this._destroy)).subscribe((function(){e._resetOptions(),e._initializeSelection()}))}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState()}},{key:"ngOnChanges",value:function(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}},{key:"ngOnDestroy",value:function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}},{key:"toggle",value:function(){this.panelOpen?this.close():this.open()}},{key:"open",value:function(){var e=this;!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(v.a)(1)).subscribe((function(){e._triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize="".concat(e._triggerFontSize,"px"))})))}},{key:"close",value:function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}},{key:"writeValue",value:function(e){this.options&&this._setSelectionByValue(e)}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_isRtl",value:function(){return!!this._dir&&"rtl"===this._dir.value}},{key:"_handleKeydown",value:function(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}},{key:"_handleClosedKeydown",value:function(e){var t=e.keyCode,n=t===le.b||t===le.n||t===le.g||t===le.k,r=t===le.d||t===le.l,i=this._keyManager;if(!i.isTyping()&&r&&!Object(le.q)(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){var o=this.selected;t===le.f||t===le.c?(t===le.f?i.setFirstItemActive():i.setLastItemActive(),e.preventDefault()):i.onKeydown(e);var a=this.selected;a&&o!==a&&this._liveAnnouncer.announce(a.viewValue,1e4)}}},{key:"_handleOpenKeydown",value:function(e){var t=this._keyManager,n=e.keyCode,r=n===le.b||n===le.n,i=t.isTyping();if(n===le.f||n===le.c)e.preventDefault(),n===le.f?t.setFirstItemActive():t.setLastItemActive();else if(r&&e.altKey)e.preventDefault(),this.close();else if(i||n!==le.d&&n!==le.l||!t.activeItem||Object(le.q)(e))if(!i&&this._multiple&&n===le.a&&e.ctrlKey){e.preventDefault();var o=this.options.some((function(e){return!e.disabled&&!e.selected}));this.options.forEach((function(e){e.disabled||(o?e.select():e.deselect())}))}else{var a=t.activeItemIndex;t.onKeydown(e),this._multiple&&r&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==a&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}},{key:"_onFocus",value:function(){this.disabled||(this._focused=!0,this.stateChanges.next())}},{key:"_onBlur",value:function(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}},{key:"_onAttached",value:function(){var e=this;this.overlayDir.positionChange.pipe(Object(v.a)(1)).subscribe((function(){e._changeDetectorRef.detectChanges(),e._calculateOverlayOffsetX(),e.panel.nativeElement.scrollTop=e._scrollTop}))}},{key:"_getPanelTheme",value:function(){return this._parentFormField?"mat-".concat(this._parentFormField.color):""}},{key:"_initializeSelection",value:function(){var e=this;Promise.resolve().then((function(){e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value),e.stateChanges.next()}))}},{key:"_setSelectionByValue",value:function(e){var t=this;if(this.multiple&&e){if(!Array.isArray(e))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),e.forEach((function(e){return t._selectValue(e)})),this._sortValues()}else{this._selectionModel.clear();var n=this._selectValue(e);n?this._keyManager.setActiveItem(n):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}},{key:"_selectValue",value:function(e){var t=this,n=this.options.find((function(n){try{return null!=n.value&&t._compareWith(n.value,e)}catch(r){return Object(i.isDevMode)()&&console.warn(r),!1}}));return n&&this._selectionModel.select(n),n}},{key:"_initKeyManager",value:function(){var e=this;this._keyManager=new ce.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(p.a)(this._destroy)).subscribe((function(){!e.multiple&&e._keyManager.activeItem&&e._keyManager.activeItem._selectViaInteraction(),e.focus(),e.close()})),this._keyManager.change.pipe(Object(p.a)(this._destroy)).subscribe((function(){e._panelOpen&&e.panel?e._scrollActiveOptionIntoView():e._panelOpen||e.multiple||!e._keyManager.activeItem||e._keyManager.activeItem._selectViaInteraction()}))}},{key:"_resetOptions",value:function(){var e=this,t=Object(h.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(p.a)(t)).subscribe((function(t){e._onSelect(t.source,t.isUserInput),t.isUserInput&&!e.multiple&&e._panelOpen&&(e.close(),e.focus())})),Object(h.a).apply(void 0,_toConsumableArray2(this.options.map((function(e){return e._stateChanges})))).pipe(Object(p.a)(t)).subscribe((function(){e._changeDetectorRef.markForCheck(),e.stateChanges.next()})),this._setOptionIds()}},{key:"_onSelect",value:function(e,t){var n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}},{key:"_sortValues",value:function(){var e=this;if(this.multiple){var t=this.options.toArray();this._selectionModel.sort((function(n,r){return e.sortComparator?e.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)})),this.stateChanges.next()}}},{key:"_propagateChanges",value:function(e){var t;t=this.multiple?this.selected.map((function(e){return e.value})):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(new Fe(this,t)),this._changeDetectorRef.markForCheck()}},{key:"_setOptionIds",value:function(){this._optionIds=this.options.map((function(e){return e.id})).join(" ")}},{key:"_highlightCorrectOption",value:function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}},{key:"_scrollActiveOptionIntoView",value:function(){var e=this._keyManager.activeItemIndex||0,t=Object(s.l)(e,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=Object(s.m)(e+t,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}},{key:"focus",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_getOptionIndex",value:function(e){return this.options.reduce((function(t,n,r){return void 0!==t?t:e===n?r:void 0}),void 0)}},{key:"_calculateOverlayPosition",value:function(){var e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,256),r=t*e-n,i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=Object(s.l)(i,this.options,this.optionGroups);var o=n/2;this._scrollTop=this._calculateOverlayScroll(i,o,r),this._offsetY=this._calculateOverlayOffsetY(i,o,r),this._checkOverlayWithinViewport(r)}},{key:"_calculateOverlayScroll",value:function(e,t,n){var r=this._getItemHeight();return Math.min(Math.max(0,r*e-t+r/2),n)}},{key:"_getAriaLabel",value:function(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}},{key:"_getAriaLabelledby",value:function(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}},{key:"_getAriaActiveDescendant",value:function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}},{key:"_calculateOverlayOffsetX",value:function(){var e,t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),r=this._isRtl(),i=this.multiple?56:32;if(this.multiple)e=40;else{var o=this._selectionModel.selected[0]||this.options.first;e=o&&o.group?32:16}r||(e*=-1);var a=0-(t.left+e-(r?i:0)),s=t.right+e-n.width+(r?0:i);a>0?e+=a+8:s>0&&(e-=s+8),this.overlayDir.offsetX=Math.round(e),this.overlayDir.overlayRef.updatePosition()}},{key:"_calculateOverlayOffsetY",value:function(e,t,n){var r,i=this._getItemHeight(),o=(i-this._triggerRect.height)/2,a=Math.floor(256/i);return this._disableOptionCentering?0:(r=0===this._scrollTop?e*i:this._scrollTop===n?(e-(this._getItemCount()-a))*i+(i-(this._getItemCount()*i-256)%i):t-i/2,Math.round(-1*r-o))}},{key:"_checkOverlayWithinViewport",value:function(e){var t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),a=Math.min(this._getItemCount()*t,256)-o-this._triggerRect.height;a>i?this._adjustPanelUp(a,i):o>r?this._adjustPanelDown(o,r,e):this._transformOrigin=this._getOriginBasedOnOption()}},{key:"_adjustPanelUp",value:function(e,t){var n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}},{key:"_adjustPanelDown",value:function(e,t,n){var r=Math.round(e-t);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}},{key:"_getOriginBasedOnOption",value:function(){var e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return"50% ".concat(Math.abs(this._offsetY)-t+e/2,"px 0px")}},{key:"_getItemCount",value:function(){return this.options.length+this.optionGroups.length}},{key:"_getItemHeight",value:function(){return 3*this._triggerFontSize}},{key:"setDescribedByIds",value:function(e){this._ariaDescribedby=e.join(" ")}},{key:"onContainerClick",value:function(){this.focus(),this.open()}},{key:"focused",get:function(){return this._focused||this._panelOpen}},{key:"placeholder",get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()}},{key:"required",get:function(){return this._required},set:function(e){this._required=Object(u.c)(e),this.stateChanges.next()}},{key:"multiple",get:function(){return this._multiple},set:function(e){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Object(u.c)(e)}},{key:"disableOptionCentering",get:function(){return this._disableOptionCentering},set:function(e){this._disableOptionCentering=Object(u.c)(e)}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){if("function"!=typeof e)throw Error("`compareWith` must be a function.");this._compareWith=e,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(e){e!==this._value&&(this.writeValue(e),this._value=e)}},{key:"typeaheadDebounceInterval",get:function(){return this._typeaheadDebounceInterval},set:function(e){this._typeaheadDebounceInterval=Object(u.f)(e)}},{key:"id",get:function(){return this._id},set:function(e){this._id=e||this._uid,this.stateChanges.next()}},{key:"panelOpen",get:function(){return this._panelOpen}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"triggerValue",get:function(){if(this.empty)return"";if(this._multiple){var e=this._selectionModel.selected.map((function(e){return e.viewValue}));return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}},{key:"empty",get:function(){return!this._selectionModel||this._selectionModel.isEmpty()}},{key:"shouldLabelFloat",get:function(){return this._panelOpen||!this.empty}}]),n}(Le)).\u0275fac=function(e){return new(e||Ie)(i["\u0275\u0275directiveInject"](me.c),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](s.c),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](y.Directionality,8),i["\u0275\u0275directiveInject"](ge.NgForm,8),i["\u0275\u0275directiveInject"](ge.FormGroupDirective,8),i["\u0275\u0275directiveInject"](ae,8),i["\u0275\u0275directiveInject"](ge.NgControl,10),i["\u0275\u0275injectAttribute"]("tabindex"),i["\u0275\u0275directiveInject"](je),i["\u0275\u0275directiveInject"](ce.h),i["\u0275\u0275directiveInject"](Me,8))},Ie.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ie,selectors:[["mat-select"]],contentQueries:function(e,t,n){var r;1&e&&(i["\u0275\u0275contentQuery"](n,Ve,!0),i["\u0275\u0275contentQuery"](n,s.h,!0),i["\u0275\u0275contentQuery"](n,s.g,!0)),2&e&&(i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t.customTrigger=r.first),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t.options=r),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t.optionGroups=r))},viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275viewQuery"](ye,!0),i["\u0275\u0275viewQuery"](_e,!0),i["\u0275\u0275viewQuery"](a.a,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.trigger=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.panel=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("keydown",(function(e){return t._handleKeydown(e)}))("focus",(function(){return t._onFocus()}))("blur",(function(){return t._onBlur()})),2&e&&(i["\u0275\u0275attribute"]("id",t.id)("tabindex",t.tabIndex)("aria-label",t._getAriaLabel())("aria-labelledby",t._getAriaLabelledby())("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-owns",t.panelOpen?t._optionIds:null)("aria-multiselectable",t.multiple)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),i["\u0275\u0275classProp"]("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[i["\u0275\u0275ProvidersFeature"]([{provide:G,useExisting:Ie},{provide:s.e,useExisting:Ie}]),i["\u0275\u0275InheritDefinitionFeature"],i["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:Ae,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(i["\u0275\u0275projectionDef"](Te),i["\u0275\u0275elementStart"](0,"div",0,1),i["\u0275\u0275listener"]("click",(function(){return t.toggle()})),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275template"](4,be,2,1,"span",3),i["\u0275\u0275template"](5,we,3,2,"span",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275element"](7,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,Se,4,10,"ng-template",7),i["\u0275\u0275listener"]("backdropClick",(function(){return t.close()}))("attach",(function(){return t._onAttached()}))("detach",(function(){return t.close()}))),2&e){var n=i["\u0275\u0275reference"](1);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngSwitch",t.empty),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",!1),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[a.b,r.NgSwitch,r.NgSwitchCase,a.a,r.NgSwitchDefault,r.NgClass],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[De.transformPanelWrap,De.transformPanel]},changeDetection:0}),Ie),Be=((Ee=function e(){_classCallCheck2(this,e)}).\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ee}),Ee.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ee)},providers:[Ne],imports:[[r.CommonModule,a.f,s.i,s.f],se,s.i,s.f]}),Ee),Ge=n("itXk"),He=n("GyhO"),ze=n("HDdC"),qe=n("zP0r"),We=n("Kj3r"),Ye=new Set,Ke=((xe=function(){function e(t){_classCallCheck2(this,e),this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qe}return _createClass2(e,[{key:"matchMedia",value:function(e){return this._platform.WEBKIT&&function(e){if(!Ye.has(e))try{Pe||((Pe=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(Pe)),Pe.sheet&&(Pe.sheet.insertRule("@media ".concat(e," {.fx-query-test{ }}"),0),Ye.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}]),e}()).\u0275fac=function(e){return new(e||xe)(i["\u0275\u0275inject"](_.a))},xe.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new xe(Object(i["\u0275\u0275inject"])(_.a))},token:xe,providedIn:"root"}),xe);function Qe(e){return{matches:"all"===e||""===e,media:e,addListener:function(){},removeListener:function(){}}}var Xe,Je=((Xe=function(){function e(t,n){_classCallCheck2(this,e),this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new l.a}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(e){var t=this;return Ze(Object(u.b)(e)).some((function(e){return t._registerQuery(e).mql.matches}))}},{key:"observe",value:function(e){var t=this,n=Ze(Object(u.b)(e)).map((function(e){return t._registerQuery(e).observable})),r=Object(Ge.b)(n);return(r=Object(He.a)(r.pipe(Object(v.a)(1)),r.pipe(Object(qe.a)(1),Object(We.a)(0)))).pipe(Object(pe.a)((function(e){var t={matches:!1,breakpoints:{}};return e.forEach((function(e){t.matches=t.matches||e.matches,t.breakpoints[e.query]=e.matches})),t})))}},{key:"_registerQuery",value:function(e){var t=this;if(this._queries.has(e))return this._queries.get(e);var n=this._mediaMatcher.matchMedia(e),r={observable:new ze.a((function(e){var r=function(n){return t._zone.run((function(){return e.next(n)}))};return n.addListener(r),function(){n.removeListener(r)}})).pipe(Object(d.a)(n),Object(pe.a)((function(t){return{query:e,matches:t.matches}})),Object(p.a)(this._destroySubject)),mql:n};return this._queries.set(e,r),r}}]),e}()).\u0275fac=function(e){return new(e||Xe)(i["\u0275\u0275inject"](Ke),i["\u0275\u0275inject"](i.NgZone))},Xe.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new Xe(Object(i["\u0275\u0275inject"])(Ke),Object(i["\u0275\u0275inject"])(i.NgZone))},token:Xe,providedIn:"root"}),Xe);function Ze(e){return e.map((function(e){return e.split(",")})).reduce((function(e,t){return e.concat(t)})).map((function(e){return e.trim()}))}var $e=n("1z/I"),et={tooltipState:Object(m.n)("state",[Object(m.k)("initial, void, hidden",Object(m.l)({opacity:0,transform:"scale(0)"})),Object(m.k)("visible",Object(m.l)({transform:"scale(1)"})),Object(m.m)("* => visible",Object(m.e)("200ms cubic-bezier(0, 0, 0.2, 1)",Object(m.h)([Object(m.l)({opacity:0,transform:"scale(0)",offset:0}),Object(m.l)({opacity:.5,transform:"scale(0.99)",offset:.5}),Object(m.l)({opacity:1,transform:"scale(1)",offset:1})]))),Object(m.m)("* => hidden",Object(m.e)("100ms cubic-bezier(0, 0, 0.2, 1)",Object(m.l)({opacity:0})))])},tt=Object(_.e)({passive:!0});function nt(e){return Error('Tooltip position "'.concat(e,'" is invalid.'))}var rt,it,ot,at=new i.InjectionToken("mat-tooltip-scroll-strategy"),st={provide:at,deps:[a.c],useFactory:function(e){return function(){return e.scrollStrategies.reposition({scrollThrottle:20})}}},ct=new i.InjectionToken("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),ut=((ot=function(){function e(t,n,r,i,o,a,s,c,u,h,f,d){var v=this;_classCallCheck2(this,e),this._overlay=t,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=i,this._ngZone=o,this._platform=a,this._ariaDescriber=s,this._focusMonitor=c,this._dir=h,this._defaultOptions=f,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new l.a,this._handleKeydown=function(e){v._isTooltipVisible()&&e.keyCode===le.e&&!Object(le.q)(e)&&(e.preventDefault(),e.stopPropagation(),v._ngZone.run((function(){return v.hide(0)})))},this._scrollStrategy=u,f&&(f.position&&(this.position=f.position),f.touchGestures&&(this.touchGestures=f.touchGestures)),c.monitor(n).pipe(Object(p.a)(this._destroyed)).subscribe((function(e){e?"keyboard"===e&&o.run((function(){return v.show()})):o.run((function(){return v.hide(0)}))})),o.runOutsideAngular((function(){n.nativeElement.addEventListener("keydown",v._handleKeydown)}))}return _createClass2(e,[{key:"ngOnInit",value:function(){this._setupPointerEvents()}},{key:"ngOnDestroy",value:function(){var e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((function(t,n){e.removeEventListener(n,t,tt)})),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message),this._focusMonitor.stopMonitoring(e)}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.showDelay;if(!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new $e.c(lt,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Object(p.a)(this._destroyed)).subscribe((function(){return e._detach()})),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideDelay;this._tooltipInstance&&this._tooltipInstance.hide(e)}},{key:"toggle",value:function(){this._isTooltipVisible()?this.hide():this.show()}},{key:"_isTooltipVisible",value:function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}},{key:"_createOverlay",value:function(){var e=this;if(this._overlayRef)return this._overlayRef;var t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return n.positionChanges.pipe(Object(p.a)(this._destroyed)).subscribe((function(t){e._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&e._tooltipInstance.isVisible()&&e._ngZone.run((function(){return e.hide(0)}))})),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Object(p.a)(this._destroyed)).subscribe((function(){return e._detach()})),this._overlayRef}},{key:"_detach",value:function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}},{key:"_updatePosition",value:function(){var e=this._overlayRef.getConfig().positionStrategy,t=this._getOrigin(),n=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},t.main),n.main),Object.assign(Object.assign({},t.fallback),n.fallback)])}},{key:"_getOrigin",value:function(){var e,t=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n||"below"==n)e={originX:"center",originY:"above"==n?"top":"bottom"};else if("before"==n||"left"==n&&t||"right"==n&&!t)e={originX:"start",originY:"center"};else{if(!("after"==n||"right"==n&&t||"left"==n&&!t))throw nt(n);e={originX:"end",originY:"center"}}var r=this._invertPosition(e.originX,e.originY);return{main:e,fallback:{originX:r.x,originY:r.y}}}},{key:"_getOverlayPosition",value:function(){var e,t=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n)e={overlayX:"center",overlayY:"bottom"};else if("below"==n)e={overlayX:"center",overlayY:"top"};else if("before"==n||"left"==n&&t||"right"==n&&!t)e={overlayX:"end",overlayY:"center"};else{if(!("after"==n||"right"==n&&t||"left"==n&&!t))throw nt(n);e={overlayX:"start",overlayY:"center"}}var r=this._invertPosition(e.overlayX,e.overlayY);return{main:e,fallback:{overlayX:r.x,overlayY:r.y}}}},{key:"_updateTooltipMessage",value:function(){var e=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(v.a)(1),Object(p.a)(this._destroyed)).subscribe((function(){e._tooltipInstance&&e._overlayRef.updatePosition()})))}},{key:"_setTooltipClass",value:function(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}},{key:"_invertPosition",value:function(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}},{key:"_setupPointerEvents",value:function(){var e=this;if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();var t=function(){clearTimeout(e._touchstartTimeout),e.hide(e._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",t).set("touchcancel",t).set("touchstart",(function(){clearTimeout(e._touchstartTimeout),e._touchstartTimeout=setTimeout((function(){return e.show()}),500)}))}}else this._passiveListeners.set("mouseenter",(function(){return e.show()})).set("mouseleave",(function(){return e.hide()}));this._passiveListeners.forEach((function(t,n){e._elementRef.nativeElement.addEventListener(n,t,tt)}))}},{key:"_disableNativeGesturesIfNecessary",value:function(){var e=this._elementRef.nativeElement,t=e.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(t.userSelect=t.msUserSelect=t.webkitUserSelect=t.MozUserSelect="none"),"on"!==n&&e.draggable||(t.webkitUserDrag="none"),t.touchAction="none",t.webkitTapHighlightColor="transparent")}},{key:"position",get:function(){return this._position},set:function(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Object(u.c)(e),this._disabled&&this.hide(0)}},{key:"message",get:function(){return this._message},set:function(e){var t=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=e?"".concat(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular((function(){Promise.resolve().then((function(){t._ariaDescriber.describe(t._elementRef.nativeElement,t.message)}))})))}},{key:"tooltipClass",get:function(){return this._tooltipClass},set:function(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}}]),e}()).\u0275fac=function(e){return new(e||ot)(i["\u0275\u0275directiveInject"](a.c),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](me.a),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](_.a),i["\u0275\u0275directiveInject"](ce.c),i["\u0275\u0275directiveInject"](ce.e),i["\u0275\u0275directiveInject"](at),i["\u0275\u0275directiveInject"](y.Directionality,8),i["\u0275\u0275directiveInject"](ct,8),i["\u0275\u0275directiveInject"](i.ElementRef))},ot.\u0275dir=i["\u0275\u0275defineDirective"]({type:ot,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),ot),lt=((it=function(){function e(t,n){_classCallCheck2(this,e),this._changeDetectorRef=t,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new l.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}return _createClass2(e,[{key:"show",value:function(e){var t=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout((function(){t._visibility="visible",t._showTimeoutId=null,t._markForCheck()}),e)}},{key:"hide",value:function(e){var t=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout((function(){t._visibility="hidden",t._hideTimeoutId=null,t._markForCheck()}),e)}},{key:"afterHidden",value:function(){return this._onHide.asObservable()}},{key:"isVisible",value:function(){return"visible"===this._visibility}},{key:"ngOnDestroy",value:function(){this._onHide.complete()}},{key:"_animationStart",value:function(){this._closeOnInteraction=!1}},{key:"_animationDone",value:function(e){var t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}},{key:"_handleBodyInteraction",value:function(){this._closeOnInteraction&&this.hide(0)}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||it)(i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](Je))},it.\u0275cmp=i["\u0275\u0275defineComponent"]({type:it,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(){return t._handleBodyInteraction()}),!1,i["\u0275\u0275resolveBody"]),2&e&&i["\u0275\u0275styleProp"]("zoom","visible"===t._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275listener"]("@state.start",(function(){return t._animationStart()}))("@state.done",(function(e){return t._animationDone(e)})),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"]()),2&e){var n,r=null==(n=i["\u0275\u0275pipeBind1"](1,5,t._isHandset))?null:n.matches;i["\u0275\u0275classProp"]("mat-tooltip-handset",r),i["\u0275\u0275property"]("ngClass",t.tooltipClass)("@state",t._visibility),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.message)}},directives:[r.NgClass],pipes:[r.AsyncPipe],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[et.tooltipState]},changeDetection:0}),it),ht=((rt=function e(){_classCallCheck2(this,e)}).\u0275mod=i["\u0275\u0275defineNgModule"]({type:rt}),rt.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||rt)},providers:[st],imports:[[ce.a,r.CommonModule,a.f,s.f],s.f]}),rt);function ft(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",19),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n," ")}}function dt(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-form-field",16),i["\u0275\u0275elementStart"](1,"mat-select",17),i["\u0275\u0275listener"]("selectionChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2)._changePageSize(e.value)})),i["\u0275\u0275template"](2,ft,2,2,"mat-option",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("color",r.color),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",r.pageSize)("disabled",r.disabled)("aria-label",r._intl.itemsPerPageLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",r._displayedPageSizeOptions)}}function pt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",20),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.pageSize)}}function vt(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275elementStart"](1,"div",13),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,dt,3,5,"mat-form-field",14),i["\u0275\u0275template"](4,pt,2,1,"div",15),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n._intl.itemsPerPageLabel," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n._displayedPageSizeOptions.length>1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",n._displayedPageSizeOptions.length<=1)}}function mt(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",21),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().firstPage()})),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"svg",7),i["\u0275\u0275element"](2,"path",22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("matTooltip",r._intl.firstPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),i["\u0275\u0275attribute"]("aria-label",r._intl.firstPageLabel)}}function gt(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275namespaceHTML"](),i["\u0275\u0275elementStart"](0,"button",23),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().lastPage()})),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](1,"svg",7),i["\u0275\u0275element"](2,"path",24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("matTooltip",r._intl.lastPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),i["\u0275\u0275attribute"]("aria-label",r._intl.lastPageLabel)}}var yt,_t=((yt=function e(){_classCallCheck2(this,e),this.changes=new l.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(e,t,n){if(0==n||0==t)return"0 of ".concat(n);var r=e*t;return"".concat(r+1," \u2013 ").concat(r<(n=Math.max(n,0))?Math.min(r+t,n):r+t," of ").concat(n)}}).\u0275fac=function(e){return new(e||yt)},yt.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new yt},token:yt,providedIn:"root"}),yt);function bt(e){return e||new _t}var Ct,kt,wt={provide:_t,deps:[[new i.Optional,new i.SkipSelf,_t]],useFactory:bt},St=function e(){_classCallCheck2(this,e)},Et=new i.InjectionToken("MAT_PAGINATOR_DEFAULT_OPTIONS"),It=Object(s.p)(Object(s.r)((function e(){_classCallCheck2(this,e)}))),Ot=((kt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var a;if(_classCallCheck2(this,n),(a=t.call(this))._intl=e,a._changeDetectorRef=r,a._pageIndex=0,a._length=0,a._pageSizeOptions=[],a._hidePageSize=!1,a._showFirstLastButtons=!1,a.page=new i.EventEmitter,a._intlChanges=e.changes.subscribe((function(){return a._changeDetectorRef.markForCheck()})),o){var s=o.pageSize,c=o.pageSizeOptions,u=o.hidePageSize,l=o.showFirstLastButtons;null!=s&&(a._pageSize=s),null!=c&&(a._pageSizeOptions=c),null!=u&&(a._hidePageSize=u),null!=l&&(a._showFirstLastButtons=l)}return _possibleConstructorReturn(a)}return _createClass2(n,[{key:"ngOnInit",value:function(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe()}},{key:"nextPage",value:function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}}},{key:"previousPage",value:function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}}},{key:"firstPage",value:function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}}},{key:"lastPage",value:function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}}},{key:"hasPreviousPage",value:function(){return this.pageIndex>=1&&0!=this.pageSize}},{key:"hasNextPage",value:function(){var e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}},{key:"getNumberOfPages",value:function(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}},{key:"_changePageSize",value:function(e){var t=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(t)}},{key:"_nextButtonsDisabled",value:function(){return this.disabled||!this.hasNextPage()}},{key:"_previousButtonsDisabled",value:function(){return this.disabled||!this.hasPreviousPage()}},{key:"_updateDisplayedPageSizeOptions",value:function(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((function(e,t){return e-t})),this._changeDetectorRef.markForCheck())}},{key:"_emitPageEvent",value:function(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}},{key:"pageIndex",get:function(){return this._pageIndex},set:function(e){this._pageIndex=Math.max(Object(u.f)(e),0),this._changeDetectorRef.markForCheck()}},{key:"length",get:function(){return this._length},set:function(e){this._length=Object(u.f)(e),this._changeDetectorRef.markForCheck()}},{key:"pageSize",get:function(){return this._pageSize},set:function(e){this._pageSize=Math.max(Object(u.f)(e),0),this._updateDisplayedPageSizeOptions()}},{key:"pageSizeOptions",get:function(){return this._pageSizeOptions},set:function(e){this._pageSizeOptions=(e||[]).map((function(e){return Object(u.f)(e)})),this._updateDisplayedPageSizeOptions()}},{key:"hidePageSize",get:function(){return this._hidePageSize},set:function(e){this._hidePageSize=Object(u.c)(e)}},{key:"showFirstLastButtons",get:function(){return this._showFirstLastButtons},set:function(e){this._showFirstLastButtons=Object(u.c)(e)}}]),n}(It)).\u0275fac=function(e){return new(e||kt)(i["\u0275\u0275directiveInject"](_t),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](Et,8))},kt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:kt,selectors:[["mat-paginator"]],hostAttrs:[1,"mat-paginator"],inputs:{disabled:"disabled",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},exportAs:["matPaginator"],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275template"](2,vt,5,3,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,mt,3,5,"button",5),i["\u0275\u0275elementStart"](7,"button",6),i["\u0275\u0275listener"]("click",(function(){return t.previousPage()})),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](8,"svg",7),i["\u0275\u0275element"](9,"path",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275namespaceHTML"](),i["\u0275\u0275elementStart"](10,"button",9),i["\u0275\u0275listener"]("click",(function(){return t.nextPage()})),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](11,"svg",7),i["\u0275\u0275element"](12,"path",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,gt,3,5,"button",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.hidePageSize),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showFirstLastButtons),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("matTooltip",t._intl.previousPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),i["\u0275\u0275attribute"]("aria-label",t._intl.previousPageLabel),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("matTooltip",t._intl.nextPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),i["\u0275\u0275attribute"]("aria-label",t._intl.nextPageLabel),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.showFirstLastButtons))},directives:[r.NgIf,o.MatButton,ut,ae,Ue,r.NgForOf,s.h],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),kt),Pt=((Ct=function e(){_classCallCheck2(this,e)}).\u0275mod=i["\u0275\u0275defineNgModule"]({type:Ct}),Ct.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ct)},providers:[wt],imports:[[r.CommonModule,o.MatButtonModule,Be,ht]]}),Ct)},"5fYb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("wO2d"),s=n("mZbU"),c=r.__importStar(n("8Y7J")),u=r.__importStar(n("PIpM")),l=r.__importStar(n("f4AX")),h=r.__importStar(n("F8Su")),f=r.__importStar(n("TSSN")),d=r.__importStar(n("SVse"));function p(e,t){if(1&e&&(c.\u0275\u0275elementStart(0,"div",3),c.\u0275\u0275elementStart(1,"div",4),c.\u0275\u0275element(2,"span",5),c.\u0275\u0275elementStart(3,"span",6),c.\u0275\u0275text(4),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"div",7),c.\u0275\u0275elementStart(6,"div",8),c.\u0275\u0275elementStart(7,"div",9),c.\u0275\u0275element(8,"label",10),c.\u0275\u0275elementStart(9,"p",11),c.\u0275\u0275text(10),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(11,"div",9),c.\u0275\u0275element(12,"label",12),c.\u0275\u0275elementStart(13,"p",13),c.\u0275\u0275text(14),c.\u0275\u0275pipe(15,"percent"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(16,"div",8),c.\u0275\u0275elementStart(17,"div",9),c.\u0275\u0275element(18,"label",14),c.\u0275\u0275elementStart(19,"p",15),c.\u0275\u0275text(20),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(21,"div",9),c.\u0275\u0275element(22,"label",16),c.\u0275\u0275elementStart(23,"p",17),c.\u0275\u0275text(24),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&e){var n=c.\u0275\u0275nextContext();c.\u0275\u0275advance(2),c.\u0275\u0275property("title",n.getFormattedUserLevel(n.rating.level)),c.\u0275\u0275attribute("data-level",n.rating.level),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(n.getFormattedUserLevel(n.rating.level)),c.\u0275\u0275advance(6),c.\u0275\u0275textInterpolate(n.rating.gamesPlayed),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(15,7,n.getWinRate())),c.\u0275\u0275advance(6),c.\u0275\u0275textInterpolate(n.rating.wins),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate(n.rating.losses)}}var v=function(){function e(t,n,r){_classCallCheck2(this,e),this.ratingService=t,this.userService=n,this.gameInfoService=r,this.UserLevel=a.UserLevel,this.destroy$=new i.Subject}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;i.combineLatest([this.ratingService.rating$,this.userService.user$]).pipe(o.switchMap((function(){return e.ratingService.getUserRating(e.userService.getCurrentUserId())})),o.switchMap((function(t){return e.rating=s.RatingView.mapFromDto(t,e.userService.getCurrentUser()),e.ratingService.getRatingInfo(t?t.level:null)})),o.map((function(t){return e.ratingInfo=t})),o.takeUntil(this.destroy$)).subscribe()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"getWinRate",value:function(){return this.rating.gamesPlayed?this.rating.wins/this.rating.gamesPlayed:0}},{key:"getFormattedUserLevel",value:function(e){return this.gameInfoService.getFormattedUserLevel(e)}}]),e}();t.AccountStatsComponent=v,v.\u0275fac=function(e){return new(e||v)(c.\u0275\u0275directiveInject(u.RatingService),c.\u0275\u0275directiveInject(l.UserService),c.\u0275\u0275directiveInject(h.GameInfoService))},v.\u0275cmp=c.\u0275\u0275defineComponent({type:v,selectors:[["gw-account-stats"]],decls:3,vars:1,consts:[[1,"d-flex","flex-column","p-4","gw-account-stats"],["translate","i18n.COMMON.STATISTICS"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"d-flex","flex-column","justify-content-around","px-3","mb-3"],[1,"gw-user-rating",3,"title"],[1,"font-weight-bold","text-primary","text-center"],[1,"d-flex","flex-column","flex-grow-1","gw-form"],[1,"d-flex","justify-content-between","col-md-6","text-center"],[1,"form-group","w-50"],["for","gamesPlayed","translate","i18n.COMMON.GAMES_PLAYED"],["id","gamesPlayed",1,"font-weight-bold"],["for","winRate","translate","i18n.COMMON.WIN_RATE"],["id","winRate",1,"font-weight-bold"],["for","wins","translate","i18n.COMMON.WINS"],["id","wins",1,"font-weight-bold"],["for","losses","translate","i18n.COMMON.LOSSES"],["id","losses",1,"font-weight-bold"]],template:function(e,t){1&e&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275element(1,"h4",1),c.\u0275\u0275template(2,p,25,9,"div",2),c.\u0275\u0275elementEnd()),2&e&&(c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",t.rating))},directives:[f.TranslateDirective,d.NgIf],pipes:[d.PercentPipe],styles:[".gw-account-stats[_ngcontent-%COMP%]{background-color:#f4f7f6;height:calc(100% - 45px)}.gw-account-stats[_ngcontent-%COMP%]   .gw-user-rating[_ngcontent-%COMP%]{background-size:auto;background-position:50%;width:180px;height:180px}.gw-account-stats[_ngcontent-%COMP%]   .gw-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})},"5hSu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=r.__importStar(n("8Y7J")),s=r.__importStar(n("zyZ6")),c=r.__importStar(n("y0H8")),u=function(){function e(t,n){_classCallCheck2(this,e),this.gameService=t,this.peerService=n}return _createClass2(e,[{key:"canDeactivate",value:function(){var e=this.gameService.getSelectedGame();return e?this.peerService.destroyPeer(e).pipe(o.map((function(){return!0}))):i.of(!0)}}]),e}();t.PeerGuard=u,u.\u0275fac=function(e){return new(e||u)(a.\u0275\u0275inject(s.GameService),a.\u0275\u0275inject(c.PeerService))},u.\u0275prov=a.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"})},"5x/H":function(e,t,n){"use strict";n.r(t),n("6Joi")},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("os0x"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,a=n("q/0M"),s=n("zVF4"),c=n("S+S0"),u=n("x7I3"),l=o.SDK_VERSION,h=function(){function e(e){this.uid=e}return e.prototype.t=function(){return null!=this.uid},e.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.h=new h("first-party-uid");var f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(t,e),t}(Error),p=function(e,t){this.user=t,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+e},v=function(){function e(){this.u=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype._=function(){},e.prototype.l=function(e){this.u=e,e(h.UNAUTHENTICATED)},e.prototype.T=function(){this.u=null},e}(),m=function(){function e(e){var t=this;this.I=null,this.currentUser=h.UNAUTHENTICATED,this.R=!1,this.m=0,this.u=null,this.forceRefresh=!1,this.I=function(){t.m++,t.currentUser=t.A(),t.R=!0,t.u&&t.u(t.currentUser)},this.m=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),e.get().then((function(e){t.auth=e,t.I&&t.auth.addAuthTokenListener(t.I)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.m,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(e.m!==t)throw new d(f.ABORTED,"getToken aborted due to token change.");return n?(Ct("string"==typeof n.accessToken),new p(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype._=function(){this.forceRefresh=!0},e.prototype.l=function(e){this.u=e,this.R&&e(this.currentUser)},e.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},e.prototype.A=function(){var e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new h(e)},e}(),g=function(){function e(e,t){this.P=e,this.V=t,this.type="FirstParty",this.user=h.h}return Object.defineProperty(e.prototype,"o",{get:function(){var e={"X-Goog-AuthUser":this.V},t=this.P.auth.g([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),y=function(){function e(e,t){this.P=e,this.V=t}return e.prototype.getToken=function(){return Promise.resolve(new g(this.P,this.V))},e.prototype.l=function(e){e(h.h)},e.prototype.T=function(){},e.prototype._=function(){},e}(),_=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.p=function(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),b=function(){function e(e){this.timestamp=e}return e.v=function(t){return new e(t)},e.min=function(){return new e(new _(0,0))},e.prototype.S=function(e){return this.timestamp.p(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.C=function(){return this.timestamp},e}(),C=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&bt(),void 0===n?n=e.length-t:n>e.length-t&&bt(),this.segments=e,this.offset=t,this.F=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.N(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.k(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.$=function(e){return this.k(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.M=function(){return this.k(this.segments,this.offset,this.length-1)},e.prototype.L=function(){return this.segments[this.offset]},e.prototype.O=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.B=function(){return 0===this.length},e.prototype.q=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.U=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},e.N=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.k=function(e,n,r){return new t(e,n,r)},t.prototype.j=function(){return this.W().join("/")},t.prototype.toString=function(){return this.j()},t.K=function(e){if(e.indexOf("//")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t}(C);k.G=new k([]);var w=/^[_a-zA-Z][_a-zA-Z0-9]*$/,S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.k=function(e,n,r){return new t(e,n,r)},t.H=function(e){return w.test(e)},t.prototype.j=function(){return this.W().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.H(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.j()},t.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},t.J=function(){return new t(["__name__"])},t.X=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new d(f.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new d(f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new d(f.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t}(C);S.G=new S([]);var E=function(){function e(e){this.path=e}return e.Z=function(t){return new e(k.K(t).$(5))},e.prototype.tt=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===k.N(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.N=function(e,t){return k.N(e.path,t.path)},e.et=function(e){return e.length%2==0},e.st=function(t){return new e(new k(t.slice()))},e}();function I(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function O(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function P(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}E.EMPTY=new E(new k([]));var x=function(){function e(e){this.it=e}return e.fromBase64String=function(t){return new e(dt.nt().atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return dt.nt().btoa(this.it)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.it)},e.prototype.rt=function(){return 2*this.it.length},e.prototype.S=function(e){return St(this.it,e.it)},e.prototype.isEqual=function(e){return this.it===e.it},e}();function T(e){return null==e}function A(e){return-0===e&&1/e==-1/0}function D(e){return"number"==typeof e&&Number.isInteger(e)&&!A(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function R(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function j(e){var t=G(e.mapValue.fields.__local_write_time__.timestampValue);return new _(t.seconds,t.nanos)}x.ht=new x("");var M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function N(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?R(e)?4:10:bt()}function F(e,t){var n=N(e);if(n!==N(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return j(e).isEqual(j(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=G(e.timestampValue),r=G(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return z(e.bytesValue).isEqual(z(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return H(e.geoPointValue.latitude)===H(t.geoPointValue.latitude)&&H(e.geoPointValue.longitude)===H(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return H(e.integerValue)===H(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=H(e.doubleValue),r=H(t.doubleValue);return n===r?A(n)===A(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Et(e.arrayValue.values||[],t.arrayValue.values||[],F);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(I(n)!==I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!F(n[i],r[i])))return!1;return!0}(e,t);default:return bt()}}function L(e,t){return void 0!==(e.values||[]).find((function(e){return F(e,t)}))}function V(e,t){var n=N(e),r=N(t);if(n!==r)return St(n,r);switch(n){case 0:return 0;case 1:return St(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=H(e.integerValue||e.doubleValue),r=H(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return U(e.timestampValue,t.timestampValue);case 4:return U(j(e),j(t));case 5:return St(e.stringValue,t.stringValue);case 6:return function(e,t){var n=z(e),r=z(t);return n.S(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=St(n[i],r[i]);if(0!==o)return o}return St(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=St(H(e.latitude),H(t.latitude));return 0!==n?n:St(H(e.longitude),H(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=V(n[i],r[i]);if(o)return o}return St(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=St(r[a],o[a]);if(0!==s)return s;var c=V(n[r[a]],i[o[a]]);if(0!==c)return c}return St(r.length,o.length)}(e.mapValue,t.mapValue);default:throw bt()}}function U(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return St(e,t);var n=G(e),r=G(t),i=St(n.seconds,r.seconds);return 0!==i?i:St(n.nanos,r.nanos)}function B(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=G(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?z(t.bytesValue).toBase64():"referenceValue"in t?E.Z(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):bt();var n}(e)}function G(e){if(Ct(!!e),"string"==typeof e){var t=0,n=M.exec(e);if(Ct(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:H(e.seconds),nanos:H(e.nanos)}}function H(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function z(e){return"string"==typeof e?x.fromBase64String(e):x.fromUint8Array(e)}function q(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.j()}}function W(e){return!!e&&"integerValue"in e}function Y(e){return!!e&&"arrayValue"in e}function K(e){return!!e&&"nullValue"in e}function Q(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function X(e){return!!e&&"mapValue"in e}var J=function(){function e(){}return e.prototype.ot=function(e,t){return function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,e)},e.prototype.at=function(e,t){return t},e.prototype.ut=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e}();J.instance=new J;var Z=function(){function e(e){this.elements=e}return e.prototype.ot=function(e,t){return this.apply(e)},e.prototype.at=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=te(e),n=function(e){t.some((function(t){return F(t,e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:t}}},e.prototype.ut=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&Et(this.elements,t.elements,F)},e}(),$=function(){function e(e){this.elements=e}return e.prototype.ot=function(e,t){return this.apply(e)},e.prototype.at=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=te(e),n=function(e){t=t.filter((function(t){return!F(t,e)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:t}}},e.prototype.ut=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&Et(this.elements,t.elements,F)},e}(),ee=function(){function e(e,t){this.serializer=e,this.ct=t}return e.prototype.ot=function(e,t){var n=this.ut(e),r=this.asNumber(n)+this.asNumber(this.ct);return W(n)&&W(this.ct)?this.serializer._t(r):this.serializer.lt(r)},e.prototype.at=function(e,t){return t},e.prototype.ut=function(e){return W(t=e)||function(e){return!!e&&"doubleValue"in e}(t)?e:{integerValue:0};var t},e.prototype.isEqual=function(t){return t instanceof e&&F(this.ct,t.ct)},e.prototype.asNumber=function(e){return H(e.integerValue||e.doubleValue)},e}();function te(e){return Y(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ne=function(){function e(e){this.fields=e,e.sort(S.N)}return e.prototype.dt=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].q(e))return!0;return!1},e.prototype.isEqual=function(e){return Et(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),re=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),ie=function(e,t){this.version=e,this.transformResults=t},oe=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.ft=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.Et=function(e){return void 0!==this.updateTime?e instanceof ye&&e.version.isEqual(this.updateTime):void 0===this.exists||this.exists===e instanceof ye},e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}(),ae=function(){function e(){}return e.prototype.It=function(e){},e.wt=function(e){return e instanceof ye?e.version:b.min()},e}(),se=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Rt=r,i.type=0,i}return i.__extends(t,e),t.prototype.at=function(e,t){return this.It(e),new ye(this.key,t.version,this.value,{hasCommittedMutations:!0})},t.prototype.ot=function(e,t,n){if(this.It(e),!this.Rt.Et(e))return e;var r=ae.wt(e);return new ye(this.key,r,this.value,{At:!0})},t.prototype.Pt=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.Rt.isEqual(e.Rt)},t}(ae),ce=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.Vt=r,o.Rt=i,o.type=1,o}return i.__extends(t,e),t.prototype.at=function(e,t){if(this.It(e),!this.Rt.Et(e))return new be(this.key,t.version);var n=this.gt(e);return new ye(this.key,t.version,n,{hasCommittedMutations:!0})},t.prototype.ot=function(e,t,n){if(this.It(e),!this.Rt.Et(e))return e;var r=ae.wt(e),i=this.gt(e);return new ye(this.key,r,i,{At:!0})},t.prototype.Pt=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.Vt.isEqual(e.Vt)&&this.Rt.isEqual(e.Rt)},t.prototype.gt=function(e){var t;return t=e instanceof ye?e.data():fe.empty(),this.pt(t)},t.prototype.pt=function(e){var t=this,n=new de(e);return this.Vt.fields.forEach((function(e){if(!e.B()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()},t}(ae),ue=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Rt=oe.exists(!0),r}return i.__extends(t,e),t.prototype.at=function(e,t){if(this.It(e),Ct(null!=t.transformResults),!this.Rt.Et(e))return new be(this.key,t.version);var n=this.bt(e),r=this.vt(e,t.transformResults),i=t.version,o=this.St(n.data(),r);return new ye(this.key,i,o,{hasCommittedMutations:!0})},t.prototype.ot=function(e,t,n){if(this.It(e),!this.Rt.Et(e))return e;var r=this.bt(e),i=this.Dt(n,e,t),o=this.St(r.data(),i);return new ye(this.key,r.version,o,{At:!0})},t.prototype.Pt=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof ye?e.field(i.field):void 0,a=i.transform.ut(o||null);null!=a&&(t=null==t?(new de).set(i.field,a):t.set(i.field,a))}return t?t.yt():null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&Et(this.fieldTransforms,e.fieldTransforms,(function(e,t){return e.isEqual(t)}))&&this.Rt.isEqual(e.Rt)},t.prototype.bt=function(e){return e},t.prototype.vt=function(e,t){var n=[];Ct(this.fieldTransforms.length===t.length);for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof ye&&(a=e.field(i.field)),n.push(o.at(a,t[r]))}return n},t.prototype.Dt=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,c=null;t instanceof ye&&(c=t.field(a.field)),null===c&&n instanceof ye&&(c=n.field(a.field)),r.push(s.ot(c,e))}return r},t.prototype.St=function(e,t){for(var n=new de(e),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,t[r]);return n.yt()},t}(ae),le=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Rt=n,r.type=3,r}return i.__extends(t,e),t.prototype.at=function(e,t){return this.It(e),new _e(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.ot=function(e,t,n){return this.It(e),this.Rt.Et(e)?new _e(this.key,b.min()):e},t.prototype.Pt=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.Rt.isEqual(e.Rt)},t}(ae),he=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Rt=n,r.type=4,r}return i.__extends(t,e),t.prototype.at=function(e,t){bt()},t.prototype.ot=function(e,t,n){bt()},t.prototype.Pt=function(e){bt()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.Rt.isEqual(e.Rt)},t}(ae),fe=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.B())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!X(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.O()])||null},e.prototype.isEqual=function(e){return F(this.proto,e.proto)},e}(),de=function(){function e(e){void 0===e&&(e=fe.empty()),this.Ct=e,this.Ft=new Map}return e.prototype.set=function(e,t){return this.Nt(e,t),this},e.prototype.delete=function(e){return this.Nt(e,null),this},e.prototype.Nt=function(e,t){for(var n=this.Ft,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===N(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.O(),t)},e.prototype.yt=function(){var e=this.kt(S.G,this.Ft);return null!=e?new fe(e):this.Ct},e.prototype.kt=function(e,t){var n=this,r=!1,i=this.Ct.field(e),o=X(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.kt(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function pe(e){var t=[];return O(e.fields||{},(function(e,n){var r=new S([e]);if(X(n)){var i=pe(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new ne(t)}var ve,me,ge=function(e,t){this.key=e,this.version=t},ye=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).$t=r,o.At=!!i.At,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(t,e),t.prototype.field=function(e){return this.$t.field(e)},t.prototype.data=function(){return this.$t},t.prototype.Mt=function(){return this.$t.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.At===e.At&&this.hasCommittedMutations===e.hasCommittedMutations&&this.$t.isEqual(e.$t)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.$t.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t}(ge),_e=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ge),be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ge),Ce=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Lt=null}return e.prototype.canonicalId=function(){if(null===this.Lt){var e=this.path.j();null!==this.collectionGroup&&(e+="|cg:"+this.collectionGroup),e+="|f:",e+=this.filters.map((function(e){return e.canonicalId()})).join(","),e+="|ob:",e+=this.orderBy.map((function(e){return e.canonicalId()})).join(","),T(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.Lt=e}return this.Lt},e.prototype.toString=function(){var e=this.path.j();return null!==this.collectionGroup&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),T(this.limit)||(e+=", limit: "+this.limit),this.orderBy.length>0&&(e+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),"Target("+e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(e.filters[n]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!!(null!==this.startAt?this.startAt.isEqual(e.startAt):null===e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},e.prototype.xt=function(){return E.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},e}(),ke=function(){function e(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.Ot=n,this.filters=r,this.limit=i,this.Bt=o,this.startAt=a,this.endAt=s,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}return e.Wt=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var e=this.jt(),t=this.Kt();if(null!==e&&null===t)e.Y()||this.qt.push(new Te(e)),this.qt.push(new Te(S.J(),"asc"));else{for(var n=!1,r=0,i=this.Ot;r<i.length;r++){var o=i[r];this.qt.push(o),o.field.Y()&&(n=!0)}if(!n){var a=this.Ot.length>0?this.Ot[this.Ot.length-1].dir:"asc";this.qt.push(new Te(S.J(),a))}}}return this.qt},enumerable:!0,configurable:!0}),e.prototype.Gt=function(t){var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.Ot.slice(),n,this.limit,this.Bt,this.startAt,this.endAt)},e.prototype.zt=function(t){var n=this.Ot.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},e.prototype.Ht=function(t){return new e(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),t,"F",this.startAt,this.endAt)},e.prototype.Yt=function(t){return new e(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),t,"L",this.startAt,this.endAt)},e.prototype.Jt=function(t){return new e(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,t,this.endAt)},e.prototype.Xt=function(t){return new e(this.path,this.collectionGroup,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,t)},e.prototype.Zt=function(t){return new e(t,null,this.Ot.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},e.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Ot.length||1===this.Ot.length&&this.Ot[0].field.Y())},e.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},e.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},e.prototype.isEqual=function(e){return this.ee().isEqual(e.ee())&&this.Bt===e.Bt},e.prototype.se=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.Y()}return 0},e.prototype.matches=function(e){return this.ie(e)&&this.ne(e)&&this.re(e)&&this.he(e)},e.prototype.oe=function(){return!T(this.limit)&&"F"===this.Bt},e.prototype.ae=function(){return!T(this.limit)&&"L"===this.Bt},e.prototype.Kt=function(){return this.Ot.length>0?this.Ot[0].field:null},e.prototype.jt=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof we&&n.ue())return n.field}return null},e.prototype.ce=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof we&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.xt=function(){return this.ee().xt()},e.prototype._e=function(){return null!==this.collectionGroup},e.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new Ce(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var e=[],t=0,n=this.orderBy;t<n.length;t++){var r=n[t];e.push(new Te(r.field,"desc"===r.dir?"asc":"desc"))}var i=this.endAt?new xe(this.endAt.position,!this.endAt.before):null,o=this.startAt?new xe(this.startAt.position,!this.startAt.before):null;this.Ut=new Ce(this.path,this.collectionGroup,e,this.filters,this.limit,i,o)}return this.Ut},e.prototype.ie=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.tt(this.collectionGroup)&&this.path.q(t):E.et(this.path)?this.path.isEqual(t):this.path.U(t)},e.prototype.ne=function(e){for(var t=0,n=this.Ot;t<n.length;t++){var r=n[t];if(!r.field.Y()&&null===e.field(r.field))return!1}return!0},e.prototype.re=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},e.prototype.he=function(e){return!(this.startAt&&!this.startAt.le(this.orderBy,e)||this.endAt&&this.endAt.le(this.orderBy,e))},e.prototype.Qt=function(e){},e}(),we=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return i.__extends(t,e),t.create=function(e,n,r){if(e.Y())return"in"===n?new Ee(e,r):new Se(e,n,r);if(K(r)){if("=="!==n)throw new d(f.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(Q(r)){if("=="!==n)throw new d(f.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return"array-contains"===n?new Ie(e,r):"in"===n?new Oe(e,r):"array-contains-any"===n?new Pe(e,r):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&N(this.value)===N(t)&&this.de(V(t,this.value))},t.prototype.de=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case">":return e>0;case">=":return e>=0;default:return bt()}},t.prototype.ue=function(){return["<","<=",">",">="].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+B(this.value)},t.prototype.isEqual=function(e){return e instanceof t&&this.op===e.op&&this.field.isEqual(e.field)&&F(this.value,e.value)},t.prototype.toString=function(){return this.field.j()+" "+this.op+" "+B(this.value)},t}((function(){})),Se=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=E.Z(r.referenceValue),i}return i.__extends(t,e),t.prototype.matches=function(e){var t=E.N(e.key,this.key);return this.de(t)},t}(we),Ee=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(e){return E.Z(e.referenceValue)})),r}return i.__extends(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(we),Ie=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return Y(t)&&L(t.arrayValue,this.value)},t}(we),Oe=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&L(this.value.arrayValue,t)},t}(we),Pe=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!Y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return L(t.value.arrayValue,e)}))},t}(we),xe=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(e){return B(e)})).join(",")},e.prototype.le=function(e,t){for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(n=i.field.Y()?E.N(E.Z(o.referenceValue),t.key):V(o,t.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++)if(!F(this.position[t],e.position[t]))return!1;return!0},e}(),Te=function(){function e(e,t){this.field=e,void 0===t&&(t="asc"),this.dir=t,this.fe=e.Y()}return e.prototype.compare=function(e,t){var n=this.fe?E.N(e.key,t.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?V(r,i):bt()}(this.field,e,t);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return bt()}},e.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},e.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),Ae=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=b.min()),void 0===o&&(o=b.min()),void 0===a&&(a=x.ht),this.target=e,this.targetId=t,this.Te=n,this.sequenceNumber=r,this.Ee=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.Ie=function(t){return new e(this.target,this.targetId,this.Te,t,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.we=function(t,n){return new e(this.target,this.targetId,this.Te,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.Re=function(t){return new e(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,t,this.resumeToken)},e}(),De=function(e){this.count=e};function Re(e){switch(e){case f.OK:return bt();case f.CANCELLED:case f.UNKNOWN:case f.DEADLINE_EXCEEDED:case f.RESOURCE_EXHAUSTED:case f.INTERNAL:case f.UNAVAILABLE:case f.UNAUTHENTICATED:return!1;case f.INVALID_ARGUMENT:case f.NOT_FOUND:case f.ALREADY_EXISTS:case f.PERMISSION_DENIED:case f.FAILED_PRECONDITION:case f.ABORTED:case f.OUT_OF_RANGE:case f.UNIMPLEMENTED:case f.DATA_LOSS:return!0;default:return bt()}}function je(e){if(void 0===e)return yt("GRPC error has no .code"),f.UNKNOWN;switch(e){case ve.OK:return f.OK;case ve.CANCELLED:return f.CANCELLED;case ve.UNKNOWN:return f.UNKNOWN;case ve.DEADLINE_EXCEEDED:return f.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return f.RESOURCE_EXHAUSTED;case ve.INTERNAL:return f.INTERNAL;case ve.UNAVAILABLE:return f.UNAVAILABLE;case ve.UNAUTHENTICATED:return f.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return f.INVALID_ARGUMENT;case ve.NOT_FOUND:return f.NOT_FOUND;case ve.ALREADY_EXISTS:return f.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return f.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return f.FAILED_PRECONDITION;case ve.ABORTED:return f.ABORTED;case ve.OUT_OF_RANGE:return f.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return f.UNIMPLEMENTED;case ve.DATA_LOSS:return f.DATA_LOSS;default:return bt()}}(me=ve||(ve={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var Me=function(){function e(e,t){this.N=e,this.root=t||Fe.EMPTY}return e.prototype.me=function(t,n){return new e(this.N,this.root.me(t,n,this.N).Ae(null,null,Fe.Pe,null,null))},e.prototype.remove=function(t){return new e(this.N,this.root.remove(t,this.N).Ae(null,null,Fe.Pe,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.B();){var n=this.N(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.B();){var r=this.N(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.B=function(){return this.root.B()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.Ve=function(){return this.root.Ve()},e.prototype.ge=function(){return this.root.ge()},e.prototype.pe=function(e){return this.root.pe(e)},e.prototype.forEach=function(e){this.pe((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.pe((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.ye=function(e){return this.root.ye(e)},e.prototype.be=function(){return new Ne(this.root,null,this.N,!1)},e.prototype.ve=function(e){return new Ne(this.root,e,this.N,!1)},e.prototype.Se=function(){return new Ne(this.root,null,this.N,!0)},e.prototype.De=function(e){return new Ne(this.root,e,this.N,!0)},e}(),Ne=function(){function e(e,t,n,r){this.Ce=r,this.Fe=[];for(var i=1;!e.B();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.Ce?e.left:e.right;else{if(0===i){this.Fe.push(e);break}this.Fe.push(e),e=this.Ce?e.right:e.left}}return e.prototype.Ne=function(){var e=this.Fe.pop(),t={key:e.key,value:e.value};if(this.Ce)for(e=e.left;!e.B();)this.Fe.push(e),e=e.right;else for(e=e.right;!e.B();)this.Fe.push(e),e=e.left;return t},e.prototype.ke=function(){return this.Fe.length>0},e.prototype.$e=function(){if(0===this.Fe.length)return null;var e=this.Fe[this.Fe.length-1];return{key:e.key,value:e.value}},e}(),Fe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.Ae=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.B=function(){return!1},e.prototype.pe=function(e){return this.left.pe(e)||e(this.key,this.value)||this.right.pe(e)},e.prototype.ye=function(e){return this.right.ye(e)||e(this.key,this.value)||this.left.ye(e)},e.prototype.min=function(){return this.left.B()?this:this.left.min()},e.prototype.Ve=function(){return this.min().key},e.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},e.prototype.me=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.Ae(null,null,null,r.left.me(e,t,n),null):0===i?r.Ae(null,t,null,null,null):r.Ae(null,null,null,null,r.right.me(e,t,n))).Me()},e.prototype.Le=function(){if(this.left.B())return e.EMPTY;var t=this;return t.left.xe()||t.left.left.xe()||(t=t.Oe()),(t=t.Ae(null,null,null,t.left.Le(),null)).Me()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.B()||i.left.xe()||i.left.left.xe()||(i=i.Oe()),i=i.Ae(null,null,null,i.left.remove(t,n),null);else{if(i.left.xe()&&(i=i.Be()),i.right.B()||i.right.xe()||i.right.left.xe()||(i=i.qe()),0===n(t,i.key)){if(i.right.B())return e.EMPTY;r=i.right.min(),i=i.Ae(r.key,r.value,null,null,i.right.Le())}i=i.Ae(null,null,null,null,i.right.remove(t,n))}return i.Me()},e.prototype.xe=function(){return this.color},e.prototype.Me=function(){var e=this;return e.right.xe()&&!e.left.xe()&&(e=e.Ue()),e.left.xe()&&e.left.left.xe()&&(e=e.Be()),e.left.xe()&&e.right.xe()&&(e=e.Qe()),e},e.prototype.Oe=function(){var e=this.Qe();return e.right.left.xe()&&(e=(e=(e=e.Ae(null,null,null,null,e.right.Be())).Ue()).Qe()),e},e.prototype.qe=function(){var e=this.Qe();return e.left.left.xe()&&(e=(e=e.Be()).Qe()),e},e.prototype.Ue=function(){var t=this.Ae(null,null,e.RED,null,this.right.left);return this.right.Ae(null,null,this.color,t,null)},e.prototype.Be=function(){var t=this.Ae(null,null,e.RED,this.left.right,null);return this.left.Ae(null,null,this.color,null,t)},e.prototype.Qe=function(){var e=this.left.Ae(null,null,!this.left.color,null,null),t=this.right.Ae(null,null,!this.right.color,null,null);return this.Ae(null,null,!this.color,e,t)},e.prototype.We=function(){var e=this.je();return Math.pow(2,e)<=this.size+1},e.prototype.je=function(){if(this.xe()&&this.left.xe())throw bt();if(this.right.xe())throw bt();var e=this.left.je();if(e!==this.right.je())throw bt();return e+(this.xe()?0:1)},e}();Fe.EMPTY=null,Fe.RED=!0,Fe.Pe=!1,Fe.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw bt()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw bt()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw bt()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw bt()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw bt()},enumerable:!0,configurable:!0}),e.prototype.Ae=function(e,t,n,r,i){return this},e.prototype.me=function(e,t,n){return new Fe(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.B=function(){return!0},e.prototype.pe=function(e){return!1},e.prototype.ye=function(e){return!1},e.prototype.Ve=function(){return null},e.prototype.ge=function(){return null},e.prototype.xe=function(){return!1},e.prototype.We=function(){return!0},e.prototype.je=function(){return 0},e}());var Le=function(){function e(e){this.N=e,this.data=new Me(this.N)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.Ve()},e.prototype.last=function(){return this.data.ge()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.pe((function(t,n){return e(t),!1}))},e.prototype.Ke=function(e,t){for(var n=this.data.ve(e[0]);n.ke();){var r=n.Ne();if(this.N(r.key,e[1])>=0)return;t(r.key)}},e.prototype.Ge=function(e,t){var n;for(n=void 0!==t?this.data.ve(t):this.data.be();n.ke();)if(!e(n.Ne().key))return},e.prototype.ze=function(e){var t=this.data.ve(e);return t.ke()?t.Ne().key:null},e.prototype.be=function(){return new Ve(this.data.be())},e.prototype.ve=function(e){return new Ve(this.data.ve(e))},e.prototype.add=function(e){return this.Ae(this.data.remove(e).me(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.Ae(this.data.remove(e)):this},e.prototype.B=function(){return this.data.B()},e.prototype.He=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.be(),r=t.data.be();n.ke();){var i=n.Ne().key,o=r.Ne().key;if(0!==this.N(i,o))return!1}return!0},e.prototype.W=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.Ae=function(t){var n=new e(this.N);return n.data=t,n},e}(),Ve=function(){function e(e){this.Ye=e}return e.prototype.Ne=function(){return this.Ye.Ne().key},e.prototype.ke=function(){return this.Ye.ke()},e}(),Ue=new Me(E.N);function Be(){return Ue}function Ge(){return Be()}var He=new Me(E.N);function ze(){return He}var qe=new Me(E.N);function We(){return qe}var Ye=new Le(E.N);function Ke(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ye,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Qe=new Le(St);function Xe(){return Qe}var Je=function(){function e(e){this.N=e?function(t,n){return e(t,n)||E.N(t.key,n.key)}:function(e,t){return E.N(e.key,t.key)},this.Je=ze(),this.Xe=new Me(this.N)}return e.Ze=function(t){return new e(t.N)},e.prototype.has=function(e){return null!=this.Je.get(e)},e.prototype.get=function(e){return this.Je.get(e)},e.prototype.first=function(){return this.Xe.Ve()},e.prototype.last=function(){return this.Xe.ge()},e.prototype.B=function(){return this.Xe.B()},e.prototype.indexOf=function(e){var t=this.Je.get(e);return t?this.Xe.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.Xe.pe((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.Ae(t.Je.me(e.key,e),t.Xe.me(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.Ae(this.Je.remove(e),this.Xe.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.Xe.be(),r=t.Xe.be();n.ke();){var i=n.Ne().key,o=r.Ne().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.Ae=function(t,n){var r=new e;return r.N=this.N,r.Je=t,r.Xe=n,r},e}(),Ze=function(){function e(){this.ts=new Me(E.N)}return e.prototype.track=function(e){var t=e.doc.key,n=this.ts.get(t);n?0!==e.type&&3===n.type?this.ts=this.ts.me(t,e):3===e.type&&1!==n.type?this.ts=this.ts.me(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ts=this.ts.me(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ts=this.ts.me(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ts=this.ts.remove(t):1===e.type&&2===n.type?this.ts=this.ts.me(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ts=this.ts.me(t,{type:2,doc:e.doc}):bt():this.ts=this.ts.me(t,e)},e.prototype.es=function(){var e=[];return this.ts.pe((function(t,n){e.push(n)})),e},e}(),$e=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.ss=n,this.docChanges=r,this.ns=i,this.fromCache=o,this.rs=a,this.hs=s}return e.os=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Je.Ze(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.rs===e.rs&&this.ns.isEqual(e.ns)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.ss.isEqual(e.ss)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),et=function(){function e(e,t,n,r,i){this.Ee=e,this.as=t,this.us=n,this.cs=r,this._s=i}return e.ls=function(t,n){var r=new Map;return r.set(t,tt.ds(t,n)),new e(b.min(),r,Xe(),Be(),Ke())},e}(),tt=function(){function e(e,t,n,r,i){this.resumeToken=e,this.fs=t,this.Ts=n,this.Es=r,this.Is=i}return e.ds=function(t,n){return new e(x.ht,n,Ke(),Ke(),Ke())},e}(),nt=function(e,t,n,r){this.ws=e,this.removedTargetIds=t,this.key=n,this.Rs=r},rt=function(e,t){this.targetId=e,this.ms=t},it=function(e,t,n,r){void 0===n&&(n=x.ht),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ot=function(){function e(){this.As=0,this.Ps=ct(),this.Vs=x.ht,this.gs=!1,this.ps=!0}return Object.defineProperty(e.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ys",{get:function(){return 0!==this.As},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),e.prototype.vs=function(e){e.rt()>0&&(this.ps=!0,this.Vs=e)},e.prototype.Ss=function(){var e=Ke(),t=Ke(),n=Ke();return this.Ps.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bt()}})),new tt(this.Vs,this.gs,e,t,n)},e.prototype.Ds=function(){this.ps=!1,this.Ps=ct()},e.prototype.Cs=function(e,t){this.ps=!0,this.Ps=this.Ps.me(e,t)},e.prototype.Fs=function(e){this.ps=!0,this.Ps=this.Ps.remove(e)},e.prototype.Ns=function(){this.As+=1},e.prototype.ks=function(){this.As-=1},e.prototype.$s=function(){this.ps=!0,this.gs=!0},e}(),at=function(){function e(e){this.Ms=e,this.Ls=new Map,this.xs=Be(),this.Os=st(),this.Bs=new Le(St)}return e.prototype.qs=function(e){for(var t=0,n=e.ws;t<n.length;t++){var r=n[t];e.Rs instanceof ye?this.Us(r,e.Rs):e.Rs instanceof _e&&this.Qs(r,e.key,e.Rs)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.Qs(o[i],e.key,e.Rs)},e.prototype.Ws=function(e){var t=this;this.js(e,(function(n){var r=t.Ks(n);switch(e.state){case 0:t.Gs(n)&&r.vs(e.resumeToken);break;case 1:r.ks(),r.ys||r.Ds(),r.vs(e.resumeToken);break;case 2:r.ks(),r.ys||t.removeTarget(n);break;case 3:t.Gs(n)&&(r.$s(),r.vs(e.resumeToken));break;case 4:t.Gs(n)&&(t.zs(n),r.vs(e.resumeToken));break;default:bt()}}))},e.prototype.js=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ls.forEach((function(e,r){n.Gs(r)&&t(r)}))},e.prototype.Hs=function(e){var t=e.targetId,n=e.ms.count,r=this.Ys(t);if(r){var i=r.target;if(i.xt())if(0===n){var o=new E(i.path);this.Qs(t,o,new _e(o,b.min()))}else Ct(1===n);else this.Js(t)!==n&&(this.zs(t),this.Bs=this.Bs.add(t))}},e.prototype.Xs=function(e){var t=this,n=new Map;this.Ls.forEach((function(r,i){var o=t.Ys(i);if(o){if(r.fs&&o.target.xt()){var a=new E(o.target.path);null!==t.xs.get(a)||t.Zs(i,a)||t.Qs(i,a,new _e(a,e))}r.bs&&(n.set(i,r.Ss()),r.Ds())}}));var r=Ke();this.Os.forEach((function(e,n){var i=!0;n.Ge((function(e){var n=t.Ys(e);return!n||2===n.Te||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new et(e,n,this.Bs,this.xs,r);return this.xs=Be(),this.Os=st(),this.Bs=new Le(St),i},e.prototype.Us=function(e,t){if(this.Gs(e)){var n=this.Zs(e,t.key)?2:0;this.Ks(e).Cs(t.key,n),this.xs=this.xs.me(t.key,t),this.Os=this.Os.me(t.key,this.ti(t.key).add(e))}},e.prototype.Qs=function(e,t,n){if(this.Gs(e)){var r=this.Ks(e);this.Zs(e,t)?r.Cs(t,1):r.Fs(t),this.Os=this.Os.me(t,this.ti(t).delete(e)),n&&(this.xs=this.xs.me(t,n))}},e.prototype.removeTarget=function(e){this.Ls.delete(e)},e.prototype.Js=function(e){var t=this.Ks(e).Ss();return this.Ms.ei(e).size+t.Ts.size-t.Is.size},e.prototype.Ns=function(e){this.Ks(e).Ns()},e.prototype.Ks=function(e){var t=this.Ls.get(e);return t||(t=new ot,this.Ls.set(e,t)),t},e.prototype.ti=function(e){var t=this.Os.get(e);return t||(t=new Le(St),this.Os=this.Os.me(e,t)),t},e.prototype.Gs=function(e){var t=null!==this.Ys(e);return t||gt("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.Ys=function(e){var t=this.Ls.get(e);return t&&t.ys?null:this.Ms.si(e)},e.prototype.zs=function(e){var t=this;this.Ls.set(e,new ot),this.Ms.ei(e).forEach((function(n){t.Qs(e,n,null)}))},e.prototype.Zs=function(e,t){return this.Ms.ei(e).has(t)},e}();function st(){return new Me(E.N)}function ct(){return new Me(E.N)}var ut={asc:"ASCENDING",desc:"DESCENDING"},lt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ht=function(){function e(e,t){this.ii=e,this.options=t}return e.prototype.ni=function(e){var t=void 0===e.code?f.UNKNOWN:je(e.code);return new d(t,e.message||"")},e.prototype.ri=function(e){return this.options.hi||T(e)?e:{value:e}},e.prototype.oi=function(e){var t;return T(t="object"==typeof e?e.value:e)?null:t},e.prototype._t=function(e){return{integerValue:""+e}},e.prototype.lt=function(e){if(this.options.hi){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A(e)?"-0":e}},e.prototype.ai=function(e){return D(e)?this._t(e):this.lt(e)},e.prototype.C=function(e){return this.options.hi?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.v=function(e){var t=G(e);return new _(t.seconds,t.nanos)},e.prototype.ui=function(e){return this.options.hi?e.toBase64():e.toUint8Array()},e.prototype.ci=function(e){return this.options.hi?(Ct(void 0===e||"string"==typeof e),x.fromBase64String(e||"")):(Ct(void 0===e||e instanceof Uint8Array),x.fromUint8Array(e||new Uint8Array))},e.prototype.toVersion=function(e){return this.C(e.C())},e.prototype.fromVersion=function(e){return Ct(!!e),b.v(this.v(e))},e.prototype._i=function(e,t){return this.li(t||this.ii).child("documents").child(e).j()},e.prototype.di=function(e){var t=k.K(e);return Ct(ft(t)),t},e.prototype.fi=function(e){return this._i(e.path)},e.prototype.Z=function(e){var t=this.di(e);return Ct(t.get(1)===this.ii.projectId),Ct(!t.get(3)&&!this.ii.database||t.get(3)===this.ii.database),new E(this.Ti(t))},e.prototype.Ei=function(e){return this._i(e)},e.prototype.Ii=function(e){var t=this.di(e);return 4===t.length?k.G:this.Ti(t)},Object.defineProperty(e.prototype,"wi",{get:function(){return new k(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),e.prototype.li=function(e){return new k(["projects",e.projectId,"databases",e.database])},e.prototype.Ti=function(e){return Ct(e.length>4&&"documents"===e.get(4)),e.$(5)},e.prototype.Ri=function(e,t){return{name:this.fi(e),fields:t.proto.mapValue.fields}},e.prototype.mi=function(e){return{name:this.fi(e.key),fields:e.Mt().mapValue.fields,updateTime:this.C(e.version.C())}},e.prototype.Ai=function(e,t){var n=this.Z(e.name),r=this.fromVersion(e.updateTime),i=new fe({mapValue:{fields:e.fields}});return new ye(n,r,i,{hasCommittedMutations:!!t})},e.prototype.Pi=function(e){Ct(!!e.found);var t=this.Z(e.found.name),n=this.fromVersion(e.found.updateTime),r=new fe({mapValue:{fields:e.found.fields}});return new ye(t,n,r,{})},e.prototype.Vi=function(e){Ct(!!e.missing),Ct(!!e.readTime);var t=this.Z(e.missing),n=this.fromVersion(e.readTime);return new _e(t,n)},e.prototype.gi=function(e){return"found"in e?this.Pi(e):"missing"in e?this.Vi(e):bt()},e.prototype.pi=function(e){var t;if("targetChange"in e){var n=this.yi(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=this.ci(e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&this.ni(o);t=new it(n,r,i,a||null)}else if("documentChange"in e){var s=e.documentChange,c=this.Z(s.document.name),u=this.fromVersion(s.document.updateTime),l=new fe({mapValue:{fields:s.document.fields}}),h=new ye(c,u,l,{});t=new nt(s.targetIds||[],s.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){var f=e.documentDelete,d=this.Z(f.document),p=f.readTime?this.fromVersion(f.readTime):b.min(),v=new _e(d,p);t=new nt([],f.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){var m=e.documentRemove,g=this.Z(m.document);t=new nt([],m.removedTargetIds||[],g,null)}else{if(!("filter"in e))return bt();var y=e.filter,_=new De(y.count||0);t=new rt(y.targetId,_)}return t},e.prototype.yi=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bt()},e.prototype.bi=function(e){if(!("targetChange"in e))return b.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?b.min():t.readTime?this.fromVersion(t.readTime):b.min()},e.prototype.vi=function(e){var t,n=this;if(e instanceof se)t={update:this.Ri(e.key,e.value)};else if(e instanceof le)t={delete:this.fi(e.key)};else if(e instanceof ce)t={update:this.Ri(e.key,e.data),updateMask:this.Si(e.Vt)};else if(e instanceof ue)t={transform:{document:this.fi(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.Di(e)}))}};else{if(!(e instanceof he))return bt();t={verify:this.fi(e.key)}}return e.Rt.Tt||(t.currentDocument=this.Ci(e.Rt)),t},e.prototype.Fi=function(e){var t=this,n=e.currentDocument?this.Ni(e.currentDocument):oe.ft();if(e.update){var r=this.Z(e.update.name),i=new fe({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=this.ki(e.updateMask);return new ce(r,i,o,n)}return new se(r,i,n)}if(e.delete){var a=this.Z(e.delete);return new le(a,n)}if(e.transform){var s=this.Z(e.transform.document),c=e.transform.fieldTransforms.map((function(e){return t.$i(e)}));return Ct(!0===n.exists),new ue(s,c)}if(e.verify){var u=this.Z(e.verify);return new he(u,n)}return bt()},e.prototype.Ci=function(e){return void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:bt()},e.prototype.Ni=function(e){return void 0!==e.updateTime?oe.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?oe.exists(e.exists):oe.ft()},e.prototype.Mi=function(e,t){var n=this.fromVersion(e.updateTime?e.updateTime:t);n.isEqual(b.min())&&(n=this.fromVersion(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new ie(n,r)},e.prototype.Li=function(e,t){var n=this;return e&&e.length>0?(Ct(void 0!==t),e.map((function(e){return n.Mi(e,t)}))):[]},e.prototype.Di=function(e){var t=e.transform;if(t instanceof J)return{fieldPath:e.field.j(),setToServerValue:"REQUEST_TIME"};if(t instanceof Z)return{fieldPath:e.field.j(),appendMissingElements:{values:t.elements}};if(t instanceof $)return{fieldPath:e.field.j(),removeAllFromArray:{values:t.elements}};if(t instanceof ee)return{fieldPath:e.field.j(),increment:t.ct};throw bt()},e.prototype.$i=function(e){var t=null;"setToServerValue"in e?(Ct("REQUEST_TIME"===e.setToServerValue),t=J.instance):"appendMissingElements"in e?t=new Z(e.appendMissingElements.values||[]):"removeAllFromArray"in e?t=new $(e.removeAllFromArray.values||[]):"increment"in e?t=new ee(this,e.increment):bt();var n=S.X(e.fieldPath);return new re(n,t)},e.prototype.xi=function(e){return{documents:[this.Ei(e.path)]}},e.prototype.Oi=function(e){return Ct(1===e.documents.length),ke.Wt(this.Ii(e.documents[0])).ee()},e.prototype.Bi=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(t.parent=this.Ei(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=this.Ei(n.M()),t.structuredQuery.from=[{collectionId:n.O()}]);var r=this.qi(e.filters);r&&(t.structuredQuery.where=r);var i=this.Ui(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.ri(e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.Qi(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.Qi(e.endAt)),t},e.prototype.Wi=function(e){var t=this.Ii(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ct(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.ji(n.where));var s=[];n.orderBy&&(s=this.Ki(n.orderBy));var c=null;n.limit&&(c=this.oi(n.limit));var u=null;n.startAt&&(u=this.Gi(n.startAt));var l=null;return n.endAt&&(l=this.Gi(n.endAt)),new ke(t,i,s,a,c,"F",u,l).ee()},e.prototype.zi=function(e){var t=this.Hi(e.Te);return null==t?null:{"goog-listen-tags":t}},e.prototype.Hi=function(e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}},e.prototype.ee=function(e){var t,n=e.target;return(t=n.xt()?{documents:this.xi(n)}:{query:this.Bi(n)}).targetId=e.targetId,e.resumeToken.rt()>0&&(t.resumeToken=this.ui(e.resumeToken)),t},e.prototype.qi=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof we?t.Yi(e):bt()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.ji=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.Ji(e)]:void 0!==e.fieldFilter?[this.Xi(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.ji(e)})).reduce((function(e,t){return e.concat(t)})):bt():[]},e.prototype.Ui=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.Zi(e)}))},e.prototype.Ki=function(e){var t=this;return e.map((function(e){return t.tn(e)}))},e.prototype.Qi=function(e){return{before:e.before,values:e.position}},e.prototype.Gi=function(e){return new xe(e.values||[],!!e.before)},e.prototype.en=function(e){return ut[e]},e.prototype.sn=function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},e.prototype.nn=function(e){return lt[e]},e.prototype.rn=function(e){switch(e){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return bt()}},e.prototype.hn=function(e){return{fieldPath:e.j()}},e.prototype.on=function(e){return S.X(e.fieldPath)},e.prototype.Zi=function(e){return{field:this.hn(e.field),direction:this.en(e.dir)}},e.prototype.tn=function(e){return new Te(this.on(e.field),this.sn(e.direction))},e.prototype.Xi=function(e){return we.create(this.on(e.fieldFilter.field),this.rn(e.fieldFilter.op),e.fieldFilter.value)},e.prototype.Yi=function(e){if("=="===e.op){if(Q(e.value))return{unaryFilter:{field:this.hn(e.field),op:"IS_NAN"}};if(K(e.value))return{unaryFilter:{field:this.hn(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(e.field),op:this.nn(e.op),value:e.value}}},e.prototype.Ji=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.on(e.unaryFilter.field);return we.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=this.on(e.unaryFilter.field);return we.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return bt()}},e.prototype.Si=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.j())})),{fieldPaths:t}},e.prototype.ki=function(e){return new ne((e.fieldPaths||[]).map((function(e){return S.X(e)})))},e}();function ft(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var dt=function(){function e(){}return e.an=function(t){e.platform&&bt(),e.platform=t},e.nt=function(){return e.platform||bt(),e.platform},e}(),pt=new a.Logger("@firebase/firestore");function vt(){return pt.logLevel}function mt(e){pt.logLevel=e}function gt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pt.logLevel<=a.LogLevel.DEBUG){var r=t.map(_t);pt.debug.apply(pt,i.__spreadArrays(["Firestore ("+l+"): "+e],r))}}function yt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pt.logLevel<=a.LogLevel.ERROR){var r=t.map(_t);pt.error.apply(pt,i.__spreadArrays(["Firestore ("+l+"): "+e],r))}}function _t(e){if("string"==typeof e)return e;var t=dt.nt();try{return t.un(e)}catch(t){return e}}function bt(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+e;throw yt(t),new Error(t)}function Ct(e,t){e||bt()}function kt(e,t){return e}var wt=function(){function e(){}return e.cn=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=dt.nt()._n(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function St(e,t){return e<t?-1:e>t?1:0}function Et(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function It(e){return e+"\0"}var Ot=function(e,t,n,r,i){this.ii=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},Pt=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.S=function(e){return St(this.projectId,e.projectId)||St(this.database,e.database)},e}(),xt=function(){function e(e){this.dn=e,this.fn={}}return e.prototype.get=function(e){var t=this.dn(e),n=this.fn[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.dn(e),r=this.fn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.fn[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.dn(e),n=this.fn[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.fn[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){O(this.fn,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.B=function(){return P(this.fn)},e}(),Tt=function(){function e(e,t,n,r){this.batchId=e,this.Tn=t,this.baseMutations=n,this.mutations=r}return e.prototype.at=function(e,t,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=o.at(t,r[i]))}return t},e.prototype.ot=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=i.ot(t,t,this.Tn))}for(var o=t,a=0,s=this.mutations;a<s.length;a++){var c=s[a];c.key.isEqual(e)&&(t=c.ot(t,o,this.Tn))}return t},e.prototype.In=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.ot(r.key,e.get(r.key));i&&(n=n.me(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ke())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Et(this.mutations,e.mutations,(function(e,t){return e.isEqual(t)}))&&Et(this.baseMutations,e.baseMutations,(function(e,t){return e.isEqual(t)}))},e}(),At=function(){function e(e,t,n,r,i){this.batch=e,this.wn=t,this.En=n,this.streamToken=r,this.Rn=i}return e.from=function(t,n,r,i){Ct(t.mutations.length===r.length);for(var o=We(),a=t.mutations,s=0;s<a.length;s++)o=o.me(a[s].key,r[s].version);return new e(t,n,r,i,o)},e}(),Dt=function(){function e(){this.mn=new Le(Rt.An),this.Pn=new Le(Rt.Vn)}return e.prototype.B=function(){return this.mn.B()},e.prototype.gn=function(e,t){var n=new Rt(e,t);this.mn=this.mn.add(n),this.Pn=this.Pn.add(n)},e.prototype.pn=function(e,t){var n=this;e.forEach((function(e){return n.gn(e,t)}))},e.prototype.yn=function(e,t){this.bn(new Rt(e,t))},e.prototype.vn=function(e,t){var n=this;e.forEach((function(e){return n.yn(e,t)}))},e.prototype.Sn=function(e){var t=this,n=E.EMPTY,r=new Rt(n,e),i=new Rt(n,e+1),o=[];return this.Pn.Ke([r,i],(function(e){t.bn(e),o.push(e.key)})),o},e.prototype.Dn=function(){var e=this;this.mn.forEach((function(t){return e.bn(t)}))},e.prototype.bn=function(e){this.mn=this.mn.delete(e),this.Pn=this.Pn.delete(e)},e.prototype.Cn=function(e){var t=E.EMPTY,n=new Rt(t,e),r=new Rt(t,e+1),i=Ke();return this.Pn.Ke([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.Fn=function(e){var t=new Rt(e,0),n=this.mn.ze(t);return null!==n&&e.isEqual(n.key)},e}(),Rt=function(){function e(e,t){this.key=e,this.Nn=t}return e.An=function(e,t){return E.N(e.key,t.key)||St(e.Nn,t.Nn)},e.Vn=function(e,t){return St(e.Nn,t.Nn)||E.N(e.key,t.key)},e}(),jt=function(){function e(e){var t=this;this.kn=null,this.$n=null,this.result=void 0,this.error=void 0,this.Mn=!1,this.Ln=!1,e((function(e){t.Mn=!0,t.result=e,t.kn&&t.kn(e)}),(function(e){t.Mn=!0,t.error=e,t.$n&&t.$n(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Ln&&bt(),this.Ln=!0,this.Mn?this.error?this.xn(n,this.error):this.On(t,this.result):new e((function(e,i){r.kn=function(n){r.On(t,n).next(e,i)},r.$n=function(t){r.xn(n,t).next(e,i)}}))},e.prototype.Bn=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.qn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.On=function(t,n){return t?this.qn((function(){return t(n)})):e.resolve(n)},e.prototype.xn=function(t,n){return t?this.qn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.Un=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.Qn=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.Un(r)},e}(),Mt=function(){function e(){this.Wn=new xt((function(e){return e.toString()})),this.jn=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.Kn},set:function(e){this.Kn=e},enumerable:!0,configurable:!0}),e.prototype.Gn=function(e,t){this.zn(),this.readTime=t,this.Wn.set(e.key,e)},e.prototype.Hn=function(e,t){this.zn(),t&&(this.readTime=t),this.Wn.set(e,null)},e.prototype.Yn=function(e,t){this.zn();var n=this.Wn.get(t);return void 0!==n?jt.resolve(n):this.Jn(e,t)},e.prototype.getEntries=function(e,t){return this.Xn(e,t)},e.prototype.apply=function(e){return this.zn(),this.jn=!0,this.Zn(e)},e.prototype.zn=function(){},e}(),Nt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ft=function(){function e(){this.tr=[]}return e.prototype.er=function(e){this.tr.push(e)},e.prototype.sr=function(){this.tr.forEach((function(e){return e()}))},e}(),Lt=function(){function e(e,t,n){this.ir=e,this.nr=t,this.rr=n}return e.prototype.hr=function(e,t){var n=this;return this.nr.or(e,t).next((function(r){return n.ar(e,t,r)}))},e.prototype.ar=function(e,t,n){return this.ir.Yn(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].ot(t,e);return e}))},e.prototype.ur=function(e,t,n){var r=Ge();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].ot(e,t);r=r.me(e,t)})),r},e.prototype.cr=function(e,t){var n=this;return this.ir.getEntries(e,t).next((function(t){return n._r(e,t)}))},e.prototype._r=function(e,t){var n=this;return this.nr.lr(e,t).next((function(r){var i=n.ur(e,t,r),o=Be();return i.forEach((function(e,t){t||(t=new _e(e,b.min())),o=o.me(e,t)})),o}))},e.prototype.dr=function(e,t,n){return t.xt()?this.Tr(e,t.path):t._e()?this.Er(e,t,n):this.Ir(e,t,n)},e.prototype.Tr=function(e,t){return this.hr(e,new E(t)).next((function(e){var t=ze();return e instanceof ye&&(t=t.me(e.key,e)),t}))},e.prototype.Er=function(e,t,n){var r=this,i=t.collectionGroup,o=ze();return this.rr.wr(e,i).next((function(a){return jt.forEach(a,(function(a){var s=t.Zt(a.child(i));return r.Ir(e,s,n).next((function(e){e.forEach((function(e,t){o=o.me(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Ir=function(e,t,n){var r,i,o=this;return this.ir.dr(e,t,n).next((function(n){return r=n,o.nr.Rr(e,t)})).next((function(t){return o.mr(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var c=s[a],u=c.key,l=r.get(u),h=c.ot(l,l,o.Tn);r=h instanceof ye?r.me(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},e.prototype.mr=function(e,t,n){for(var r=Ke(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var c=s[a];c instanceof ce&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.ir.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof ye&&(u=u.me(e,t))})),u}))},e}(),Vt=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ar=n,this.Pr=r}return e.Vr=function(t,n){for(var r=Ke(),i=Ke(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Ut=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.gr=function(e){return n.pr(e)},this.yr=function(e){return t.br(e)})}return e.prototype.pr=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.yr&&this.yr(e),e},e}();Ut.vr=-1;var Bt=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Gt=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Sr=e,this.Dr=t,this.Cr=n,this.Fr=r,this.Nr=i,this.kr=0,this.$r=null,this.Mr=Date.now(),this.reset()}return e.prototype.reset=function(){this.kr=0},e.prototype.Lr=function(){this.kr=this.Nr},e.prototype.xr=function(e){var t=this;this.cancel();var n=Math.floor(this.kr+this.Or()),r=Math.max(0,Date.now()-this.Mr),i=Math.max(0,n-r);i>0&&gt("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.kr+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.$r=this.Sr.Br(this.Dr,i,(function(){return t.Mr=Date.now(),e()})),this.kr*=this.Fr,this.kr<this.Cr&&(this.kr=this.Cr),this.kr>this.Nr&&(this.kr=this.Nr)},e.prototype.cancel=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},e.prototype.Or=function(){return(Math.random()-.5)*this.kr},e}(),Ht=function(){function e(e,t,n,r,i){this.qr=e,this.Dr=t,this.Ur=n,this.op=r,this.Qr=i,this.Wr=new Bt,this.then=this.Wr.promise.then.bind(this.Wr.promise),this.catch=this.Wr.promise.catch.bind(this.Wr.promise),this.Wr.promise.catch((function(e){}))}return e.jr=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.Kr=setTimeout((function(){return t.Gr()}),e)},e.prototype.zr=function(){return this.Gr()},e.prototype.cancel=function(e){null!==this.Kr&&(this.clearTimeout(),this.Wr.reject(new d(f.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.Gr=function(){var e=this;this.qr.Hr((function(){return null!==e.Kr?(e.clearTimeout(),e.op().then((function(t){return e.Wr.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.Kr&&(this.Qr(this),clearTimeout(this.Kr),this.Kr=null)},e}(),zt=function(){function e(){var e=this;this.Yr=Promise.resolve(),this.Jr=Promise.resolve(),this.Xr=!1,this.Zr=[],this.th=null,this.eh=!1,this.sh=[],this.ih=new Gt(this,"async_queue_retry"),this.nh=function(){e.rh("async_queue_retry")};var t=dt.nt().window;t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.nh)}return Object.defineProperty(e.prototype,"hh",{get:function(){return this.Xr},enumerable:!0,configurable:!0}),e.prototype.Hr=function(e){this.enqueue(e)},e.prototype.oh=function(e){this.ah(),this.uh(e)},e.prototype._h=function(e){return this.ah(),this.uh(e)},e.prototype.lh=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return this.ah(),this.Xr?[3,2]:(this.Xr=!0,(t=dt.nt().window)&&t.removeEventListener("visibilitychange",this.nh),[4,this._h(e)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.ah(),this.Xr?new Promise((function(e){})):this.uh(e)},e.prototype.dh=function(e){var t=this;this.ah(),this.Xr||(this.Jr=this.Jr.then((function(){var n=new Bt;return t.Hr((function r(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e()];case 1:return i.sent(),n.resolve(),this.ih.reset(),[3,3];case 2:if("IndexedDbTransactionError"!==(t=i.sent()).name)throw n.resolve(),t;return gt("AsyncQueue","Operation failed with retryable error: "+t),this.ih.xr(r),[3,3];case 3:return[2]}}))}))})),n.promise})))},e.prototype.uh=function(e){var t=this,n=this.Yr.then((function(){return t.eh=!0,e().catch((function(e){throw t.th=e,t.eh=!1,yt("INTERNAL UNHANDLED ERROR: ",e.stack||e.message||""),e})).then((function(e){return t.eh=!1,e}))}));return this.Yr=n,n},e.prototype.Br=function(e,t,n){var r=this;this.ah(),this.sh.indexOf(e)>-1&&(t=0);var i=Ht.jr(this,e,t,n,(function(e){return r.fh(e)}));return this.Zr.push(i),i},e.prototype.ah=function(){this.th&&bt()},e.prototype.Th=function(){},e.prototype.Eh=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return[4,e=this.Yr];case 1:t.sent(),t.label=2;case 2:if(e!==this.Yr)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Ih=function(e){for(var t=0,n=this.Zr;t<n.length;t++)if(n[t].Dr===e)return!0;return!1},e.prototype.rh=function(e){var t=this;return this.Eh().then((function(){t.Zr.sort((function(e,t){return e.Ur-t.Ur}));for(var n=0,r=t.Zr;n<r.length;n++){var i=r[n];if(i.zr(),"all"!==e&&i.Dr===e)break}return t.Eh()}))},e.prototype.wh=function(e){this.sh.push(e)},e.prototype.fh=function(e){var t=this.Zr.indexOf(e);this.Zr.splice(t,1)},e}();function qt(e,t){var n=e[1],r=t[1],i=St(e[0],t[0]);return 0===i?St(n,r):i}var Wt=function(){function e(e){this.Rh=e,this.buffer=new Le(qt),this.mh=0}return e.prototype.Ah=function(){return++this.mh},e.prototype.Ph=function(e){var t=[e,this.Ah()];if(this.buffer.size<this.Rh)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();qt(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Yt={Vh:!1,gh:0,ph:0,yh:0},Kt=function(){function e(e,t,n){this.bh=e,this.vh=t,this.Sh=n}return e.Dh=function(t){return new e(t,e.Ch,e.Fh)},e}();Kt.Nh=-1,Kt.kh=1048576,Kt.$h=41943040,Kt.Ch=10,Kt.Fh=1e3,Kt.Mh=new Kt(Kt.$h,Kt.Ch,Kt.Fh),Kt.DISABLED=new Kt(Kt.Nh,0,0);var Qt=function(){function e(e,t){this.Lh=e,this.qr=t,this.xh=!1,this.Oh=null}return e.prototype.start=function(e){this.Lh.Bh.bh!==Kt.Nh&&this.qh(e)},e.prototype.stop=function(){this.Oh&&(this.Oh.cancel(),this.Oh=null)},Object.defineProperty(e.prototype,"Uh",{get:function(){return null!==this.Oh},enumerable:!0,configurable:!0}),e.prototype.qh=function(e){var t=this,n=this.xh?3e5:6e4;gt("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Oh=this.qr.Br("lru_garbage_collection",n,(function(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:this.Oh=null,this.xh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.Qh(this.Lh)];case 2:return n.sent(),[3,7];case 3:return"IndexedDbTransactionError"!==(t=n.sent()).name?[3,4]:(gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]);case 4:return[4,or(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.qh(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Xt=function(){function e(e,t){this.Wh=e,this.Bh=t}return e.prototype.jh=function(e,t){return this.Wh.Kh(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.Gh=function(e,t){var n=this;if(0===t)return jt.resolve(Ut.vr);var r=new Wt(t);return this.Wh.js(e,(function(e){return r.Ph(e.sequenceNumber)})).next((function(){return n.Wh.zh(e,(function(e){return r.Ph(e)}))})).next((function(){return r.maxValue}))},e.prototype.Hh=function(e,t,n){return this.Wh.Hh(e,t,n)},e.prototype.Yh=function(e,t){return this.Wh.Yh(e,t)},e.prototype.Jh=function(e,t){var n=this;return this.Bh.bh===Kt.Nh?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),jt.resolve(Yt)):this.Xh(e).next((function(r){return r<n.Bh.bh?(gt("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.Bh.bh),Yt):n.Zh(e,t)}))},e.prototype.Xh=function(e){return this.Wh.Xh(e)},e.prototype.Zh=function(e,t){var n,r,i,o,s,c,u,l=this,h=Date.now();return this.jh(e,this.Bh.vh).next((function(t){return t>l.Bh.Sh?(gt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.Bh.Sh+" from "+t),r=l.Bh.Sh):r=t,o=Date.now(),l.Gh(e,r)})).next((function(r){return n=r,s=Date.now(),l.Hh(e,n,t)})).next((function(t){return i=t,c=Date.now(),l.Yh(e,n)})).next((function(e){return u=Date.now(),vt()<=a.LogLevel.DEBUG&&gt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(c-s)+"ms\n\tRemoved "+e+" documents in "+(u-c)+"ms\nTotal Duration: "+(u-h)+"ms"),jt.resolve({Vh:!0,gh:r,ph:i,yh:e})}))},e}();function Jt(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$t(t)),t=Zt(e.get(n),t);return $t(t)}function Zt(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function $t(e){return e+"\x01\x01"}function en(e){var t=e.length;if(Ct(t>=2),2===t)return Ct("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),k.G;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&bt(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),c=void 0;0===i.length?c=s:(c=i+=s,i=""),r.push(c);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:bt()}o=a+2}return new k(r)}var tn=function(){function e(t){this.db=t,12.2===e.to(s.getUA())&&yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.eo=function(t,n,r){return gt("SimpleDb","Opening database:",t),new jt((function(i,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){i(new e(t.target.result))},a.onblocked=function(){o(new d(f.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var t=e.target.error;o("VersionError"===t.name?new d(f.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):t)},a.onupgradeneeded=function(e){gt("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion),r.createOrUpgrade(e.target.result,a.transaction,e.oldVersion,xn).next((function(){gt("SimpleDb","Database upgrade to version "+xn+" complete")}))}})).Bn()},e.delete=function(e){return gt("SimpleDb","Removing database:",e),sn(window.indexedDB.deleteDatabase(e)).Bn()},e.so=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(e.io())return!0;if(void 0===window.navigator)return!1;var t=s.getUA(),n=e.to(t),r=0<n&&n<10,i=e.no(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.io=function(){var e;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(e=__PRIVATE_process.__PRIVATE_env)||void 0===e?void 0:e.ro)},e.ho=function(e,t){return e.store(t)},e.to=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.no=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.oo=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,c;return i.__generator(this,(function(u){switch(u.label){case 0:r="readonly"===e,o=0,a=function(){var e,a,c,u,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,e=on.open(s.db,r?"readonly":"readwrite",t),i.label=1;case 1:return i.trys.push([1,3,,4]),a=n(e).catch((function(t){return e.abort(t),jt.reject(t)})).Bn(),c={},a.catch((function(){})),[4,e.ao];case 2:return[2,(c.value=(i.sent(),a),c)];case 3:return gt("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(u=i.sent()).message,l="FirebaseError"!==u.name&&o<3),l?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},s=this,u.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),nn=function(){function e(e){this.uo=e,this.co=!1,this._o=null}return Object.defineProperty(e.prototype,"Mn",{get:function(){return this.co},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lo",{get:function(){return this._o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.uo=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.co=!0},e.prototype.do=function(e){this._o=e},e.prototype.delete=function(){return sn(this.uo.delete())},e}(),rn=function(e){function t(t){var n=this;return(n=e.call(this,f.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",n}return i.__extends(t,e),t}(d),on=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.fo=new Bt,this.transaction.oncomplete=function(){t.fo.resolve()},this.transaction.onabort=function(){e.error?t.fo.reject(new rn(e.error)):t.fo.resolve()},this.transaction.onerror=function(e){var n=un(e.target.error);t.fo.reject(new rn(n))}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"ao",{get:function(){return this.fo.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.fo.reject(e),this.aborted||(gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new an(t)},e}(),an=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(gt("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sn(n)},e.prototype.add=function(e){return gt("SimpleDb","ADD",this.store.name,e,e),sn(this.store.add(e))},e.prototype.get=function(e){var t=this;return sn(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gt("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return gt("SimpleDb","DELETE",this.store.name,e),sn(this.store.delete(e))},e.prototype.count=function(){return gt("SimpleDb","COUNT",this.store.name),sn(this.store.count())},e.prototype.To=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Eo(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Io=function(e,t){gt("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.wo=!1;var r=this.cursor(n);return this.Eo(r,(function(e,t,n){return n.delete()}))},e.prototype.Ro=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Eo(r,t)},e.prototype.mo=function(e){var t=this.cursor({});return new jt((function(n,r){t.onerror=function(e){var t=un(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Eo=function(e,t){var n=[];return new jt((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new nn(i),a=t(i.primaryKey,i.value,o);if(a instanceof jt){var s=a.catch((function(e){return o.done(),jt.reject(e)}));n.push(s)}o.Mn?r():null===o.lo?i.continue():i.continue(o.lo)}else r()}})).next((function(){return jt.Un(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.wo?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function sn(e){return new jt((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=un(e.target.error);n(t)}}))}var cn=!1;function un(e){var t=tn.to(s.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new d("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return cn||(cn=!0,setTimeout((function(){throw r}),0)),r}}return e}var ln=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.rr=n,this.Ao=r,this.Po={}}return e.Vo=function(t,n,r,i){return Ct(""!==t.uid),new e(t.t()?t.uid:"",n,r,i)},e.prototype.po=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dn(e).Ro({index:jn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.yo=function(e,t,n){return this.bo(e).next((function(t){return t.lastStreamToken=n.toBase64(),vn(e).put(t)}))},e.prototype.vo=function(e){return this.bo(e).next((function(e){return x.fromBase64String(e.lastStreamToken)}))},e.prototype.So=function(e,t){return this.bo(e).next((function(n){return n.lastStreamToken=t.toBase64(),vn(e).put(n)}))},e.prototype.Do=function(e,t,n,r){var i=this,o=pn(e),a=dn(e);return a.add({}).next((function(s){Ct("number"==typeof s);for(var c=new Tt(s,t,n,r),u=i.serializer.Co(i.userId,c),l=[],h=new Le((function(e,t){return St(e.j(),t.j())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Mn.key(i.userId,p.key.path,s);h=h.add(p.key.path.M()),l.push(a.put(u)),l.push(o.put(v,Mn.PLACEHOLDER))}return h.forEach((function(t){l.push(i.rr.Fo(e,t))})),e.er((function(){i.Po[s]=c.keys()})),jt.Un(l).next((function(){return c}))}))},e.prototype.No=function(e,t){var n=this;return dn(e).get(t).next((function(e){return e?(Ct(e.userId===n.userId),n.serializer.ko(e)):null}))},e.prototype.$o=function(e,t){var n=this;return this.Po[t]?jt.resolve(this.Po[t]):this.No(e,t).next((function(e){if(e){var r=e.keys();return n.Po[t]=r,r}return null}))},e.prototype.Mo=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return dn(e).Ro({index:jn.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Ct(t.batchId>=r),o=n.serializer.ko(t)),i.done()})).next((function(){return o}))},e.prototype.Lo=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dn(e).Ro({index:jn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.xo=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dn(e).To(jn.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.ko(e)}))}))},e.prototype.or=function(e,t){var n=this,r=Mn.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return pn(e).Ro({range:i},(function(r,i,a){var s=r[0],c=r[2],u=en(r[1]);if(s===n.userId&&t.path.isEqual(u))return dn(e).get(c).next((function(e){if(!e)throw bt();Ct(e.userId===n.userId),o.push(n.serializer.ko(e))}));a.done()})).next((function(){return o}))},e.prototype.lr=function(e,t){var n=this,r=new Le(St),i=[];return t.forEach((function(t){var o=Mn.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=pn(e).Ro({range:a},(function(e,i,o){var a=e[0],s=e[2],c=en(e[1]);a===n.userId&&t.path.isEqual(c)?r=r.add(s):o.done()}));i.push(s)})),jt.Un(i).next((function(){return n.Oo(e,r)}))},e.prototype.Rr=function(e,t){var n=this,r=t.path,i=r.length+1,o=Mn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Le(St);return pn(e).Ro({range:a},(function(e,t,o){var a=e[0],c=e[2],u=en(e[1]);a===n.userId&&r.q(u)?u.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Oo(e,s)}))},e.prototype.Oo=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(dn(e).get(t).next((function(e){if(null===e)throw bt();Ct(e.userId===n.userId),r.push(n.serializer.ko(e))})))})),jt.Un(i).next((function(){return r}))},e.prototype.Bo=function(e,t){var n=this;return fn(e.qo,this.userId,t).next((function(r){return e.er((function(){n.Uo(t.batchId)})),jt.forEach(r,(function(t){return n.Ao.Qo(e,t)}))}))},e.prototype.Uo=function(e){delete this.Po[e]},e.prototype.Wo=function(e){var t=this;return this.po(e).next((function(n){if(!n)return jt.resolve();var r=IDBKeyRange.lowerBound(Mn.prefixForUser(t.userId)),i=[];return pn(e).Ro({range:r},(function(e,n,r){if(e[0]===t.userId){var o=en(e[1]);i.push(o)}else r.done()})).next((function(){Ct(0===i.length)}))}))},e.prototype.Fn=function(e,t){return hn(e,this.userId,t)},e.prototype.bo=function(e){var t=this;return vn(e).get(this.userId).next((function(e){return e||new Rn(t.userId,-1,"")}))},e}();function hn(e,t,n){var r=Mn.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return pn(e).Ro({range:o,wo:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function fn(e,t,n){var r=e.store(jn.store),i=e.store(Mn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,c=r.Ro({range:a},(function(e,t,n){return s++,n.delete()}));o.push(c.next((function(){Ct(1===s)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Mn.key(t,f.key.path,n.batchId);o.push(i.delete(d)),u.push(f.key)}return jt.Un(o).next((function(){return u}))}function dn(e){return Zn.ho(e,jn.store)}function pn(e){return Zn.ho(e,Mn.store)}function vn(e){return Zn.ho(e,Rn.store)}var mn=function(){function e(e){this.jo=e}return e.prototype.next=function(){return this.jo+=2,this.jo},e.Ko=function(){return new e(0)},e.Go=function(){return new e(-1)},e}(),gn=function(){function e(e,t){this.Ao=e,this.serializer=t}return e.prototype.zo=function(e){var t=this;return this.Ho(e).next((function(n){var r=new mn(n.highestTargetId);return n.highestTargetId=r.next(),t.Yo(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.Jo=function(e){return this.Ho(e).next((function(e){return b.v(new _(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.Xo=function(e){return bn(e.qo)},e.prototype.Zo=function(e,t,n){var r=this;return this.Ho(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.C()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Yo(e,i)}))},e.prototype.ta=function(e,t){var n=this;return this.ea(e,t).next((function(){return n.Ho(e).next((function(r){return r.targetCount+=1,n.sa(t,r),n.Yo(e,r)}))}))},e.prototype.ia=function(e,t){return this.ea(e,t)},e.prototype.na=function(e,t){var n=this;return this.ra(e,t.targetId).next((function(){return yn(e).delete(t.targetId)})).next((function(){return n.Ho(e)})).next((function(t){return Ct(t.targetCount>0),t.targetCount-=1,n.Yo(e,t)}))},e.prototype.Hh=function(e,t,n){var r=this,i=0,o=[];return yn(e).Ro((function(a,s){var c=r.serializer.ha(s);c.sequenceNumber<=t&&null===n.get(c.targetId)&&(i++,o.push(r.na(e,c)))})).next((function(){return jt.Un(o)})).next((function(){return i}))},e.prototype.js=function(e,t){var n=this;return yn(e).Ro((function(e,r){var i=n.serializer.ha(r);t(i)}))},e.prototype.Ho=function(e){return _n(e.qo)},e.prototype.Yo=function(e,t){return(n=e,Zn.ho(n,Gn.store)).put(Gn.key,t);var n},e.prototype.ea=function(e,t){return yn(e).put(this.serializer.oa(t))},e.prototype.sa=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.aa=function(e){return this.Ho(e).next((function(e){return e.targetCount}))},e.prototype.ua=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return yn(e).Ro({range:i,index:Un.queryTargetsIndexName},(function(e,r,i){var a=n.serializer.ha(r);t.isEqual(a.target)&&(o=a,i.done())})).next((function(){return o}))},e.prototype.ca=function(e,t,n){var r=this,i=[],o=Cn(e);return t.forEach((function(t){var a=Jt(t.path);i.push(o.put(new Bn(n,a))),i.push(r.Ao.gn(e,t))})),jt.Un(i)},e.prototype._a=function(e,t,n){var r=this,i=Cn(e);return jt.forEach(t,(function(t){var o=Jt(t.path);return jt.Un([i.delete([n,o]),r.Ao.yn(e,t)])}))},e.prototype.ra=function(e,t){var n=Cn(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.la=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Cn(e),i=Ke();return r.Ro({range:n,wo:!0},(function(e,t,n){var r=en(e[1]),o=new E(r);i=i.add(o)})).next((function(){return i}))},e.prototype.Fn=function(e,t){var n=Jt(t.path),r=IDBKeyRange.bound([n],[It(n)],!1,!0),i=0;return Cn(e).Ro({index:Bn.documentTargetsIndex,wo:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.si=function(e,t){var n=this;return yn(e).get(t).next((function(e){return e?n.serializer.ha(e):null}))},e}();function yn(e){return Zn.ho(e,Un.store)}function _n(e){return tn.ho(e,Gn.store).get(Gn.key).next((function(e){return Ct(null!==e),e}))}function bn(e){return _n(e).next((function(e){return e.highestListenSequenceNumber}))}function Cn(e){return Zn.ho(e,Bn.store)}var kn=function(){function e(e,t){this.serializer=e,this.rr=t}return e.prototype.Gn=function(e,t,n){return Sn(e).put(En(t),n)},e.prototype.Hn=function(e,t){var n=Sn(e),r=En(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.da(e,r)}))},e.prototype.Yn=function(e,t){var n=this;return Sn(e).get(En(t)).next((function(e){return n.fa(e)}))},e.prototype.Ta=function(e,t){var n=this;return Sn(e).get(En(t)).next((function(e){var t=n.fa(e);return t?{Ea:t,size:In(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Ge();return this.Ia(e,t,(function(e,t){var i=n.fa(t);r=r.me(e,i)})).next((function(){return r}))},e.prototype.wa=function(e,t){var n=this,r=Ge(),i=new Me(E.N);return this.Ia(e,t,(function(e,t){var o=n.fa(t);o?(r=r.me(e,o),i=i.me(e,In(t))):(r=r.me(e,null),i=i.me(e,0))})).next((function(){return{Ra:r,ma:i}}))},e.prototype.Ia=function(e,t,n){if(t.B())return jt.resolve();var r=IDBKeyRange.bound(t.first().path.W(),t.last().path.W()),i=t.be(),o=i.Ne();return Sn(e).Ro({range:r},(function(e,t,r){for(var a=E.st(e);o&&E.N(o,a)<0;)n(o,null),o=i.Ne();o&&o.isEqual(a)&&(n(o,t),o=i.ke()?i.Ne():null),o?r.do(o.path.W()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ke()?i.Ne():null}))},e.prototype.dr=function(e,t,n){var r=this,i=ze(),o=t.path.length+1,a={};if(n.isEqual(b.min())){var s=t.path.W();a.range=IDBKeyRange.lowerBound(s)}else{var c=t.path.W(),u=this.serializer.Aa(n);a.range=IDBKeyRange.lowerBound([c,u],!0),a.index=Ln.collectionReadTimeIndex}return Sn(e).Ro(a,(function(e,n,a){if(e.length===o){var s=r.serializer.Pa(n);t.path.q(s.key.path)?s instanceof ye&&t.matches(s)&&(i=i.me(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.Va=function(e,t){var n=this,r=Be(),i=this.serializer.Aa(t),o=Sn(e),a=IDBKeyRange.lowerBound(i,!0);return o.Ro({index:Ln.readTimeIndex,range:a},(function(e,t){var o=n.serializer.Pa(t);r=r.me(o.key,o),i=t.readTime})).next((function(){return{ga:r,readTime:n.serializer.pa(i)}}))},e.prototype.ya=function(e){var t=this,n=Sn(e),r=b.min();return n.Ro({index:Ln.readTimeIndex,reverse:!0},(function(e,n,i){n.readTime&&(r=t.serializer.pa(n.readTime)),i.done()})).next((function(){return r}))},e.prototype.ba=function(t){return new e.va(this,!!t&&t.Sa)},e.prototype.Da=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return wn(e).get(Vn.key).next((function(e){return Ct(!!e),e}))},e.prototype.da=function(e,t){return wn(e).put(Vn.key,t)},e.prototype.fa=function(e){if(e){var t=this.serializer.Pa(e);return t instanceof _e&&t.version.isEqual(b.min())?null:t}return null},e}();function wn(e){return Zn.ho(e,Vn.store)}function Sn(e){return Zn.ho(e,Ln.store)}function En(e){return e.path.W()}function In(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw bt();t=e.noDocument}return JSON.stringify(t).length}kn.va=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ca=t,r.Sa=n,r.Fa=new xt((function(e){return e.toString()})),r}return i.__extends(t,e),t.prototype.Zn=function(e){var t=this,n=[],r=0,i=new Le((function(e,t){return St(e.j(),t.j())}));return this.Wn.forEach((function(o,a){var s=t.Fa.get(o);if(a){var c=t.Ca.serializer.Na(a,t.readTime);i=i.add(o.path.M());var u=In(c);r+=u-s,n.push(t.Ca.Gn(e,o,c))}else if(r-=s,t.Sa){var l=t.Ca.serializer.Na(new _e(o,b.min()),t.readTime);n.push(t.Ca.Gn(e,o,l))}else n.push(t.Ca.Hn(e,o))})),i.forEach((function(r){n.push(t.Ca.rr.Fo(e,r))})),n.push(this.Ca.updateMetadata(e,r)),jt.Un(n)},t.prototype.Jn=function(e,t){var n=this;return this.Ca.Ta(e,t).next((function(e){return null===e?(n.Fa.set(t,0),null):(n.Fa.set(t,e.size),e.Ea)}))},t.prototype.Xn=function(e,t){var n=this;return this.Ca.wa(e,t).next((function(e){var t=e.Ra;return e.ma.forEach((function(e,t){n.Fa.set(e,t)})),t}))},t}(Mt);var On=function(){function e(){this.ka=new Pn}return e.prototype.Fo=function(e,t){return this.ka.add(t),jt.resolve()},e.prototype.wr=function(e,t){return jt.resolve(this.ka.getEntries(t))},e}(),Pn=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.O(),n=e.M(),r=this.index[t]||new Le(k.N),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.O(),n=e.M(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Le(k.N)).W()},e}(),xn=10,Tn=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;Ct(n<r&&n>=0&&r<=xn);var o=new on(t);n<1&&r>=1&&(function(e){e.createObjectStore(Dn.store)}(e),function(e){e.createObjectStore(Rn.store,{keyPath:Rn.keyPath}),e.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Mn.store)}(e),zn(e),function(e){e.createObjectStore(Ln.store)}(e));var a=jt.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Bn.store),e.deleteObjectStore(Un.store),e.deleteObjectStore(Gn.store)}(e),zn(e)),a=a.next((function(){return function(e){var t=e.store(Gn.store),n=new Gn(0,0,b.min().C(),0);return t.put(Gn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(jn.store).To().next((function(n){e.deleteObjectStore(jn.store),e.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0});var r=t.store(jn.store),i=n.map((function(e){return r.put(e)}));return jt.Un(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(qn.store,{keyPath:qn.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Vn.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ln.store);t.createIndex(Ln.readTimeIndex,Ln.readTimeIndexPath,{unique:!1}),t.createIndex(Ln.collectionReadTimeIndex,Ln.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Ln.store).Ro((function(e,n){t+=In(n)})).next((function(){var n=new Vn(t);return e.store(Vn.store).put(Vn.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Rn.store),r=e.store(jn.store);return n.To().next((function(n){return jt.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.To(jn.userMutationsIndex,i).next((function(r){return jt.forEach(r,(function(r){Ct(r.userId===n.userId);var i=t.serializer.ko(r);return fn(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(Bn.store),n=e.store(Ln.store);return bn(e).next((function(e){var r=[];return n.Ro((function(n,i){var o=new k(n),a=function(e){return[0,Jt(e)]}(o);r.push(t.get(a).next((function(n){return n?jt.resolve():function(n){return t.put(new Bn(0,Jt(n),e))}(o)})))})).next((function(){return jt.Un(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Hn.store,{keyPath:Hn.keyPath});var n=t.store(Hn.store),r=new Pn,i=function(e){if(r.add(e)){var t=e.O(),i=e.M();return n.put({collectionId:t,parent:Jt(i)})}};return t.store(Ln.store).Ro({wo:!0},(function(e,t){var n=new k(e);return i(n.M())})).next((function(){return t.store(Mn.store).Ro({wo:!0},(function(e,t){var n=en(e[1]);return i(n.M())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(Un.store);return n.Ro((function(e,r){var i=t.serializer.ha(r),o=t.serializer.oa(i);return n.put(o)}))},e}(),An=function(e,t){this.seconds=e,this.nanoseconds=t},Dn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Dn.store="owner",Dn.key="owner";var Rn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Rn.store="mutationQueues",Rn.keyPath="userId";var jn=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};jn.store="mutations",jn.keyPath="batchId",jn.userMutationsIndex="userMutationsIndex",jn.userMutationsKeyPath=["userId","batchId"];var Mn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Jt(t)]},e.key=function(e,t,n){return[e,Jt(t),n]},e}();Mn.store="documentMutations",Mn.PLACEHOLDER=new Mn;var Nn=function(e,t){this.path=e,this.readTime=t},Fn=function(e,t){this.path=e,this.version=t},Ln=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ln.store="remoteDocuments",Ln.readTimeIndex="readTimeIndex",Ln.readTimeIndexPath="readTime",Ln.collectionReadTimeIndex="collectionReadTimeIndex",Ln.collectionReadTimeIndexPath=["parentPath","readTime"];var Vn=function(e){this.byteSize=e};Vn.store="remoteDocumentGlobal",Vn.key="remoteDocumentGlobalKey";var Un=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Un.store="targets",Un.keyPath="targetId",Un.queryTargetsIndexName="queryTargetsIndex",Un.queryTargetsKeyPath=["canonicalId","targetId"];var Bn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Bn.store="targetDocuments",Bn.keyPath=["targetId","path"],Bn.documentTargetsIndex="documentTargetsIndex",Bn.documentTargetsKeyPath=["path","targetId"];var Gn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Gn.key="targetGlobalKey",Gn.store="targetGlobal";var Hn=function(e,t){this.collectionId=e,this.parent=t};function zn(e){e.createObjectStore(Bn.store,{keyPath:Bn.keyPath}).createIndex(Bn.documentTargetsIndex,Bn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Un.store,{keyPath:Un.keyPath}).createIndex(Un.queryTargetsIndexName,Un.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Gn.store)}Hn.store="collectionParents",Hn.keyPath=["collectionId","parent"];var qn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};qn.store="clientMetadata",qn.keyPath="clientId";var Wn=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Rn.store,jn.store,Mn.store,Ln.store,Un.store,Dn.store,Gn.store,Bn.store],[qn.store]),[Vn.store]),[Hn.store]),Yn=function(){function e(){this.$a=new Pn}return e.prototype.Fo=function(e,t){var n=this;if(!this.$a.has(t)){var r=t.O(),i=t.M();e.er((function(){n.$a.add(t)}));var o={collectionId:r,parent:Jt(i)};return Kn(e).put(o)}return jt.resolve()},e.prototype.wr=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[It(t),""],!1,!0);return Kn(e).To(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(en(o.parent))}return n}))},e}();function Kn(e){return Zn.ho(e,Hn.store)}var Qn=function(){function e(e){this.Ma=e}return e.prototype.Pa=function(e){if(e.document)return this.Ma.Ai(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=E.st(e.noDocument.path),n=this.La(e.noDocument.readTime);return new _e(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=E.st(e.unknownDocument.path),i=this.La(e.unknownDocument.version);return new be(r,i)}return bt()},e.prototype.Na=function(e,t){var n=this.Aa(t),r=e.key.path.M().W();if(e instanceof ye){var i=this.Ma.mi(e);return new Ln(null,null,i,e.hasCommittedMutations,n,r)}if(e instanceof _e){var o=e.key.path.W(),a=this.xa(e.version),s=e.hasCommittedMutations;return new Ln(null,new Nn(o,a),null,s,n,r)}if(e instanceof be){var c=e.key.path.W(),u=this.xa(e.version);return new Ln(new Fn(c,u),null,null,!0,n,r)}return bt()},e.prototype.Aa=function(e){var t=e.C();return[t.seconds,t.nanoseconds]},e.prototype.pa=function(e){var t=new _(e[0],e[1]);return b.v(t)},e.prototype.xa=function(e){var t=e.C();return new An(t.seconds,t.nanoseconds)},e.prototype.La=function(e){var t=new _(e.seconds,e.nanoseconds);return b.v(t)},e.prototype.Co=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.Ma.vi(e)})),i=t.mutations.map((function(e){return n.Ma.vi(e)}));return new jn(e,t.batchId,t.Tn.toMillis(),r,i)},e.prototype.ko=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.Ma.Fi(e)})),r=e.mutations.map((function(e){return t.Ma.Fi(e)})),i=_.fromMillis(e.localWriteTimeMs);return new Tt(e.batchId,i,n,r)},e.prototype.ha=function(e){var t,n=this.La(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?this.La(e.lastLimboFreeSnapshotVersion):b.min();return t=void 0!==e.query.documents?this.Ma.Oi(e.query):this.Ma.Wi(e.query),new Ae(t,e.targetId,0,e.lastListenSequenceNumber,n,r,x.fromBase64String(e.resumeToken))},e.prototype.oa=function(e){var t,n=this.xa(e.Ee),r=this.xa(e.lastLimboFreeSnapshotVersion);t=e.target.xt()?this.Ma.xi(e.target):this.Ma.Bi(e.target);var i=e.resumeToken.toBase64();return new Un(e.targetId,e.target.canonicalId(),n,i,e.sequenceNumber,r,t)},e}(),Xn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Jn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).qo=t,r.Oa=n,r}return i.__extends(t,e),t}(Ft),Zn=function(){function e(t,n,r,i,o,a,s,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sr=a,this.Ba=c,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(e){return Promise.resolve()},!e.so())throw new d(f.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.Ao=new tr(this,o),this.Ga=n+e.za,this.serializer=new Qn(s),this.document=i.document,this.Ha=new gn(this.Ao,this.serializer),this.rr=new Yn,this.ir=new kn(this.serializer,this.rr),!i.window||!i.window.localStorage)throw new d(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Ya=this.window.localStorage}return e.ho=function(e,t){if(e instanceof Jn)return tn.ho(e.qo,t);throw bt()},e.prototype.start=function(){var e=this;return tn.eo(this.Ga,xn,new Tn(this.serializer)).then((function(t){return e.Ja=t,e.Xa()})).then((function(){return e.Za(),e.tu(),e.eu(),e.Ja.runTransaction("readonly",[Gn.store],(function(e){return bn(e)}))})).then((function(t){e.su=new Ut(t,e.Ba)})).then((function(){e.qa=!0})).catch((function(t){return e.Ja&&e.Ja.close(),Promise.reject(t)}))},e.prototype.iu=function(e){var t=this;return this.Ka=function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Uh?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.nu=function(e){var t=this;this.Ja.oo((function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.ru=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sr.Hr((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Uh?[4,this.Xa()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Xa=function(){var e=this;return this.Ja.runTransaction("readwrite",Wn,(function(t){return er(t).put(new qn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.hu(t).next((function(t){t||(e.isPrimary=!1,e.Sr.Hr((function(){return e.Ka(!1)})))}))})).next((function(){return e.ou(t)})).next((function(n){return e.isPrimary&&!n?e.au(t).next((function(){return!1})):!!n&&e.uu(t).next((function(){return!0}))}))})).catch((function(t){if(!e.allowTabSynchronization)throw t;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sr.Hr((function(){return e.Ka(t)})),e.isPrimary=t}))},e.prototype.hu=function(e){var t=this;return $n(e).get(Dn.key).next((function(e){return jt.resolve(t.cu(e))}))},e.prototype._u=function(e){return er(e).delete(this.clientId)},e.prototype.lu=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.du(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=e.ho(n,qn.store);return r.To().next((function(e){var n=t.fu(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return jt.forEach(i,(function(e){return r.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(e){t.window.localStorage.removeItem(t.Tu(e.clientId))})),n.label=2;case 2:return[2]}}))}))},e.prototype.eu=function(){var e=this;this.Wa=this.Sr.Br("client_metadata_refresh",4e3,(function(){return e.Xa().then((function(){return e.lu()})).then((function(){return e.eu()}))}))},e.prototype.cu=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.ou=function(e){var t=this;return $n(e).get(Dn.key).next((function(n){if(null!==n&&t.du(n.leaseTimestampMs,5e3)&&!t.Eu(n.ownerId)){if(t.cu(n)&&t.networkEnabled)return!0;if(!t.cu(n)){if(!n.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,Xn);return!1}}return!(!t.networkEnabled||!t.inForeground)||er(e).To().next((function(e){return void 0===t.fu(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&gt("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.Iu=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){switch(t.label){case 0:return this.qa=!1,this.wu(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.Ru(),this.mu(),[4,this.Ja.runTransaction("readwrite",[Dn.store,qn.store],(function(t){return e.au(t).next((function(){return e._u(t)}))}))];case 1:return t.sent(),this.Ja.close(),this.Au(),[2]}}))}))},e.prototype.fu=function(e,t){var n=this;return e.filter((function(e){return n.du(e.updateTimeMs,t)&&!n.Eu(e.clientId)}))},e.prototype.Pu=function(){var e=this;return this.Ja.runTransaction("readonly",[qn.store],(function(t){return er(t).To().next((function(t){return e.fu(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return e.so()?[4,tn.delete(t+e.za)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"Uh",{get:function(){return this.qa},enumerable:!0,configurable:!0}),e.prototype.Vu=function(e){return ln.Vo(e,this.serializer,this.rr,this.Ao)},e.prototype.gu=function(){return this.Ha},e.prototype.pu=function(){return this.ir},e.prototype.yu=function(){return this.rr},e.prototype.runTransaction=function(e,t,n){var r,i=this;return gt("IndexedDbPersistence","Starting transaction:",e),this.Ja.runTransaction("readonly"===t?"readonly":"readwrite",Wn,(function(o){return r=new Jn(o,i.su.next()),"readwrite-primary"===t?i.hu(o).next((function(e){return!!e||i.ou(o)})).next((function(t){if(!t)throw yt("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Sr.Hr((function(){return i.Ka(!1)})),new d(f.FAILED_PRECONDITION,Nt);return n(r)})).next((function(e){return i.uu(o).next((function(){return e}))})):i.bu(o).next((function(){return n(r)}))})).then((function(e){return r.sr(),e}))},e.prototype.bu=function(e){var t=this;return $n(e).get(Dn.key).next((function(e){if(null!==e&&t.du(e.leaseTimestampMs,5e3)&&!t.Eu(e.ownerId)&&!t.cu(e)&&!e.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,Xn)}))},e.prototype.uu=function(e){var t=new Dn(this.clientId,this.allowTabSynchronization,Date.now());return $n(e).put(Dn.key,t)},e.so=function(){return tn.so()},e.vu=function(e){var t=e.ii.projectId;return e.ii.ln||(t+="."+e.ii.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.au=function(e){var t=this,n=$n(e);return n.get(Dn.key).next((function(e){return t.cu(e)?(gt("IndexedDbPersistence","Releasing primary lease."),n.delete(Dn.key)):jt.resolve()}))},e.prototype.du=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(yt("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Za=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){e.Sr.Hr((function(){return e.inForeground="visible"===e.document.visibilityState,e.Xa()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},e.prototype.Ru=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},e.prototype.tu=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.Ua=function(){e.wu(),e.Sr.Hr((function(){return e.Iu()}))},this.window.addEventListener("unload",this.Ua))},e.prototype.mu=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},e.prototype.Eu=function(e){try{var t=null!==this.Ya.getItem(this.Tu(e));return gt("IndexedDbPersistence","Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return yt("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.wu=function(){try{this.Ya.setItem(this.Tu(this.clientId),String(Date.now()))}catch(e){yt("Failed to set zombie client id.",e)}},e.prototype.Au=function(){try{this.Ya.removeItem(this.Tu(this.clientId))}catch(e){}},e.prototype.Tu=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function $n(e){return e.store(Dn.store)}function er(e){return e.store(qn.store)}Zn.za="main";var tr=function(){function e(e,t){this.db=e,this.Su=null,this.Lh=new Xt(this,t)}return e.prototype.Kh=function(e){var t=this.Du(e);return this.db.gu().aa(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.Du=function(e){var t=0;return this.zh(e,(function(e){t++})).next((function(){return t}))},e.prototype.js=function(e,t){return this.db.gu().js(e,t)},e.prototype.zh=function(e,t){return this.Cu(e,(function(e,n){return t(n)}))},e.prototype.Fu=function(e){this.Su=e},e.prototype.gn=function(e,t){return nr(e,t)},e.prototype.yn=function(e,t){return nr(e,t)},e.prototype.Hh=function(e,t,n){return this.db.gu().Hh(e,t,n)},e.prototype.Qo=function(e,t){return nr(e,t)},e.prototype.Nu=function(e,t){return this.Su.Fn(t)?jt.resolve(!0):function(e,t){var n=!1;return vn(e).mo((function(r){return hn(e,r,t).next((function(e){return e&&(n=!0),jt.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.Yh=function(e,t){var n=this,r=this.db.pu().ba(),i=[],o=0;return this.Cu(e,(function(a,s){if(s<=t){var c=n.Nu(e,a).next((function(t){if(!t)return o++,r.Yn(e,a).next((function(){return r.Hn(a),Cn(e).delete([0,Jt(a.path)])}))}));i.push(c)}})).next((function(){return jt.Un(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.Ie(e.Oa);return this.db.gu().ia(e,n)},e.prototype.ku=function(e,t){return nr(e,t)},e.prototype.Cu=function(e,t){var n,r=Cn(e),i=Ut.vr;return r.Ro({index:Bn.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==Ut.vr&&t(new E(en(n)),i),i=a,n=o):i=Ut.vr})).next((function(){i!==Ut.vr&&t(new E(en(n)),i)}))},e.prototype.Xh=function(e){return this.db.pu().Da(e)},e}();function nr(e,t){return Cn(e).put(function(e,t){return new Bn(0,Jt(e.path),t)}(t,e.Oa))}var rr=function(){function e(e,t,n){this.persistence=e,this.$u=t,this.Mu=new Dt,this.Lu=new Me(St),this.xu=new xt((function(e){return e.canonicalId()})),this.Ou=b.min(),this.persistence.Ao.Fu(this.Mu),this.nr=e.Vu(n),this.Bu=e.pu(),this.Ha=e.gu(),this.qu=new Lt(this.Bu,this.nr,this.persistence.yu()),this.$u.Uu(this.qu)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Qu=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.nr,n=this.qu,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.nr.xo(r).next((function(a){return i=a,t=o.persistence.Vu(e),n=new Lt(o.Bu,t,o.persistence.yu()),t.xo(r)})).next((function(e){for(var t=[],o=[],a=Ke(),s=0,c=i;s<c.length;s++){var u=c[s];t.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];o.push(p.batchId);for(var v=0,m=p.mutations;v<m.length;v++)a=a.add(m[v].key)}return n.cr(r,a).next((function(e){return{Wu:e,ju:t,Ku:o}}))}))}))];case 1:return r=i.sent(),[2,(this.nr=t,this.qu=n,this.$u.Uu(this.qu),r)]}}))}))},e.prototype.Gu=function(e){var t,n=this,r=_.now(),i=e.reduce((function(e,t){return e.add(t.key)}),Ke());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.qu.cr(o,i).next((function(i){t=i;for(var a=[],s=0,c=e;s<c.length;s++){var u=c[s],l=u.Pt(t.get(u.key));null!=l&&a.push(new ce(u.key,l,pe(l.proto.mapValue),oe.exists(!0)))}return n.nr.Do(o,r,a,e)}))})).then((function(e){var n=e.In(t);return{batchId:e.batchId,Wn:n}}))},e.prototype.yo=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),i=t.Bu.ba({Sa:!0});return t.nr.yo(n,e.batch,e.streamToken).next((function(){return t.zu(n,e,i)})).next((function(){return i.apply(n)})).next((function(){return t.nr.Wo(n)})).next((function(){return t.qu.cr(n,r)}))}))},e.prototype.Hu=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.nr.No(n,e).next((function(e){return Ct(null!==e),r=e.keys(),t.nr.Bo(n,e)})).next((function(){return t.nr.Wo(n)})).next((function(){return t.qu.cr(n,r)}))}))},e.prototype.Lo=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.nr.Lo(t)}))},e.prototype.vo=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(t){return e.nr.vo(t)}))},e.prototype.So=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return t.nr.So(n,e)}))},e.prototype.Jo=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ha.Jo(t)}))},e.prototype.Yu=function(t){var n=this,r=t.Ee,i=this.Lu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var a=n.Bu.ba({Sa:!0});i=n.Lu;var s=[];t.as.forEach((function(t,a){var c=i.get(a);if(c){s.push(n.Ha._a(o,t.Is,a).next((function(){return n.Ha.ca(o,t.Ts,a)})));var u=t.resumeToken;if(u.rt()>0){var l=c.we(u,r).Ie(o.Oa);i=i.me(a,l),e.Ju(c,l,t)&&s.push(n.Ha.ia(o,l))}}}));var c=Be(),u=Ke();if(t.cs.forEach((function(e,t){u=u.add(e)})),s.push(a.getEntries(o,u).next((function(e){t.cs.forEach((function(i,u){var l=e.get(i);u instanceof _e&&u.version.isEqual(b.min())?(a.Hn(i,r),c=c.me(i,u)):null==l||u.version.S(l.version)>0||0===u.version.S(l.version)&&l.hasPendingWrites?(a.Gn(u,r),c=c.me(i,u)):gt("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",u.version),t._s.has(i)&&s.push(n.persistence.Ao.ku(o,i))}))}))),!r.isEqual(b.min())){var l=n.Ha.Jo(o).next((function(e){return n.Ha.Zo(o,o.Oa,r)}));s.push(l)}return jt.Un(s).next((function(){return a.apply(o)})).next((function(){return n.qu._r(o,c)}))})).then((function(e){return n.Lu=i,e}))},e.Ju=function(e,t,n){return Ct(t.resumeToken.rt()>0),0===e.resumeToken.rt()||t.Ee.D()-e.Ee.D()>=this.Xu||n.Ts.size+n.Es.size+n.Is.size>0},e.prototype.Zu=function(e){for(var t=this,n=0,r=e;n<r.length;n++){var i=r[n],o=i.targetId;if(this.Mu.pn(i.Ar,o),this.Mu.vn(i.Pr,o),!i.fromCache){var a=this.Lu.get(o),s=a.Re(a.Ee);this.Lu=this.Lu.me(o,s)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return jt.forEach(e,(function(e){return jt.forEach(e.Pr,(function(e){return t.persistence.Ao.yn(n,e)}))}))}))},e.prototype.tc=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.nr.Mo(n,e)}))},e.prototype.ec=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.qu.hr(n,e)}))},e.prototype.sc=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return t.Ha.ua(n,e).next((function(i){return i?jt.resolve(r=i):t.Ha.zo(n).next((function(i){return r=new Ae(e,i,0,n.Oa),t.Ha.ta(n,r).next((function(){return r}))}))}))})).then((function(n){return null===t.Lu.get(n.targetId)&&(t.Lu=t.Lu.me(n.targetId,n),t.xu.set(e,n.targetId)),n}))},e.prototype.ua=function(e,t){var n=this.xu.get(t);return void 0!==n?jt.resolve(this.Lu.get(n)):this.Ha.ua(e,t)},e.prototype.ic=function(e,t){var n=this,r=this.Lu.get(e);return this.persistence.runTransaction("Release target",t?"readwrite":"readwrite-primary",(function(i){var o=n.Mu.Sn(e);return t?jt.resolve():jt.forEach(o,(function(e){return n.persistence.Ao.yn(i,e)})).next((function(){n.persistence.Ao.removeTarget(i,r)}))})).then((function(){n.Lu=n.Lu.remove(e),n.xu.delete(r.target)}))},e.prototype.nc=function(e,t){var n=this,r=b.min(),i=Ke();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.ua(o,e.ee()).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.Ha.la(o,e.targetId).next((function(e){i=e}))})).next((function(){return n.$u.dr(o,e,t?r:b.min(),t?i:Ke())})).next((function(e){return{documents:e,rc:i}}))}))},e.prototype.hc=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return t.Ha.la(n,e)}))},e.prototype.zu=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=jt.resolve();return o.forEach((function(r){a=a.next((function(){return n.Yn(e,r)})).next((function(e){var o=e,a=t.Rn.get(r);Ct(null!==a),(!o||o.version.S(a)<0)&&(o=i.at(r,o,t))&&n.Gn(o,t.wn)}))})),a.next((function(){return r.nr.Bo(e,i)}))},e.prototype.Qh=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.Jh(n,t.Lu)}))},e}();rr.Xu=3e8;var ir=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).persistence=t,i.nr=t.Vu(r),i.Bu=t.pu(),i.Ha=t.gu(),i}return i.__extends(t,e),t.prototype.start=function(){return this.oc()},t.prototype.ac=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.nr.$o(n,e).next((function(e){return e?t.qu.cr(n,e):jt.resolve(null)}))}))},t.prototype.uc=function(e){this.nr.Uo(e)},t.prototype.ru=function(e){this.persistence.ru(e)},t.prototype.Pu=function(){return this.persistence.Pu()},t.prototype.cc=function(e){var t=this,n=this.Lu.get(e);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return t.Ha.si(n,e).next((function(e){return e?e.target:null}))}))},t.prototype.Va=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.Bu.Va(t,e.Ou)})).then((function(t){var n=t.ga;return e.Ou=t.readTime,n}))},t.prototype.oc=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return e=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return t.Bu.ya(e)}))];case 1:return e.Ou=n.sent(),[2]}}))}))},t}(rr);function or(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){if(e.code!==f.FAILED_PRECONDITION||e.message!==Nt)throw e;return gt("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function ar(e,t){if(0!==t.length)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+wr(t.length,"argument")+".")}function sr(e,t,n){if(t.length!==n)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires "+wr(n,"argument")+", but was called with "+wr(t.length,"argument")+".")}function cr(e,t,n){if(t.length<n)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires at least "+wr(n,"argument")+", but was called with "+wr(t.length,"argument")+".")}function ur(e,t,n,r){if(t.length<n||t.length>r)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+wr(t.length,"argument")+".")}function lr(e,t,n,r){vr(e,t,kr(n)+" argument",r)}function hr(e,t,n,r){void 0!==r&&lr(e,t,n,r)}function fr(e,t,n,r){vr(e,t,n+" option",r)}function dr(e,t,n,r){void 0!==r&&fr(e,t,n,r)}function pr(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var c=s[a];if(c===r)return;o.push(gr(c))}var u=gr(r);throw new d(f.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function vr(e,t,n,r){if(!("object"===t?mr(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=gr(r);throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function mr(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function gr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":bt()}function yr(e,t,n){if(void 0===n)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+kr(t)+" argument, but it was undefined.")}function _r(e,t,n){O(t,(function(t,r){if(n.indexOf(t)<0)throw new d(f.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function br(e,t,n,r){var i=gr(r);return new d(f.INVALID_ARGUMENT,"Function "+e+"() requires its "+kr(n)+" argument to be a "+t+", but it was: "+i)}function Cr(e,t,n){if(n<=0)throw new d(f.INVALID_ARGUMENT,'Function "'+e+'()" requires its '+kr(t)+" argument to be a positive number, but it was: "+n+".")}function kr(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function wr(e,t){return e+" "+t+(1===e?"":"s")}function Sr(){if("undefined"==typeof Uint8Array)throw new d(f.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Er(){if(!dt.nt()._c)throw new d(f.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ir=function(){function e(e){Er(),this.lc=e}return e.fromBase64String=function(t){sr("Blob.fromBase64String",arguments,1),lr("Blob.fromBase64String","string",1,t),Er();try{return new e(x.fromBase64String(t))}catch(t){throw new d(f.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(sr("Blob.fromUint8Array",arguments,1),Sr(),!(t instanceof Uint8Array))throw br("Blob.fromUint8Array","Uint8Array",1,t);return new e(x.fromUint8Array(t))},e.prototype.toBase64=function(){return sr("Blob.toBase64",arguments,0),Er(),this.lc.toBase64()},e.prototype.toUint8Array=function(){return sr("Blob.toUint8Array",arguments,0),Sr(),this.lc.toUint8Array()},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.lc.isEqual(e.lc)},e}(),Or=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new d(f.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+wr(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(lr("FieldPath","string",n,e[n]),0===e[n].length)throw new d(f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.dc=new S(e)}return e.documentId=function(){return e.fc},e.prototype.isEqual=function(t){if(!(t instanceof e))throw br("isEqual","FieldPath",1,t);return this.dc.isEqual(t.dc)},e}();Or.fc=new Or(S.J().j());var Pr=new RegExp("[~\\*/\\[\\]]"),xr=function(e){this.Tc=e},Tr=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return i.__extends(t,e),t.prototype.Di=function(e){if(2!==e.Ec)throw e.Ic(1===e.Ec?"FieldValue.delete() can only appear at the top level of your update data":"FieldValue.delete() cannot be used with set() unless you pass {merge:true}");return e.Vt.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(xr),Ar=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return i.__extends(t,e),t.prototype.Di=function(e){return new re(e.path,J.instance)},t.prototype.isEqual=function(e){return e instanceof t},t}(xr),Dr=function(e){function t(t){var n=this;return(n=e.call(this,"FieldValue.arrayUnion")||this).wc=t,n}return i.__extends(t,e),t.prototype.Di=function(e){var t=e.Rc({Ec:3,methodName:this.Tc}),n=this.wc.map((function(e,n){return Gr(e,t.mc(n))})),r=new Z(n);return new re(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(xr),Rr=function(e){function t(t){var n=this;return(n=e.call(this,"FieldValue.arrayRemove")||this).wc=t,n}return i.__extends(t,e),t.prototype.Di=function(e){var t=e.Rc({Ec:3,methodName:this.Tc}),n=this.wc.map((function(e,n){return Gr(e,t.mc(n))})),r=new $(n);return new re(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(xr),jr=function(e){function t(t){var n=this;return(n=e.call(this,"FieldValue.increment")||this).Ac=t,n}return i.__extends(t,e),t.prototype.Di=function(e){e.Rc({methodName:this.Tc});var t=Gr(this.Ac,e),n=new ee(e.serializer,t);return new re(e.path,n)},t.prototype.isEqual=function(e){return this===e},t}(xr),Mr=function(){function e(e,t){if(sr("GeoPoint",arguments,2),lr("GeoPoint","number",1,e),lr("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new d(f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new d(f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.Pc=e,this.Vc=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.Pc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.Vc},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this.Pc===e.Pc&&this.Vc===e.Vc},e.prototype.p=function(e){return St(this.Pc,e.Pc)||St(this.Vc,e.Vc)},e}(),Nr=/^__.*__$/,Fr=function(){function e(e,t,n){this.data=e,this.Vt=t,this.fieldTransforms=n}return e.prototype.gc=function(e,t){var n=[];return n.push(null!==this.Vt?new ce(e,this.data,this.Vt,t):new se(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new ue(e,this.fieldTransforms)),n},e}(),Lr=function(){function e(e,t,n){this.data=e,this.Vt=t,this.fieldTransforms=n}return e.prototype.gc=function(e,t){var n=[new ce(e,this.data,this.Vt,t)];return this.fieldTransforms.length>0&&n.push(new ue(e,this.fieldTransforms)),n},e}();function Vr(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}var Ur=function(){function e(e,t,n,r,i){this.settings=e,this.ii=t,this.serializer=n,void 0===r&&this.pc(),this.fieldTransforms=r||[],this.Vt=i||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Ec",{get:function(){return this.settings.Ec},enumerable:!0,configurable:!0}),e.prototype.Rc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.ii,this.serializer,this.fieldTransforms,this.Vt)},e.prototype.yc=function(e){var t=null==this.path?null:this.path.child(e),n=this.Rc({path:t,bc:!1});return n.vc(e),n},e.prototype.Sc=function(e){var t=null==this.path?null:this.path.child(e),n=this.Rc({path:t,bc:!1});return n.pc(),n},e.prototype.mc=function(e){return this.Rc({path:null,bc:!0})},e.prototype.Ic=function(e){var t=null===this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new d(f.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.Vt.find((function(t){return e.q(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.q(t.field)}))},e.prototype.pc=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.vc(this.path.get(e))},e.prototype.vc=function(e){if(0===e.length)throw this.Ic("Document fields must not be empty");if(Vr(this.Ec)&&Nr.test(e))throw this.Ic('Document fields cannot begin and end with "__"')},e}(),Br=function(){function e(e,t){this.ii=e,this.serializer=t||dt.nt().Dc(e)}return e.prototype.Cc=function(e,t){var n=this.Fc(0,e);qr("Data must be an object, but it was:",n,t);var r=Hr(t,n);return new Fr(new fe(r),null,n.fieldTransforms)},e.prototype.Nc=function(e,t,n){var r=this.Fc(2,e);qr("Data must be an object, but it was:",r,t);var i,o,a=Hr(t,r);if(n){for(var s=[],c=0,u=n;c<u.length;c++){var l=u[c],h=void 0;if(l instanceof Or)h=l.dc;else{if("string"!=typeof l)throw bt();h=Yr(e,l)}if(!r.contains(h))throw new d(f.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");Kr(s,h)||s.push(h)}i=new ne(s),o=r.fieldTransforms.filter((function(e){return i.dt(e.field)}))}else i=new ne(r.Vt),o=r.fieldTransforms;return new Fr(new fe(a),i,o)},e.prototype.kc=function(e,t){var n=this.Fc(1,e);qr("Data must be an object, but it was:",n,t);var r=[],i=new de;O(t,(function(t,o){var a=Yr(e,t),s=n.Sc(a);if(o instanceof Tr)r.push(a);else{var c=Gr(o,s);null!=c&&(r.push(a),i.set(a,c))}}));var o=new ne(r);return new Lr(i.yt(),o,n.fieldTransforms)},e.prototype.$c=function(e,t,n,r){var i=this.Fc(1,e),o=[Wr(e,t)],a=[n];if(r.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(Wr(e,r[s])),a.push(r[s+1]);for(var c=[],u=new de,l=o.length-1;l>=0;--l)if(!Kr(c,o[l])){var h=o[l],p=a[l],v=i.Sc(h);if(p instanceof Tr)c.push(h);else{var m=Gr(p,v);null!=m&&(c.push(h),u.set(h,m))}}var g=new ne(c);return new Lr(u.yt(),g,i.fieldTransforms)},e.prototype.Fc=function(e,t){return new Ur({Ec:e,methodName:t,path:S.G,bc:!1},this.ii,this.serializer)},e.prototype.Mc=function(e,t,n){return void 0===n&&(n=!1),Gr(t,this.Fc(n?4:3,e))},e}();function Gr(e,t){if(zr(e))return qr("Unsupported field value:",t,e),Hr(e,t);if(e instanceof xr)return function(e,t){if(!Vr(t.Ec))throw t.Ic(e.Tc+"() can only be used with update() and set()");if(null===t.path)throw t.Ic(e.Tc+"() is not currently supported inside arrays");var n=e.Di(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.Vt.push(t.path),e instanceof Array){if(t.settings.bc&&4!==t.Ec)throw t.Ic("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Gr(o[i],t.mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return t.serializer.ai(e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=_.fromDate(e);return{timestampValue:t.serializer.C(n)}}if(e instanceof _){var r=new _(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:t.serializer.C(r)}}if(e instanceof Mr)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ir)return{bytesValue:t.serializer.ui(e)};if(e instanceof Bi){var i=t.ii,o=e.firestore.Lc;if(!o.isEqual(i))throw t.Ic("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:t.serializer._i(e.xc.path,e.firestore.Lc)}}throw t.Ic("Unsupported field value: "+gr(e))}(e,t)}function Hr(e,t){var n={};return P(e)?t.path&&t.path.length>0&&t.Vt.push(t.path):O(e,(function(e,r){var i=Gr(r,t.yc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zr(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _||e instanceof Mr||e instanceof Ir||e instanceof Bi||e instanceof xr)}function qr(e,t,n){if(!zr(n)||!mr(n)){var r=gr(n);throw t.Ic("an object"===r?e+" a custom object":e+" "+r)}}function Wr(e,t){if(t instanceof Or)return t.dc;if("string"==typeof t)return Yr(e,t);throw new d(f.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Yr(e,t){try{return function(e){if(e.search(Pr)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Or.bind.apply(Or,i.__spreadArrays([void 0],e.split("."))))}catch(i){throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).dc}catch(t){var n=(r=t)instanceof Error?r.message:r.toString();throw new d(f.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}var r}function Kr(e,t){return e.some((function(e){return e.isEqual(t)}))}var Qr=function(){function e(e,t,n,r,i,o){this.Sr=e,this.Oc=n,this.Bc=r,this.qc=i,this.listener=o,this.state=0,this.Uc=0,this.Qc=null,this.stream=null,this.ih=new Gt(e,t)}return e.prototype.Wc=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.jc=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.Kc()},e.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Wc()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.Gc=function(){this.state=0,this.ih.reset()},e.prototype.zc=function(){var e=this;this.jc()&&null===this.Qc&&(this.Qc=this.Sr.Br(this.Oc,6e4,(function(){return e.Hc()})))},e.prototype.Yc=function(e){this.Jc(),this.stream.send(e)},e.prototype.Hc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.jc()?[2,this.close(0)]:[2]}))}))},e.prototype.Jc=function(){this.Qc&&(this.Qc.cancel(),this.Qc=null)},e.prototype.close=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Jc(),this.ih.cancel(),this.Uc++,3!==e?this.ih.reset():t&&t.code===f.RESOURCE_EXHAUSTED?(yt(t.toString()),yt("Using maximum backoff delay to prevent overloading the backend."),this.ih.Lr()):t&&t.code===f.UNAUTHENTICATED&&this.qc._(),null!==this.stream&&(this.Xc(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Zc(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.Xc=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.t_(this.Uc),n=this.Uc;this.qc.getToken().then((function(t){e.Uc===n&&e.e_(t)}),(function(n){t((function(){var t=new d(f.UNKNOWN,"Fetching auth token failed: "+n.message);return e.s_(t)}))}))},e.prototype.e_=function(e){var t=this,n=this.t_(this.Uc);this.stream=this.i_(e),this.stream.n_((function(){n((function(){return t.state=2,t.listener.n_()}))})),this.stream.Zc((function(e){n((function(){return t.s_(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.Kc=function(){var e=this;this.state=4,this.ih.xr((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.s_=function(e){return gt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.t_=function(e){var t=this;return function(n){t.Sr.Hr((function(){return t.Uc===e?n():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Xr=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return i.__extends(t,e),t.prototype.i_=function(e){return this.Bc.r_("Listen",e)},t.prototype.onMessage=function(e){this.ih.reset();var t=this.serializer.pi(e),n=this.serializer.bi(e);return this.listener.h_(t,n)},t.prototype.o_=function(e){var t={};t.database=this.serializer.wi,t.addTarget=this.serializer.ee(e);var n=this.serializer.zi(e);n&&(t.labels=n),this.Yc(t)},t.prototype.a_=function(e){var t={};t.database=this.serializer.wi,t.removeTarget=e,this.Yc(t)},t}(Qr),Jr=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.u_=!1,a.lastStreamToken=x.ht,a}return i.__extends(t,e),Object.defineProperty(t.prototype,"c_",{get:function(){return this.u_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.u_=!1,e.prototype.start.call(this)},t.prototype.Xc=function(){this.u_&&this.__([])},t.prototype.i_=function(e){return this.Bc.r_("Write",e)},t.prototype.onMessage=function(e){if(Ct(!!e.streamToken),this.lastStreamToken=this.serializer.ci(e.streamToken),this.u_){this.ih.reset();var t=this.serializer.Li(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.l_(n,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.u_=!0,this.listener.d_()},t.prototype.f_=function(){var e={};e.database=this.serializer.wi,this.Yc(e)},t.prototype.__=function(e){var t=this,n={streamToken:this.serializer.ui(this.lastStreamToken),writes:e.map((function(e){return t.serializer.vi(e)}))};this.Yc(n)},t}(Qr),Zr=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Bc=t,i.credentials=n,i.serializer=r,i}return i.__extends(t,e),t.prototype.E_=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.Bc.E_(e,t,r)})).catch((function(e){throw e.code===f.UNAUTHENTICATED&&n.credentials._(),e}))},t.prototype.I_=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.Bc.I_(e,t,r)})).catch((function(e){throw e.code===f.UNAUTHENTICATED&&n.credentials._(),e}))},t}((function(){this.T_=void 0})),$r=function(){function e(e){this.w_=e,this.R_=We(),this.mutations=[],this.m_=!1,this.A_=null,this.P_=new Set}return e.prototype.V_=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.g_(),this.mutations.length>0)throw new d(f.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:return n=kt(e),r={database:n.serializer.wi,documents:t.map((function(e){return n.serializer.fi(e)}))},[4,n.I_("BatchGetDocuments",r)];case 1:return o=i.sent(),a=new Map,o.forEach((function(e){var t=n.serializer.gi(e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Ct(!!t),s.push(t)})),s)]}}))}))}(this.w_,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof _e||e instanceof ye?n.p_(e):bt()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.gc(e,this.Rt(e))),this.P_.add(e)},e.prototype.update=function(e,t){try{this.write(t.gc(e,this.y_(e)))}catch(e){this.A_=e}this.P_.add(e)},e.prototype.delete=function(e){this.write([new le(e,this.Rt(e))]),this.P_.add(e)},e.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.g_(),this.A_)throw this.A_;return e=this.R_,this.mutations.forEach((function(t){e=e.remove(t.key)})),e.forEach((function(e,n){t.mutations.push(new he(e,t.Rt(e)))})),[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=kt(e),r={database:n.serializer.wi,writes:t.map((function(e){return n.serializer.vi(e)}))},[4,n.E_("Commit",r)];case 1:return o=i.sent(),[2,n.serializer.Li(o.writeResults,o.commitTime)]}}))}))}(this.w_,this.mutations)];case 1:return n.sent(),this.m_=!0,[2]}}))}))},e.prototype.p_=function(e){var t;if(e instanceof ye)t=e.version;else{if(!(e instanceof _e))throw bt();t=b.min()}var n=this.R_.get(e.key);if(null!==n){if(!t.isEqual(n))throw new d(f.ABORTED,"Document version changed between two reads.")}else this.R_=this.R_.me(e.key,t)},e.prototype.Rt=function(e){var t=this.R_.get(e);return!this.P_.has(e)&&t?oe.updateTime(t):oe.ft()},e.prototype.y_=function(e){var t=this.R_.get(e);if(!this.P_.has(e)&&t){if(t.isEqual(b.min()))throw new d(f.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oe.updateTime(t)}return oe.exists(!0)},e.prototype.write=function(e){this.g_(),this.mutations=this.mutations.concat(e)},e.prototype.g_=function(){},e}(),ei=function(){function e(e,t){this.qr=e,this.b_=t,this.state="Unknown",this.v_=0,this.S_=null,this.D_=!0}return e.prototype.C_=function(){var e=this;0===this.v_&&(this.F_("Unknown"),this.S_=this.qr.Br("online_state_timeout",1e4,(function(){return e.S_=null,e.N_("Backend didn't respond within 10 seconds."),e.F_("Offline"),Promise.resolve()})))},e.prototype.k_=function(e){"Online"===this.state?this.F_("Unknown"):(this.v_++,this.v_>=1&&(this.M_(),this.N_("Connection failed 1 times. Most recent error: "+e.toString()),this.F_("Offline")))},e.prototype.set=function(e){this.M_(),this.v_=0,"Online"===e&&(this.D_=!1),this.F_(e)},e.prototype.F_=function(e){e!==this.state&&(this.state=e,this.b_(e))},e.prototype.N_=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.D_?(yt(t),this.D_=!1):gt("OnlineStateTracker",t)},e.prototype.M_=function(){null!==this.S_&&(this.S_.cancel(),this.S_=null)},e}(),ti=function(){function e(e,t,n,r,o){var a=this;this.L_=e,this.w_=t,this.qr=n,this.x_=[],this.O_=new Map,this.B_=null,this.networkEnabled=!1,this.isPrimary=!1,this.q_=!1,this.U_=o,this.U_.Q_((function(e){n.Hr((function(){return i.__awaiter(a,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.W_()?(gt("RemoteStore","Restarting streams for network reachability change."),[4,this.j_()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.K_=new ei(n,r),this.G_=function(e,t,n){var r=kt(e);return new Xr(t,r.Bc,r.credentials,r.serializer,n)}(this.w_,n,{n_:this.z_.bind(this),Zc:this.H_.bind(this),h_:this.Y_.bind(this)}),this.J_=function(e,t,n){var r=kt(e);return new Jr(t,r.Bc,r.credentials,r.serializer,n)}(this.w_,n,{n_:this.X_.bind(this),Zc:this.Z_.bind(this),d_:this.tl.bind(this),l_:this.l_.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.el()},e.prototype.el=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return this.W_()?(e=this.J_,[4,this.L_.vo()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.sl()?this.il():this.K_.set("Unknown"),[4,this.nl()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.rl()];case 1:return e.sent(),this.K_.set("Offline"),[2]}}))}))},e.prototype.rl=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.J_.stop()];case 1:return e.sent(),[4,this.G_.stop()];case 2:return e.sent(),this.x_.length>0&&(gt("RemoteStore","Stopping write stream with "+this.x_.length+" pending writes"),this.x_=[]),this.hl(),[2]}}))}))},e.prototype.Iu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return gt("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.rl()];case 1:return e.sent(),this.U_.Iu(),this.K_.set("Unknown"),[2]}}))}))},e.prototype.listen=function(e){this.O_.has(e.targetId)||(this.O_.set(e.targetId,e),this.sl()?this.il():this.G_.jc()&&this.ol(e))},e.prototype.al=function(e){this.O_.delete(e),this.G_.jc()&&this.ul(e),0===this.O_.size&&(this.G_.jc()?this.G_.zc():this.W_()&&this.K_.set("Unknown"))},e.prototype.si=function(e){return this.O_.get(e)||null},e.prototype.ei=function(e){return this.cl.ei(e)},e.prototype.ol=function(e){this.B_.Ns(e.targetId),this.G_.o_(e)},e.prototype.ul=function(e){this.B_.Ns(e),this.G_.a_(e)},e.prototype.il=function(){this.B_=new at(this),this.G_.start(),this.K_.C_()},e.prototype.sl=function(){return this.W_()&&!this.G_.Wc()&&this.O_.size>0},e.prototype.W_=function(){return!this.q_&&this.isPrimary&&this.networkEnabled},e.prototype.hl=function(){this.B_=null},e.prototype.z_=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){return this.O_.forEach((function(t,n){e.ol(t)})),[2]}))}))},e.prototype.H_=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.hl(),this.sl()?(this.K_.k_(e),this.il()):this.K_.set("Unknown"),[2]}))}))},e.prototype.Y_=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.K_.set("Online"),!(e instanceof it&&2===e.state&&e.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this._l(e)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),[4,this.ll(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof nt?this.B_.qs(e):e instanceof rt?this.B_.Hs(e):this.B_.Ws(e),t.isEqual(b.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.L_.Jo()];case 8:return r=i.sent(),t.S(r)>=0?[4,this.dl(t)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return gt("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.ll(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},e.prototype.ll=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(n){switch(n.label){case 0:if("IndexedDbTransactionError"!==e.name)throw e;return this.q_=!0,[4,this.rl()];case 1:return n.sent(),this.K_.set("Offline"),this.qr.dh((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return gt("RemoteStore","Retrying IndexedDB access"),[4,this.L_.Jo()];case 1:return e.sent(),this.q_=!1,[4,this.el()];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))},e.prototype.dl=function(e){var t=this,n=this.B_.Xs(e);return n.as.forEach((function(n,r){if(n.resumeToken.rt()>0){var i=t.O_.get(r);i&&t.O_.set(r,i.we(n.resumeToken,e))}})),n.us.forEach((function(e){var n=t.O_.get(e);if(n){t.O_.set(e,n.we(x.ht,n.Ee)),t.ul(e);var r=new Ae(n.target,e,1,n.sequenceNumber);t.ol(r)}})),this.cl.Yu(n)},e.prototype._l=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:t=e.cause,n=0,r=e.targetIds,i.label=1;case 1:return n<r.length?this.O_.has(o=r[n])?[4,this.cl.fl(o,t)]:[3,3]:[3,5];case 2:i.sent(),this.O_.delete(o),this.B_.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},e.prototype.nl=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return this.Tl()?[4,this.L_.tc(this.x_.length>0?this.x_[this.x_.length-1].batchId:-1)]:[3,5];case 1:return null!==(e=t.sent())?[3,2]:(0===this.x_.length&&this.J_.zc(),[3,4]);case 2:return this.El(e),[4,this.nl()];case 3:t.sent(),t.label=4;case 4:t.label=5;case 5:return this.Il()&&this.wl(),[2]}}))}))},e.prototype.Tl=function(){return this.W_()&&this.x_.length<10},e.prototype.Rl=function(){return this.x_.length},e.prototype.El=function(e){this.x_.push(e),this.J_.jc()&&this.J_.c_&&this.J_.__(e.mutations)},e.prototype.Il=function(){return this.W_()&&!this.J_.Wc()&&this.x_.length>0},e.prototype.wl=function(){this.J_.start()},e.prototype.X_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.J_.f_(),[2]}))}))},e.prototype.tl=function(){var e=this;return this.L_.So(this.J_.lastStreamToken).then((function(){for(var t=0,n=e.x_;t<n.length;t++)e.J_.__(n[t].mutations)})).catch(or)},e.prototype.l_=function(e,t){var n=this,r=this.x_.shift(),i=At.from(r,e,t,this.J_.lastStreamToken);return this.cl.ml(i).then((function(){return n.nl()}))},e.prototype.Z_=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return e&&this.x_.length>0?this.J_.c_?[4,this.Al(e)]:[3,2]:[3,5];case 1:return t.sent(),[3,4];case 2:return[4,this.Pl(e)];case 3:t.sent(),t.label=4;case 4:this.Il()&&this.wl(),t.label=5;case 5:return[2]}}))}))},e.prototype.Pl=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return Re(e.code)?[2,(gt("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.J_.lastStreamToken),this.J_.lastStreamToken=x.ht,this.L_.So(x.ht).catch(or))]:[2]}))}))},e.prototype.Al=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return i.__generator(this,(function(i){return Re(n=e.code)&&n!==f.ABORTED?(t=this.x_.shift(),[2,(this.J_.Gc(),this.cl.Vl(t.batchId,e).then((function(){return r.nl()})))]):[2]}))}))},e.prototype.gl=function(){return new $r(this.w_)},e.prototype.j_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.rl()];case 1:return e.sent(),this.K_.set("Unknown"),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.pl=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.W_()?(gt("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.j_()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.yl=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,5];case 2:return e?[3,4]:[4,this.rl()];case 3:t.sent(),this.K_.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}}))}))},e}();function ni(e,t){return"firestore_clients_"+e+"_"+t}function ri(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.t()&&(r+="_"+t.uid),r}function ii(e,t){return"firestore_targets_"+e+"_"+t}var oi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.bl=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new d(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(yt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.vl=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ai=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.bl=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new d(r.error.code,r.error.message)),i?new e(t,r.state,o):(yt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.vl=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),si=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.bl=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Xe(),a=0;i&&a<r.activeTargetIds.length;++a)i=D(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(yt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ci=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.bl=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(yt("SharedClientState","Failed to parse online state: "+t),null)},e}(),ui=function(){function e(){this.activeTargetIds=Xe()}return e.prototype.Sl=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Dl=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.vl=function(){var e={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),li=function(){function e(t,n,r,i,o){if(this.Sr=t,this.platform=n,this.persistenceKey=r,this.Cl=i,this.cl=null,this.b_=null,this.gr=null,this.Fl=this.Nl.bind(this),this.kl=new Me(St),this.Uh=!1,this.$l=[],!e.so(this.platform))throw new d(f.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Ml=ni(this.persistenceKey,this.Cl),this.Ll=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.kl=this.kl.me(this.Cl,new ui),this.xl=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Ol=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Bl=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.ql=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Fl)}return e.so=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,a,s,c,u,l,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.cl.Pu()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Cl&&(o=this.getItem(ni(this.persistenceKey,r)))&&(a=si.bl(r,o))&&(this.kl=this.kl.me(a.clientId,a));for(this.Ul(),(s=this.storage.getItem(this.ql))&&(c=this.Ql(s))&&this.Wl(c),u=0,l=this.$l;u<l.length;u++)this.Nl(l[u]);return this.$l=[],this.platform.window.addEventListener("unload",(function(){return h.Iu()})),this.Uh=!0,[2]}}))}))},e.prototype.br=function(e){this.setItem(this.Ll,JSON.stringify(e))},e.prototype.jl=function(){return this.Kl(this.kl)},e.prototype.Gl=function(e){var t=!1;return this.kl.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.zl=function(e){this.Hl(e,"pending")},e.prototype.Yl=function(e,t,n){this.Hl(e,t,n),this.Jl(e)},e.prototype.Xl=function(e){var t="not-current";if(this.Gl(e)){var n=this.storage.getItem(ii(this.persistenceKey,e));if(n){var r=ai.bl(e,n);r&&(t=r.state)}}return this.Zl.Sl(e),this.Ul(),t},e.prototype.td=function(e){this.Zl.Dl(e),this.Ul()},e.prototype.ed=function(e){return this.Zl.activeTargetIds.has(e)},e.prototype.sd=function(e){this.removeItem(ii(this.persistenceKey,e))},e.prototype.nd=function(e,t,n){this.rd(e,t,n)},e.prototype.Qu=function(e,t,n){var r=this;t.forEach((function(e){r.Jl(e)})),this.currentUser=e,n.forEach((function(e){r.zl(e)}))},e.prototype.hd=function(e){this.od(e)},e.prototype.Iu=function(){this.Uh&&(this.platform.window.removeEventListener("storage",this.Fl),this.removeItem(this.Ml),this.Uh=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return gt("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){gt("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Nl=function(e){var t=this;if(e.storageArea===this.storage){if(gt("SharedClientState","EVENT",e.key,e.newValue),e.key===this.Ml)return void yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sr.dh((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n,r,o,a,s;return i.__generator(this,(function(i){if(this.Uh){if(null!==e.key)if(this.xl.test(e.key)){if(null==e.newValue)return t=this.ad(e.key),[2,this.ud(t,null)];if(n=this._d(e.key,e.newValue))return[2,this.ud(n.clientId,n)]}else if(this.Ol.test(e.key)){if(null!==e.newValue&&(r=this.ld(e.key,e.newValue)))return[2,this.dd(r)]}else if(this.Bl.test(e.key)){if(null!==e.newValue&&(o=this.fd(e.key,e.newValue)))return[2,this.Td(o)]}else if(e.key===this.ql){if(null!==e.newValue&&(a=this.Ql(e.newValue)))return[2,this.Wl(a)]}else e.key===this.Ll&&(s=function(e){var t=Ut.vr;if(null!=e)try{var n=JSON.parse(e);Ct("number"==typeof n),t=n}catch(e){yt("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==Ut.vr&&this.gr(s)}else this.$l.push(e);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Zl",{get:function(){return this.kl.get(this.Cl)},enumerable:!0,configurable:!0}),e.prototype.Ul=function(){this.setItem(this.Ml,this.Zl.vl())},e.prototype.Hl=function(e,t,n){var r=new oi(this.currentUser,e,t,n),i=ri(this.persistenceKey,this.currentUser,e);this.setItem(i,r.vl())},e.prototype.Jl=function(e){var t=ri(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.od=function(e){this.storage.setItem(this.ql,JSON.stringify({clientId:this.Cl,onlineState:e}))},e.prototype.rd=function(e,t,n){var r=ii(this.persistenceKey,e),i=new ai(e,t,n);this.setItem(r,i.vl())},e.prototype.ad=function(e){var t=this.xl.exec(e);return t?t[1]:null},e.prototype._d=function(e,t){var n=this.ad(e);return si.bl(n,t)},e.prototype.ld=function(e,t){var n=this.Ol.exec(e),r=Number(n[1]);return oi.bl(new h(void 0!==n[2]?n[2]:null),r,t)},e.prototype.fd=function(e,t){var n=this.Bl.exec(e),r=Number(n[1]);return ai.bl(r,t)},e.prototype.Ql=function(e){return ci.bl(e)},e.prototype.dd=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.cl.Ed(e.batchId,e.state,e.error)]:(gt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.Td=function(e){return this.cl.Id(e.targetId,e.state,e.error)},e.prototype.ud=function(e,t){var n=this,r=t?this.kl.me(e,t):this.kl.remove(e),i=this.Kl(this.kl),o=this.Kl(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.cl.wd(a,s).then((function(){n.kl=r}))},e.prototype.Wl=function(e){this.kl.get(e.clientId)&&this.b_(e.onlineState)},e.prototype.Kl=function(e){var t=Xe();return e.forEach((function(e,n){t=t.He(n.activeTargetIds)})),t},e}(),hi=function(){function e(){this.Rd=new ui,this.md={},this.cl=null,this.b_=null,this.gr=null}return e.prototype.zl=function(e){},e.prototype.Yl=function(e,t,n){},e.prototype.Xl=function(e){return this.Rd.Sl(e),this.md[e]||"not-current"},e.prototype.nd=function(e,t,n){this.md[e]=t},e.prototype.td=function(e){this.Rd.Dl(e)},e.prototype.ed=function(e){return this.Rd.activeTargetIds.has(e)},e.prototype.sd=function(e){delete this.md[e]},e.prototype.jl=function(){return this.Rd.activeTargetIds},e.prototype.Gl=function(e){return this.Rd.activeTargetIds.has(e)},e.prototype.start=function(){return this.Rd=new ui,Promise.resolve()},e.prototype.Qu=function(e,t,n){},e.prototype.hd=function(e){},e.prototype.Iu=function(){},e.prototype.br=function(e){},e}(),fi=function(e){this.key=e},di=function(e){this.key=e},pi=function(){function e(e,t){this.query=e,this.Ad=t,this.Pd=null,this.fs=!1,this.Vd=Ke(),this.ns=Ke(),this.gd=new Je(e.se.bind(e))}return Object.defineProperty(e.prototype,"pd",{get:function(){return this.Ad},enumerable:!0,configurable:!0}),e.prototype.yd=function(e,t){var n=this,r=t?t.bd:new Ze,i=t?t.gd:this.gd,o=t?t.ns:this.ns,a=i,s=!1,c=this.query.oe()&&i.size===this.query.limit?i.last():null,u=this.query.ae()&&i.size===this.query.limit?i.first():null;if(e.pe((function(e,t){var l=i.get(e),h=t instanceof ye?t:null;h&&(h=n.query.matches(h)?h:null);var f=!!l&&n.ns.has(l.key),d=!!h&&(h.At||n.ns.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.vd(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.query.se(h,c)>0||u&&n.query.se(h,u)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),this.query.oe()||this.query.ae())for(;a.size>this.query.limit;){var l=this.query.oe()?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{gd:a,bd:r,Sd:s,ns:o}},e.prototype.vd=function(e,t){return e.At&&t.hasCommittedMutations&&!t.At},e.prototype.Zn=function(e,t,n){var r=this,i=this.gd;this.gd=e.gd,this.ns=e.ns;var o=e.bd.es();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return n(e)-n(t)}(e.type,t.type)||r.query.se(e.doc,t.doc)})),this.Dd(n);var a=t?this.Cd():[],s=0===this.Vd.size&&this.fs?1:0,c=s!==this.Pd;return this.Pd=s,0!==o.length||c?{snapshot:new $e(this.query,e.gd,i,o,e.ns,0===s,c,!1),Fd:a}:{Fd:a}},e.prototype.Nd=function(e){return this.fs&&"Offline"===e?(this.fs=!1,this.Zn({gd:this.gd,bd:new Ze,ns:this.ns,Sd:!1},!1)):{Fd:[]}},e.prototype.kd=function(e){return!this.Ad.has(e)&&!!this.gd.has(e)&&!this.gd.get(e).At},e.prototype.Dd=function(e){var t=this;e&&(e.Ts.forEach((function(e){return t.Ad=t.Ad.add(e)})),e.Es.forEach((function(e){})),e.Is.forEach((function(e){return t.Ad=t.Ad.delete(e)})),this.fs=e.fs)},e.prototype.Cd=function(){var e=this;if(!this.fs)return[];var t=this.Vd;this.Vd=Ke(),this.gd.forEach((function(t){e.kd(t.key)&&(e.Vd=e.Vd.add(t.key))}));var n=[];return t.forEach((function(t){e.Vd.has(t)||n.push(new di(t))})),this.Vd.forEach((function(e){t.has(e)||n.push(new fi(e))})),n},e.prototype.$d=function(e){this.Ad=e.rc,this.Vd=Ke();var t=this.yd(e.documents);return this.Zn(t,!0)},e.prototype.Md=function(){return $e.os(this.query,this.gd,this.ns,0===this.Pd)},e}(),vi=function(){function e(e,t,n,r){this.qr=e,this.Ld=t,this.updateFunction=n,this.Wr=r,this.xd=5,this.ih=new Gt(this.qr,"transaction_retry")}return e.prototype.Od=function(){this.Bd()},e.prototype.Bd=function(){var e=this;this.ih.xr((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return i.__generator(this,(function(r){return e=this.Ld.gl(),(t=this.qd(e))&&t.then((function(t){n.qr.Hr((function(){return e.commit().then((function(){n.Wr.resolve(t)})).catch((function(e){n.Ud(e)}))}))})).catch((function(e){n.Ud(e)})),[2]}))}))}))},e.prototype.qd=function(e){try{var t=this.updateFunction(e);return!T(t)&&t.catch&&t.then?t:(this.Wr.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.Wr.reject(e),null}},e.prototype.Ud=function(e){var t=this;this.xd>0&&this.Qd(e)?(this.xd-=1,this.qr.Hr((function(){return t.Bd(),Promise.resolve()}))):this.Wr.reject(e)},e.prototype.Qd=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Re(t)}return!1},e}(),mi=function(e,t,n){this.query=e,this.targetId=t,this.view=n},gi=function(e){this.key=e,this.Wd=!1},yi=function(){function e(e,t,n,r,i){this.L_=e,this.Ld=t,this.jd=n,this.currentUser=r,this.Kd=i,this.Gd=null,this.zd=new xt((function(e){return e.canonicalId()})),this.Hd=new Map,this.Yd=[],this.Jd=new Me(E.N),this.Xd=new Map,this.Zd=new Dt,this.tf={},this.ef=new Map,this.sf=mn.Go(),this.onlineState="Unknown"}return Object.defineProperty(e.prototype,"if",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){this.Gd=e},e.prototype.listen=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nf("listen()"),(n=this.zd.get(e))?(this.jd.Xl(n.targetId),t=n.view.Md(),[3,4]):[3,1];case 1:return[4,this.L_.sc(e.ee())];case 2:return r=i.sent(),o=this.jd.Xl(r.targetId),[4,this.rf(e,r.targetId,"current"===o)];case 3:t=i.sent(),this.if&&this.Ld.listen(r),i.label=4;case 4:return[2,t]}}))}))},e.prototype.rf=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,c,u;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.L_.nc(e,!0)];case 1:return r=i.sent(),o=new pi(e,r.rc),a=o.yd(r.documents),s=tt.ds(t,n&&"Offline"!==this.onlineState),c=o.Zn(a,this.if,s),this.hf(t,c.Fd),u=new mi(e,t,o),[2,(this.zd.set(e,u),this.Hd.has(t)?this.Hd.get(t).push(e):this.Hd.set(t,[e]),c.snapshot)]}}))}))},e.prototype.al=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nf("unlisten()"),t=this.zd.get(e),(n=this.Hd.get(t.targetId)).length>1?[2,(this.Hd.set(t.targetId,n.filter((function(t){return!t.isEqual(e)}))),void this.zd.delete(e))]:this.if?(this.jd.td(t.targetId),this.jd.Gl(t.targetId)?[3,2]:[4,this.L_.ic(t.targetId,!1).then((function(){r.jd.sd(t.targetId),r.Ld.al(t.targetId),r.af(t.targetId)})).catch(or)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.af(t.targetId),[4,this.L_.ic(t.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:this.nf("write()"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.L_.Gu(e)];case 2:return n=i.sent(),[3,4];case 3:if("IndexedDbTransactionError"===(r=i.sent()).name)return[2,(yt("SyncEngine","Dropping write that cannot be persisted: "+r),void t.reject(new d(f.UNAVAILABLE,"Failed to persist write: "+r)))];throw r;case 4:return this.jd.zl(n.batchId),this.uf(n.batchId,t),[4,this.cf(n.Wn)];case 5:return i.sent(),[4,this.Ld.nl()];case 6:return i.sent(),[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new vi(e,this.Ld,t,n).Od()},e.prototype.Yu=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.nf("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.L_.Yu(e)];case 2:return t=r.sent(),e.as.forEach((function(e,t){var r=n.Xd.get(t);r&&(Ct(e.Ts.size+e.Es.size+e.Is.size<=1),e.Ts.size>0?r.Wd=!0:e.Es.size>0?Ct(r.Wd):e.Is.size>0&&(Ct(r.Wd),r.Wd=!1))})),[4,this.cf(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,or(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.Nd=function(e,t){this.nf("applyOnlineStateChange()");var n=[];this.zd.forEach((function(t,r){var i=r.view.Nd(e);i.snapshot&&n.push(i.snapshot)})),this.Gd._f(e),this.Gd.h_(n),this.onlineState=e},e.prototype.fl=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nf("rejectListens()"),this.jd.nd(e,"rejected",t),n=this.Xd.get(e),(r=n&&n.key)?(this.Jd=this.Jd.remove(r),this.Xd.delete(e),this.lf(),o=(o=new Me(E.N)).me(r,new _e(r,b.min())),a=Ke().add(r),s=new et(b.min(),new Map,new Le(St),o,a),[2,this.Yu(s)]):[4,this.L_.ic(e,!1).then((function(){return c.af(e,t)})).catch(or)];case 1:return i.sent(),[2]}}))}))},e.prototype.ml=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.nf("applySuccessfulWrite()"),this.df(t=e.batch.batchId,null),this.ff(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.L_.yo(e)];case 2:return n=r.sent(),this.jd.Yl(t,"acknowledged"),[4,this.cf(n)];case 3:return r.sent(),[3,6];case 4:return[4,or(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.Vl=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.nf("rejectFailedWrite()"),this.df(e,t),this.ff(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.L_.Hu(e)];case 2:return n=r.sent(),this.jd.Yl(e,"rejected",t),[4,this.cf(n)];case 3:return r.sent(),[3,6];case 4:return[4,or(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.Tf=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Ld.W_()||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.L_.Lo()];case 1:return-1===(t=r.sent())?[2,void e.resolve()]:((n=this.ef.get(t)||[]).push(e),this.ef.set(t,n),[2])}}))}))},e.prototype.ff=function(e){(this.ef.get(e)||[]).forEach((function(e){e.resolve()})),this.ef.delete(e)},e.prototype.Ef=function(e){this.ef.forEach((function(t){t.forEach((function(t){t.reject(new d(f.CANCELLED,e))}))})),this.ef.clear()},e.prototype.uf=function(e,t){var n=this.tf[this.currentUser.s()];n||(n=new Me(St)),n=n.me(e,t),this.tf[this.currentUser.s()]=n},e.prototype.df=function(e,t){var n=this.tf[this.currentUser.s()];if(n){var r=n.get(e);r&&(t?r.reject(t):r.resolve(),n=n.remove(e)),this.tf[this.currentUser.s()]=n}},e.prototype.af=function(e,t){var n=this;void 0===t&&(t=null),this.jd.td(e);for(var r=0,i=this.Hd.get(e);r<i.length;r++){var o=i[r];this.zd.delete(o),t&&this.Gd.If(o,t)}if(this.Hd.delete(e),this.if){var a=this.Zd.Cn(e);this.Zd.Sn(e),a.forEach((function(e){n.Zd.Fn(e)||n.wf(e)}))}},e.prototype.wf=function(e){var t=this.Jd.get(e);null!==t&&(this.Ld.al(t),this.Jd=this.Jd.remove(e),this.Xd.delete(t),this.lf())},e.prototype.hf=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof fi?(this.Zd.gn(i.key,e),this.Rf(i)):i instanceof di?(gt("SyncEngine","Document no longer in limbo: "+i.key),this.Zd.yn(i.key,e),this.Zd.Fn(i.key)||this.wf(i.key)):bt()}},e.prototype.Rf=function(e){var t=e.key;this.Jd.get(t)||(gt("SyncEngine","New document in limbo: "+t),this.Yd.push(t),this.lf())},e.prototype.lf=function(){for(;this.Yd.length>0&&this.Jd.size<this.Kd;){var e=this.Yd.shift(),t=this.sf.next();this.Xd.set(t,new gi(e)),this.Jd=this.Jd.me(e,t),this.Ld.listen(new Ae(ke.Wt(e.path).ee(),t,2,Ut.vr))}},e.prototype.mf=function(){return this.Jd},e.prototype.Af=function(){return this.Yd},e.prototype.cf=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.zd.forEach((function(i,s){o.push(Promise.resolve().then((function(){var t=s.view.yd(e);return t.Sd?a.L_.nc(s.query,!1).then((function(e){return s.view.yd(e.documents,t)})):t})).then((function(e){var i=t&&t.as.get(s.targetId),o=s.view.Zn(e,a.if,i);if(a.hf(s.targetId,o.Fd),o.snapshot){a.if&&a.jd.nd(s.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var c=Vt.Vr(s.targetId,o.snapshot);r.push(c)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.Gd.h_(n),[4,this.L_.Zu(r)];case 2:return i.sent(),[2]}}))}))},e.prototype.nf=function(e){},e.prototype.pl=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.Ef("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.L_.Qu(e)]):[3,3];case 1:return n=r.sent(),this.jd.Qu(e,n.ju,n.Ku),[4,this.cf(n.Wu)];case 2:r.sent(),r.label=3;case 3:return[4,this.Ld.pl()];case 4:return r.sent(),[2]}}))}))},e.prototype.enableNetwork=function(){return this.Ld.enableNetwork()},e.prototype.disableNetwork=function(){return this.Ld.disableNetwork()},e.prototype.ei=function(e){var t=this.Xd.get(e);if(t&&t.Wd)return Ke().add(t.key);var n=Ke(),r=this.Hd.get(e);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var a=this.zd.get(o[i]);n=n.He(a.view.pd)}return n},e}(),_i=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,n,r,i,o)||this).L_=t,a.isPrimary=void 0,a}return i.__extends(t,e),Object.defineProperty(t.prototype,"if",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.enableNetwork=function(){return this.L_.ru(!0),e.prototype.enableNetwork.call(this)},t.prototype.disableNetwork=function(){return this.L_.ru(!1),e.prototype.disableNetwork.call(this)},t.prototype.Pf=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.L_.nc(e.query,!0)];case 1:return t=r.sent(),n=e.view.$d(t),[2,(this.isPrimary&&this.hf(e.targetId,n.Fd),n)]}}))}))},t.prototype.Nd=function(t,n){this.if&&0===n&&(e.prototype.Nd.call(this,t,n),this.jd.hd(t)),this.if||1!==n||e.prototype.Nd.call(this,t,n)},t.prototype.Ed=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this.nf("applyBatchState()"),[4,this.L_.ac(e)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==t?[3,3]:[4,this.Ld.nl()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.df(e,n||null),this.L_.uc(e)):bt(),i.label=4;case 4:return[4,this.cf(r)];case 5:return i.sent(),[3,7];case 6:gt("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))},t.prototype.yl=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a,s,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Ld.yl(!0)]);case 1:return i.sent(),t=this.jd.jl(),[4,this.Vf(t.W())];case 2:for(n=i.sent(),r=0,o=n;r<o.length;r++)this.Ld.listen(o[r]);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),this.Hd.forEach((function(e,t){c.jd.ed(t)?a.push(t):s=s.then((function(){return c.af(t),c.L_.ic(t,!0)})),c.Ld.al(t)})),[4,s]);case 4:return i.sent(),[4,this.Vf(a)];case 5:return i.sent(),this.gf(),[4,this.Ld.yl(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},t.prototype.gf=function(){var e=this;this.Xd.forEach((function(t,n){e.Ld.al(n)})),this.Zd.Dn(),this.Xd=new Map,this.Jd=new Me(E.N)},t.prototype.Vf=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a,s,c,u,l,h,f,d;return i.__generator(this,(function(i){switch(i.label){case 0:t=[],n=[],r=0,o=e,i.label=1;case 1:return r<o.length?(s=void 0,(c=this.Hd.get(a=o[r]))&&0!==c.length?[4,this.L_.ic(a,!0)]:[3,8]):[3,14];case 2:return i.sent(),[4,this.L_.sc(c[0].ee())];case 3:s=i.sent(),u=0,l=c,i.label=4;case 4:return u<l.length?(h=this.zd.get(l[u]),[4,this.Pf(h)]):[3,7];case 5:(f=i.sent()).snapshot&&n.push(f.snapshot),i.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return[4,this.L_.cc(a)];case 9:return d=i.sent(),[4,this.L_.sc(d)];case 10:return s=i.sent(),[4,this.rf(this.pf(d),a,!1)];case 11:i.sent(),i.label=12;case 12:t.push(s),i.label=13;case 13:return r++,[3,1];case 14:return[2,(this.Gd.h_(n),t)]}}))}))},t.prototype.pf=function(e){return new ke(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)},t.prototype.Pu=function(){return this.L_.Pu()},t.prototype.Id=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.isPrimary?(gt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.Hd.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.L_.Va()];case 3:return r=i.sent(),o=et.ls(e,"current"===t),[4,this.cf(r,o)];case 4:return i.sent(),[3,8];case 5:return[4,this.L_.ic(e,!0)];case 6:return i.sent(),this.af(e,n),[3,8];case 7:bt(),i.label=8;case 8:return[2]}}))}))},t.prototype.wd=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,c,u,l,h,f=this;return i.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[3,10];n=0,r=e,d.label=1;case 1:return n<r.length?this.Hd.has(o=r[n])?(gt("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.L_.cc(o)]:[3,6];case 2:return a=d.sent(),[4,this.L_.sc(a)];case 3:return s=d.sent(),[4,this.rf(this.pf(a),s.targetId,!1)];case 4:d.sent(),this.Ld.listen(s),d.label=5;case 5:return n++,[3,1];case 6:c=function(e){return i.__generator(this,(function(t){switch(t.label){case 0:return u.Hd.has(e)?[4,u.L_.ic(e,!1).then((function(){f.Ld.al(e),f.af(e)})).catch(or)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},u=this,l=0,h=t,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},t}(yi),bi=function(){this.yf=void 0,this.bf=[]},Ci=function(){function e(e){this.cl=e,this.vf=new xt((function(e){return e.canonicalId()})),this.onlineState="Unknown",this.Sf=new Set,this.cl.subscribe(this)}return e.prototype.listen=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.vf.get(t=e.query))||(n=!0,r=new bi),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.cl.listen(t)];case 2:return o.yf=i.sent(),[3,4];case 3:if(a=i.sent(),yt("EventManager",s="Initialization of query '"+t+"' failed: "+a),"IndexedDbTransactionError"!==a.name)throw a;return[2,void e.onError(new d(f.UNAVAILABLE,s))];case 4:return this.vf.set(t,r),r.bf.push(e),e.Nd(this.onlineState),r.yf&&e.Df(r.yf)&&this.Cf(),[2]}}))}))},e.prototype.al=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.vf.get(t=e.query))&&(o=r.bf.indexOf(e))>=0&&(r.bf.splice(o,1),n=0===r.bf.length),n?[2,(this.vf.delete(t),this.cl.al(t))]:[2]}))}))},e.prototype.h_=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=this.vf.get(i.query);if(o){for(var a=0,s=o.bf;a<s.length;a++)s[a].Df(i)&&(t=!0);o.yf=i}}t&&this.Cf()},e.prototype.If=function(e,t){var n=this.vf.get(e);if(n)for(var r=0,i=n.bf;r<i.length;r++)i[r].onError(t);this.vf.delete(e)},e.prototype._f=function(e){this.onlineState=e;var t=!1;this.vf.forEach((function(n,r){for(var i=0,o=r.bf;i<o.length;i++)o[i].Nd(e)&&(t=!0)})),t&&this.Cf()},e.prototype.Ff=function(e){this.Sf.add(e),e.next()},e.prototype.Nf=function(e){this.Sf.delete(e)},e.prototype.Cf=function(){this.Sf.forEach((function(e){e.next()}))},e}(),ki=function(){function e(e,t,n){this.query=e,this.kf=t,this.$f=!1,this.Mf=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Df=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new $e(e.query,e.docs,e.ss,t,e.ns,e.fromCache,e.rs,!0)}var o=!1;return this.$f?this.Lf(e)&&(this.kf.next(e),o=!0):this.xf(e,this.onlineState)&&(this.Of(e),o=!0),this.Mf=e,o},e.prototype.onError=function(e){this.kf.error(e)},e.prototype.Nd=function(e){this.onlineState=e;var t=!1;return this.Mf&&!this.$f&&this.xf(this.Mf,e)&&(this.Of(this.Mf),t=!0),t},e.prototype.xf=function(e,t){return!e.fromCache||!(this.options.Bf&&"Offline"!==t||e.docs.B()&&"Offline"!==t)},e.prototype.Lf=function(e){return e.docChanges.length>0||!!(e.rs||this.Mf&&this.Mf.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.Of=function(e){e=$e.os(e.query,e.docs,e.ns,e.fromCache),this.$f=!0,this.kf.next(e)},e}(),wi=function(){function e(){}return e.prototype.Uu=function(e){this.qf=e},e.prototype.dr=function(e,t,n,r){var i=this;return t.te()||n.isEqual(b.min())?this.Uf(e,t):this.qf.cr(e,r).next((function(o){var s=i.Qf(t,o);return(t.oe()||t.ae())&&i.Sd(t.Bt,s,r,n)?i.Uf(e,t):(vt()<=a.LogLevel.DEBUG&&gt("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),t.toString()),i.qf.dr(e,t,n).next((function(e){return s.forEach((function(t){e=e.me(t.key,t)})),e})))}))},e.prototype.Qf=function(e,t){var n=new Le((function(t,n){return e.se(t,n)}));return t.forEach((function(t,r){r instanceof ye&&e.matches(r)&&(n=n.add(r))})),n},e.prototype.Sd=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.S(r)>0)},e.prototype.Uf=function(e,t){return vt()<=a.LogLevel.DEBUG&&gt("IndexFreeQueryEngine","Using full collection scan to execute query: %s",t.toString()),this.qf.dr(e,t,b.min())},e}(),Si=function(){function e(e,t){this.rr=e,this.Ao=t,this.nr=[],this.Wf=1,this.lastStreamToken=x.ht,this.jf=new Le(Rt.An)}return e.prototype.po=function(e){return jt.resolve(0===this.nr.length)},e.prototype.yo=function(e,t,n){return Ct(0===this.Kf(t.batchId,"acknowledged")),this.lastStreamToken=n,jt.resolve()},e.prototype.vo=function(e){return jt.resolve(this.lastStreamToken)},e.prototype.So=function(e,t){return this.lastStreamToken=t,jt.resolve()},e.prototype.Do=function(e,t,n,r){var i=this.Wf;this.Wf++;var o=new Tt(i,t,n,r);this.nr.push(o);for(var a=0,s=r;a<s.length;a++){var c=s[a];this.jf=this.jf.add(new Rt(c.key,i)),this.rr.Fo(e,c.key.path.M())}return jt.resolve(o)},e.prototype.No=function(e,t){return jt.resolve(this.Gf(t))},e.prototype.Mo=function(e,t){var n=this.zf(t+1),r=n<0?0:n;return jt.resolve(this.nr.length>r?this.nr[r]:null)},e.prototype.Lo=function(){return jt.resolve(0===this.nr.length?-1:this.Wf-1)},e.prototype.xo=function(e){return jt.resolve(this.nr.slice())},e.prototype.or=function(e,t){var n=this,r=new Rt(t,0),i=new Rt(t,Number.POSITIVE_INFINITY),o=[];return this.jf.Ke([r,i],(function(e){var t=n.Gf(e.Nn);o.push(t)})),jt.resolve(o)},e.prototype.lr=function(e,t){var n=this,r=new Le(St);return t.forEach((function(e){var t=new Rt(e,0),i=new Rt(e,Number.POSITIVE_INFINITY);n.jf.Ke([t,i],(function(e){r=r.add(e.Nn)}))})),jt.resolve(this.Hf(r))},e.prototype.Rr=function(e,t){var n=t.path,r=n.length+1,i=n;E.et(i)||(i=i.child(""));var o=new Rt(new E(i),0),a=new Le(St);return this.jf.Ge((function(e){var t=e.key.path;return!!n.q(t)&&(t.length===r&&(a=a.add(e.Nn)),!0)}),o),jt.resolve(this.Hf(a))},e.prototype.Hf=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Gf(e);null!==r&&n.push(r)})),n},e.prototype.Bo=function(e,t){var n=this;Ct(0===this.Kf(t.batchId,"removed")),this.nr.shift();var r=this.jf;return jt.forEach(t.mutations,(function(i){var o=new Rt(i.key,t.batchId);return r=r.delete(o),n.Ao.Qo(e,i.key)})).next((function(){n.jf=r}))},e.prototype.Uo=function(e){},e.prototype.Fn=function(e,t){var n=new Rt(t,0),r=this.jf.ze(n);return jt.resolve(t.isEqual(r&&r.key))},e.prototype.Wo=function(e){return jt.resolve()},e.prototype.Kf=function(e,t){return this.zf(e)},e.prototype.zf=function(e){return 0===this.nr.length?0:e-this.nr[0].batchId},e.prototype.Gf=function(e){var t=this.zf(e);return t<0||t>=this.nr.length?null:this.nr[t]},e}(),Ei=function(){function e(e,t){this.rr=e,this.Yf=t,this.docs=new Me(E.N),this.size=0}return e.prototype.Gn=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.Yf(t);return this.docs=this.docs.me(r,{Ea:t,size:a,readTime:n}),this.size+=a-o,this.rr.Fo(e,r.path.M())},e.prototype.Hn=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.Yn=function(e,t){var n=this.docs.get(t);return jt.resolve(n?n.Ea:null)},e.prototype.getEntries=function(e,t){var n=this,r=Ge();return t.forEach((function(e){var t=n.docs.get(e);r=r.me(e,t?t.Ea:null)})),jt.resolve(r)},e.prototype.dr=function(e,t,n){for(var r=ze(),i=new E(t.path.child("")),o=this.docs.ve(i);o.ke();){var a=o.Ne(),s=a.value,c=s.Ea,u=s.readTime;if(!t.path.q(a.key.path))break;u.S(n)<=0||c instanceof ye&&t.matches(c)&&(r=r.me(c.key,c))}return jt.resolve(r)},e.prototype.Jf=function(e,t){return jt.forEach(this.docs,(function(e){return t(e)}))},e.prototype.ba=function(t){return new e.va(this)},e.prototype.Da=function(e){return jt.resolve(this.size)},e}();Ei.va=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ca=t,n}return i.__extends(t,e),t.prototype.Zn=function(e){var t=this,n=[];return this.Wn.forEach((function(r,i){i?n.push(t.Ca.Gn(e,i,t.readTime)):t.Ca.Hn(r)})),jt.Un(n)},t.prototype.Jn=function(e,t){return this.Ca.Yn(e,t)},t.prototype.Xn=function(e,t){return this.Ca.getEntries(e,t)},t}(Mt);var Ii=function(){function e(e){this.persistence=e,this.Xf=new xt((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=b.min(),this.highestTargetId=0,this.Zf=0,this.tT=new Dt,this.targetCount=0,this.eT=mn.Ko()}return e.prototype.js=function(e,t){return this.Xf.forEach((function(e,n){return t(n)})),jt.resolve()},e.prototype.Jo=function(e){return jt.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Xo=function(e){return jt.resolve(this.Zf)},e.prototype.zo=function(e){return this.highestTargetId=this.eT.next(),jt.resolve(this.highestTargetId)},e.prototype.Zo=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Zf&&(this.Zf=t),jt.resolve()},e.prototype.ea=function(e){this.Xf.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.eT=new mn(t),this.highestTargetId=t),e.sequenceNumber>this.Zf&&(this.Zf=e.sequenceNumber)},e.prototype.ta=function(e,t){return this.ea(t),this.targetCount+=1,jt.resolve()},e.prototype.ia=function(e,t){return this.ea(t),jt.resolve()},e.prototype.na=function(e,t){return this.Xf.delete(t.target),this.tT.Sn(t.targetId),this.targetCount-=1,jt.resolve()},e.prototype.Hh=function(e,t,n){var r=this,i=0,o=[];return this.Xf.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Xf.delete(a),o.push(r.ra(e,s.targetId)),i++)})),jt.Un(o).next((function(){return i}))},e.prototype.aa=function(e){return jt.resolve(this.targetCount)},e.prototype.ua=function(e,t){var n=this.Xf.get(t)||null;return jt.resolve(n)},e.prototype.ca=function(e,t,n){this.tT.pn(t,n);var r=this.persistence.Ao,i=[];return r&&t.forEach((function(t){i.push(r.gn(e,t))})),jt.Un(i)},e.prototype._a=function(e,t,n){this.tT.vn(t,n);var r=this.persistence.Ao,i=[];return r&&t.forEach((function(t){i.push(r.yn(e,t))})),jt.Un(i)},e.prototype.ra=function(e,t){return this.tT.Sn(t),jt.resolve()},e.prototype.la=function(e,t){var n=this.tT.Cn(t);return jt.resolve(n)},e.prototype.Fn=function(e,t){return jt.resolve(this.tT.Fn(t))},e}(),Oi=function(){function e(e){var t=this;this.sT={},this.su=new Ut(0),this.qa=!1,this.qa=!0,this.Ao=e(this),this.Ha=new Ii(this),this.rr=new On,this.ir=new Ei(this.rr,(function(e){return t.Ao.iT(e)}))}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Iu=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Uh",{get:function(){return this.qa},enumerable:!0,configurable:!0}),e.prototype.nu=function(){},e.prototype.yu=function(){return this.rr},e.prototype.Vu=function(e){var t=this.sT[e.s()];return t||(t=new Si(this.rr,this.Ao),this.sT[e.s()]=t),t},e.prototype.gu=function(){return this.Ha},e.prototype.pu=function(){return this.ir},e.prototype.runTransaction=function(e,t,n){var r=this;gt("MemoryPersistence","Starting transaction:",e);var i=new Pi(this.su.next());return this.Ao.nT(),n(i).next((function(e){return r.Ao.rT(i).next((function(){return e}))})).Bn().then((function(e){return i.sr(),e}))},e.prototype.hT=function(e,t){return jt.Qn(Object.values(this.sT).map((function(n){return function(){return n.Fn(e,t)}})))},e}(),Pi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Oa=t,n}return i.__extends(t,e),t}(Ft),xi=function(){function e(e){this.persistence=e,this.Su=null,this.oT=null}return e.aT=function(t){return new e(t)},Object.defineProperty(e.prototype,"uT",{get:function(){if(this.oT)return this.oT;throw bt()},enumerable:!0,configurable:!0}),e.prototype.Fu=function(e){this.Su=e},e.prototype.gn=function(e,t){return this.uT.delete(t),jt.resolve()},e.prototype.yn=function(e,t){return this.uT.add(t),jt.resolve()},e.prototype.Qo=function(e,t){return this.uT.add(t),jt.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.gu();return r.la(e,t.targetId).next((function(e){e.forEach((function(e){return n.uT.add(e)}))})).next((function(){return r.na(e,t)}))},e.prototype.nT=function(){this.oT=new Set},e.prototype.rT=function(e){var t=this,n=this.persistence.pu().ba();return jt.forEach(this.uT,(function(r){return t.cT(e,r).next((function(e){e||n.Hn(r)}))})).next((function(){return t.oT=null,n.apply(e)}))},e.prototype.ku=function(e,t){var n=this;return this.cT(e,t).next((function(e){e?n.uT.delete(t):n.uT.add(t)}))},e.prototype.iT=function(e){return 0},e.prototype.cT=function(e,t){var n=this;return jt.Qn([function(){return n.persistence.gu().Fn(e,t)},function(){return n.persistence.hT(e,t)},function(){return jt.resolve(n.Su.Fn(t))}])},e}(),Ti=function(){function e(){}return e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.jd=this._T(e),this.persistence=this.lT(e),[4,this.persistence.start()];case 1:return n.sent(),this.dT=this.fT(e),this.L_=this.TT(e),this.Ld=this.ET(e),this.cl=this.IT(e),this.wT=this.RT(e),this.jd.b_=function(e){return t.cl.Nd(e,1)},this.Ld.cl=this.cl,[4,this.L_.start()];case 2:return n.sent(),[4,this.jd.start()];case 3:return n.sent(),[4,this.Ld.start()];case 4:return n.sent(),[4,this.Ld.yl(this.cl.if)];case 5:return n.sent(),[2]}}))}))},e.prototype.RT=function(e){return new Ci(this.cl)},e.prototype.fT=function(e){return null},e.prototype.TT=function(e){return new rr(this.persistence,new wi,e.mT)},e.prototype.lT=function(e){return new Oi(xi.aT)},e.prototype.ET=function(e){var t=this;return new ti(this.L_,e.w_,e.qr,(function(e){return t.cl.Nd(e,0)}),e.platform.AT())},e.prototype._T=function(e){return new hi},e.prototype.IT=function(e){return new yi(this.L_,this.Ld,this.jd,e.mT,e.Kd)},e.prototype.clearPersistence=function(e){throw new d(f.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},e}(),Ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,this.persistence.iu((function(e){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.cl.yl(e)];case 1:return t.sent(),this.dT&&(e&&!this.dT.Uh?this.dT.start(this.L_):e||this.dT.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},t.prototype.TT=function(e){return new ir(this.persistence,new wi,e.mT)},t.prototype.IT=function(e){var t=new _i(this.L_,this.Ld,this.jd,e.mT,e.Kd);return this.jd instanceof li&&(this.jd.cl=t),t},t.prototype.fT=function(e){return new Qt(this.persistence.Ao.Lh,e.qr)},t.prototype.lT=function(e){var t=Zn.vu(e.PT),n=e.platform.Dc(e.PT.ii);return new Zn(e.VT.synchronizeTabs,t,e.clientId,e.platform,Kt.Dh(e.VT.cacheSizeBytes),e.qr,n,this.jd)},t.prototype._T=function(e){if(e.VT.gT&&e.VT.synchronizeTabs){if(!li.so(e.platform))throw new d(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var t=Zn.vu(e.PT);return new li(e.qr,e.platform,t,e.clientId,e.mT)}return new hi},t.prototype.clearPersistence=function(e){var t=Zn.vu(e);return Zn.clearPersistence(t)},t}(Ti),Di=function(){function e(e,t,n,r){this.platform=e,this.PT=t,this.credentials=n,this.qr=r,this.clientId=wt.cn()}return e.prototype.start=function(e,t){var n=this;this.pT();var r=new Bt,i=new Bt,o=!1;return this.credentials.l((function(a){if(!o)return o=!0,gt("FirestoreClient","Initializing. user=",a.uid),n.yT(e,t,a,i).then(r.resolve,r.reject);n.qr.Hr((function(){return n.pl(a)}))})),this.qr.Hr((function(){return r.promise})),i.promise},e.prototype.enableNetwork=function(){var e=this;return this.pT(),this.qr.enqueue((function(){return e.cl.enableNetwork()}))},e.prototype.yT=function(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,a,s,c,u=this;return i.__generator(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,this.platform.bT(this.PT)];case 1:return o=l.sent(),a=this.platform.Dc(this.PT.ii),s=function(e,t,n){return new Zr(e,t,n)}(o,this.credentials,a),[4,e.initialize({qr:this.qr,PT:this.PT,platform:this.platform,w_:s,clientId:this.clientId,mT:n,Kd:100,VT:t})];case 2:return l.sent(),this.persistence=e.persistence,this.jd=e.jd,this.L_=e.L_,this.Ld=e.Ld,this.cl=e.cl,this.dT=e.dT,this.vT=e.wT,this.persistence.nu((function(){return i.__awaiter(u,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(c=l.sent(),r.reject(c),!this.ST(c))throw c;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),this.yT(new Ti,{gT:!1},n,r))];case 4:return[2]}}))}))},e.prototype.ST=function(e){return"FirebaseError"===e.name?e.code===f.FAILED_PRECONDITION||e.code===f.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.pT=function(){if(this.qr.hh)throw new d(f.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pl=function(e){return this.qr.Th(),gt("FirestoreClient","Credential Changed. Current user: "+e.uid),this.cl.pl(e)},e.prototype.disableNetwork=function(){var e=this;return this.pT(),this.qr.enqueue((function(){return e.cl.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.qr.lh((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.dT&&this.dT.stop(),[4,this.Ld.Iu()];case 1:return e.sent(),[4,this.jd.Iu()];case 2:return e.sent(),[4,this.persistence.Iu()];case 3:return e.sent(),this.credentials.T(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.pT();var t=new Bt;return this.qr.Hr((function(){return e.cl.Tf(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.pT();var i=new ki(e,t,n);return this.qr.Hr((function(){return r.vT.listen(i)})),i},e.prototype.al=function(e){var t=this;this.DT||this.qr.Hr((function(){return t.vT.al(e)}))},e.prototype.CT=function(e){var t=this;return this.pT(),this.qr.enqueue((function(){return t.L_.ec(e)})).then((function(e){if(e instanceof ye)return e;if(e instanceof _e)return null;throw new d(f.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.FT=function(e){var t=this;return this.pT(),this.qr.enqueue((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.L_.nc(e,!0)];case 1:return t=i.sent(),n=new pi(e,t.rc),r=n.yd(t.documents),[2,n.Zn(r,!1).snapshot]}}))}))}))},e.prototype.write=function(e){var t=this;this.pT();var n=new Bt;return this.qr.Hr((function(){return t.cl.write(e,n)})),n.promise},e.prototype.ii=function(){return this.PT.ii},e.prototype.Ff=function(e){var t=this;this.pT(),this.qr.Hr((function(){return t.vT.Ff(e),Promise.resolve()}))},e.prototype.Nf=function(e){this.DT||this.vT.Nf(e)},Object.defineProperty(e.prototype,"DT",{get:function(){return this.qr.hh},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.pT();var n=new Bt;return this.qr.Hr((function(){return t.cl.runTransaction(t.qr,e,n),Promise.resolve()})),n.promise},e}(),Ri=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.NT(this.observer.next,e)},e.prototype.error=function(e){this.NT(this.observer.error,e)},e.prototype.kT=function(){this.muted=!0},e.prototype.NT=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}();function ji(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Mi=function(){function e(e,t,n,r){this.firestore=e,this.timestampsInSnapshots=t,this.$T=n,this.converter=r}return e.prototype.MT=function(e){switch(N(e)){case 0:return null;case 1:return e.booleanValue;case 2:return H(e.integerValue||e.doubleValue);case 3:return this.LT(e.timestampValue);case 4:return this.xT(e);case 5:return e.stringValue;case 6:return new Ir(z(e.bytesValue));case 7:return this.OT(e.referenceValue);case 8:return this.BT(e.geoPointValue);case 9:return this.qT(e.arrayValue);case 10:return this.UT(e.mapValue);default:throw bt()}},e.prototype.UT=function(e){var t=this,n={};return O(e.fields||{},(function(e,r){n[e]=t.MT(r)})),n},e.prototype.BT=function(e){return new Mr(H(e.latitude),H(e.longitude))},e.prototype.qT=function(e){var t=this;return(e.values||[]).map((function(e){return t.MT(e)}))},e.prototype.xT=function(e){switch(this.$T){case"previous":var t=function e(t){var n=t.mapValue.fields.__previous_value__;return R(n)?e(n):n}(e);return null==t?null:this.MT(t);case"estimate":return this.LT(j(e));default:return null}},e.prototype.LT=function(e){var t=G(e),n=new _(t.seconds,t.nanos);return this.timestampsInSnapshots?n:n.toDate()},e.prototype.OT=function(e){var t=k.K(e);Ct(ft(t));var n=new Pt(t.get(1),t.get(3)),r=new E(t.$(5));return n.isEqual(this.firestore.Lc)||yt("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.Lc.projectId+"/"+this.firestore.Lc.database+") instead."),new Bi(r,this.firestore,this.converter)},e}(),Ni=Kt.Nh,Fi=function(){function e(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new d(f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else fr("settings","non-empty string","host",e.host),this.host=e.host,dr("settings","boolean","ssl",e.ssl),this.ssl=null===(t=e.ssl)||void 0===t||t;if(_r("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),dr("settings","object","credentials",e.credentials),this.credentials=e.credentials,dr("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?yt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===e.timestampsInSnapshots&&yt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=e.timestampsInSnapshots)||void 0===n||n,dr("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Kt.$h;else{if(e.cacheSizeBytes!==Ni&&e.cacheSizeBytes<Kt.kh)throw new d(f.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Kt.kh);this.cacheSizeBytes=e.cacheSizeBytes}dr("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),Li=function(){function e(t,n,r){var o=this;if(void 0===r&&(r=new Ti),this.QT=null,this.WT=new zt,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.jT(),[4,this.KT.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var a=t;this.QT=a,this.Lc=e.GT(a),this.zT=a.name,this.HT=new m(n)}else{var s=t;if(!s.projectId)throw new d(f.INVALID_ARGUMENT,"Must provide projectId");this.Lc=new Pt(s.projectId,s.database),this.zT="[DEFAULT]",this.HT=new v}this.YT=r,this.JT=new Fi({}),this.XT=new Br(this.Lc)}return e.prototype.settings=function(e){sr("Firestore.settings",arguments,1),lr("Firestore.settings","object",1,e);var t=new Fi(e);if(this.KT&&!this.JT.isEqual(t))throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.JT=t,void 0!==t.credentials&&(this.HT=function(e){if(!e)return new v;switch(e.type){case"gapi":var t=e.ZT;return Ct(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new y(t,e.V||"0");case"provider":return e.ZT;default:throw new d(f.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.jT(),this.KT.enableNetwork()},e.prototype.disableNetwork=function(){return this.jT(),this.KT.disableNetwork()},e.prototype.enablePersistence=function(e){var t,n;if(this.KT)throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return e&&(void 0!==e.experimentalTabSynchronization&&yt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(t=e.synchronizeTabs)&&void 0!==t?t:e.experimentalTabSynchronization)&&void 0!==n&&n),this.tE(this.YT,{gT:!0,cacheSizeBytes:this.JT.cacheSizeBytes,synchronizeTabs:r})},e.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){if(void 0!==this.KT&&!this.KT.DT)throw new d(f.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return e=new Bt,[2,(this.WT.oh((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this.eE(),[4,this.YT.clearPersistence(t)];case 1:return r.sent(),e.resolve(),[3,3];case 2:return n=r.sent(),e.reject(n),[3,3];case 3:return[2]}}))}))})),e.promise)]}))}))},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"sE",{get:function(){return this.jT(),this.KT.DT},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.jT(),this.KT.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){return this.jT(),ji(e)?this.iE(e):(lr("Firestore.onSnapshotsInSync","function",1,e),this.iE({next:e}))},e.prototype.iE=function(e){var t=this,n=new Ri({next:function(){e.next&&e.next()},error:function(e){throw bt()}});return this.KT.Ff(n),function(){n.kT(),t.KT.Nf(n)}},e.prototype.jT=function(){return this.KT||this.tE(new Ti,{gT:!1}),this.KT},e.prototype.eE=function(){return new Ot(this.Lc,this.zT,this.JT.host,this.JT.ssl,this.JT.forceLongPolling)},e.prototype.tE=function(e,t){var n=this.eE();return this.KT=new Di(dt.nt(),n,this.HT,this.WT),this.KT.start(e,t)},e.GT=function(e){if(!Object.prototype.hasOwnProperty.call(e.options,"projectId"))throw new d(f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t=e.options.projectId;if(!t||"string"!=typeof t)throw new d(f.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Pt(t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.QT)throw new d(f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.QT},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return sr("Firestore.collection",arguments,1),lr("Firestore.collection","non-empty string",1,e),this.jT(),new Yi(k.K(e),this)},e.prototype.doc=function(e){return sr("Firestore.doc",arguments,1),lr("Firestore.doc","non-empty string",1,e),this.jT(),Bi.nE(k.K(e),this)},e.prototype.collectionGroup=function(e){if(sr("Firestore.collectionGroup",arguments,1),lr("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.jT(),new qi(new ke(k.G,e),this)},e.prototype.runTransaction=function(e){var t=this;return sr("Firestore.runTransaction",arguments,1),lr("Firestore.runTransaction","function",1,e),this.jT().transaction((function(n){return e(new Vi(t,n))}))},e.prototype.batch=function(){return this.jT(),new Ui(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(vt()){case a.LogLevel.DEBUG:return"debug";case a.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(sr("Firestore.setLogLevel",arguments,1),lr("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":mt(a.LogLevel.DEBUG);break;case"error":mt(a.LogLevel.ERROR);break;case"silent":mt(a.LogLevel.SILENT);break;default:throw new d(f.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype.rE=function(){return this.JT.timestampsInSnapshots},e}(),Vi=function(){function e(e,t){this.hE=e,this.oE=t}return e.prototype.get=function(e){var t=this;sr("Transaction.get",arguments,1);var n=Ji("Transaction.get",e,this.hE);return this.oE.V_([n.xc]).then((function(e){if(!e||1!==e.length)return bt();var r=e[0];if(r instanceof _e)return new Hi(t.hE,n.xc,null,!1,!1,n.aE);if(r instanceof ye)return new Hi(t.hE,n.xc,r,!1,!1,n.aE);throw bt()}))},e.prototype.set=function(e,t,n){ur("Transaction.set",arguments,2,3);var r=Ji("Transaction.set",e,this.hE);n=Ki("Transaction.set",n);var i=$i(r.aE,t,"Transaction.set"),o=i[0],a=i[1],s=n.merge||n.mergeFields?this.hE.XT.Nc(a,o,n.mergeFields):this.hE.XT.Cc(a,o);return this.oE.set(r.xc,s),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof t||t instanceof Or?(cr("Transaction.update",arguments,3),r=Ji("Transaction.update",e,this.hE),i=this.hE.XT.$c("Transaction.update",t,n,o)):(sr("Transaction.update",arguments,2),r=Ji("Transaction.update",e,this.hE),i=this.hE.XT.kc("Transaction.update",t)),this.oE.update(r.xc,i),this},e.prototype.delete=function(e){sr("Transaction.delete",arguments,1);var t=Ji("Transaction.delete",e,this.hE);return this.oE.delete(t.xc),this},e}(),Ui=function(){function e(e){this.hE=e,this.uE=[],this.cE=!1}return e.prototype.set=function(e,t,n){ur("WriteBatch.set",arguments,2,3),this._E();var r=Ji("WriteBatch.set",e,this.hE);n=Ki("WriteBatch.set",n);var i=$i(r.aE,t,"WriteBatch.set"),o=i[0],a=i[1],s=n.merge||n.mergeFields?this.hE.XT.Nc(a,o,n.mergeFields):this.hE.XT.Cc(a,o);return this.uE=this.uE.concat(s.gc(r.xc,oe.ft())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this._E(),"string"==typeof t||t instanceof Or?(cr("WriteBatch.update",arguments,3),r=Ji("WriteBatch.update",e,this.hE),i=this.hE.XT.$c("WriteBatch.update",t,n,o)):(sr("WriteBatch.update",arguments,2),r=Ji("WriteBatch.update",e,this.hE),i=this.hE.XT.kc("WriteBatch.update",t)),this.uE=this.uE.concat(i.gc(r.xc,oe.exists(!0))),this},e.prototype.delete=function(e){sr("WriteBatch.delete",arguments,1),this._E();var t=Ji("WriteBatch.delete",e,this.hE);return this.uE=this.uE.concat(new le(t.xc,oe.ft())),this},e.prototype.commit=function(){return this._E(),this.cE=!0,this.uE.length>0?this.hE.jT().write(this.uE):Promise.resolve()},e.prototype._E=function(){if(this.cE)throw new d(f.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Bi=function(){function e(e,t,n){this.xc=e,this.firestore=t,this.aE=n,this.KT=this.firestore.jT()}return e.nE=function(t,n,r){if(t.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.j()+" has "+t.length);return new e(new E(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.xc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Yi(this.xc.path.M(),this.firestore,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.xc.path.j()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(sr("DocumentReference.collection",arguments,1),lr("DocumentReference.collection","non-empty string",1,e),!e)throw new d(f.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=k.K(e);return new Yi(this.xc.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw br("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.xc.isEqual(t.xc)&&this.aE===t.aE},e.prototype.set=function(e,t){ur("DocumentReference.set",arguments,1,2),t=Ki("DocumentReference.set",t);var n=$i(this.aE,e,"DocumentReference.set"),r=n[0],i=n[1],o=t.merge||t.mergeFields?this.firestore.XT.Nc(i,r,t.mergeFields):this.firestore.XT.Cc(i,r);return this.KT.write(o.gc(this.xc,oe.ft()))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof Or?(cr("DocumentReference.update",arguments,2),n=this.firestore.XT.$c("DocumentReference.update",e,t,r)):(sr("DocumentReference.update",arguments,1),n=this.firestore.XT.kc("DocumentReference.update",e)),this.KT.write(n.gc(this.xc,oe.exists(!0)))},e.prototype.delete=function(){return sr("DocumentReference.delete",arguments,0),this.KT.write([new le(this.xc,oe.ft())])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ur("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||ji(e[i])||(_r("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),dr("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return ji(e[i])?n=e[i]:(lr("DocumentReference.onSnapshot","function",i,e[i]),hr("DocumentReference.onSnapshot","function",i+1,e[i+1]),hr("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.lE(o,n)},e.prototype.lE=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Ri({next:function(e){if(t.next){var r=e.docs.get(n.xc);t.next(new Hi(n.firestore,n.xc,r,e.fromCache,e.hasPendingWrites,n.aE))}},error:r}),o=this.KT.listen(ke.Wt(this.xc.path),i,e);return function(){i.kT(),n.KT.al(o)}},e.prototype.get=function(e){var t=this;return ur("DocumentReference.get",arguments,0,1),Xi("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.jT().CT(t.xc).then((function(e){n(new Hi(t.firestore,t.xc,e,!0,e instanceof ye&&e.At,t.aE))}),r):t.dE(n,r,e)}))},e.prototype.dE=function(e,t,n){var r=this.lE({includeMetadataChanges:!0,Bf:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new d(f.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new d(f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e.prototype.withConverter=function(t){return new e(this.xc,this.firestore,t)},e}(),Gi=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Hi=function(){function e(e,t,n,r,i,o){this.hE=e,this.xc=t,this.fE=n,this.TE=r,this.EE=i,this.aE=o}return e.prototype.data=function(e){if(ur("DocumentSnapshot.data",arguments,0,1),e=Qi("DocumentSnapshot.data",e),this.fE){if(this.aE){var t=new zi(this.hE,this.xc,this.fE,this.TE,this.EE);return this.aE.fromFirestore(t,e)}return new Mi(this.hE,this.hE.rE(),e.serverTimestamps,void 0).MT(this.fE.Mt())}},e.prototype.get=function(e,t){if(ur("DocumentSnapshot.get",arguments,1,2),t=Qi("DocumentSnapshot.get",t),this.fE){var n=this.fE.data().field(Wr("DocumentSnapshot.get",e));if(null!==n)return new Mi(this.hE,this.hE.rE(),t.serverTimestamps,this.aE).MT(n)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.xc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Bi(this.xc,this.hE,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.fE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Gi(this.EE,this.TE)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw br("isEqual","DocumentSnapshot",1,t);return this.hE===t.hE&&this.TE===t.TE&&this.xc.isEqual(t.xc)&&(null===this.fE?null===t.fE:this.fE.isEqual(t.fE))&&this.aE===t.aE},e}(),zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(Hi),qi=function(){function e(e,t,n){this.IE=e,this.firestore=t,this.aE=n}return e.prototype.where=function(t,n,r){sr("Query.where",arguments,3),yr("Query.where",3,r);var i,o=function(e,t,n,r){if(!t.some((function(e){return e===r})))throw new d(f.INVALID_ARGUMENT,"Invalid value "+gr(r)+" provided to function Query.where() for its "+kr(2)+" argument. Acceptable values: "+t.join(", "));return r}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n),a=Wr("Query.where",t);if(a.Y()){if("array-contains"===o||"array-contains-any"===o)throw new d(f.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){this.wE(r,o);for(var s=[],c=0,u=r;c<u.length;c++){var l=u[c];s.push(this.RE(l))}i={arrayValue:{values:s}}}else i=this.RE(r)}else"in"!==o&&"array-contains-any"!==o||this.wE(r,o),i=this.firestore.XT.Mc("Query.where",r,"in"===o);var h=we.create(a,o,i);return this.mE(h),new e(this.IE.Gt(h),this.firestore,this.aE)},e.prototype.orderBy=function(t,n){var r;if(ur("Query.orderBy",arguments,1,2),hr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new d(f.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}if(null!==this.IE.startAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.IE.endAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Wr("Query.orderBy",t),o=new Te(i,r);return this.AE(o),new e(this.IE.zt(o),this.firestore,this.aE)},e.prototype.limit=function(t){return sr("Query.limit",arguments,1),lr("Query.limit","number",1,t),Cr("Query.limit",1,t),new e(this.IE.Ht(t),this.firestore,this.aE)},e.prototype.limitToLast=function(t){return sr("Query.limitToLast",arguments,1),lr("Query.limitToLast","number",1,t),Cr("Query.limitToLast",1,t),new e(this.IE.Yt(t),this.firestore,this.aE)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cr("Query.startAt",arguments,1);var i=this.PE("Query.startAt",t,n,!0);return new e(this.IE.Jt(i),this.firestore,this.aE)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cr("Query.startAfter",arguments,1);var i=this.PE("Query.startAfter",t,n,!1);return new e(this.IE.Jt(i),this.firestore,this.aE)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cr("Query.endBefore",arguments,1);var i=this.PE("Query.endBefore",t,n,!0);return new e(this.IE.Xt(i),this.firestore,this.aE)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cr("Query.endAt",arguments,1);var i=this.PE("Query.endAt",t,n,!1);return new e(this.IE.Xt(i),this.firestore,this.aE)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw br("isEqual","Query",1,t);return this.firestore===t.firestore&&this.IE.isEqual(t.IE)},e.prototype.withConverter=function(t){return new e(this.IE,this.firestore,t)},e.prototype.PE=function(e,t,n,r){if(yr(e,1,t),t instanceof Hi){if(n.length>0)throw new d(f.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new d(f.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.VE(i.fE,r)}var o=[t].concat(n);return this.gE(e,o,r)},e.prototype.VE=function(e,t){for(var n=[],r=0,i=this.IE.orderBy;r<i.length;r++){var o=i[r];if(o.field.Y())n.push(q(this.firestore.Lc,e.key));else{var a=e.field(o.field);if(R(a))throw new d(f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var s=o.field.j();throw new d(f.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+s+"' (used as the orderBy) does not exist.")}n.push(a)}}return new xe(n,t)},e.prototype.gE=function(e,t,n){var r=this.IE.Ot;if(t.length>r.length)throw new d(f.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.Y()){if("string"!=typeof a)throw new d(f.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this.IE._e()&&-1!==a.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this.IE.path.child(k.K(a));if(!E.et(s))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var c=new E(s);i.push(q(this.firestore.Lc,c))}else{var u=this.firestore.XT.Mc(e,a);i.push(u)}}return new xe(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ur("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||ji(e[i])||(_r("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),dr("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ji(e[i])?n=e[i]:(lr("Query.onSnapshot","function",i,e[i]),hr("Query.onSnapshot","function",i+1,e[i+1]),hr("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.pE(this.IE),this.lE(r,n)},e.prototype.lE=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Ri({next:function(e){t.next&&t.next(new Wi(n.firestore,n.IE,e,n.aE))},error:r}),o=this.firestore.jT(),a=o.listen(this.IE,i,e);return function(){i.kT(),o.al(a)}},e.prototype.pE=function(e){if(e.ae()&&0===e.Ot.length)throw new d(f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},e.prototype.get=function(e){var t=this;return ur("Query.get",arguments,0,1),Xi("Query.get",e),this.pE(this.IE),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.jT().FT(t.IE).then((function(e){n(new Wi(t.firestore,t.IE,e,t.aE))}),r):t.dE(n,r,e)}))},e.prototype.dE=function(e,t,n){var r=this.lE({includeMetadataChanges:!0,Bf:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new d(f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.RE=function(e){if("string"==typeof e){if(""===e)throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.IE._e()&&-1!==e.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this.IE.path.child(k.K(e));if(!E.et(t))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return q(this.firestore.Lc,new E(t))}if(e instanceof Bi)return q(this.firestore.Lc,e.xc);throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gr(e)+".")},e.prototype.wE=function(e,t){if(!Array.isArray(e)||0===e.length)throw new d(f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.mE=function(e){if(e instanceof we){var t=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.ue()){var o=this.IE.jt();if(null!==o&&!o.isEqual(e.field))throw new d(f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this.IE.Kt();null!==a&&this.yE(e.field,a)}else if(i||r){var s=null;if(i&&(s=this.IE.ce(n)),null===s&&r&&(s=this.IE.ce(t)),null!=s)throw new d(f.INVALID_ARGUMENT,s===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},e.prototype.AE=function(e){if(null===this.IE.Kt()){var t=this.IE.jt();null!==t&&this.yE(t,e.field)}},e.prototype.yE=function(e,t){if(!t.isEqual(e))throw new d(f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Wi=function(){function e(e,t,n,r){this.hE=e,this.bE=t,this.vE=n,this.aE=r,this.SE=null,this.DE=null,this.metadata=new Gi(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.vE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.vE.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;ur("QuerySnapshot.forEach",arguments,1,2),lr("QuerySnapshot.forEach","function",1,e),this.vE.docs.forEach((function(r){e.call(t,n.CE(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new qi(this.bE,this.hE,this.aE)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(_r("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),dr("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this.vE.hs)throw new d(f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.SE&&this.DE===t||(this.SE=function(e,t,n,r){if(n.ss.B()){var i=0;return n.docChanges.map((function(t){return{type:"added",doc:new zi(e,t.doc.key,t.doc,n.fromCache,n.ns.has(t.doc.key),r),oldIndex:-1,newIndex:i++}}))}var o=n.ss;return n.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var i=new zi(e,t.doc.key,t.doc,n.fromCache,n.ns.has(t.doc.key),r),a=-1,s=-1;return 0!==t.type&&(a=o.indexOf(t.doc.key),o=o.delete(t.doc.key)),1!==t.type&&(s=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:Zi(t.type),doc:i,oldIndex:a,newIndex:s}}))}(this.hE,t,this.vE,this.aE),this.DE=t),this.SE},e.prototype.isEqual=function(t){if(!(t instanceof e))throw br("isEqual","QuerySnapshot",1,t);return this.hE===t.hE&&this.bE.isEqual(t.bE)&&this.vE.isEqual(t.vE)&&this.aE===t.aE},e.prototype.CE=function(e){return new zi(this.hE,e.key,e,this.metadata.fromCache,this.vE.ns.has(e.key),this.aE)},e}(),Yi=function(e){function t(t,n,r){var i=this;if((i=e.call(this,ke.Wt(t),n,r)||this).FE=t,t.length%2!=1)throw new d(f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.j()+" has "+t.length);return i}return i.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.IE.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.IE.path.M();return e.B()?null:new Bi(new E(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.IE.path.j()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(ur("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=wt.cn()),lr("CollectionReference.doc","non-empty string",1,e),""===e)throw new d(f.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=k.K(e);return Bi.nE(this.IE.path.child(t),this.firestore,this.aE)},t.prototype.add=function(e){sr("CollectionReference.add",arguments,1),lr("CollectionReference.add","object",1,this.aE?this.aE.toFirestore(e):e);var t=this.doc();return t.set(e).then((function(){return t}))},t.prototype.withConverter=function(e){return new t(this.FE,this.firestore,e)},t}(qi);function Ki(e,t){if(void 0===t)return{merge:!1};if(_r(e,t,["merge","mergeFields"]),dr(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+gr(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+gr(r[o]))}(e,"mergeFields",0,r,(function(e){return"string"==typeof e||e instanceof Or}))}(e,0,0,t.mergeFields),void 0!==t.mergeFields&&void 0!==t.merge)throw new d(f.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Qi(e,t){return void 0===t?{}:(_r(e,t,["serverTimestamps"]),pr(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Xi(e,t){hr(e,"object",1,t),t&&(_r(e,t,["source"]),pr(e,0,"source",t.source,["default","server","cache"]))}function Ji(e,t,n){if(t instanceof Bi){if(t.firestore!==n)throw new d(f.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw br(e,"DocumentReference",1,t)}function Zi(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function $i(e,t,n){var r;return e?(r=e.toFirestore(t),n="toFirestore() in "+n):r=t,[r,n]}function eo(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new d(f.INVALID_ARGUMENT,e)}return n.prototype=e.prototype,Object.assign(n,e),n}var to=eo(Li,"Use firebase.firestore() instead."),no=eo(Vi,"Use firebase.firestore().runTransaction() instead."),ro=eo(Ui,"Use firebase.firestore().batch() instead."),io=eo(Bi,"Use firebase.firestore().doc() instead."),oo=eo(Hi),ao=eo(zi),so=eo(qi),co=eo(Wi),uo=eo(Yi,"Use firebase.firestore().collection() instead."),lo=eo(function(){function e(){}return e.delete=function(){return ar("FieldValue.delete",arguments),new Tr},e.serverTimestamp=function(){return ar("FieldValue.serverTimestamp",arguments),new Ar},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cr("FieldValue.arrayUnion",arguments,1),new Dr(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cr("FieldValue.arrayRemove",arguments,1),new Rr(e)},e.increment=function(e){return lr("FieldValue.increment","number",1,e),sr("FieldValue.increment",arguments,1),new jr(e)},e.prototype.isEqual=function(e){return this===e},e}(),"Use FieldValue.<field>() instead."),ho=eo(Ir,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),fo={Firestore:to,GeoPoint:Mr,Timestamp:_,Blob:ho,Transaction:no,WriteBatch:ro,DocumentReference:io,DocumentSnapshot:oo,Query:so,QueryDocumentSnapshot:ao,QuerySnapshot:co,CollectionReference:uo,FieldPath:Or,FieldValue:lo,setLogLevel:Li.setLogLevel,CACHE_SIZE_UNLIMITED:Ni},po=function(){function e(){}return e.prototype.Q_=function(e){},e.prototype.Iu=function(){},e}(),vo=function(){function e(){var e=this;this.NE=function(){return e.kE()},this.$E=function(){return e.ME()},this.LE=[],this.xE()}return e.prototype.Q_=function(e){this.LE.push(e)},e.prototype.Iu=function(){window.removeEventListener("online",this.NE),window.removeEventListener("offline",this.$E)},e.prototype.xE=function(){window.addEventListener("online",this.NE),window.addEventListener("offline",this.$E)},e.prototype.kE=function(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.LE;e<t.length;e++)(0,t[e])(0)},e.prototype.ME=function(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.LE;e<t.length;e++)(0,t[e])(1)},e.so=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),mo=function(){function e(e){this.OE=e.OE,this.BE=e.BE}return e.prototype.n_=function(e){this.qE=e},e.prototype.Zc=function(e){this.UE=e},e.prototype.onMessage=function(e){this.QE=e},e.prototype.close=function(){this.BE()},e.prototype.send=function(e){this.OE(e)},e.prototype.WE=function(){this.qE()},e.prototype.jE=function(e){this.UE(e)},e.prototype.KE=function(e){this.QE(e)},e}(),go={BatchGetDocuments:"batchGet",Commit:"commit"},yo="gl-js/ fire/"+l,_o=function(){function e(e){this.ii=e.ii,this.GE=(e.ssl?"https":"http")+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.zE=function(e,t){if(t)for(var n in t.o)t.o.hasOwnProperty(n)&&(e[n]=t.o[n]);e["X-Goog-Api-Client"]=yo},e.prototype.E_=function(e,t,n){var r=this,i=this.HE(e);return new Promise((function(o,a){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var t=s.getResponseJson();gt("Connection","XHR received:",JSON.stringify(t)),o(t);break;case u.ErrorCode.TIMEOUT:gt("Connection",'RPC "'+e+'" timed out'),a(new d(f.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(gt("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(f).indexOf(t)>=0?t:f.UNKNOWN}(r.status);a(new d(i,r.message))}else a(new d(f.UNKNOWN,"Server responded with status "+s.getStatus()))}else gt("Connection",'RPC "'+e+'" failed'),a(new d(f.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{gt("Connection",'RPC "'+e+'" completed.')}}));var c=Object.assign({},t);delete c.database;var l=JSON.stringify(c);gt("Connection","XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r.zE(h,n),s.send(i,"POST",l,h,15)}))},e.prototype.I_=function(e,t,n){return this.E_(e,t,n)},e.prototype.r_=function(e,t){var n=[this.GE,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=u.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.zE(i.initMessageHeaders,t),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");gt("Connection","Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),c=!1,l=!1,h=new mo({OE:function(e){l?gt("Connection","Not sending because WebChannel is closed:",e):(c||(gt("Connection","Opening WebChannel transport."),a.open(),c=!0),gt("Connection","WebChannel sending:",e),a.send(e))},BE:function(){return a.close()}}),p=function(e,t){a.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(u.WebChannel.EventType.OPEN,(function(){l||gt("Connection","WebChannel transport opened.")})),p(u.WebChannel.EventType.CLOSE,(function(){l||(l=!0,gt("Connection","WebChannel transport closed"),h.jE())})),p(u.WebChannel.EventType.ERROR,(function(e){l||(l=!0,gt("Connection","WebChannel transport errored:",e),h.jE(new d(f.UNAVAILABLE,"The operation could not be completed")))})),p(u.WebChannel.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ct(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){gt("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=ve[e];if(void 0!==t)return je(t)}(i),s=r.message;void 0===o&&(o=f.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,h.jE(new d(o,s)),a.close()}else gt("Connection","WebChannel received:",n),h.KE(n)}})),setTimeout((function(){h.WE()}),0),h},e.prototype.HE=function(e){return this.GE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+go[e]},e}();function bo(e){!function(e,t){e.INTERNAL.registerComponent(new c.Component("firestore",(function(e){return function(e,t){return new Li(e,t,new Ai)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},fo)))}(e),e.registerVersion("@firebase/firestore","1.14.3")}dt.an(new(function(){function e(){this._c="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.bT=function(e){return Promise.resolve(new _o(e))},e.prototype.AT=function(){return vo.so()?new vo:new po},e.prototype.Dc=function(e){return new ht(e,{hi:!0})},e.prototype.un=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e.prototype._n=function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n},e}())),bo(o),t.__PRIVATE_registerFirestore=bo},"6xve":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=r.__importStar(n("8Y7J")),a=r.__importStar(n("GNJl")),s=r.__importStar(n("iInd")),c=r.__importStar(n("TSSN")),u=r.__importStar(n("SVse"));function l(e,t){1&e&&o.\u0275\u0275element(0,"div",6)}function h(e,t){1&e&&o.\u0275\u0275element(0,"div",7)}function f(e,t){1&e&&o.\u0275\u0275element(0,"div",8)}var d=function(){function e(t){_classCallCheck2(this,e),this.tokenService=t,this.subscription=new i.Subscription}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.tokenService.isLogged$.subscribe((function(t){e.isLogged=t})))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}();t.HomeComponent=d,d.\u0275fac=function(e){return new(e||d)(o.\u0275\u0275directiveInject(a.TokenService))},d.\u0275cmp=o.\u0275\u0275defineComponent({type:d,selectors:[["gw-home"]],decls:7,vars:3,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-stretch","h-100","m-auto","gw-form"],["routerLink","games","tabindex","0","translate","i18n.COMMON.PLAY_GAMES",1,"btn","btn-primary","btn-lg","m-2"],[1,"d-flex","justify-content-between"],["routerLink","auth/signin","class","btn btn-secondary light btn-lg m-2","tabindex","0","translate","i18n.COMMON.SIGN_IN",4,"ngIf"],["routerLink","auth/signup","class","btn btn-secondary light btn-lg m-2","tabindex","0","translate","i18n.COMMON.SIGN_UP",4,"ngIf"],["routerLink","account","class","btn btn-secondary light btn-lg m-2 flex-grow-1","tabindex","0","translate","i18n.COMMON.ACCOUNT",4,"ngIf"],["routerLink","auth/signin","tabindex","0","translate","i18n.COMMON.SIGN_IN",1,"btn","btn-secondary","light","btn-lg","m-2"],["routerLink","auth/signup","tabindex","0","translate","i18n.COMMON.SIGN_UP",1,"btn","btn-secondary","light","btn-lg","m-2"],["routerLink","account","tabindex","0","translate","i18n.COMMON.ACCOUNT",1,"btn","btn-secondary","light","btn-lg","m-2","flex-grow-1"]],template:function(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275element(1,"div",1),o.\u0275\u0275elementStart(2,"div",2),o.\u0275\u0275template(3,l,1,0,"div",3),o.\u0275\u0275template(4,h,1,0,"div",4),o.\u0275\u0275template(5,f,1,0,"div",5),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(6,"router-outlet"),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",!t.isLogged),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!t.isLogged),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.isLogged))},directives:[s.RouterLink,c.TranslateDirective,u.NgIf,s.RouterOutlet],styles:[""]})},"6yn5":function(e,t,n){"use strict";n.r(t),n.d(t,"TemplateTag",(function(){return a})),n.d(t,"trimResultTransformer",(function(){return s})),n.d(t,"stripIndentTransformer",(function(){return u})),n.d(t,"replaceResultTransformer",(function(){return l})),n.d(t,"replaceSubstitutionTransformer",(function(){return h})),n.d(t,"replaceStringTransformer",(function(){return f})),n.d(t,"inlineArrayTransformer",(function(){return p})),n.d(t,"splitStringTransformer",(function(){return v})),n.d(t,"removeNonPrintingValuesTransformer",(function(){return g})),n.d(t,"commaLists",(function(){return y})),n.d(t,"commaListsAnd",(function(){return _})),n.d(t,"commaListsOr",(function(){return b})),n.d(t,"html",(function(){return C})),n.d(t,"codeBlock",(function(){return C})),n.d(t,"source",(function(){return C})),n.d(t,"safeHtml",(function(){return k})),n.d(t,"oneLine",(function(){return w})),n.d(t,"oneLineTrim",(function(){return S})),n.d(t,"oneLineCommaLists",(function(){return E})),n.d(t,"oneLineCommaListsOr",(function(){return I})),n.d(t,"oneLineCommaListsAnd",(function(){return O})),n.d(t,"inlineLists",(function(){return P})),n.d(t,"oneLineInlineLists",(function(){return x})),n.d(t,"stripIndent",(function(){return T})),n.d(t,"stripIndents",(function(){return A}));var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}}));function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){for(var t=this,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return o(this,e),this.tag=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,r))))},r.length>0&&Array.isArray(r[0])&&(r=r[0]),this.transformers=r.map((function(e){return"function"==typeof e?e():e})),this.tag}return r(e,[{key:"interimTag",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.tag(i,e.apply(void 0,[t].concat(r)))}},{key:"processSubstitutions",value:function(e,t,n){var r=this.transformSubstitution(e.shift(),t);return"".concat(t,r,n)}},{key:"transformString",value:function(e){return this.transformers.reduce((function(e,t){return t.onString?t.onString(e):e}),e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce((function(e,n){return n.onSubstitution?n.onSubstitution(e,t):e}),e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce((function(e,t){return t.onEndResult?t.onEndResult(e):e}),e)}}]),e}(),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var n=t.match(/^[^\S\n]*(?=\S)/gm),r=n&&Math.min.apply(Math,c(n.map((function(e){return e.length}))));if(r){var i=new RegExp("^.{"+r+"}","gm");return t.replace(i,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},l=function(e,t){return{onEndResult:function(n){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return n.replace(e,t)}}},h=function(e,t){return{onSubstitution:function(n,r){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==n?n:n.toString().replace(e,t)}}},f=function(e,t){return{onString:function(n){if(null==e||null==t)throw new Error("replaceStringTransformer requires at least 2 arguments.");return n.replace(e,t)}}},d={separator:"",conjunction:"",serial:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return{onSubstitution:function(t,n){if(Array.isArray(t)){var r=t.length,i=e.separator,o=e.conjunction,a=e.serial,s=n.match(/(\n?[^\S\n]+)$/);if(t=t.join(s?i+s[1]:i+" "),o&&r>1){var c=t.lastIndexOf(i);t=t.slice(0,c)+(a?i:"")+" "+o+t.slice(c+1)}}return t}}},v=function(e){return{onSubstitution:function(t,n){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},m=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e},g=function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(m):m(e)?e:""}}},y=new a(p({separator:","}),u,s),_=new a(p({separator:",",conjunction:"and"}),u,s),b=new a(p({separator:",",conjunction:"or"}),u,s),C=new a(v("\n"),g,p,u,s),k=new a(v("\n"),p,u,s,h(/&/g,"&amp;"),h(/</g,"&lt;"),h(/>/g,"&gt;"),h(/"/g,"&quot;"),h(/'/g,"&#x27;"),h(/`/g,"&#x60;")),w=new a(l(/(?:\n(?:\s*))+/g," "),s),S=new a(l(/(?:\n\s*)/g,""),s),E=new a(p({separator:","}),l(/(?:\s+)/g," "),s),I=new a(p({separator:",",conjunction:"or"}),l(/(?:\s+)/g," "),s),O=new a(p({separator:",",conjunction:"and"}),l(/(?:\s+)/g," "),s),P=new a(p,u,s),x=new a(p,l(/(?:\s+)/g," "),s),T=new a(u,s),A=new a(u("all"),s)},"6z/O":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("sDVU"),o=n("Hs/S"),a=r.__importStar(n("8Y7J")),s=r.__importStar(n("F8Su")),c=r.__importStar(n("SVse")),u=r.__importStar(n("TSSN"));function l(e,t){1&e&&(a.\u0275\u0275elementStart(0,"p",8),a.\u0275\u0275text(1," All rights belong to Pendragon Game Studio and Escape Studios. I do not own any rights to the original product or any of its modifications. The online version of the game has been created just for fun and non-commercial purposes. "),a.\u0275\u0275elementEnd())}function h(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",1),a.\u0275\u0275element(1,"h4",2),a.\u0275\u0275elementStart(2,"div",3),a.\u0275\u0275elementStart(3,"h2"),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"div",4),a.\u0275\u0275template(6,l,2,0,"p",5),a.\u0275\u0275text(7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",6),a.\u0275\u0275elementStart(9,"a",7),a.\u0275\u0275text(10),a.\u0275\u0275pipe(11,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngClass",n.info.bannerClass),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(n.info.game),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",n.info.game===n.Game.Nechto),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",n.getMultilineText(n.info.description)," "),a.\u0275\u0275advance(2),a.\u0275\u0275property("href",n.info.manualUrl,a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(11,6,"i18n.COMMON.OPEN_MANUAL")," (PDF)")}}var f=function(){function e(t){_classCallCheck2(this,e),this.gameInfoService=t,this.Game=o.Game}return _createClass2(e,[{key:"getMultilineText",value:function(e){return i.getMultilineText(e)}},{key:"info",get:function(){return this.game?this.gameInfoService.getGameInfo(this.game):null}}]),e}();t.GameInfoComponent=f,f.\u0275fac=function(e){return new(e||f)(a.\u0275\u0275directiveInject(s.GameInfoService))},f.\u0275cmp=a.\u0275\u0275defineComponent({type:f,selectors:[["gw-game-info"]],inputs:{game:"game"},decls:1,vars:1,consts:[["class","d-flex flex-column p-4 gw-game-info",4,"ngIf"],[1,"d-flex","flex-column","p-4","gw-game-info"],["translate","i18n.COMMON.MAIN_INFORMATION"],[1,"gw-game-banner","p-4",3,"ngClass"],[1,"gw-game-description","p-4"],["class","font-weight-bold",4,"ngIf"],[1,"d-flex","justify-content-end","mt-4","gw-game-nav-panel"],["target","_blank",1,"btn","btn-primary",3,"href"],[1,"font-weight-bold"]],template:function(e,t){1&e&&a.\u0275\u0275template(0,h,12,8,"div",0),2&e&&a.\u0275\u0275property("ngIf",t.game&&t.info)},directives:[c.NgIf,u.TranslateDirective,c.NgClass],pipes:[u.TranslatePipe],styles:[".gw-game-info[_ngcontent-%COMP%]   .gw-game-banner[_ngcontent-%COMP%]{background-color:#000;background-size:100% auto;background-repeat:no-repeat;background-position:50%;border-radius:5px;color:#fff}.gw-game-info[_ngcontent-%COMP%]   .gw-game-banner-nechto[_ngcontent-%COMP%]{background-image:url(game-nechto-banner.7ea0b04d0fc2158915b5.jpg)}.gw-game-info[_ngcontent-%COMP%]   .gw-game-banner[_ngcontent-%COMP%]   .gw-game-description[_ngcontent-%COMP%]{background-color:rgba(255,203,154,.8);border-radius:5px;color:#000;white-space:pre-line}"]})},"7+OI":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},"7HRe":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("HDdC"),i=n("quSY"),o=n("kJWO"),a=n("jZKg"),s=n("Lhse"),c=n("c2HN"),u=n("I55L");function l(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(u.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[s.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new i.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[s.a](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},"7Hc7":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=1,i=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}var s=function(e){var t=r++;return o[t]=!0,i.then((function(){return a(t)&&e()})),t},c=function(e){a(e)},u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass2(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=s(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(c(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(u)},"7KAL":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return v})),n("8LU1");var r=n("8Y7J"),i=n("XNiG"),o=n("LRne"),a=n("HDdC"),s=n("xgIS"),c=n("VRyK"),u=(n("eNwd"),n("7Hc7"),n("quSY"),n("7+OI"),n("/uUt"),n("3UWI")),l=n("pLZG"),h=(n("1G5W"),n("JX91"),n("Zy1z"),n("eIep"),n("UXun"),n("SCoL")),f=n("SVse"),d=n("9gLZ");n("CtHx");var p=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._ngZone=t,this._platform=n,this._scrolled=new i.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return _createClass2(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe((function(){return t._scrolled.next(e)})))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new a.a((function(n){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe(Object(u.a)(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}})):Object(o.a)()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(t,n){return e.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(l.a)((function(e){return!e||n.indexOf(e)>-1})))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach((function(r,i){t._scrollableContainsElement(i,e)&&n.push(i)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n=t.nativeElement,r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){var t=e._getWindow();return Object(s.a)(t.document,"scroll").subscribe((function(){return e._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](h.a),r["\u0275\u0275inject"](f.DOCUMENT,8))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(r["\u0275\u0275inject"])(r.NgZone),Object(r["\u0275\u0275inject"])(h.a),Object(r["\u0275\u0275inject"])(f.DOCUMENT,8))},token:e,providedIn:"root"}),e}(),v=function(){var e=function(){function e(t,n,r){var i=this;_classCallCheck2(this,e),this._platform=t,this._document=r,n.runOutsideAngular((function(){var e=i._getWindow();i._change=t.isBrowser?Object(c.a)(Object(s.a)(e,"resize"),Object(s.a)(e,"orientationchange")):Object(o.a)(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,r=t.height;return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._getDocument(),t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(Object(u.a)(e)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](h.a),r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](f.DOCUMENT,8))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(r["\u0275\u0275inject"])(h.a),Object(r["\u0275\u0275inject"])(r.NgZone),Object(r["\u0275\u0275inject"])(f.DOCUMENT,8))},token:e,providedIn:"root"}),e}(),m=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[d.BidiModule,h.b],d.BidiModule]}),e}()},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),c=n("NJ4a"),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var a;switch(_classCallCheck2(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e,r,o)}return a}return _createClass2(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,s){var c,u;_classCallCheck2(this,n),(c=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(c);return Object(r.a)(o)?u=o:o&&(u=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(_assertThisInitialized(c)))),c._context=l,c._next=u,c._error=a,c._complete=s,c}return _createClass2(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(u)},"7rMc":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Gender=((r=t.Gender||{}).Male="Male",r.Female="Female",r)},"7ueh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=r.__importStar(n("8Y7J")),o=r.__importStar(n("iInd")),a=r.__importStar(n("6z/O")),s=r.__importStar(n("q3mk")),c=function(){function e(t){_classCallCheck2(this,e),this.activatedRoute=t}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.data.subscribe((function(t){e.selectedGame=t.game}))}}]),e}();t.GameLobbyComponent=c,c.\u0275fac=function(e){return new(e||c)(i.\u0275\u0275directiveInject(o.ActivatedRoute))},c.\u0275cmp=i.\u0275\u0275defineComponent({type:c,selectors:[["gw-game-lobby"]],decls:3,vars:2,consts:[[1,"d-flex","flex-column","h-100","smth-lobby"],[3,"game"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275element(1,"gw-game-info",1),i.\u0275\u0275element(2,"gw-game-rooms",1),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("game",t.selectedGame),i.\u0275\u0275advance(1),i.\u0275\u0275property("game",t.selectedGame))},directives:[a.GameInfoComponent,s.GameRoomsComponent],styles:[".smth-lobby[_ngcontent-%COMP%]{background-color:#f4f7f6}"]})},"81RL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("kU1M"),o=r.__importStar(n("8Y7J")),a=r.__importStar(n("iInd")),s=r.__importStar(n("2kLq")),c=function(){function e(t,n){_classCallCheck2(this,e),this.router=t,this.firebaseService=n}return _createClass2(e,[{key:"canActivate",value:function(){return this.canProceed()}},{key:"canLoad",value:function(){return this.canProceed()}},{key:"canProceed",value:function(){var e=this;return this.firebaseService.getAuthState().pipe(i.take(1),i.map((function(t){return!t||(e.router.navigate(["/"]),!1)})))}}]),e}();t.AnonGuard=c,c.\u0275fac=function(e){return new(e||c)(o.\u0275\u0275inject(a.Router),o.\u0275\u0275inject(s.FirebaseService))},c.\u0275prov=o.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})},"8LU1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return o}));var r=n("8Y7J");function i(e){return null!=e&&"false"!=="".concat(e)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a(e)?Number(e):t}function a(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function s(e){return Array.isArray(e)?e:[e]}function c(e){return null==e?"":"string"==typeof e?e:"".concat(e,"px")}function u(e){return e instanceof r.ElementRef?e.nativeElement:e}},"8Qeq":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}},"8Y7J":function(e,t,n){"use strict";n.r(t),n.d(t,"ANALYZE_FOR_ENTRY_COMPONENTS",(function(){return ks})),n.d(t,"APP_BOOTSTRAP_LISTENER",(function(){return Km})),n.d(t,"APP_ID",(function(){return Gm})),n.d(t,"APP_INITIALIZER",(function(){return Um})),n.d(t,"ApplicationInitStatus",(function(){return Bm})),n.d(t,"ApplicationModule",(function(){return Ty})),n.d(t,"ApplicationRef",(function(){return zg})),n.d(t,"Attribute",(function(){return C})),n.d(t,"COMPILER_OPTIONS",(function(){return pg})),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",(function(){return Zn})),n.d(t,"ChangeDetectionStrategy",(function(){return Te})),n.d(t,"ChangeDetectorRef",(function(){return ma})),n.d(t,"Compiler",(function(){return dg})),n.d(t,"CompilerFactory",(function(){return vg})),n.d(t,"Component",(function(){return Em})),n.d(t,"ComponentFactory",(function(){return uh})),n.d(t,"ComponentFactoryResolver",(function(){return dh})),n.d(t,"ComponentRef",(function(){return ch})),n.d(t,"ContentChild",(function(){return Es})),n.d(t,"ContentChildren",(function(){return Ss})),n.d(t,"DEFAULT_CURRENCY_CODE",(function(){return Zm})),n.d(t,"DebugElement",(function(){return ky})),n.d(t,"DebugEventListener",(function(){return ry})),n.d(t,"DebugNode",(function(){return Cy})),n.d(t,"DefaultIterableDiffer",(function(){return xh})),n.d(t,"Directive",(function(){return Sm})),n.d(t,"ElementRef",(function(){return mh})),n.d(t,"EmbeddedViewRef",(function(){return ny})),n.d(t,"ErrorHandler",(function(){return Jn})),n.d(t,"EventEmitter",(function(){return Sv})),n.d(t,"Host",(function(){return b})),n.d(t,"HostBinding",(function(){return xm})),n.d(t,"HostListener",(function(){return Tm})),n.d(t,"INJECTOR",(function(){return ie})),n.d(t,"Inject",(function(){return m})),n.d(t,"InjectFlags",(function(){return k})),n.d(t,"Injectable",(function(){return Na})),n.d(t,"InjectionToken",(function(){return re})),n.d(t,"Injector",(function(){return ts})),n.d(t,"Input",(function(){return Om})),n.d(t,"IterableDiffers",(function(){return Fh})),n.d(t,"KeyValueDiffers",(function(){return Lh})),n.d(t,"LOCALE_ID",(function(){return Jm})),n.d(t,"MissingTranslationStrategy",(function(){return tg})),n.d(t,"ModuleWithComponentFactories",(function(){return ig})),n.d(t,"NO_ERRORS_SCHEMA",(function(){return $n})),n.d(t,"NgModule",(function(){return Fm})),n.d(t,"NgModuleFactory",(function(){return be})),n.d(t,"NgModuleFactoryLoader",(function(){return Wg})),n.d(t,"NgModuleRef",(function(){return _e})),n.d(t,"NgProbeToken",(function(){return Ng})),n.d(t,"NgZone",(function(){return yg})),n.d(t,"Optional",(function(){return g})),n.d(t,"Output",(function(){return Pm})),n.d(t,"PACKAGE_ROOT_URL",(function(){return Qm})),n.d(t,"PLATFORM_ID",(function(){return Ym})),n.d(t,"PLATFORM_INITIALIZER",(function(){return Wm})),n.d(t,"Pipe",(function(){return Im})),n.d(t,"PlatformRef",(function(){return Gg})),n.d(t,"Query",(function(){return ws})),n.d(t,"QueryList",(function(){return Iv})),n.d(t,"ReflectiveInjector",(function(){return bs})),n.d(t,"ReflectiveKey",(function(){return as})),n.d(t,"Renderer2",(function(){return Ch})),n.d(t,"RendererFactory2",(function(){return _h})),n.d(t,"RendererStyleFlags2",(function(){return bh})),n.d(t,"ResolvedReflectiveFactory",(function(){return fs})),n.d(t,"Sanitizer",(function(){return Sh})),n.d(t,"SecurityContext",(function(){return Br})),n.d(t,"Self",(function(){return y})),n.d(t,"SimpleChange",(function(){return Xl})),n.d(t,"SkipSelf",(function(){return _})),n.d(t,"SystemJsNgModuleLoader",(function(){return $g})),n.d(t,"SystemJsNgModuleLoaderConfig",(function(){return Jg})),n.d(t,"TRANSLATIONS",(function(){return $m})),n.d(t,"TRANSLATIONS_FORMAT",(function(){return eg})),n.d(t,"TemplateRef",(function(){return Gh})),n.d(t,"Testability",(function(){return Ig})),n.d(t,"TestabilityRegistry",(function(){return Og})),n.d(t,"Type",(function(){return _a})),n.d(t,"VERSION",(function(){return Ih})),n.d(t,"Version",(function(){return Eh})),n.d(t,"ViewChild",(function(){return Os})),n.d(t,"ViewChildren",(function(){return Is})),n.d(t,"ViewContainerRef",(function(){return qh})),n.d(t,"ViewEncapsulation",(function(){return Re})),n.d(t,"ViewRef",(function(){return ty})),n.d(t,"WrappedValue",(function(){return Vs})),n.d(t,"asNativeElements",(function(){return ay})),n.d(t,"assertPlatform",(function(){return Vg})),n.d(t,"createPlatform",(function(){return Fg})),n.d(t,"createPlatformFactory",(function(){return Lg})),n.d(t,"defineInjectable",(function(){return I})),n.d(t,"destroyPlatform",(function(){return Ug})),n.d(t,"enableProdMode",(function(){return gr})),n.d(t,"forwardRef",(function(){return V})),n.d(t,"getDebugNode",(function(){return gy})),n.d(t,"getModuleFactory",(function(){return Qg})),n.d(t,"getPlatform",(function(){return Bg})),n.d(t,"inject",(function(){return pe})),n.d(t,"isDevMode",(function(){return mr})),n.d(t,"platformCore",(function(){return wy})),n.d(t,"resolveForwardRef",(function(){return U})),n.d(t,"setTestabilityGetter",(function(){return Pg})),n.d(t,"\u0275ALLOW_MULTIPLE_PLATFORMS",(function(){return Mg})),n.d(t,"\u0275APP_ID_RANDOM_PROVIDER",(function(){return zm})),n.d(t,"\u0275ChangeDetectorStatus",(function(){return Ae})),n.d(t,"\u0275CodegenComponentFactoryResolver",(function(){return ph})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",(function(){return hg})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",(function(){return ug})),n.d(t,"\u0275Compiler_compileModuleAsync__POST_R3__",(function(){return sg})),n.d(t,"\u0275Compiler_compileModuleSync__POST_R3__",(function(){return og})),n.d(t,"\u0275ComponentFactory",(function(){return uh})),n.d(t,"\u0275Console",(function(){return Xm})),n.d(t,"\u0275DEFAULT_LOCALE_ID",(function(){return np})),n.d(t,"\u0275EMPTY_ARRAY",(function(){return Gf})),n.d(t,"\u0275EMPTY_MAP",(function(){return Hf})),n.d(t,"\u0275INJECTOR_IMPL__POST_R3__",(function(){return $a})),n.d(t,"\u0275INJECTOR_SCOPE",(function(){return Va})),n.d(t,"\u0275LifecycleHooksFeature",(function(){return Vl})),n.d(t,"\u0275LocaleDataIndex",(function(){return tp})),n.d(t,"\u0275NG_COMP_DEF",(function(){return X})),n.d(t,"\u0275NG_DIR_DEF",(function(){return J})),n.d(t,"\u0275NG_ELEMENT_ID",(function(){return ne})),n.d(t,"\u0275NG_INJ_DEF",(function(){return D})),n.d(t,"\u0275NG_MOD_DEF",(function(){return $})),n.d(t,"\u0275NG_PIPE_DEF",(function(){return Z})),n.d(t,"\u0275NG_PROV_DEF",(function(){return A})),n.d(t,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",(function(){return jd})),n.d(t,"\u0275NO_CHANGE",(function(){return Si})),n.d(t,"\u0275NgModuleFactory",(function(){return Zp})),n.d(t,"\u0275NoopNgZone",(function(){return Eg})),n.d(t,"\u0275ReflectionCapabilities",(function(){return Ea})),n.d(t,"\u0275Render3ComponentFactory",(function(){return zd})),n.d(t,"\u0275Render3ComponentRef",(function(){return qd})),n.d(t,"\u0275Render3NgModuleRef",(function(){return Jp})),n.d(t,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",(function(){return ga})),n.d(t,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",(function(){return Am})),n.d(t,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",(function(){return Dm})),n.d(t,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",(function(){return Fa})),n.d(t,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",(function(){return Lm})),n.d(t,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",(function(){return Rm})),n.d(t,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",(function(){return gh})),n.d(t,"\u0275SWITCH_IVY_ENABLED__POST_R3__",(function(){return ng})),n.d(t,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",(function(){return kh})),n.d(t,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",(function(){return Hh})),n.d(t,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",(function(){return Wh})),n.d(t,"\u0275_sanitizeHtml",(function(){return Vr})),n.d(t,"\u0275_sanitizeStyle",(function(){return zr})),n.d(t,"\u0275_sanitizeUrl",(function(){return Cr})),n.d(t,"\u0275allowSanitizationBypassAndThrow",(function(){return sr})),n.d(t,"\u0275and",(function(){return Ay})),n.d(t,"\u0275angular_packages_core_core_a",(function(){return B})),n.d(t,"\u0275angular_packages_core_core_b",(function(){return he})),n.d(t,"\u0275angular_packages_core_core_ba",(function(){return Pt})),n.d(t,"\u0275angular_packages_core_core_bb",(function(){return At})),n.d(t,"\u0275angular_packages_core_core_bc",(function(){return Ft})),n.d(t,"\u0275angular_packages_core_core_bd",(function(){return Zt})),n.d(t,"\u0275angular_packages_core_core_bf",(function(){return hv})),n.d(t,"\u0275angular_packages_core_core_bg",(function(){return fv})),n.d(t,"\u0275angular_packages_core_core_bh",(function(){return dv})),n.d(t,"\u0275angular_packages_core_core_bi",(function(){return pv})),n.d(t,"\u0275angular_packages_core_core_bj",(function(){return vv})),n.d(t,"\u0275angular_packages_core_core_bk",(function(){return Xr})),n.d(t,"\u0275angular_packages_core_core_bl",(function(){return p})),n.d(t,"\u0275angular_packages_core_core_bm",(function(){return v})),n.d(t,"\u0275angular_packages_core_core_bn",(function(){return w})),n.d(t,"\u0275angular_packages_core_core_bo",(function(){return c})),n.d(t,"\u0275angular_packages_core_core_bq",(function(){return Ii})),n.d(t,"\u0275angular_packages_core_core_c",(function(){return ge})),n.d(t,"\u0275angular_packages_core_core_d",(function(){return Cs})),n.d(t,"\u0275angular_packages_core_core_e",(function(){return us})),n.d(t,"\u0275angular_packages_core_core_f",(function(){return vs})),n.d(t,"\u0275angular_packages_core_core_g",(function(){return Hm})),n.d(t,"\u0275angular_packages_core_core_h",(function(){return fa})),n.d(t,"\u0275angular_packages_core_core_i",(function(){return da})),n.d(t,"\u0275angular_packages_core_core_j",(function(){return Yg})),n.d(t,"\u0275angular_packages_core_core_k",(function(){return iy})),n.d(t,"\u0275angular_packages_core_core_l",(function(){return oy})),n.d(t,"\u0275angular_packages_core_core_m",(function(){return yy})),n.d(t,"\u0275angular_packages_core_core_n",(function(){return Oh})),n.d(t,"\u0275angular_packages_core_core_o",(function(){return jh})),n.d(t,"\u0275angular_packages_core_core_p",(function(){return Sy})),n.d(t,"\u0275angular_packages_core_core_q",(function(){return Ey})),n.d(t,"\u0275angular_packages_core_core_r",(function(){return Iy})),n.d(t,"\u0275angular_packages_core_core_s",(function(){return Py})),n.d(t,"\u0275angular_packages_core_core_t",(function(){return xy})),n.d(t,"\u0275angular_packages_core_core_u",(function(){return rp})),n.d(t,"\u0275angular_packages_core_core_v",(function(){return Od})),n.d(t,"\u0275angular_packages_core_core_w",(function(){return of})),n.d(t,"\u0275angular_packages_core_core_x",(function(){return Hd})),n.d(t,"\u0275angular_packages_core_core_y",(function(){return Fn})),n.d(t,"\u0275angular_packages_core_core_z",(function(){return St})),n.d(t,"\u0275bypassSanitizationTrustHtml",(function(){return ur})),n.d(t,"\u0275bypassSanitizationTrustResourceUrl",(function(){return dr})),n.d(t,"\u0275bypassSanitizationTrustScript",(function(){return hr})),n.d(t,"\u0275bypassSanitizationTrustStyle",(function(){return lr})),n.d(t,"\u0275bypassSanitizationTrustUrl",(function(){return fr})),n.d(t,"\u0275ccf",(function(){return nd})),n.d(t,"\u0275clearOverrides",(function(){return ob})),n.d(t,"\u0275clearResolutionOfComponentResourcesQueue",(function(){return Ds})),n.d(t,"\u0275cmf",(function(){return ab})),n.d(t,"\u0275compileComponent",(function(){return cm})),n.d(t,"\u0275compileDirective",(function(){return um})),n.d(t,"\u0275compileNgModule",(function(){return em})),n.d(t,"\u0275compileNgModuleDefs",(function(){return tm})),n.d(t,"\u0275compileNgModuleFactory__POST_R3__",(function(){return Dg})),n.d(t,"\u0275compilePipe",(function(){return km})),n.d(t,"\u0275createInjector",(function(){return qa})),n.d(t,"\u0275crt",(function(){return hf})),n.d(t,"\u0275defaultIterableDiffers",(function(){return Uh})),n.d(t,"\u0275defaultKeyValueDiffers",(function(){return Bh})),n.d(t,"\u0275detectChanges",(function(){return dc})),n.d(t,"\u0275devModeEqual",(function(){return Ls})),n.d(t,"\u0275did",(function(){return Sd})),n.d(t,"\u0275eld",(function(){return Dy})),n.d(t,"\u0275findLocaleData",(function(){return Xd})),n.d(t,"\u0275flushModuleScopingQueueAsMuchAsPossible",(function(){return Zv})),n.d(t,"\u0275getComponentViewDefinitionFactory",(function(){return rd})),n.d(t,"\u0275getDebugNodeR2",(function(){return _y})),n.d(t,"\u0275getDebugNode__POST_R3__",(function(){return my})),n.d(t,"\u0275getDirectives",(function(){return El})),n.d(t,"\u0275getHostElement",(function(){return Ol})),n.d(t,"\u0275getInjectableDef",(function(){return P})),n.d(t,"\u0275getLContext",(function(){return ii})),n.d(t,"\u0275getLocaleCurrencyCode",(function(){return Jd})),n.d(t,"\u0275getLocalePluralCase",(function(){return Zd})),n.d(t,"\u0275getModuleFactory__POST_R3__",(function(){return Kg})),n.d(t,"\u0275getSanitizationBypassType",(function(){return cr})),n.d(t,"\u0275global",(function(){return W})),n.d(t,"\u0275initServicesIfNeeded",(function(){return b_})),n.d(t,"\u0275inlineInterpolate",(function(){return Uf})),n.d(t,"\u0275interpolate",(function(){return Vf})),n.d(t,"\u0275isBoundToModule__POST_R3__",(function(){return jg})),n.d(t,"\u0275isDefaultChangeDetectionStrategy",(function(){return De})),n.d(t,"\u0275isListLikeIterable",(function(){return Us})),n.d(t,"\u0275isObservable",(function(){return Nc})),n.d(t,"\u0275isPromise",(function(){return Mc})),n.d(t,"\u0275ivyEnabled",(function(){return rg})),n.d(t,"\u0275looseIdentical",(function(){return Fs})),n.d(t,"\u0275makeDecorator",(function(){return f})),n.d(t,"\u0275markDirty",(function(){return pc})),n.d(t,"\u0275mod",(function(){return Qf})),n.d(t,"\u0275mpd",(function(){return Kf})),n.d(t,"\u0275ncd",(function(){return Gy})),n.d(t,"\u0275nov",(function(){return pd})),n.d(t,"\u0275overrideComponentView",(function(){return ib})),n.d(t,"\u0275overrideProvider",(function(){return rb})),n.d(t,"\u0275pad",(function(){return qy})),n.d(t,"\u0275patchComponentDefWithScope",(function(){return im})),n.d(t,"\u0275pid",(function(){return Ed})),n.d(t,"\u0275pod",(function(){return Wy})),n.d(t,"\u0275ppd",(function(){return zy})),n.d(t,"\u0275prd",(function(){return Id})),n.d(t,"\u0275publishDefaultGlobalUtils",(function(){return Rl})),n.d(t,"\u0275publishGlobalUtil",(function(){return jl})),n.d(t,"\u0275qud",(function(){return Fy})),n.d(t,"\u0275registerLocaleData",(function(){return Qd})),n.d(t,"\u0275registerModuleFactory",(function(){return Yp})),n.d(t,"\u0275registerNgModuleType",(function(){return Qp})),n.d(t,"\u0275renderComponent",(function(){return Ml})),n.d(t,"\u0275resetCompiledComponents",(function(){return nm})),n.d(t,"\u0275resolveComponentResources",(function(){return Ps})),n.d(t,"\u0275setClassMetadata",(function(){return $p})),n.d(t,"\u0275setCurrentInjector",(function(){return ue})),n.d(t,"\u0275setDocument",(function(){return at})),n.d(t,"\u0275setLocaleId",(function(){return qp})),n.d(t,"\u0275store",(function(){return _c})),n.d(t,"\u0275stringify",(function(){return N})),n.d(t,"\u0275ted",(function(){return Ky})),n.d(t,"\u0275transitiveScopesFor",(function(){return om})),n.d(t,"\u0275unregisterLocaleData",(function(){return ep})),n.d(t,"\u0275unv",(function(){return lf})),n.d(t,"\u0275unwrapSafeValue",(function(){return ar})),n.d(t,"\u0275vid",(function(){return Jy})),n.d(t,"\u0275whenRendered",(function(){return Ul})),n.d(t,"\u0275\u0275CopyDefinitionFeature",(function(){return Ql})),n.d(t,"\u0275\u0275InheritDefinitionFeature",(function(){return Gl})),n.d(t,"\u0275\u0275NgOnChangesFeature",(function(){return Jl})),n.d(t,"\u0275\u0275ProvidersFeature",(function(){return sh})),n.d(t,"\u0275\u0275advance",(function(){return Oi})),n.d(t,"\u0275\u0275attribute",(function(){return Ks})),n.d(t,"\u0275\u0275attributeInterpolate1",(function(){return ic})),n.d(t,"\u0275\u0275attributeInterpolate2",(function(){return oc})),n.d(t,"\u0275\u0275attributeInterpolate3",(function(){return ac})),n.d(t,"\u0275\u0275attributeInterpolate4",(function(){return sc})),n.d(t,"\u0275\u0275attributeInterpolate5",(function(){return cc})),n.d(t,"\u0275\u0275attributeInterpolate6",(function(){return uc})),n.d(t,"\u0275\u0275attributeInterpolate7",(function(){return lc})),n.d(t,"\u0275\u0275attributeInterpolate8",(function(){return hc})),n.d(t,"\u0275\u0275attributeInterpolateV",(function(){return fc})),n.d(t,"\u0275\u0275classMap",(function(){return Cu})),n.d(t,"\u0275\u0275classMapInterpolate1",(function(){return qu})),n.d(t,"\u0275\u0275classMapInterpolate2",(function(){return Wu})),n.d(t,"\u0275\u0275classMapInterpolate3",(function(){return Yu})),n.d(t,"\u0275\u0275classMapInterpolate4",(function(){return Ku})),n.d(t,"\u0275\u0275classMapInterpolate5",(function(){return Qu})),n.d(t,"\u0275\u0275classMapInterpolate6",(function(){return Xu})),n.d(t,"\u0275\u0275classMapInterpolate7",(function(){return Ju})),n.d(t,"\u0275\u0275classMapInterpolate8",(function(){return Zu})),n.d(t,"\u0275\u0275classMapInterpolateV",(function(){return $u})),n.d(t,"\u0275\u0275classProp",(function(){return yu})),n.d(t,"\u0275\u0275componentHostSyntheticListener",(function(){return Lc})),n.d(t,"\u0275\u0275container",(function(){return vc})),n.d(t,"\u0275\u0275containerRefreshEnd",(function(){return yc})),n.d(t,"\u0275\u0275containerRefreshStart",(function(){return gc})),n.d(t,"\u0275\u0275contentQuery",(function(){return Vv})),n.d(t,"\u0275\u0275defaultStyleSanitizer",(function(){return Zr})),n.d(t,"\u0275\u0275defineComponent",(function(){return Fe})),n.d(t,"\u0275\u0275defineDirective",(function(){return qe})),n.d(t,"\u0275\u0275defineInjectable",(function(){return E})),n.d(t,"\u0275\u0275defineInjector",(function(){return O})),n.d(t,"\u0275\u0275defineNgModule",(function(){return Ge})),n.d(t,"\u0275\u0275definePipe",(function(){return We})),n.d(t,"\u0275\u0275directiveInject",(function(){return Cc})),n.d(t,"\u0275\u0275disableBindings",(function(){return Ot})),n.d(t,"\u0275\u0275element",(function(){return Pc})),n.d(t,"\u0275\u0275elementContainer",(function(){return Ac})),n.d(t,"\u0275\u0275elementContainerEnd",(function(){return Tc})),n.d(t,"\u0275\u0275elementContainerStart",(function(){return xc})),n.d(t,"\u0275\u0275elementEnd",(function(){return Oc})),n.d(t,"\u0275\u0275elementStart",(function(){return Ic})),n.d(t,"\u0275\u0275embeddedViewEnd",(function(){return Rc})),n.d(t,"\u0275\u0275embeddedViewStart",(function(){return Dc})),n.d(t,"\u0275\u0275enableBindings",(function(){return It})),n.d(t,"\u0275\u0275getCurrentView",(function(){return jc})),n.d(t,"\u0275\u0275getFactoryOf",(function(){return Wn})),n.d(t,"\u0275\u0275getInheritedFactory",(function(){return Yn})),n.d(t,"\u0275\u0275hostProperty",(function(){return yl})),n.d(t,"\u0275\u0275i18n",(function(){return Rp})),n.d(t,"\u0275\u0275i18nApply",(function(){return Lp})),n.d(t,"\u0275\u0275i18nAttributes",(function(){return jp})),n.d(t,"\u0275\u0275i18nEnd",(function(){return xp})),n.d(t,"\u0275\u0275i18nExp",(function(){return Fp})),n.d(t,"\u0275\u0275i18nPostprocess",(function(){return Pp})),n.d(t,"\u0275\u0275i18nStart",(function(){return Ip})),n.d(t,"\u0275\u0275inject",(function(){return fe})),n.d(t,"\u0275\u0275injectAttribute",(function(){return kc})),n.d(t,"\u0275\u0275injectPipeChangeDetectorRef",(function(){return Yv})),n.d(t,"\u0275\u0275invalidFactory",(function(){return wc})),n.d(t,"\u0275\u0275invalidFactoryDep",(function(){return de})),n.d(t,"\u0275\u0275listener",(function(){return Fc})),n.d(t,"\u0275\u0275loadQuery",(function(){return Gv})),n.d(t,"\u0275\u0275namespaceHTML",(function(){return on})),n.d(t,"\u0275\u0275namespaceMathML",(function(){return rn})),n.d(t,"\u0275\u0275namespaceSVG",(function(){return nn})),n.d(t,"\u0275\u0275nextContext",(function(){return Gc})),n.d(t,"\u0275\u0275pipe",(function(){return mv})),n.d(t,"\u0275\u0275pipeBind1",(function(){return gv})),n.d(t,"\u0275\u0275pipeBind2",(function(){return yv})),n.d(t,"\u0275\u0275pipeBind3",(function(){return _v})),n.d(t,"\u0275\u0275pipeBind4",(function(){return bv})),n.d(t,"\u0275\u0275pipeBindV",(function(){return Cv})),n.d(t,"\u0275\u0275projection",(function(){return Yc})),n.d(t,"\u0275\u0275projectionDef",(function(){return zc})),n.d(t,"\u0275\u0275property",(function(){return Sc})),n.d(t,"\u0275\u0275propertyInterpolate",(function(){return Kc})),n.d(t,"\u0275\u0275propertyInterpolate1",(function(){return Qc})),n.d(t,"\u0275\u0275propertyInterpolate2",(function(){return Xc})),n.d(t,"\u0275\u0275propertyInterpolate3",(function(){return Jc})),n.d(t,"\u0275\u0275propertyInterpolate4",(function(){return Zc})),n.d(t,"\u0275\u0275propertyInterpolate5",(function(){return $c})),n.d(t,"\u0275\u0275propertyInterpolate6",(function(){return eu})),n.d(t,"\u0275\u0275propertyInterpolate7",(function(){return tu})),n.d(t,"\u0275\u0275propertyInterpolate8",(function(){return nu})),n.d(t,"\u0275\u0275propertyInterpolateV",(function(){return ru})),n.d(t,"\u0275\u0275pureFunction0",(function(){return ev})),n.d(t,"\u0275\u0275pureFunction1",(function(){return tv})),n.d(t,"\u0275\u0275pureFunction2",(function(){return nv})),n.d(t,"\u0275\u0275pureFunction3",(function(){return rv})),n.d(t,"\u0275\u0275pureFunction4",(function(){return iv})),n.d(t,"\u0275\u0275pureFunction5",(function(){return ov})),n.d(t,"\u0275\u0275pureFunction6",(function(){return av})),n.d(t,"\u0275\u0275pureFunction7",(function(){return sv})),n.d(t,"\u0275\u0275pureFunction8",(function(){return cv})),n.d(t,"\u0275\u0275pureFunctionV",(function(){return uv})),n.d(t,"\u0275\u0275queryRefresh",(function(){return Mv})),n.d(t,"\u0275\u0275reference",(function(){return bc})),n.d(t,"\u0275\u0275resolveBody",(function(){return On})),n.d(t,"\u0275\u0275resolveDocument",(function(){return In})),n.d(t,"\u0275\u0275resolveWindow",(function(){return En})),n.d(t,"\u0275\u0275restoreView",(function(){return Tt})),n.d(t,"\u0275\u0275sanitizeHtml",(function(){return qr})),n.d(t,"\u0275\u0275sanitizeResourceUrl",(function(){return Kr})),n.d(t,"\u0275\u0275sanitizeScript",(function(){return Qr})),n.d(t,"\u0275\u0275sanitizeStyle",(function(){return Wr})),n.d(t,"\u0275\u0275sanitizeUrl",(function(){return Yr})),n.d(t,"\u0275\u0275sanitizeUrlOrResourceUrl",(function(){return Jr})),n.d(t,"\u0275\u0275select",(function(){return Pi})),n.d(t,"\u0275\u0275setComponentScope",(function(){return Le})),n.d(t,"\u0275\u0275setNgModuleScope",(function(){return He})),n.d(t,"\u0275\u0275staticContentQuery",(function(){return Uv})),n.d(t,"\u0275\u0275staticViewQuery",(function(){return Nv})),n.d(t,"\u0275\u0275styleMap",(function(){return _u})),n.d(t,"\u0275\u0275styleMapInterpolate1",(function(){return el})),n.d(t,"\u0275\u0275styleMapInterpolate2",(function(){return tl})),n.d(t,"\u0275\u0275styleMapInterpolate3",(function(){return nl})),n.d(t,"\u0275\u0275styleMapInterpolate4",(function(){return rl})),n.d(t,"\u0275\u0275styleMapInterpolate5",(function(){return il})),n.d(t,"\u0275\u0275styleMapInterpolate6",(function(){return ol})),n.d(t,"\u0275\u0275styleMapInterpolate7",(function(){return al})),n.d(t,"\u0275\u0275styleMapInterpolate8",(function(){return sl})),n.d(t,"\u0275\u0275styleMapInterpolateV",(function(){return cl})),n.d(t,"\u0275\u0275styleProp",(function(){return gu})),n.d(t,"\u0275\u0275stylePropInterpolate1",(function(){return ul})),n.d(t,"\u0275\u0275stylePropInterpolate2",(function(){return ll})),n.d(t,"\u0275\u0275stylePropInterpolate3",(function(){return hl})),n.d(t,"\u0275\u0275stylePropInterpolate4",(function(){return fl})),n.d(t,"\u0275\u0275stylePropInterpolate5",(function(){return dl})),n.d(t,"\u0275\u0275stylePropInterpolate6",(function(){return pl})),n.d(t,"\u0275\u0275stylePropInterpolate7",(function(){return vl})),n.d(t,"\u0275\u0275stylePropInterpolate8",(function(){return ml})),n.d(t,"\u0275\u0275stylePropInterpolateV",(function(){return gl})),n.d(t,"\u0275\u0275styleSanitizer",(function(){return mu})),n.d(t,"\u0275\u0275template",(function(){return mc})),n.d(t,"\u0275\u0275templateRefExtractor",(function(){return Wv})),n.d(t,"\u0275\u0275text",(function(){return ju})),n.d(t,"\u0275\u0275textInterpolate",(function(){return Mu})),n.d(t,"\u0275\u0275textInterpolate1",(function(){return Nu})),n.d(t,"\u0275\u0275textInterpolate2",(function(){return Fu})),n.d(t,"\u0275\u0275textInterpolate3",(function(){return Lu})),n.d(t,"\u0275\u0275textInterpolate4",(function(){return Vu})),n.d(t,"\u0275\u0275textInterpolate5",(function(){return Uu})),n.d(t,"\u0275\u0275textInterpolate6",(function(){return Bu})),n.d(t,"\u0275\u0275textInterpolate7",(function(){return Gu})),n.d(t,"\u0275\u0275textInterpolate8",(function(){return Hu})),n.d(t,"\u0275\u0275textInterpolateV",(function(){return zu})),n.d(t,"\u0275\u0275updateSyntheticHostBinding",(function(){return _l})),n.d(t,"\u0275\u0275viewQuery",(function(){return Fv}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function c(e){return{toString:e}.toString()}var u="__annotations__",l="__parameters__",h="__prop__metadata__";function f(e,t,n,r,i){return c((function(){var o=d(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return o.call.apply(o,[this].concat(t)),this;var s=_construct(a,t);return function(e){return i&&i.apply(void 0,[e].concat(t)),(e.hasOwnProperty(u)?e[u]:Object.defineProperty(e,u,{value:[]})[u]).push(s),r&&r(e),e}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a}))}function d(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function p(e,t,n){return c((function(){var r=d(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(l)?e[l]:Object.defineProperty(e,l,{value:[]})[l];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}function v(e,t,n,r){return c((function(){var i=d(t);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof o)return i.apply(this,t),this;var a=_construct(o,t);return function(e,n){var i=e.constructor,o=i.hasOwnProperty(h)?i[h]:Object.defineProperty(i,h,{value:{}})[h];o[n]=o.hasOwnProperty(n)&&o[n]||[],o[n].unshift(a),r&&r.apply(void 0,[e,n].concat(t))}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}))}var m=p("Inject",(function(e){return{token:e}})),g=p("Optional"),y=p("Self"),_=p("SkipSelf"),b=p("Host"),C=p("Attribute",(function(e){return{attributeName:e}})),k=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function w(e){for(var t in e)if(e[t]===w)return t;throw Error("Could not find renamed property on target object.")}function S(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var I=E;function O(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function P(e){return x(e,e[A])||x(e,e[j])}function x(e,t){return t&&t.token===e?t:null}function T(e){return e&&(e.hasOwnProperty(D)||e.hasOwnProperty(M))?e[D]:null}var A=w({"\u0275prov":w}),D=w({"\u0275inj":w}),R=w({"\u0275provFallback":w}),j=w({ngInjectableDef:w}),M=w({ngInjectorDef:w});function N(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(N).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function F(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var L=w({__forward_ref__:w});function V(e){return e.__forward_ref__=V,e.toString=function(){return N(this())},e}function U(e){return B(e)?e():e}function B(e){return"function"==typeof e&&e.hasOwnProperty(L)&&e.__forward_ref__===V}var G="undefined"!=typeof globalThis&&globalThis,H="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,W=G||q||H||z,Y=function(e){return e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid",e}({});function K(){var e=W.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}var Q,X=w({"\u0275cmp":w}),J=w({"\u0275dir":w}),Z=w({"\u0275pipe":w}),$=w({"\u0275mod":w}),ee=w({"\u0275loc":w}),te=w({"\u0275fac":w}),ne=w({__NG_ELEMENT_ID__:w}),re=function(){function e(t,n){_classCallCheck2(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass2(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),ie=new re("INJECTOR",-1),oe={},ae=/\n/gm,se=w({provide:String,useValue:w}),ce=void 0;function ue(e){var t=ce;return ce=e,t}function le(e){var t=Q;return Q=e,t}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===ce)throw new Error("inject() must be called from an injection context");return null===ce?ve(e,void 0,t):ce.get(e,t&k.Optional?null:void 0,t)}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return(Q||he)(U(e),t)}function de(e){throw new Error("invalid")}var pe=fe;function ve(e,t,n){var r=P(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(N(e),"]"))}function me(e){for(var t=[],n=0;n<e.length;n++){var r=U(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=k.Default,a=0;a<r.length;a++){var s=r[a];s instanceof g||"Optional"===s.ngMetadataName||s===g?o|=k.Optional:s instanceof _||"SkipSelf"===s.ngMetadataName||s===_?o|=k.SkipSelf:s instanceof y||"Self"===s.ngMetadataName||s===y?o|=k.Self:i=s instanceof m||s===m?s.token:s}t.push(fe(i,o))}else t.push(fe(r))}return t}var ge=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;if(t===oe){var n=new Error("NullInjectorError: No provider for ".concat(N(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),ye={"\u0275\u0275defineInjectable":E,"\u0275\u0275defineInjector":O,"\u0275\u0275inject":fe,"\u0275\u0275getFactoryOf":function e(t){var n=t;if(B(t))return function(){var t=e(U(n));return t?t():null};var r=P(n)||T(n);return r&&void 0!==r.factory?r.factory:null},"\u0275\u0275invalidFactoryDep":de},_e=function e(){_classCallCheck2(this,e)},be=function e(){_classCallCheck2(this,e)};function Ce(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function ke(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),ke(r,t)):t!==e&&t.push(r)}return t}function we(e,t){e.forEach((function(e){return Array.isArray(e)?we(e,t):t(e)}))}function Se(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ee(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ie(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function Oe(e,t,n){var r=xe(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function Pe(e,t){var n=xe(e,t);if(n>=0)return e[1|n]}function xe(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var Te=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Ae=function(){var e={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return e[e.CheckOnce]="CheckOnce",e[e.Checked]="Checked",e[e.CheckAlways]="CheckAlways",e[e.Detached]="Detached",e[e.Errored]="Errored",e[e.Destroyed]="Destroyed",e}();function De(e){return null==e||e===Te.Default}var Re=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),je={},Me=[],Ne=0;function Fe(e){return c((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Te.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Me,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Re.Emulated,id:"c",styles:e.styles||Me,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=Ne++,i.inputs=ze(e.inputs,r),i.outputs=ze(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Ve)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Ue)}:null,i}))}function Le(e,t,n){var r=e.\u0275cmp;r.directiveDefs=function(){return t.map(Ve)},r.pipeDefs=function(){return n.map(Ue)}}function Ve(e){return Ye(e)||Ke(e)}function Ue(e){return Qe(e)}var Be={};function Ge(e){var t={type:e.type,bootstrap:e.bootstrap||Me,declarations:e.declarations||Me,imports:e.imports||Me,exports:e.exports||Me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&c((function(){Be[e.id]=e.type})),t}function He(e,t){return c((function(){var n=Je(e,!0);n.declarations=t.declarations||Me,n.imports=t.imports||Me,n.exports=t.exports||Me}))}function ze(e,t){if(null==e)return je;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var qe=Fe;function We(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ye(e){return e[X]||null}function Ke(e){return e[J]||null}function Qe(e){return e[Z]||null}function Xe(e,t){return e.hasOwnProperty(te)?e[te]:null}function Je(e,t){var n=e[$]||null;if(!n&&!0===t)throw new Error("Type ".concat(N(e)," does not have '\u0275mod' property."));return n}function Ze(e){return Array.isArray(e)&&"object"==typeof e[1]}function $e(e){return Array.isArray(e)&&!0===e[1]}function et(e){return 0!=(8&e.flags)}function tt(e){return 2==(2&e.flags)}function nt(e){return 1==(1&e.flags)}function rt(e){return null!==e.template}function it(e){return 0!=(512&e[2])}var ot=void 0;function at(e){ot=e}function st(){return void 0!==ot?ot:"undefined"!=typeof document?document:void 0}function ct(e){return!!e.listen}var ut={createRenderer:function(e,t){return st()}};function lt(e){for(;Array.isArray(e);)e=e[0];return e}function ht(e,t){return lt(t[e+19])}function ft(e,t){return lt(t[e.index])}function dt(e,t){var n=e.index;return-1!==n?lt(t[n]):null}function pt(e,t){return e.data[t+19]}function vt(e,t){return e[t+19]}function mt(e,t){var n=t[e];return Ze(n)?n:n[0]}function gt(e){return e.__ngContext__||null}function yt(e){var t=gt(e);return t?Array.isArray(t)?t:t.lView:null}function _t(e){return 4==(4&e[2])}function bt(e){return 128==(128&e[2])}function Ct(e,t){return null===e||null==t?null:e[t]}function kt(e){e[18]=0}function wt(e){return e[2]>>1}var St={lFrame:Kt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Et(){return St.bindingsEnabled}function It(){St.bindingsEnabled=!0}function Ot(){St.bindingsEnabled=!1}function Pt(){return St.lFrame.lView}function xt(){return St.lFrame.tView}function Tt(e){St.lFrame.contextLView=e}function At(){return St.lFrame.previousOrParentTNode}function Dt(e,t){St.lFrame.previousOrParentTNode=e,St.lFrame.isParent=t}function Rt(){return St.lFrame.isParent}function jt(){St.lFrame.isParent=!1}function Mt(){return St.checkNoChangesMode}function Nt(e){St.checkNoChangesMode=e}function Ft(){var e=St.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Lt(){return St.lFrame.bindingIndex}function Vt(e){return St.lFrame.bindingIndex=e}function Ut(){return St.lFrame.bindingIndex++}function Bt(e){var t=St.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Gt(e,t){var n=St.lFrame;n.bindingIndex=n.bindingRootIndex=e,n.currentDirectiveIndex=t}function Ht(){return St.lFrame.currentQueryIndex}function zt(e){St.lFrame.currentQueryIndex=e}function qt(e,t){var n=Yt();St.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Wt(e,t){var n=Yt(),r=e[1];St.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function Yt(){var e=St.lFrame,t=null===e?null:e.child;return null===t?Kt(e):t}function Kt(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Qt(){var e=St.lFrame;return St.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Xt=Qt;function Jt(){var e=Qt();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Zt(e){return(St.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,St.lFrame.contextLView))[8]}function $t(){return St.lFrame.selectedIndex}function en(e){St.lFrame.selectedIndex=e}function tn(){var e=St.lFrame;return pt(e.tView,e.selectedIndex)}function nn(){St.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function rn(){St.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function on(){St.lFrame.currentNamespace=null}function an(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function sn(e,t,n){ln(e,t,3,n)}function cn(e,t,n,r){(3&e[2])===n&&ln(e,t,n,r)}function un(e,t){var n=e[2];(3&n)===t&&(n&=1023,n+=1,e[2]=n)}function ln(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(hn(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function hn(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>10<e[18]>>16&&(3&e[2])===t&&(e[2]+=1024,o.call(a)):o.call(a)}var fn=function e(t,n,r){_classCallCheck2(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function dn(e,t,n){for(var r=ct(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],c=n[i++];r?e.setAttribute(t,s,c,a):t.setAttributeNS(a,s,c)}else{var u=o,l=n[++i];vn(u)?r&&e.setProperty(t,u,l):r?e.setAttribute(t,u,l):t.setAttribute(u,l),i++}}return i}function pn(e){return 3===e||4===e||6===e}function vn(e){return 64===e.charCodeAt(0)}function mn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||gn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function gn(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var c=e[o];if("number"==typeof c)break;if(c===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function yn(e){return-1!==e}function _n(e){return 32767&e}function bn(e){return e>>16}function Cn(e,t){for(var n=bn(e),r=t;n>0;)r=r[15],n--;return r}function kn(e){return"string"==typeof e?e:null==e?"":""+e}function wn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():kn(e)}var Sn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W);function En(e){return{name:"window",target:e.ownerDocument.defaultView}}function In(e){return{name:"document",target:e.ownerDocument}}function On(e){return{name:"body",target:e.ownerDocument.body}}function Pn(e){return e instanceof Function?e():e}var xn=!0;function Tn(e){var t=xn;return xn=e,t}var An=0;function Dn(e,t){var n=jn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Rn(r.data,e),Rn(t,null),Rn(r.blueprint,null));var i=Mn(e,t),o=e.injectorIndex;if(yn(i))for(var a=_n(i),s=Cn(i,t),c=s[1].data,u=0;u<8;u++)t[o+u]=s[a+u]|c[a+u];return t[o+8]=i,o}function Rn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function jn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Mn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Nn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[ne]:n.charCodeAt(0)||0;null==r&&(r=n[ne]=An++);var i=255&r,o=1<<i,a=64&i,s=32&i,c=t.data;128&i?a?s?c[e+7]|=o:c[e+6]|=o:s?c[e+5]|=o:c[e+4]|=o:a?s?c[e+3]|=o:c[e+2]|=o:s?c[e+1]|=o:c[e]|=o}(e,t,n)}function Fn(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(pn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}function Ln(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[ne];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){qt(t,e);try{var a=o();if(null!=a||r&k.Optional)return a;throw new Error("No provider for ".concat(wn(n),"!"))}finally{Xt()}}else if("number"==typeof o){if(-1===o)return new qn(e,t);var s=null,c=jn(e,t),u=-1,l=r&k.Host?t[16][6]:null;for((-1===c||r&k.SkipSelf)&&(u=-1===c?Mn(e,t):t[c+8],zn(r,!1)?(s=t[1],c=_n(u),t=Cn(u,t)):c=-1);-1!==c;){u=t[c+8];var h=t[1];if(Hn(o,c,h.data)){var f=Un(c,t,n,s,r,l);if(f!==Vn)return f}zn(r,t[1].data[c+8]===l)&&Hn(o,c,t)?(s=h,c=_n(u),t=Cn(u,t)):c=-1}}}if(r&k.Optional&&void 0===i&&(i=null),0==(r&(k.Self|k.Host))){var d=t[9],p=le(void 0);try{return d?d.get(n,i,r&k.Optional):ve(n,i,r&k.Optional)}finally{le(p)}}if(r&k.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(wn(n),"]"))}var Vn={};function Un(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],c=Bn(s,a,n,null==r?tt(s)&&xn:r!=a&&3===s.type,i&k.Host&&o===s);return null!==c?Gn(t,a,c,s):Vn}function Bn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,c=e.directiveStart,u=o>>16,l=i?s+u:e.directiveEnd,h=r?s:s+u;h<l;h++){var f=a[h];if(h<c&&n===f||h>=c&&f.type===n)return h}if(i){var d=a[c];if(d&&rt(d)&&d.type===n)return c}return null}function Gn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof fn){var a=i;if(a.resolving)throw new Error("Circular dep for ".concat(wn(o[n])));var s,c=Tn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=le(a.injectImpl)),qt(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&le(s),Tn(c),a.resolving=!1,Xt()}}return i}function Hn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function zn(e,t){return!(e&k.Self||e&k.Host&&t)}var qn=function(){function e(t,n){_classCallCheck2(this,e),this._tNode=t,this._lView=n}return _createClass2(e,[{key:"get",value:function(e,t){return Ln(this._tNode,this._lView,e,void 0,t)}}]),e}();function Wn(e){var t=e;if(B(e))return function(){var e=Wn(U(t));return e?e():null};var n=Xe(t);if(null===n){var r=T(t);n=r&&r.factory}return n||null}function Yn(e){return c((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[te]||Wn(t);return null!==n?n:function(e){return new e}}))}function Kn(e){return e.ngDebugContext}function Qn(e){return e.ngOriginalError}function Xn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Jn=function(){function e(){_classCallCheck2(this,e),this._console=console}return _createClass2(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Xn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Kn(e)?Kn(e):this._findContext(Qn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Qn(e);t&&Qn(t);)t=Qn(t);return t}}]),e}(),Zn={name:"custom-elements"},$n={name:"no-errors-schema"},er=function(){function e(t){_classCallCheck2(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass2(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),tr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(er),nr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(er),rr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(er),ir=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(er),or=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(er);function ar(e){return e instanceof er?e.changingThisBreaksApplicationSecurity:e}function sr(e,t){var n=cr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function cr(e){return e instanceof er&&e.getTypeName()||null}function ur(e){return new tr(e)}function lr(e){return new nr(e)}function hr(e){return new rr(e)}function fr(e){return new ir(e)}function dr(e){return new or(e)}var pr=!0,vr=!1;function mr(){return vr=!0,pr}function gr(){if(vr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1}var yr=function(){function e(t){_classCallCheck2(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass2(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),_r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Cr(e){return(e=String(e)).match(_r)||e.match(br)?e:(mr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function kr(e){return(e=String(e)).split(",").map((function(e){return Cr(e.trim())})).join(", ")}function wr(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Sr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var Er,Ir=wr("area,br,col,hr,img,wbr"),Or=wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pr=wr("rp,rt"),xr=Sr(Pr,Or),Tr=Sr(Ir,Sr(Or,wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sr(Pr,wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xr),Ar=wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dr=wr("srcset"),Rr=Sr(Ar,Dr,wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jr=wr("script,style,template"),Mr=function(){function e(){_classCallCheck2(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass2(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Tr.hasOwnProperty(t))return this.sanitizedSomething=!0,!jr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(Rr.hasOwnProperty(a)){var s=i.value;Ar[a]&&(s=Cr(s)),Dr[a]&&(s=kr(s)),this.buf.push(" ",o,'="',Lr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Tr.hasOwnProperty(t)&&!Ir.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Lr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Nr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fr=/([^\#-~ |!])/g;function Lr(e){return e.replace(/&/g,"&amp;").replace(Nr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Fr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Vr(e,t){var n=null;try{Er=Er||new yr(e);var r=t?String(t):"";n=Er.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Er.getInertBodyElement(r)}while(r!==o);var a=new Mr,s=a.sanitizeChildren(Ur(n)||n);return mr()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var c=Ur(n)||n;c.firstChild;)c.removeChild(c.firstChild)}}function Ur(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Br=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Gr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Hr=/^url\(([^)]+)\)$/;function zr(e){if(!(e=String(e).trim()))return"";var t=e.match(Hr);return t&&Cr(t[1])===t[1]||e.match(Gr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(mr()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function qr(e){var t=ei();return t?t.sanitize(Br.HTML,e)||"":sr(e,"HTML")?ar(e):Vr(st(),kn(e))}function Wr(e){var t=ei();return t?t.sanitize(Br.STYLE,e)||"":sr(e,"Style")?ar(e):zr(kn(e))}function Yr(e){var t=ei();return t?t.sanitize(Br.URL,e)||"":sr(e,"URL")?ar(e):Cr(kn(e))}function Kr(e){var t=ei();if(t)return t.sanitize(Br.RESOURCE_URL,e)||"";if(sr(e,"ResourceURL"))return ar(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Qr(e){var t=ei();if(t)return t.sanitize(Br.SCRIPT,e)||"";if(sr(e,"Script"))return ar(e);throw new Error("unsafe value used in a script context")}function Xr(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Kr:Yr}function Jr(e,t,n){return Xr(t,n)(e)}var Zr=function(e,t,n){if(void 0===t&&void 0===n)return Wr(e);var r=!0;return 1&(n=n||3)&&(r=$r(e)),2&n?r?Wr(t):ar(t):r};function $r(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"border-image-source"===e||"borderImageSource"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}function ei(){var e=Pt();return e&&e[12]}function ti(e){var t;return t=e.replace(/[$@]/g,"_"),"ng-reflect-".concat(e=t.replace(ni,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()})))}var ni=/([A-Z])/g;function ri(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function ii(e){var t,n=gt(e);if(n){if(Array.isArray(n)){var r,i=n,o=void 0,a=void 0;if((t=e)&&t.constructor&&t.constructor.\u0275cmp){if(-1==(r=li(i,e)))throw new Error("The provided component was not found in the application");o=e}else if(function(e){return e&&e.constructor&&e.constructor.\u0275dir}(e)){if(-1==(r=function(e,t){for(var n=e[1].firstChild;n;){for(var r=n.directiveEnd,i=n.directiveStart;i<r;i++)if(e[i]===t)return n.index;n=ui(n)}return-1}(i,e)))throw new Error("The provided directive was not found in the application");a=hi(r,i,!1)}else if(-1==(r=ci(i,e)))return null;var s=lt(i[r]),c=gt(s),u=c&&!Array.isArray(c)?c:oi(i,r,s);if(o&&void 0===u.component&&(u.component=o,si(u.component,u)),a&&void 0===u.directives){u.directives=a;for(var l=0;l<a.length;l++)si(a[l],u)}si(u.native,u),n=u}}else for(var h=e,f=h;f=f.parentNode;){var d=gt(f);if(d){var p;if(!(p=Array.isArray(d)?d:d.lView))return null;var v=ci(p,h);if(v>=0){var m=lt(p[v]),g=oi(p,v,m);si(m,g),n=g;break}}}return n||null}function oi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function ai(e){var t,n=gt(e);if(Array.isArray(n)){var r=li(n,e),i=oi(n,r,(t=mt(r,n))[0]);i.component=e,si(e,i),si(i.native,i)}else t=mt(n.nodeIndex,n.lView);return t}function si(e,t){e.__ngContext__=t}function ci(e,t){for(var n=e[1].firstChild;n;){if(dt(n,e)===t)return n.index;n=ui(n)}return-1}function ui(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function li(e,t){var n=e[1].components;if(n)for(var r=0;r<n.length;r++){var i=n[r];if(mt(i,e)[8]===t)return i}else if(mt(19,e)[8]===t)return 19;return-1}function hi(e,t,n){var r=t[1].data[e],i=r.directiveStart;return 0==i?Me:(!n&&2&r.flags&&i++,t.slice(i,r.directiveEnd))}function fi(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function di(){throw new Error("Cannot mix multi providers and regular providers")}function pi(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function vi(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==pi((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function mi(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function gi(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(pn(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var c=t[s];if("number"!=typeof c){if(!a)if(4&r){if(r=2|1&r,""!==c&&!mi(e,c,n)||""===c&&1===t.length){if(yi(r))return!1;a=!0}}else{var u=8&r?c:t[++s];if(8&r&&null!==e.attrs){if(!vi(e.attrs,u,n)){if(yi(r))return!1;a=!0}continue}var l=_i(8&r?"class":c,i,0==e.type&&"ng-template"!==e.tagName,n);if(-1===l){if(yi(r))return!1;a=!0;continue}if(""!==u){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==pi(f,u,0)||2&r&&u!==h){if(yi(r))return!1;a=!0}}}}else{if(!a&&!yi(r)&&!yi(c))return!1;if(a&&yi(c))continue;a=!1,r=c|1&r}}return yi(r)||a}function yi(e){return 0==(1&e)}function _i(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function bi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(gi(e,t[r],n))return!0;return!1}function Ci(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function ki(e,t){return e?":not("+t.trim()+")":t}function wi(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||yi(a)||(t+=ki(o,i),i=""),r=a,o=o||!yi(r);n++}return""!==i&&(t+=ki(o,i)),t}var Si={};function Ei(e){var t=e[3];return $e(t)?t[3]:t}function Ii(e){return function(e){for(var t=Ze(e)?e:yt(e);t&&!(512&t[2]);)t=Ei(t);return t}(e)[8]}function Oi(e){xi(xt(),Pt(),$t()+e,Mt())}function Pi(e){xi(xt(),Pt(),e,Mt())}function xi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&sn(t,i,n)}else{var o=e.preOrderHooks;null!==o&&cn(t,o,0,n)}en(n)}var Ti={marker:"element"},Ai={marker:"comment"};function Di(e,t){return e<<17|t<<2}function Ri(e){return e>>17&32767}function ji(e){return 2|e}function Mi(e){return(131068&e)>>2}function Ni(e,t){return-131069&e|t<<2}function Fi(e){return 1|e}var Li=Promise.resolve(null);function Vi(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];zt(i),a.contentQueries(2,t[o],o)}}}function Ui(e,t,n){return ct(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Bi(e,t,n,r,i,o,a,s,c,u){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,kt(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=c||e&&e[12]||null,l[9]=u||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Gi(e,t,n,r,i,o){var a=n+19,s=e.data[a]||function(e,t,n,r,i,o){var a=At(),s=Rt(),c=s?a:a&&a.parent,u=e.data[n]=eo(0,c&&c!==t?c:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=u),a&&(!s||null!=a.child||null===u.parent&&2!==a.type?s||(a.next=u):a.child=u),u}(e,t,a,r,i,o);return Dt(s,!0),s}function Hi(e,t,n,r){var i=e.node;return null==i&&(e.node=i=eo(0,t,2,n,null,null)),r[6]=i}function zi(e,t,n){Wt(t,t[6]);try{var r=e.viewQuery;null!==r&&Io(1,r,n);var i=e.template;null!==i&&Yi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Vi(e,t),e.staticViewQueries&&Io(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)bo(e,t[n])}(t,o)}finally{t[2]&=-5,Jt()}}function qi(e,t,n,r){var i=t[2];if(256!=(256&i)){Wt(t,t[6]);var o=Mt();try{kt(t),Vt(e.bindingStartIndex),null!==n&&Yi(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&sn(t,s,null)}else{var c=e.preOrderHooks;null!==c&&cn(t,c,0,null),un(t,0)}if(function(e){for(var t=e[13];null!==t;){var n=void 0;if($e(t)&&(n=t[2])>>1==-1){for(var r=9;r<t.length;r++){var i=t[r],o=i[1];bt(i)&&qi(o,i,o.template,i[8])}0!=(1&n)&&yo(t,e[16])}t=t[4]}}(t),null!==e.contentQueries&&Vi(e,t),!o)if(a){var u=e.contentCheckHooks;null!==u&&sn(t,u)}else{var l=e.contentHooks;null!==l&&cn(t,l,1),un(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(en(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(Gt(r,i),a(2,t[i])),i++)}}finally{en(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)_o(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Io(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&sn(t,d)}else{var p=e.viewHooks;null!==p&&cn(t,p,2),un(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73)}finally{Jt()}}}function Wi(e,t,n,r){var i=t[10],o=!Mt(),a=_t(t);try{o&&!a&&i.begin&&i.begin(),a&&zi(e,t,r),qi(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Yi(e,t,n,r,i){var o=$t();try{en(-1),2&r&&t.length>19&&xi(e,t,0,Mt()),n(r,i)}finally{en(o)}}function Ki(e,t,n){if(et(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Qi(e,t,n){Et()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Dn(n,t),si(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var c=e.data[s],u=rt(c);u&&fo(t,n,c);var l=Gn(t,e,s,n);si(l,t),null!==a&&vo(0,s-i,l,c,0,a),u&&(mt(n.index,t)[8]=l)}}(e,t,n,ft(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-19;try{en(s);for(var c=r;c<i;c++){var u=e.data[c],l=t[c];null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs?ao(u,l):a&&o.push(null)}}finally{en(-1)}}(e,t,n))}function Xi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function Ji(e){return e.tView||(e.tView=Zi(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts))}function Zi(e,t,n,r,i,o,a,s,c,u){var l=19+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Si);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:u}}function $i(e,t,n){if(ct(e))return e.selectRootElement(t,n===Re.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}function eo(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function to(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function no(e,t,n,r,i,o,a,s){var c,u=ft(t,n),l=t.inputs;!s&&null!=l&&(c=l[r])?(Do(e,n,c,r,i),tt(t)&&function(e,t){var n=mt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=a?a(i,t.tagName||"",r):i,ct(o)?o.setProperty(u,r,i):vn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ro(e,t,n,r){var i=!1;if(Et()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];bi(n,a.selectors,!1)&&(i||(i=[]),Nn(Dn(n,t),e,a.type),rt(a)?(2&n.flags&&fi(n),co(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,lo(n,e.data.length,o.length);for(var c=0;c<o.length;c++){var u=o[c];u.providersResolver&&u.providersResolver(u)}so(e,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=mn(n.mergedAttrs,d.hostAttrs),ho(e,t,d),uo(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-19),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-19),h=!0),io(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,c=t.directiveStart;c<n;c++){var u=r[c],l=u.inputs;o.push(null!==i?mo(l,i):null),a=to(l,c,a),s=to(u.outputs,c,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),oo(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=mn(n.mergedAttrs,n.attrs),i}function io(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function oo(e,t,n){for(var r=0;r<n;r++)t.push(Si),e.blueprint.push(Si),e.data.push(null)}function ao(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function so(e,t,n){var r=19-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function co(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function uo(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;rt(t)&&(n[""]=e)}}function lo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ho(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Xe(n.type)),i=new fn(r,rt(n),null);e.blueprint.push(i),t.push(i)}function fo(e,t,n){var r=ft(t,e),i=Ji(n),o=e[10],a=Co(e,Bi(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function po(e,t,n,r,i,o){var a=ft(e,t),s=t[11];if(null==r)ct(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var c=null==i?kn(r):i(r,e.tagName||"",n);ct(s)?s.setAttribute(a,n,c,o):o?a.setAttributeNS(o,n,c):a.setAttribute(n,c)}}function vo(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,c=0;c<a.length;){var u=a[c++],l=a[c++],h=a[c++];null!==s?r.setInput(n,h,u,l):n[l]=h}}function mo(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function go(e,t,n,r){return new Array(e,!0,-2,t,null,null,r,n,null)}function yo(e,t){for(var n=e[5],r=0;r<n.length;r++){var i=n[r],o=i[3][3][16];if(o!==t&&0==(16&o[2])){var a=i[1];qi(a,i,a.template,i[8])}}}function _o(e,t){var n=mt(t,e);if(bt(n)&&80&n[2]){var r=n[1];qi(r,n,r.template,n[8])}}function bo(e,t){var n=mt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),zi(r,n,n[8])}function Co(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ko(e){for(;e;){e[2]|=64;var t=Ei(e);if(it(e)&&!t)return e;e=t}return null}function wo(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=yt(n),i=r[1];Wi(i,r,i.template,n)}}function So(e,t,n){var r=t[10];r.begin&&r.begin();try{qi(e,t,e.template,n)}catch(i){throw Ao(t,i),i}finally{r.end&&r.end()}}function Eo(e){wo(e[8])}function Io(e,t,n){zt(0),t(e,n)}var Oo=Li;function Po(e){return e[7]||(e[7]=[])}function xo(e){return e.cleanup||(e.cleanup=[])}function To(e,t){return function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(t[e.index])[11]}function Ao(e,t){var n=e[9],r=n?n.get(Jn,null):null;r&&r.handleError(t)}function Do(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],c=t[a],u=e.data[a];null!==u.setInput?u.setInput(c,i,r,s):c[s]=i}}function Ro(e,t,n){var r=ht(t,e),i=e[11];ct(i)?i.setValue(r,n):r.textContent=n}function jo(e,t){var n=t[3];return-1===e.index?$e(n)?n:null:n}function Mo(e,t){var n=jo(e,t);return n?Xo(t[11],n[7]):null}function No(e,t,n,r,i){if(null!=r){var o,a=!1;$e(r)?o=r:Ze(r)&&(a=!0,r=r[0]);var s=lt(r);0===e&&null!==n?null==i?Ko(t,n,s):Yo(t,n,s,i||null):1===e&&null!==n?Yo(t,n,s,i||null):2===e?ea(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==lt(n)&&No(t,e,r,o,i);for(var a=9;a<n.length;a++){var s=n[a];na(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Fo(e,t){return ct(t)?t.createText(e):t.createTextNode(e)}function Lo(e,t,n,r){var i=Mo(e.node,t);i&&na(e,t,t[11],n?1:2,i,r)}function Vo(e,t,n,r){var i=9+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-9?(t[4]=n[i],Se(n,9+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[5],r=t[3][3][16];16!=(16&r[2])&&t[16]!==r&&(e[2]|=1),null===n?e[5]=[t]:n.push(t)}(a,t);var s=t[5];null!==s&&s.insertView(e),t[2]|=128}function Uo(e,t){var n=e[5],r=n.indexOf(t);n.splice(r,1)}function Bo(e,t){if(!(e.length<=9)){var n=9+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Uo(i,r),t>0&&(e[n-1][4]=r[4]);var o=Ee(e,9+t);Lo(r[1],r,!1,null);var a=o[5];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Go(e,t){var n=Bo(e,t);n&&Ho(n[1],n)}function Ho(e,t){if(!(256&t[2])){var n=t[11];ct(n)&&n.destroyNode&&na(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return qo(e[1],e);for(;t;){var n=null;if(Ze(t))n=t[13];else{var r=t[9];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Ze(t)&&qo(t[1],t),t=zo(t,e);null===t&&(t=e),Ze(t)&&qo(t[1],t),n=t&&t[4]}t=n}}(t)}}function zo(e,t){var n;return Ze(e)&&(n=e[6])&&2===n.type?jo(n,e):e[3]===t?null:e[3]}function qo(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];i instanceof fn||n[r+1].call(i)}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):lt(t[o]),s=r[n[i+2]],c=n[i+3];"boolean"==typeof c?a.removeEventListener(n[i],s,c):c>=0?r[c]():r[-c].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&ct(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&$e(t[3])){r!==t[3]&&Uo(r,t);var i=t[5];null!==i&&i.detachView(e)}}}function Wo(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Mo(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return ft(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Re.ShadowDom&&a!==Re.Native)return null}return ft(r,n)}function Yo(e,t,n,r){ct(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Ko(e,t,n){ct(e)?e.appendChild(t,n):t.appendChild(n)}function Qo(e,t,n,r){null!==r?Yo(e,t,n,r):Ko(e,t,n)}function Xo(e,t){return ct(e)?e.parentNode(t):t.parentNode}function Jo(e,t){if(2===e.type){var n=jo(e,t);return null===n?null:$o(n.indexOf(t,9)-9,n)}return 4===e.type||5===e.type?ft(e,t):null}function Zo(e,t,n,r){var i=Wo(e,r,t);if(null!=i){var o=t[11],a=Jo(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Qo(o,i,n[s],a);else Qo(o,i,n,a)}}function $o(e,t){var n=9+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return ft(n,t);if(0===r)return $o(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return $e(o)?$o(-1,o):lt(o)}var a=t[16],s=a[6],c=Ei(a),u=s.projection[n.projection];return null!=u?e(c,u):e(t,n.next)}return null}(r,i)}return t[7]}function ea(e,t,n){var r=Xo(e,t);r&&function(e,t,n,r){ct(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function ta(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],c=n.type;a&&0===t&&(s&&si(lt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(ta(e,t,n.child,r,i,o,!1),No(t,e,i,s,o)):1===c?ia(e,t,r,n,i,o):No(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function na(e,t,n,r,i,o){ta(n,r,e.node.child,t,i,o,!1)}function ra(e,t,n){ia(t[11],0,t,n,Wo(e,n,t),Jo(n.parent||t[6],t))}function ia(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)No(t,e,i,s[c],o);else ta(e,t,s,a[3],i,o,!0)}function oa(e,t,n){ct(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function aa(e,t,n){ct(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var sa,ca,ua,la=function(){function e(t,n){_classCallCheck2(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass2(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Ho(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Po(n=this._lView).push(r),t.firstCreatePass&&xo(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){ko(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){So(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Nt(!0);try{So(e,t,n)}finally{Nt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,na(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(lt(a)),$e(a))for(var s=9;s<a.length;s++){var c=a[s],u=c[1].firstChild;null!==u&&e(c[1],c,u,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],f=h[6],d=Ei(h),p=f.projection[r.projection];null!==p&&null!==d&&e(d[1],d,p,i,!0)}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),ha=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e))._view=e,r}return _createClass2(n,[{key:"detectChanges",value:function(){Eo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Nt(!0);try{Eo(e)}finally{Nt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(la);function fa(e,t,n){return sa||(sa=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(e)),new sa(ft(t,n))}function da(e,t,n,r){return ca||(ca=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass2(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Bi(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(t)),zi(t,n,e);var i=new la(n);return i._tViewNode=n[6],i}}]),n}(e)),0===n.type?new ca(r,n,fa(t,n,r)):null}function pa(e,t,n,r){var i;ua||(ua=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck2(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass2(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(_e,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),$e(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new ua(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return Vo(r,n,this._lContainer,s),Lo(r,n,!0,$o(s,this._lContainer)),e.attachToViewContainerRef(this),Se(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);Go(this._lContainer,t),Ee(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Bo(this._lContainer,t);return n&&null!=Ee(this._lContainer[8],t)?new la(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return fa(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new qn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Mn(this._hostTNode,this._hostView),t=Cn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=bn(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return yn(e)&&null!=n?new qn(n,t):new qn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-9}}]),r}(e));var o=r[n.index];if($e(o))(function(e,t){e[2]=-2})(i=o);else{var a;if(4===n.type)a=lt(o);else if(a=r[11].createComment(""),it(r)){var s=r[11],c=ft(n,r);Yo(s,Xo(s,c),a,function(e,t){return ct(e)?e.nextSibling(t):t.nextSibling}(s,c))}else Zo(r[1],r,a,n);r[n.index]=i=go(o,r,a,n),Co(r,i)}return new ua(i,n,r)}function va(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&tt(e)){var r=mt(e.index,t);return new la(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new la(t[16],t):null}(At(),Pt(),e)}var ma=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return ya()},e}(),ga=va,ya=ga,_a=Function;function ba(e){return"function"==typeof e}var Ca=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,ka=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,wa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Sa=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/,Ea=function(){function e(t){_classCallCheck2(this,e),this._reflect=t||W.Reflect}return _createClass2(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _construct(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=Ie(void 0===e?t.length:e.length);for(var r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),Ca.test(n)||Sa.test(n)||ka.test(n)&&!wa.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==t.ctorParameters){var i="function"==typeof r?r():r,o=i.map((function(e){return e&&e.type})),a=i.map((function(e){return e&&Ia(e.decorators)}));return this._zipTypesAndAnnotations(o,a)}var s=e.hasOwnProperty(l)&&e[l],c=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return c||s?this._zipTypesAndAnnotations(c,s):Ie(e.length)}},{key:"parameters",value:function(e){if(!ba(e))return[];var t=Oa(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?Ia(e.decorators):e.hasOwnProperty(u)?e[u]:null}},{key:"annotations",value:function(e){if(!ba(e))return[];var t=Oa(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,i={};return Object.keys(r).forEach((function(e){i[e]=Ia(r[e])})),i}return e.hasOwnProperty(h)?e[h]:null}},{key:"propMetadata",value:function(e){if(!ba(e))return{};var t=Oa(e),n={};if(t!==Object){var r=this.propMetadata(t);Object.keys(r).forEach((function(e){n[e]=r[e]}))}var i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,_toConsumableArray2(n[e])),t.push.apply(t,_toConsumableArray2(i[e])),n[e]=t})),n}},{key:"ownPropMetadata",value:function(e){return ba(e)&&this._ownPropMetadata(e,Oa(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof _a&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){return new Function("o","args","if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);"))}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./".concat(N(e))}},{key:"resourceUri",value:function(e){return"./".concat(N(e))}},{key:"resolveIdentifier",value:function(e,t,n,r){return r}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function Ia(e){return e?e.map((function(e){return _construct(e.type.annotationCls,_toConsumableArray2(e.args?e.args:[]))})):[]}function Oa(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var Pa=null;function xa(){return Pa=Pa||new Ea}function Ta(e){return Aa(xa().parameters(e))}function Aa(e){var t=K();return e.map((function(e){return function(e,t){var n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)&&t.length>0)for(var i=0;i<t.length;i++){var o=t[i];if(void 0!==o){var a=Object.getPrototypeOf(o);if(o instanceof g||"Optional"===a.ngMetadataName)n.optional=!0;else if(o instanceof _||"SkipSelf"===a.ngMetadataName)n.skipSelf=!0;else if(o instanceof y||"Self"===a.ngMetadataName)n.self=!0;else if(o instanceof b||"Host"===a.ngMetadataName)n.host=!0;else if(o instanceof m)n.token=o.token;else if(o instanceof C){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else o===ma?(n.token=o,n.resolved=e.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}}else void 0===t||Array.isArray(t)&&0===t.length?(n.token=void 0,n.resolved=Y.Invalid):r(t);return n}(t,e)}))}var Da=w({provide:String,useValue:w});function Ra(e){return void 0!==e.useClass}function ja(e){return void 0!==e.useFactory}function Ma(e,t){var n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn,userDeps:void 0};return(Ra(n)||ja(n))&&void 0!==n.deps&&(r.userDeps=Aa(n.deps)),Ra(n)?r.useClass=U(n.useClass):function(e){return Da in e}(n)?r.useValue=U(n.useValue):ja(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=U(n.useExisting)),r}var Na=f("Injectable",void 0,void 0,void 0,(function(e,t){return La(e,t)})),Fa=function(e,t){var n=null,r=null;e.hasOwnProperty(A)||(Object.defineProperty(e,A,{get:function(){return null===n&&(n=K().compileInjectable(ye,"ng:///".concat(e.name,"/\u0275prov.js"),Ma(e,t))),n}}),e.hasOwnProperty(R)||(e[R]=function(){return e[A]})),e.hasOwnProperty(te)||Object.defineProperty(e,te,{get:function(){if(null===r){var n=Ma(e,t),i=K();r=i.compileFactory(ye,"ng:///".concat(e.name,"/\u0275fac.js"),{name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:Ta(e),injectFn:"inject",target:i.R3FactoryTarget.Injectable})}return r},configurable:!0})},La=Fa,Va=new re("Set Injector scope."),Ua={},Ba={},Ga=[],Ha=void 0;function za(){return void 0===Ha&&(Ha=new ge),Ha}function qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Wa(e,t,n,r);return i._resolveInjectorDefTypes(),i}function Wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Ya(e,n,t||za(),r)}var Ya=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck2(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&we(n,(function(e){return i.processProvider(e,t,n)})),we([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(ie,Xa(void 0,this));var s=this.records.get(Va);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:N(t))}return _createClass2(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;this.assertNotDestroyed();var r,i=ue(this);try{if(!(n&k.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof re)&&P(e);o=a&&this.injectableDefInScope(a)?Xa(Ka(e),Ua):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&k.Self?za():this.parent).get(e,t=n&k.Optional&&t===oe?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(N(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=N(t);if(Array.isArray(t))i=t.map(N).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):N(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(ae,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{ue(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(N(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=U(e)))return!1;var i=T(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=T(o)),null==i)return!1;if(null!=i.imports&&!s){var c;n.push(a);try{we(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===c&&(c=[]),c.push(e))}))}finally{}if(void 0!==c)for(var u=function(e){var t=c[e],n=t.ngModule,i=t.providers;we(i,(function(e){return r.processProvider(e,n,i||Ga)}))},l=0;l<c.length;l++)u(l)}this.injectorDefTypes.add(a),this.records.set(a,Xa(i.factory,Ua));var h=i.providers;if(null!=h&&!s){var f=e;we(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Za(e=U(e))?e:U(e&&e.provide),i=function(e,t,n){return Ja(e)?Xa(void 0,e.useValue):Xa(Qa(e,t,n),Ua)}(e,t,n);if(Za(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&di()}else{var a=this.records.get(r);a?void 0===a.multi&&di():((a=Xa(void 0,Ua,!0)).factory=function(){return me(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===Ba?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(N(e)):t.value===Ua&&(t.value=Ba,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Ka(e){var t=P(e),n=null!==t?t.factory:Xe(e);if(null!==n)return n;var r=T(e);if(null!==r)return r.factory;if(e instanceof re)throw new Error("Token ".concat(N(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=Ie(t,"?");throw new Error("Can't resolve all parameters for ".concat(N(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[A]||e[j]||e[R]&&e[R]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Qa(e,t,n){var r,i=void 0;if(Za(e)){var o=U(e);return Xe(o)||Ka(o)}if(Ja(e))i=function(){return U(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray2(me(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return fe(U(e.useExisting))};else{var a=U(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(N(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return Xe(a)||Ka(a);i=function(){return _construct(a,_toConsumableArray2(me(e.deps)))}}return i}function Xa(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Ja(e){return null!==e&&"object"==typeof e&&se in e}function Za(e){return"function"==typeof e}function $a(e,t,n){return qa({name:n},t,e,n)}var es=$a,ts=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?es(e,t,""):es(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=oe,e.NULL=new ge,e.\u0275prov=E({token:e,providedIn:"any",factory:function(){return fe(ie)}}),e.__NG_ELEMENT_ID__=-1,e}();function ns(e){return e.length>1?" ("+function(e){for(var t=[],n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map((function(e){return N(e.token)})).join(" -> ")+")":""}function rs(e,t,n,r){var i=[t],o=n(i),a=r?function(e,t){var n="".concat(e," caused by: ").concat(t instanceof Error?t.message:t),r=Error(n);return r.ngOriginalError=t,r}(o,r):Error(o);return a.addKey=is,a.keys=i,a.injectors=[e],a.constructResolvingMessage=n,a.ngOriginalError=r,a}function is(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function os(e,t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];n.push(o&&0!=o.length?o.map(N).join(" "):"?")}return Error("Cannot resolve all parameters for '"+N(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+N(e)+"' is decorated with Injectable.")}var as=function(){function e(t,n){if(_classCallCheck2(this,e),this.token=t,this.id=n,!t)throw new Error("Token must be defined!");this.displayName=N(this.token)}return _createClass2(e,null,[{key:"get",value:function(e){return ss.get(U(e))}},{key:"numberOfKeys",get:function(){return ss.numberOfKeys}}]),e}(),ss=new(function(){function e(){_classCallCheck2(this,e),this._allKeys=new Map}return _createClass2(e,[{key:"get",value:function(e){if(e instanceof as)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new as(e,as.numberOfKeys);return this._allKeys.set(e,t),t}},{key:"numberOfKeys",get:function(){return this._allKeys.size}}]),e}()),cs=new(function(){function e(t){_classCallCheck2(this,e),this.reflectionCapabilities=t}return _createClass2(e,[{key:"updateCapabilities",value:function(e){this.reflectionCapabilities=e}},{key:"factory",value:function(e){return this.reflectionCapabilities.factory(e)}},{key:"parameters",value:function(e){return this.reflectionCapabilities.parameters(e)}},{key:"annotations",value:function(e){return this.reflectionCapabilities.annotations(e)}},{key:"propMetadata",value:function(e){return this.reflectionCapabilities.propMetadata(e)}},{key:"hasLifecycleHook",value:function(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}},{key:"getter",value:function(e){return this.reflectionCapabilities.getter(e)}},{key:"setter",value:function(e){return this.reflectionCapabilities.setter(e)}},{key:"method",value:function(e){return this.reflectionCapabilities.method(e)}},{key:"importUri",value:function(e){return this.reflectionCapabilities.importUri(e)}},{key:"resourceUri",value:function(e){return this.reflectionCapabilities.resourceUri(e)}},{key:"resolveIdentifier",value:function(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}},{key:"resolveEnum",value:function(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}]),e}())(new Ea),us=function(){function e(t,n,r){_classCallCheck2(this,e),this.key=t,this.optional=n,this.visibility=r}return _createClass2(e,null,[{key:"fromKey",value:function(t){return new e(t,!1,null)}}]),e}(),ls=[],hs=function e(t,n,r){_classCallCheck2(this,e),this.key=t,this.resolvedFactories=n,this.multiProvider=r,this.resolvedFactory=this.resolvedFactories[0]},fs=function e(t,n){_classCallCheck2(this,e),this.factory=t,this.dependencies=n};function ds(e){var t,n;if(e.useClass){var r=U(e.useClass);t=cs.factory(r),n=ms(r)}else e.useExisting?(t=function(e){return e},n=[us.fromKey(as.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){var n=t.map((function(e){return[e]}));return t.map((function(t){return gs(e,t,n)}))}return ms(e)}(e.useFactory,e.deps)):(t=function(){return e.useValue},n=ls);return new fs(t,n)}function ps(e){return new hs(as.get(e.provide),[ds(e)],e.multi||!1)}function vs(e){var t=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: ".concat(i," ").concat(r));if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else t.set(r.key.id,r)}else{var a;a=r.multiProvider?new hs(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,a)}}return t}(function e(t,n){return t.forEach((function(t){if(t instanceof _a)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!Array.isArray(t))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: ".concat(t));e(t,n)}})),n}(e,[]).map(ps),new Map);return Array.from(t.values())}function ms(e){var t=cs.parameters(e);if(!t)return[];if(t.some((function(e){return null==e})))throw os(e,t);return t.map((function(n){return gs(e,n,t)}))}function gs(e,t,n){var r=null,i=!1;if(!Array.isArray(t))return ys(t instanceof m?t.token:t,i,null);for(var o=null,a=0;a<t.length;++a){var s=t[a];s instanceof _a?r=s:s instanceof m?r=s.token:s instanceof g?i=!0:s instanceof y||s instanceof _?o=s:s instanceof re&&(r=s)}if(null!=(r=U(r)))return ys(r,i,o);throw os(e,n)}function ys(e,t,n){return new us(as.get(e),t,n)}var _s={},bs=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"resolve",value:function(e){return vs(e)}},{key:"resolveAndCreate",value:function(t,n){var r=e.resolve(t);return e.fromResolvedProviders(r,n)}},{key:"fromResolvedProviders",value:function(e,t){return new Cs(e,t)}}]),e}(),Cs=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._constructionCounter=0,this._providers=t,this.parent=n||null;var r=t.length;this.keyIds=[],this.objs=[];for(var i=0;i<r;i++)this.keyIds[i]=t[i].key.id,this.objs[i]=_s}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;return this._getByKey(as.get(e),null,t)}},{key:"resolveAndCreateChild",value:function(e){var t=bs.resolve(e);return this.createChildFromResolved(t)}},{key:"createChildFromResolved",value:function(t){var n=new e(t);return n.parent=this,n}},{key:"resolveAndInstantiate",value:function(e){return this.instantiateResolved(bs.resolve([e])[0])}},{key:"instantiateResolved",value:function(e){return this._instantiateProvider(e)}},{key:"getProviderAtIndex",value:function(e){if(e<0||e>=this._providers.length)throw function(e){return Error("Index ".concat(e," is out-of-bounds."))}(e);return this._providers[e]}},{key:"_new",value:function(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw rs(this,e.key,(function(e){return"Cannot instantiate cyclic dependency!".concat(ns(e))}));return this._instantiateProvider(e)}},{key:"_getMaxNumberOfObjects",value:function(){return this.objs.length}},{key:"_instantiateProvider",value:function(e){if(e.multiProvider){for(var t=[],n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}},{key:"_instantiate",value:function(e,t){var n,r,i,o=this,a=t.factory;try{n=t.dependencies.map((function(e){return o._getByReflectiveDependency(e)}))}catch(s){throw s.addKey&&s.addKey(this,e.key),s}try{r=a.apply(void 0,_toConsumableArray2(n))}catch(s){throw rs(this,e.key,(function(e){var t=N(e[0].token);return"".concat(i.message,": Error during instantiation of ").concat(t,"!").concat(ns(e),".")}),i=s)}return r}},{key:"_getByReflectiveDependency",value:function(e){return this._getByKey(e.key,e.visibility,e.optional?null:oe)}},{key:"_getByKey",value:function(t,n,r){return t===e.INJECTOR_KEY?this:n instanceof y?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,n)}},{key:"_getObjByKeyId",value:function(e){for(var t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===_s&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return _s}},{key:"_throwOrNull",value:function(e,t){if(t!==oe)return t;throw function(e,t){return rs(e,t,(function(e){return"No provider for ".concat(N(e[0].token),"!").concat(ns(e))}))}(this,e)}},{key:"_getByKeySelf",value:function(e,t){var n=this._getObjByKeyId(e.id);return n!==_s?n:this._throwOrNull(e,t)}},{key:"_getByKeyDefault",value:function(t,n,r){var i;for(i=r instanceof _?this.parent:this;i instanceof e;){var o=i,a=o._getObjByKeyId(t.id);if(a!==_s)return a;i=o.parent}return null!==i?i.get(t.token,n):this._throwOrNull(t,n)}},{key:"toString",value:function(){return this.displayName}},{key:"displayName",get:function(){return"ReflectiveInjector(providers: [".concat(function(e,t){for(var n=[],r=0;r<e._providers.length;++r)n[r]=' "'+e.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", "),"])")}}]),e}();return e.INJECTOR_KEY=as.get(ts),e}(),ks=new re("AnalyzeForEntryComponents"),ws=function e(){_classCallCheck2(this,e)},Ss=v("ContentChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)}),ws),Es=v("ContentChild",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)}),ws),Is=v("ViewChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)}),ws),Os=v("ViewChild",(function(e,t){return Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)}),ws);function Ps(e){var t=[],n=new Map;function r(t){var r=n.get(t);if(!r){var i=e(t);n.set(t,r=i.then(Rs))}return r}return xs.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var c=Promise.all(i).then((function(){return function(e){Ts.delete(e)}(n)}));t.push(c)})),Ds(),Promise.all(t).then((function(){}))}var xs=new Map,Ts=new Set;function As(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Ds(){var e=xs;return xs=new Map,e}function Rs(e){return"string"==typeof e?e:e.text()}function js(e,t){for(var n=e.styles,r=e.classes,i=0,o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:1==i?r=F(r,a):2==i&&(n=F(n,a+": "+t[++o]+";"))}null!==n&&(e.styles=n),null!==r&&(e.classes=r)}var Ms=null;function Ns(){if(!Ms){var e=W.Symbol;if(e&&e.iterator)Ms=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ms=r)}}return Ms}function Fs(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ls(e,t){var n=Us(e),r=Us(t);return n&&r?function(e,t,n){for(var r=e[Ns()](),i=t[Ns()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(e,t,Ls):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||Fs(e,t)}var Vs=function(){function e(t){_classCallCheck2(this,e),this.wrapped=t}return _createClass2(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Us(e){return!!Bs(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ns()in e)}function Bs(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Gs(e,t,n){return e[t]=n}function Hs(e,t){return e[t]}function zs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function qs(e,t,n,r){var i=zs(e,t,n);return zs(e,t+1,r)||i}function Ws(e,t,n,r,i){var o=qs(e,t,n,r);return zs(e,t+2,i)||o}function Ys(e,t,n,r,i,o){var a=qs(e,t,n,r);return qs(e,t+2,i,o)||a}function Ks(e,t,n,r){var i=Pt();return zs(i,Ut(),t)&&(xt(),po(tn(),i,e,t,n,r)),Ks}function Qs(e,t){for(var n=!1,r=Lt(),i=1;i<t.length;i+=2)n=zs(e,r++,t[i])||n;if(Vt(r),!n)return Si;for(var o=t[0],a=1;a<t.length;a+=2)o+=kn(t[a])+t[a+1];return o}function Xs(e,t,n,r){return zs(e,Ut(),n)?t+kn(n)+r:Si}function Js(e,t,n,r,i,o){var a=qs(e,Lt(),n,i);return Bt(2),a?t+kn(n)+r+kn(i)+o:Si}function Zs(e,t,n,r,i,o,a,s){var c=Ws(e,Lt(),n,i,a);return Bt(3),c?t+kn(n)+r+kn(i)+o+kn(a)+s:Si}function $s(e,t,n,r,i,o,a,s,c,u){var l=Ys(e,Lt(),n,i,a,c);return Bt(4),l?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+u:Si}function ec(e,t,n,r,i,o,a,s,c,u,l,h){var f=Lt(),d=Ys(e,f,n,i,a,c);return d=zs(e,f+4,l)||d,Bt(5),d?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+u+kn(l)+h:Si}function tc(e,t,n,r,i,o,a,s,c,u,l,h,f,d){var p=Lt(),v=Ys(e,p,n,i,a,c);return v=qs(e,p+4,l,f)||v,Bt(6),v?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+u+kn(l)+h+kn(f)+d:Si}function nc(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v){var m=Lt(),g=Ys(e,m,n,i,a,c);return g=Ws(e,m+4,l,f,p)||g,Bt(7),g?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+u+kn(l)+h+kn(f)+d+kn(p)+v:Si}function rc(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m,g){var y=Lt(),_=Ys(e,y,n,i,a,c);return _=Ys(e,y+4,l,f,p,m)||_,Bt(8),_?t+kn(n)+r+kn(i)+o+kn(a)+s+kn(c)+u+kn(l)+h+kn(f)+d+kn(p)+v+kn(m)+g:Si}function ic(e,t,n,r,i,o){var a=Pt(),s=Xs(a,t,n,r);return s!==Si&&po(tn(),a,e,s,i,o),ic}function oc(e,t,n,r,i,o,a,s){var c=Pt(),u=Js(c,t,n,r,i,o);return u!==Si&&po(tn(),c,e,u,a,s),oc}function ac(e,t,n,r,i,o,a,s,c,u){var l=Pt(),h=Zs(l,t,n,r,i,o,a,s);return h!==Si&&po(tn(),l,e,h,c,u),ac}function sc(e,t,n,r,i,o,a,s,c,u,l,h){var f=Pt(),d=$s(f,t,n,r,i,o,a,s,c,u);return d!==Si&&po(tn(),f,e,d,l,h),sc}function cc(e,t,n,r,i,o,a,s,c,u,l,h,f,d){var p=Pt(),v=ec(p,t,n,r,i,o,a,s,c,u,l,h);return v!==Si&&po(tn(),p,e,v,f,d),cc}function uc(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v){var m=Pt(),g=tc(m,t,n,r,i,o,a,s,c,u,l,h,f,d);return g!==Si&&po(tn(),m,e,g,p,v),uc}function lc(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m,g){var y=Pt(),_=nc(y,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v);return _!==Si&&po(tn(),y,e,_,m,g),lc}function hc(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m,g,y,_){var b=Pt(),C=rc(b,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m,g);return C!==Si&&po(tn(),b,e,C,y,_),hc}function fc(e,t,n,r){var i=Pt(),o=Qs(i,t);return o!==Si&&po(tn(),i,e,o,n,r),fc}function dc(e){var t=ai(e);So(t[1],t,e)}function pc(e){var t,n,r;t=ko(ai(e))[8],r=0===t.flags,t.flags|=1,r&&t.clean==Li&&(t.clean=new Promise((function(e){return n=e})),t.scheduler((function(){if(1&t.flags&&(t.flags&=-2,wo(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=Li,n(null)})))}function vc(e){var t=Pt(),n=xt(),r=function(e,t,n,r,i){var o=n+19,a=t[o]=t[11].createComment(""),s=Gi(e,t[6],n,0,null,null),c=t[o]=go(a,t,a,s);return Zo(e,t,a,s),si(a,t),Co(t,c),s}(n,t,e);n.firstCreatePass&&(r.tViews=[]),jt()}function mc(e,t,n,r,i,o,a,s){var c=Pt(),u=xt(),l=e+19,h=u.firstCreatePass?function(e,t,n,r,i,o,a,s,c){var u=t.consts,l=Gi(t,n[6],e,0,a||null,Ct(u,s));ro(t,n,l,Ct(u,c)),an(t,l);var h=l.tViews=Zi(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u),f=eo(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,u,c,t,n,r,i,o,a):u.data[l];Dt(h,!1);var f=c[11].createComment("");Zo(u,c,f,h),si(f,c),Co(c,c[l]=go(f,c,f,h)),nt(h)&&Qi(u,c,h),null!=a&&Xi(c,h,s)}function gc(e){var t=Pt(),n=xt();if(Dt(vt(n.data,e),!0),t[e+19][2]=0,!Mt())if(3==(3&t[2])){var r=n.preOrderCheckHooks;null!==r&&sn(t,r,null)}else{var i=n.preOrderHooks;null!==i&&cn(t,i,0,null),un(t,0)}}function yc(){var e=At();Rt()?jt():Dt(e=e.parent,!1);for(var t=Pt()[e.index],n=wt(t);n<t.length-9;)Go(t,n)}function _c(e,t,n,r){var i=n+19;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}function bc(e){return vt(St.lFrame.contextLView,e)}function Cc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default,n=Pt();return null==n?fe(e,t):Ln(At(),n,U(e),t)}function kc(e){return Fn(At(),e)}function wc(){throw new Error("invalid")}function Sc(e,t,n){var r=Pt();return zs(r,Ut(),t)&&no(xt(),tn(),r,e,t,r[11],n,!1),Sc}function Ec(e,t,n,r,i){var o=i?"class":"style";Do(e,n,t.inputs[o],o,r)}function Ic(e,t,n,r){var i=Pt(),o=xt(),a=19+e,s=i[11],c=i[a]=Ui(t,s,St.lFrame.currentNamespace),u=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,c=Ct(s,o),u=Gi(t,n[6],e,3,i,c);return ro(t,n,u,Ct(s,a)),null!==u.mergedAttrs&&js(u,u.mergedAttrs),null!==t.queries&&t.queries.elementStart(t,u),u}(e,o,i,0,t,n,r):o.data[a];Dt(u,!0);var l=u.mergedAttrs;null!==l&&dn(s,c,l);var h=u.classes;null!==h&&aa(s,c,h);var f=u.styles;null!==f&&oa(s,c,f),Zo(o,i,c,u),0===St.lFrame.elementDepthCount&&si(c,i),St.lFrame.elementDepthCount++,nt(u)&&(Qi(o,i,u),Ki(o,u,i)),null!==r&&Xi(i,u)}function Oc(){var e=At();Rt()?jt():Dt(e=e.parent,!1);var t=e;St.lFrame.elementDepthCount--;var n=xt();n.firstCreatePass&&(an(n,e),et(e)&&n.queries.elementEnd(e)),null!==t.classes&&function(e){return 0!=(16&e.flags)}(t)&&Ec(n,t,Pt(),t.classes,!0),null!==t.styles&&function(e){return 0!=(32&e.flags)}(t)&&Ec(n,t,Pt(),t.styles,!1)}function Pc(e,t,n,r){Ic(e,t,n,r),Oc()}function xc(e,t,n){var r=Pt(),i=xt(),o=e+19,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=Ct(o,r),s=Gi(t,n[6],e,4,"ng-container",a);return null!==a&&js(s,a),ro(t,n,s,Ct(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[o];Dt(a,!0);var s=r[o]=r[11].createComment("");Zo(i,r,s,a),si(s,r),nt(a)&&(Qi(i,r,a),Ki(i,a,r)),null!=n&&Xi(r,a)}function Tc(){var e=At(),t=xt();Rt()?jt():Dt(e=e.parent,!1),t.firstCreatePass&&(an(t,e),et(e)&&t.queries.elementEnd(e))}function Ac(e,t,n){xc(e,t,n),Tc()}function Dc(e,t,n){var r=Pt(),i=At(),o=2===i.type?i.parent:i,a=r[o.index],s=function(e,t,n){for(var r=t+9;r<e.length;r++){var i=e[r][1].id;if(i===n)return e[r];if(!(i<n))break;Go(e,r-9)}return null}(a,wt(a),e);if(s)St.lFrame.isParent=!0,Wt(s,s[1].node);else{s=Bi(r,function(e,t,n,r){var i=Pt()[1],o=r.tViews;return(e>=o.length||null==o[e])&&(o[e]=Zi(2,e,null,t,n,i.directiveRegistry,i.pipeRegistry,null,null,i.consts)),o[e]}(e,t,n,o),null,16,null,null);var c=Rt()?i:i&&i.parent;Hi(s[1],c,e,s),Wt(s,s[1].node)}return a&&(_t(s)&&Vo(s[1],s,a,wt(a)),a[2]+=2),_t(s)?3:2}function Rc(){var e=Pt(),t=xt(),n=e[6],r=e[8];_t(e)&&zi(t,e,r),qi(t,e,t.template,r),Jt(),Dt(n,!1)}function jc(){return Pt()}function Mc(e){return!!e&&"function"==typeof e.then}function Nc(e){return!!e&&"function"==typeof e.subscribe}function Fc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Pt(),o=xt(),a=At();return Vc(o,i,i[11],a,e,t,n,r),Fc}function Lc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=At(),o=Pt(),a=To(i,o);return Vc(xt(),o,a,i,e,t,n,r),Lc}function Vc(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=nt(r),u=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=Po(t),h=!0;if(3===r.type){var f=ft(r,t),d=s?s(f):je,p=d.target||f,v=l.length,m=s?function(e){return s(lt(e[r.index])).target}:r.index;if(ct(n)){var g=null;if(!s&&c&&(g=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],c=i[o+2];return s.length>c?s[c]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Bc(r,t,o,!1);var y=n.listen(d.name||p,i,o);l.push(o,y),u&&u.push(i,m,v,v+1)}}else o=Bc(r,t,o,!0),p.addEventListener(i,o,a),l.push(o),u&&u.push(i,m,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var C=_.length;if(C)for(var k=0;k<C;k+=2){var w=t[_[k]][_[k+1]].subscribe(o),S=l.length;l.push(o,w),u&&u.push(i,r.index,S,-(S+1))}}}function Uc(e,t,n){try{return!1!==t(n)}catch(r){return Ao(e,r),!1}}function Bc(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?mt(e.index,t):t;0==(32&t[2])&&ko(a);for(var s=Uc(t,n,o),c=i.__ngNextListenerFn__;c;)s=Uc(t,c,o)&&s,c=c.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Zt(e)}function Hc(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?bi(e,o,!0):Ci(r,o))return i}else n=i}return n}function zc(e){var t=Pt()[16][6];if(!t.projection)for(var n=t.projection=Ie(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?Hc(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}var qc=!1;function Wc(e){qc=e}function Yc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Pt(),i=xt(),o=Gi(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),jt(),qc||ra(i,r,o)}function Kc(e,t,n){return Qc(e,"",t,"",n),Kc}function Qc(e,t,n,r,i){var o=Pt(),a=Xs(o,t,n,r);return a!==Si&&no(xt(),tn(),o,e,a,o[11],i,!1),Qc}function Xc(e,t,n,r,i,o,a){var s=Pt(),c=Js(s,t,n,r,i,o);return c!==Si&&no(xt(),tn(),s,e,c,s[11],a,!1),Xc}function Jc(e,t,n,r,i,o,a,s,c){var u=Pt(),l=Zs(u,t,n,r,i,o,a,s);return l!==Si&&no(xt(),tn(),u,e,l,u[11],c,!1),Jc}function Zc(e,t,n,r,i,o,a,s,c,u,l){var h=Pt(),f=$s(h,t,n,r,i,o,a,s,c,u);return f!==Si&&no(xt(),tn(),h,e,f,h[11],l,!1),Zc}function $c(e,t,n,r,i,o,a,s,c,u,l,h,f){var d=Pt(),p=ec(d,t,n,r,i,o,a,s,c,u,l,h);return p!==Si&&no(xt(),tn(),d,e,p,d[11],f,!1),$c}function eu(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p){var v=Pt(),m=tc(v,t,n,r,i,o,a,s,c,u,l,h,f,d);return m!==Si&&no(xt(),tn(),v,e,m,v[11],p,!1),eu}function tu(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m){var g=Pt(),y=nc(g,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v);return y!==Si&&no(xt(),tn(),g,e,y,g[11],m,!1),tu}function nu(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m,g,y){var _=Pt(),b=rc(_,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m,g);return b!==Si&&no(xt(),tn(),_,e,b,_[11],y,!1),nu}function ru(e,t,n){var r=Pt(),i=Qs(r,t);return i!==Si&&no(xt(),tn(),r,e,i,r[11],n,!1),ru}var iu=[];function ou(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Ri(o):Mi(o),c=!1;0!==s&&(!1===c||a);){var u=e[s+1];au(e[s],t)&&(c=!0,e[s+1]=r?Fi(u):ji(u)),s=r?Ri(u):Mi(u)}c&&(e[n+1]=r?ji(o):Fi(o))}function au(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&xe(e,t)>=0}var su={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cu(e){return e.substring(su.key,su.keyEnd)}function uu(e){return e.substring(su.value,su.valueEnd)}function lu(e,t){var n=su.textEnd;return n===t?-1:(t=su.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,su.key=t,n),du(e,t,n))}function hu(e,t){var n=su.textEnd,r=su.key=du(e,t,n);return n===r?-1:(r=su.keyEnd=function(e,t,n){for(var r;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90);)t++;return t}(e,r,n),r=pu(e,r,n),r=su.value=du(e,r,n),r=su.valueEnd=function(e,t,n){for(var r=-1,i=-1,o=-1,a=t,s=a;a<n;){var c=e.charCodeAt(a++);if(59===c)return s;34===c||39===c?s=a=vu(e,c,a,n):t===a-4&&85===o&&82===i&&76===r&&40===c?s=a=vu(e,41,a,n):c>32&&(s=a),o=i,i=r,r=-33&c}return s}(e,r,n),pu(e,r,n))}function fu(e){su.key=0,su.keyEnd=0,su.value=0,su.valueEnd=0,su.textEnd=e.length}function du(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function pu(e,t,n,r){return(t=du(e,t,n))<n&&t++,t}function vu(e,t,n,r){for(var i=-1,o=n;o<r;){var a=e.charCodeAt(o++);if(a==t&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function mu(e){!function(e){St.lFrame.currentSanitizer=e}(e)}function gu(e,t,n){return wu(e,t,n,!1),gu}function yu(e,t){return wu(e,t,null,!0),yu}function _u(e){Su(xu,bu,e,!1)}function bu(e,t){for(var n=function(e){return fu(e),hu(e,du(e,0,su.textEnd))}(t);n>=0;n=hu(t,n))xu(e,cu(t),uu(t))}function Cu(e){Su(Oe,ku,e,!0)}function ku(e,t){for(var n=function(e){return fu(e),lu(e,du(e,0,su.textEnd))}(t);n>=0;n=lu(t,n))Oe(e,cu(t),!0)}function wu(e,t,n,r){var i,o,a=Pt(),s=xt(),c=Bt(2);(s.firstUpdatePass&&Iu(s,e,c,r),t!==Si&&zs(a,c,t))&&(null==n&&(i=null===(o=St.lFrame)?null:o.currentSanitizer)&&(n=i),Tu(s,s.data[$t()+19],a,a[11],e,a[c+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=N(ar(e)))),e}(t,n),r,c))}function Su(e,t,n,r){var i=xt(),o=Bt(2);i.firstUpdatePass&&Iu(i,null,o,r);var a=Pt();if(n!==Si&&zs(a,o,n)){var s=i.data[$t()+19];if(Ru(s,r)&&!Eu(i,o)){var c=r?s.classes:s.styles;null!==c&&(n=F(c,n||"")),Ec(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===Si&&(i=iu);for(var c=0,u=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=c<i.length?i[c+1]:void 0,d=u<o.length?o[u+1]:void 0,p=null,v=void 0;l===h?(c+=2,u+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,v=d),null!==p&&Tu(e,t,n,r,p,v,a,s),l=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return iu;var r=[],i=ar(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function Eu(e,t){return t>=e.expandoStartIndex}function Iu(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[$t()+19],a=Eu(e,n);Ru(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=St.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Pu(n=Ou(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=Ou(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Mi(r))return e[Ri(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Ri(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Pu(s=Ou(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Pu(r,e[o].hostAttrs,n);return Pu(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Ri(a),c=Mi(a);e[r]=n;var u,l=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||xe(h,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){var f=Ri(e[s+1]);e[r+1]=Di(f,s),0!==f&&(e[f+1]=Ni(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Di(s,0),0!==s&&(e[s+1]=Ni(e[s+1],r)),s=r;else e[r+1]=Di(c,0),0===s?s=r:e[c+1]=Ni(e[c+1],r),c=r;l&&(e[r+1]=ji(e[r+1])),ou(e,u,r,!0),ou(e,u,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&xe(o,t)>=0&&(n[r+1]=Fi(n[r+1]))}(t,u,e,r,o),a=Di(s,c),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function Ou(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Pu(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Pu(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Oe(e,a,!!n||t[++o]))}return void 0===e?null:e}function xu(e,t,n){$r(t)&&(n=Wr(n)),Oe(e,t,n)}function Tu(e,t,n,r,i,o,a,s){if(3===t.type){var c=e.data,u=c[s+1];Du(1==(1&u)?Au(c,t,n,i,Mi(u),a):void 0)||(Du(o)||2==(2&u)&&(o=Au(c,null,n,i,s,a)),function(e,t,n,r,i){var o=ct(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,ht($t(),n),i,o))}}function Au(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var c=e[i],u=Array.isArray(c),l=u?c[1]:c,h=null===l,f=n[i+1];f===Si&&(f=h?iu:void 0);var d=h?Pe(f,r):l===r?f:void 0;if(u&&!Du(d)&&(d=Pe(c,r)),Du(d)&&(s=d,a))return s;var p=e[i+1];i=a?Ri(p):Mi(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=Pe(v,r))}return s}function Du(e){return void 0!==e}function Ru(e,t){return 0!=(e.flags&(t?16:32))}function ju(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Pt(),r=xt(),i=e+19,o=r.firstCreatePass?Gi(r,n[6],e,3,null,null):r.data[i],a=n[i]=Fo(t,n[11]);Zo(r,n,a,o),Dt(o,!1)}function Mu(e){return Nu("",e,""),Mu}function Nu(e,t,n){var r=Pt(),i=Xs(r,e,t,n);return i!==Si&&Ro(r,$t(),i),Nu}function Fu(e,t,n,r,i){var o=Pt(),a=Js(o,e,t,n,r,i);return a!==Si&&Ro(o,$t(),a),Fu}function Lu(e,t,n,r,i,o,a){var s=Pt(),c=Zs(s,e,t,n,r,i,o,a);return c!==Si&&Ro(s,$t(),c),Lu}function Vu(e,t,n,r,i,o,a,s,c){var u=Pt(),l=$s(u,e,t,n,r,i,o,a,s,c);return l!==Si&&Ro(u,$t(),l),Vu}function Uu(e,t,n,r,i,o,a,s,c,u,l){var h=Pt(),f=ec(h,e,t,n,r,i,o,a,s,c,u,l);return f!==Si&&Ro(h,$t(),f),Uu}function Bu(e,t,n,r,i,o,a,s,c,u,l,h,f){var d=Pt(),p=tc(d,e,t,n,r,i,o,a,s,c,u,l,h,f);return p!==Si&&Ro(d,$t(),p),Bu}function Gu(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p){var v=Pt(),m=nc(v,e,t,n,r,i,o,a,s,c,u,l,h,f,d,p);return m!==Si&&Ro(v,$t(),m),Gu}function Hu(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m){var g=Pt(),y=rc(g,e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m);return y!==Si&&Ro(g,$t(),y),Hu}function zu(e){var t=Pt(),n=Qs(t,e);return n!==Si&&Ro(t,$t(),n),zu}function qu(e,t,n){Su(Oe,ku,Xs(Pt(),e,t,n),!0)}function Wu(e,t,n,r,i){Su(Oe,ku,Js(Pt(),e,t,n,r,i),!0)}function Yu(e,t,n,r,i,o,a){Su(Oe,ku,Zs(Pt(),e,t,n,r,i,o,a),!0)}function Ku(e,t,n,r,i,o,a,s,c){Su(Oe,ku,$s(Pt(),e,t,n,r,i,o,a,s,c),!0)}function Qu(e,t,n,r,i,o,a,s,c,u,l){Su(Oe,ku,ec(Pt(),e,t,n,r,i,o,a,s,c,u,l),!0)}function Xu(e,t,n,r,i,o,a,s,c,u,l,h,f){Su(Oe,ku,tc(Pt(),e,t,n,r,i,o,a,s,c,u,l,h,f),!0)}function Ju(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p){Su(Oe,ku,nc(Pt(),e,t,n,r,i,o,a,s,c,u,l,h,f,d,p),!0)}function Zu(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m){Su(Oe,ku,rc(Pt(),e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m),!0)}function $u(e){Su(Oe,ku,Qs(Pt(),e),!0)}function el(e,t,n){_u(Xs(Pt(),e,t,n))}function tl(e,t,n,r,i){_u(Js(Pt(),e,t,n,r,i))}function nl(e,t,n,r,i,o,a){_u(Zs(Pt(),e,t,n,r,i,o,a))}function rl(e,t,n,r,i,o,a,s,c){_u($s(Pt(),e,t,n,r,i,o,a,s,c))}function il(e,t,n,r,i,o,a,s,c,u,l){_u(ec(Pt(),e,t,n,r,i,o,a,s,c,u,l))}function ol(e,t,n,r,i,o,a,s,c,u,l,h,f){_u(tc(Pt(),e,t,n,r,i,o,a,s,c,u,l,h,f))}function al(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p){_u(nc(Pt(),e,t,n,r,i,o,a,s,c,u,l,h,f,d,p))}function sl(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m){_u(rc(Pt(),e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m))}function cl(e){_u(Qs(Pt(),e))}function ul(e,t,n,r,i){return wu(e,Xs(Pt(),t,n,r),i,!1),ul}function ll(e,t,n,r,i,o,a){return wu(e,Js(Pt(),t,n,r,i,o),a,!1),ll}function hl(e,t,n,r,i,o,a,s,c){return wu(e,Zs(Pt(),t,n,r,i,o,a,s),c,!1),hl}function fl(e,t,n,r,i,o,a,s,c,u,l){return wu(e,$s(Pt(),t,n,r,i,o,a,s,c,u),l,!1),fl}function dl(e,t,n,r,i,o,a,s,c,u,l,h,f){return wu(e,ec(Pt(),t,n,r,i,o,a,s,c,u,l,h),f,!1),dl}function pl(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p){return wu(e,tc(Pt(),t,n,r,i,o,a,s,c,u,l,h,f,d),p,!1),pl}function vl(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m){return wu(e,nc(Pt(),t,n,r,i,o,a,s,c,u,l,h,f,d,p,v),m,!1),vl}function ml(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m,g,y){return wu(e,rc(Pt(),t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m,g),y,!1),ml}function gl(e,t,n){return wu(e,Qs(Pt(),t),n,!1),gl}function yl(e,t,n){var r=Pt();return zs(r,Ut(),t)&&no(xt(),tn(),r,e,t,r[11],n,!0),yl}function _l(e,t,n){var r=Pt();if(zs(r,Ut(),t)){var i=xt(),o=tn();no(i,o,r,e,t,To(o,r),n,!0)}return _l}function bl(e){Tl(e);var t,n,r,i=Il(e,!1);return null===i?null:(void 0===i.component&&(i.component=(t=i.nodeIndex,n=i.lView,2&(r=n[1].data[t]).flags?n[r.directiveStart]:null)),i.component)}function Cl(e){Tl(e);var t=Il(e,!1);return null===t?null:t.lView[8]}function kl(e){var t=Il(e,!1);if(null===t)return null;for(var n,r=t.lView;null===r[0]&&(n=Ei(r));)r=n;return 512&r[2]?null:r[8]}function wl(e){return _toConsumableArray2(Ii(e).components)}function Sl(e){var t=Il(e,!1);return null===t?ts.NULL:new qn(t.lView[1].data[t.nodeIndex],t.lView)}function El(e){var t=Il(e);return void 0===t.directives&&(t.directives=hi(t.nodeIndex,t.lView,!1)),null===t.directives?[]:_toConsumableArray2(t.directives)}function Il(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=ii(e);if(!n&&t)throw new Error("Invalid ng target");return n}function Ol(e){return ii(e).native}function Pl(e){Tl(e);var t=Il(e,!1);if(null===t)return[];var n=t.lView,r=n[7],i=n[1].cleanup,o=[];if(i&&r)for(var a=0;a<i.length;){var s=i[a++],c=i[a++];if("string"==typeof s){var u=s,l=lt(n[c]),h=r[i[a++]],f=i[a++],d="boolean"==typeof f||f>=0?"dom":"output",p="boolean"==typeof f&&f;e==l&&o.push({element:e,name:u,callback:h,useCapture:p,type:d})}}return o.sort(xl),o}function xl(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function Tl(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function Al(e){pc(e),wl(e).forEach((function(e){return dc(e)}))}var Dl=!1;function Rl(){Dl||(Dl=!0,jl("getComponent",bl),jl("getContext",Cl),jl("getListeners",Pl),jl("getOwningComponent",kl),jl("getHostElement",Ol),jl("getInjector",Sl),jl("getRootComponents",wl),jl("getDirectives",El),jl("applyChanges",Al))}function jl(e,t){if("undefined"==typeof COMPILED||!COMPILED){var n=W;if(n){var r=n.ng;r||(r=n.ng={}),r[e]=t}}}function Ml(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rendererFactory||ut,r=t.sanitizer||null,i=Ye(e);i.type!=e&&(i.type=e);var o,a=i.selectors[0][0],s=$i(n.createRenderer(null,null),t.host||a,i.encapsulation),c=i.onPush?576:528,u=Ll(t.scheduler,t.playerHandler),l=n.createRenderer(s,i),h=Zi(0,-1,null,1,0,null,null,null,null,null),f=Bi(null,h,u,c,null,null,n,l,void 0,t.injector||null);Wt(f,null);try{n.begin&&n.begin(),o=Fl(Nl(s,i,f,n,l,r),i,f,u,t.hostFeatures||null),zi(h,f,null),qi(h,f,null,null)}finally{Jt(),n.end&&n.end()}return o}function Nl(e,t,n,r,i,o){var a=n[1];n[19]=e;var s=Gi(a,null,0,3,null,null),c=s.mergedAttrs=t.hostAttrs;null!==c&&(js(s,c),null!==e&&(dn(i,e,c),null!==s.classes&&aa(i,e,s.classes),null!==s.styles&&oa(i,e,s.styles)));var u=r.createRenderer(e,t),l=Bi(n,Ji(t),null,t.onPush?64:16,n[19],s,r,u,o);return a.firstCreatePass&&(Nn(Dn(s,n),a,t.type),co(a,s),lo(s,n.length,1)),Co(n,l),n[19]=l}function Fl(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=At();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),so(e,r,1),ho(e,t,n));var i=Gn(t,e,t.length-1,r);si(i,t);var o=ft(r,t);return o&&si(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=At();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){en(s.index-19);var c=n[1];io(c,t),oo(c,n,t.hostVars),ao(t,a)}return a}function Ll(e,t){return{components:[],scheduler:e||Sn,clean:Oo,playerHandler:t||null,flags:0}}function Vl(e,t){var n=yt(e)[1],r=n.data.length-1;an(n,{directiveStart:r,directiveEnd:r+1})}function Ul(e){return Ii(e).clean}function Bl(e){return Object.getPrototypeOf(e.prototype).constructor}function Gl(e){for(var t=Bl(e.type),n=!0,r=[e];t;){var i=void 0;if(rt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Hl(e.inputs),o.declaredInputs=Hl(e.declaredInputs),o.outputs=Hl(e.outputs);var a=i.hostBindings;a&&Wl(e,a);var s=i.viewQuery,c=i.contentQueries;if(s&&zl(e,s),c&&ql(e,c),S(e.inputs,i.inputs),S(e.declaredInputs,i.declaredInputs),S(e.outputs,i.outputs),rt(i)&&i.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===Gl&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=mn(i.hostAttrs,n=mn(n,i.hostAttrs))}}(r)}function Hl(e){return e===je?{}:e===Me?[]:e}function zl(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function ql(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Wl(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Yl=["providersResolver"],Kl=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ql(e){var t,n=Bl(e.type);t=rt(e)?n.\u0275cmp:n.\u0275dir;var r,i=e,o=_createForOfIteratorHelper(Yl);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=t[a]}}catch(l){o.e(l)}finally{o.f()}if(rt(t)){var s,c=_createForOfIteratorHelper(Kl);try{for(c.s();!(s=c.n()).done;){var u=s.value;i[u]=t[u]}}catch(l){c.e(l)}finally{c.f()}}}var Xl=function(){function e(t,n,r){_classCallCheck2(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass2(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Jl(e){e.type.prototype.ngOnChanges&&(e.setInput=Zl,e.onChanges=function(){var e=$l(this),t=e&&e.current;if(t){var n=e.previous;if(n===je)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function Zl(e,t,n,r){var i=$l(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:je,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],c=a[s];o[s]=new Xl(c&&c.currentValue,t,a===je),e[r]=t}function $l(e){return e.__ngSimpleChanges__||null}function eh(e,t,n,r,i){if(e=U(e),Array.isArray(e))for(var o=0;o<e.length;o++)eh(e[o],t,n,r,i);else{var a=xt(),s=Pt(),c=Za(e)?e:U(e.provide),u=Qa(e),l=At(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(Za(e)||!e.multi){var p=new fn(u,i,Cc),v=rh(c,t,i?h:h+d,f);-1===v?(Nn(Dn(l,s),a,c),th(a,e,t.length),t.push(c),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var m=rh(c,t,h+d,f),g=rh(c,t,h,h+d),y=m>=0&&n[m],_=g>=0&&n[g];if(i&&!_||!i&&!y){Nn(Dn(l,s),a,c);var b=function(e,t,n,r,i){var o=new fn(e,n,Cc);return o.multi=[],o.index=t,o.componentProviders=0,nh(o,i,r&&!n),o}(i?oh:ih,n.length,i,r,u);!i&&_&&(n[g].providerFactory=b),th(a,e,t.length),t.push(c),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),s.push(b)}else th(a,e,m>-1?m:g),nh(n[i?g:m],u,!i&&r);!i&&r&&_&&n[g].componentProviders++}}}function th(e,t,n){if(Za(t)||t.useClass){var r=(t.useClass||t).prototype.ngOnDestroy;r&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r)}}function nh(e,t,n){e.multi.push(t),n&&e.componentProviders++}function rh(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function ih(e,t,n,r){return ah(this.multi,[])}function oh(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Gn(n,n[1],this.providerFactory.index,r);ah(o,i=s.slice(0,a));for(var c=a;c<s.length;c++)i.push(s[c])}else ah(o,i=[]);return i}function ah(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function sh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=xt();if(r.firstCreatePass){var i=rt(e);eh(n,r.data,r.blueprint,i,!0),eh(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}Jl.ngInherit=!0;var ch=function e(){_classCallCheck2(this,e)},uh=function e(){_classCallCheck2(this,e)};function lh(e){var t=Error("No component factory found for ".concat(N(e),". Did you add it to @NgModule.entryComponents?"));return t[hh]=e,t}var hh="ngComponent",fh=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"resolveComponentFactory",value:function(e){throw lh(e)}}]),e}(),dh=function(){var e=function e(){_classCallCheck2(this,e)};return e.NULL=new fh,e}(),ph=function(){function e(t,n,r){_classCallCheck2(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<t.length;i++){var o=t[i];this._factories.set(o.componentType,o)}}return _createClass2(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw lh(e);return new vh(t,this._ngModule)}}]),e}(),vh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).factory=e,i.ngModule=r,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return _createClass2(n,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),n}(uh),mh=function(){var e=function e(t){_classCallCheck2(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return yh(e)},e}(),gh=function(e){return fa(e,At(),Pt())},yh=gh,_h=function e(){_classCallCheck2(this,e)},bh=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Ch=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return wh()},e}(),kh=function(){var e=Pt(),t=mt(At().index,e);return function(e){var t=e[11];if(ct(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ze(t)?t:e)},wh=kh,Sh=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275prov=E({token:e,providedIn:"root",factory:function(){return null}}),e}(),Eh=function e(t){_classCallCheck2(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Ih=new Eh("9.0.7"),Oh=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"supports",value:function(e){return Us(e)}},{key:"create",value:function(e){return new xh(e)}}]),e}(),Ph=function(e,t){return t},xh=function(){function e(t){_classCallCheck2(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ph}return _createClass2(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Rh(n,r,i)?t:n,a=Rh(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var c=a-r,u=s-r;if(c!=u){for(var l=0;l<c;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;u<=f&&f<c&&(i[l]=h+1)}i[o.previousIndex]=u-c}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Us(e))throw new Error("Error trying to diff '".concat(N(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Fs(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Fs(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Ns()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Fs(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Fs(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Fs(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Fs(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Th(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Dh),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Dh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Th=function e(t,n){_classCallCheck2(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ah=function(){function e(){_classCallCheck2(this,e),this._head=null,this._tail=null}return _createClass2(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Fs(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Dh=function(){function e(){_classCallCheck2(this,e),this.map=new Map}return _createClass2(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Ah,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Rh(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var jh=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"supports",value:function(e){return e instanceof Map||Bs(e)}},{key:"create",value:function(){return new Mh}}]),e}(),Mh=function(){function e(){_classCallCheck2(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass2(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Bs(e)))throw new Error("Error trying to diff '".concat(N(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Nh(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Fs(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Nh=function e(t){_classCallCheck2(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Fh=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.factories=t}return _createClass2(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _,new g]]}}}]),e}();return e.\u0275prov=E({token:e,providedIn:"root",factory:function(){return new e([new Oh])}}),e}(),Lh=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.factories=t}return _createClass2(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _,new g]]}}}]),e}();return e.\u0275prov=E({token:e,providedIn:"root",factory:function(){return new e([new jh])}}),e}(),Vh=[new jh],Uh=new Fh([new Oh]),Bh=new Lh(Vh),Gh=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return zh(e,mh)},e}(),Hh=function(e,t){return da(e,t,At(),Pt())},zh=Hh,qh=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return Yh(e,mh)},e}(),Wh=function(e,t){return pa(e,t,At(),Pt())},Yh=Wh;function Kh(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return Qh(n,t),n}(i,e)}function Qh(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Xh(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(e))}function Jh(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Zh(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function $h(e,t){return e.nodes[t]}function ef(e,t){return e.nodes[t]}function tf(e,t){return e.nodes[t]}function nf(e,t){return e.nodes[t]}function rf(e,t){return e.nodes[t]}var of=function e(){_classCallCheck2(this,e)},af={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},sf=function(){},cf=new Map;function uf(e){var t=cf.get(e);return t||(t=N(e)+"_"+cf.size,cf.set(e,t)),t}function lf(e,t,n,r){if(Vs.isWrapped(r)){r=Vs.unwrap(r);var i=e.def.nodes[t].bindingIndex+n,o=Vs.unwrap(e.oldValues[i]);e.oldValues[i]=new Vs(o)}return r}function hf(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var ff=0;function df(e,t,n,r){return!(!(2&e.state)&&Fs(e.oldValues[t.bindingIndex+n],r))}function pf(e,t,n,r){return!!df(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function vf(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Ls(i,r)){var o=t.bindings[n].name;throw Kh(af.createDebugContext(e,t.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&e.state))}}function mf(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function gf(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function yf(e,t,n,r){try{return mf(33554432&e.def.nodes[t].flags?ef(e,t).componentView:e),af.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function _f(e){return e.parent?ef(e.parent,e.parentNodeDef.nodeIndex):null}function bf(e){return e.parent?e.parentNodeDef.parent:null}function Cf(e,t){switch(201347067&t.flags){case 1:return ef(e,t.nodeIndex).renderElement;case 2:return $h(e,t.nodeIndex).renderText}}function kf(e,t){return e?"".concat(e,":").concat(t):t}function wf(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Sf(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Ef(e){return 1<<e%32}function If(e){var t={},n=0,r={};return e&&e.forEach((function(e){var i=_slicedToArray(e,2),o=i[0],a=i[1];"number"==typeof o?(t[o]=a,n|=Ef(o)):r[o]=a})),{matchedQueries:t,references:r,matchedQueryIds:n}}function Of(e,t){return e.map((function(e){var n,r,i;return Array.isArray(e)?(i=(n=_slicedToArray(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,"__source",{value:t,configurable:!0}),{flags:i,token:r,tokenKey:uf(r)}}))}function Pf(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Re.Native?ef(e,n.renderParent.nodeIndex).renderElement:void 0:t}var xf=new WeakMap;function Tf(e){var t=xf.get(e);return t||((t=e((function(){return sf}))).factory=e,xf.set(e,t)),t}function Af(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Cf(e,e.def.lastRenderRootNode))),Df(e,t,0,e.def.nodes.length-1,n,r,i)}function Df(e,t,n,r,i,o,a){for(var s=n;s<=r;s++){var c=e.def.nodes[s];11&c.flags&&jf(e,c,t,i,o,a),s+=c.childCount}}function Rf(e,t,n,r,i,o){for(var a=e;a&&!wf(a);)a=a.parent;for(var s=a.parent,c=bf(a),u=c.nodeIndex+c.childCount,l=c.nodeIndex+1;l<=u;l++){var h=s.def.nodes[l];h.ngContentIndex===t&&jf(s,h,n,r,i,o),l+=h.childCount}if(!s.parent){var f=e.root.projectableNodes[t];if(f)for(var d=0;d<f.length;d++)Mf(e,f[d],n,r,i,o)}}function jf(e,t,n,r,i,o){if(8&t.flags)Rf(e,t.ngContent.index,n,r,i,o);else{var a=Cf(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Mf(e,a,n,r,i,o),32&t.bindingFlags&&Mf(ef(e,t.nodeIndex).componentView,a,n,r,i,o)):Mf(e,a,n,r,i,o),16777216&t.flags)for(var s=ef(e,t.nodeIndex).viewContainer._embeddedViews,c=0;c<s.length;c++)Af(s[c],n,r,i,o);1&t.flags&&!t.element.name&&Df(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Mf(e,t,n,r,i,o){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,i);break;case 3:a.removeChild(r,t);break;case 0:o.push(t)}}var Nf=/^:([^:]+):(.+)$/;function Ff(e){if(":"===e[0]){var t=e.match(Nf);return[t[1],t[2]]}return["",e]}function Lf(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Vf(e,t){for(var n="",r=0;r<2*e;r+=2)n=n+t[r]+Bf(t[r+1]);return n+t[2*e]}function Uf(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,v,m,g,y,_){switch(e){case 1:return t+Bf(n)+r;case 2:return t+Bf(n)+r+Bf(i)+o;case 3:return t+Bf(n)+r+Bf(i)+o+Bf(a)+s;case 4:return t+Bf(n)+r+Bf(i)+o+Bf(a)+s+Bf(c)+u;case 5:return t+Bf(n)+r+Bf(i)+o+Bf(a)+s+Bf(c)+u+Bf(l)+h;case 6:return t+Bf(n)+r+Bf(i)+o+Bf(a)+s+Bf(c)+u+Bf(l)+h+Bf(f)+d;case 7:return t+Bf(n)+r+Bf(i)+o+Bf(a)+s+Bf(c)+u+Bf(l)+h+Bf(f)+d+Bf(p)+v;case 8:return t+Bf(n)+r+Bf(i)+o+Bf(a)+s+Bf(c)+u+Bf(l)+h+Bf(f)+d+Bf(p)+v+Bf(m)+g;case 9:return t+Bf(n)+r+Bf(i)+o+Bf(a)+s+Bf(c)+u+Bf(l)+h+Bf(f)+d+Bf(p)+v+Bf(m)+g+Bf(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function Bf(e){return null!=e?e.toString():""}var Gf=[],Hf={},zf={},qf=uf(ts),Wf=uf(ie),Yf=uf(_e);function Kf(e,t,n,r){return n=U(n),{index:-1,deps:Of(r,N(t)),flags:e,token:t,value:n}}function Qf(e){for(var t={},n=[],r=null,i=0;i<e.length;i++){var o=e[i];o.token===Va&&(r=o.value),1073741824&o.flags&&n.push(o.token),o.index=i,t[uf(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,scope:r}}function Xf(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ts.THROW_IF_NOT_FOUND,o=ue(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);var a=t.tokenKey;switch(a){case qf:case Wf:case Yf:return e}var s,c=e._def.providersByKey[a];if(c){var u=e._providers[c.index];return void 0===u&&(u=e._providers[c.index]=Jf(e,c)),u===zf?void 0:u}if((s=P(t.token))&&(n=e,null!=(r=s.providedIn)&&("any"===r||r===n._def.scope||function(e,t){return e._def.modules.indexOf(t)>-1}(n,r)))){var l=e._providers.length;return e._def.providers[l]=e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:l,token:t.token},e._providers[l]=zf,e._providers[l]=Jf(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{ue(o)}}function Jf(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Xf(e,n[0]));case 2:return new t(Xf(e,n[0]),Xf(e,n[1]));case 3:return new t(Xf(e,n[0]),Xf(e,n[1]),Xf(e,n[2]));default:for(var i=[],o=0;o<r;o++)i[o]=Xf(e,n[o]);return _construct(t,i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Xf(e,n[0]));case 2:return t(Xf(e,n[0]),Xf(e,n[1]));case 3:return t(Xf(e,n[0]),Xf(e,n[1]),Xf(e,n[2]));default:for(var i=[],o=0;o<r;o++)i[o]=Xf(e,n[o]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=Xf(e,t.deps[0]);break;case 256:n=t.value}return n===zf||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?zf:n}function Zf(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Ee(n,t),af.dirtyParentQueries(r),ed(r),r}function $f(e,t,n){var r=t?Cf(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Af(n,2,i,o,void 0)}function ed(e){Af(e,3,null,null,void 0)}var td={};function nd(e,t,n,r,i,o){return new id(e,t,n,r,i,o)}function rd(e){return e.viewDefFactory}var id=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var c;return _classCallCheck2(this,n),(c=t.call(this)).selector=e,c.componentType=r,c._inputs=o,c._outputs=a,c.ngContentSelectors=s,c.viewDefFactory=i,c}return _createClass2(n,[{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=Tf(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=af.createRootView(e,t||[],n,i,r,td),s=tf(a,o).instance;return n&&a.renderer.setAttribute(ef(a,0).renderElement,"ng-version",Ih.full),new od(a,new ud(a),s)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),n}(uh),od=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this))._view=e,o._viewRef=r,o._component=i,o._elDef=o._view.def.nodes[0],o.hostView=r,o.changeDetectorRef=r,o.instance=i,o}return _createClass2(n,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new mh(ef(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new dd(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),n}(ch);function ad(e,t,n){return new sd(e,t,n)}var sd=function(){function e(t,n,r){_classCallCheck2(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass2(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Zf(this._data,e);af.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new ud(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof vh||(i=o.get(_e));var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,s=e;return n=this._view,r=this._data,i=t,o=s._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,Se(a,i,o),function(e,t){var n=_f(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,o),af.dirtyParentQueries(o),$f(r,i>0?a[i-1]:null,o),s.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(e._view);return n=this._data,r=s,i=t,o=n.viewContainer._embeddedViews,a=o[r],Ee(o,r),null==i&&(i=o.length),Se(o,i,a),af.dirtyParentQueries(a),ed(a),$f(n,i>0?o[i-1]:null,a),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Zf(this._data,e);t&&af.destroyView(t)}},{key:"detach",value:function(e){var t=Zf(this._data,e);return t?new ud(t):null}},{key:"element",get:function(){return new mh(this._data.renderElement)}},{key:"injector",get:function(){return new dd(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=bf(e),e=e.parent;return e?new dd(e,t):new dd(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function cd(e){return new ud(e)}var ud=function(){function e(t){_classCallCheck2(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass2(e,[{key:"markForCheck",value:function(){mf(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{af.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){af.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),af.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,ed(this._view),af.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return Af(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function ld(e,t){return new hd(e,t)}var hd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this))._parentView=e,i._def=r,i}return _createClass2(n,[{key:"createEmbeddedView",value:function(e){return new ud(af.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new mh(ef(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(Gh);function fd(e,t){return new dd(e,t)}var dd=function(){function e(t,n){_classCallCheck2(this,e),this.view=t,this.elDef=n}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ts.THROW_IF_NOT_FOUND;return af.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:uf(e)},t)}}]),e}();function pd(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=ef(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return $h(e,n.nodeIndex).renderText;if(20240&n.flags)return tf(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(t))}function vd(e,t,n,r){return new md(e,t,n,r)}var md=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=Ie(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Jf(e,i))}}(this)}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ts.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default,r=0;return n&k.SkipSelf?r|=1:n&k.Self&&(r|=4),Xf(this,{token:e,tokenKey:uf(e),flags:r},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(N(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==zf){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(dh)}}]),e}(),gd=uf(Ch),yd=uf(mh),_d=uf(qh),bd=uf(Gh),Cd=uf(ma),kd=uf(ts),wd=uf(ie);function Sd(e,t,n,r,i,o,a,s){var c=[];if(a)for(var u in a){var l=_slicedToArray(a[u],2),h=l[0],f=l[1];c[h]={flags:8,name:u,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(s)for(var p in s)d.push({type:1,propName:p,target:null,eventName:s[p]});return Od(e,t|=16384,n,r,i,i,o,c,d)}function Ed(e,t,n){return Od(-1,e|=16,null,0,t,t,n)}function Id(e,t,n,r,i){return Od(-1,e,t,0,n,r,i)}function Od(e,t,n,r,i,o,a,s,c){var u=If(n),l=u.matchedQueries,h=u.references,f=u.matchedQueryIds;c||(c=[]),s||(s=[]),o=U(o);var d=Of(a,N(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Lf(s),outputs:c,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Pd(e,t){return Dd(e,t)}function xd(e,t){for(var n=e;n.parent&&!wf(n);)n=n.parent;return Rd(n.parent,bf(n),!0,t.provider.value,t.provider.deps)}function Td(e,t){var n=Rd(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName];if(!Nc(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(Ad(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Ad(e,t,n){return function(r){return yf(e,t,n,r)}}function Dd(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Rd(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(Md(e,t,n,i[0]));case 2:return r(Md(e,t,n,i[0]),Md(e,t,n,i[1]));case 3:return r(Md(e,t,n,i[0]),Md(e,t,n,i[1]),Md(e,t,n,i[2]));default:for(var a=[],s=0;s<o;s++)a.push(Md(e,t,n,i[s]));return r.apply(void 0,a)}}(e,t.parent,n,r.value,r.deps);case 2048:return Md(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Rd(e,t,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(Md(e,t,n,i[0]));case 2:return new r(Md(e,t,n,i[0]),Md(e,t,n,i[1]));case 3:return new r(Md(e,t,n,i[0]),Md(e,t,n,i[1]),Md(e,t,n,i[2]));default:for(var a=[],s=0;s<o;s++)a.push(Md(e,t,n,i[s]));return _construct(r,a)}}var jd={};function Md(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ts.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var a=r.tokenKey;a===Cd&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var s=e;s;){if(t)switch(a){case gd:return Nd(s,t,n).renderer;case yd:return new mh(ef(s,t.nodeIndex).renderElement);case _d:return ef(s,t.nodeIndex).viewContainer;case bd:if(t.element.template)return ef(s,t.nodeIndex).template;break;case Cd:return cd(Nd(s,t,n));case kd:case wd:return fd(s,t);default:var c=(n?t.element.allProviders:t.element.publicProviders)[a];if(c){var u=tf(s,c.nodeIndex);return u||(u={instance:Dd(s,c)},s.nodes[c.nodeIndex]=u),u.instance}}n=wf(s),t=bf(s),s=s.parent,4&r.flags&&(s=null)}var l=o.root.injector.get(r.token,jd);return l!==jd||i===jd?l:o.root.ngModule.injector.get(r.token,i)}function Nd(e,t,n){var r;if(n)r=ef(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!wf(r);)r=r.parent;return r}function Fd(e,t,n,r,i,o){if(32768&n.flags){var a=ef(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=Vs.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Xl(s,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Ld(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&t&&Ud(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=Vd(e,a,t,r)),a=a.parent}}function Vd(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&Ud(e,i,o.flags&n,r++),i+=o.childCount}return r}function Ud(e,t,n,r){var i=tf(e,t);if(i){var o=i.instance;o&&(af.setCurrentNode(e,t),1048576&n&&Zh(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Zh(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var Bd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).ngModule=e,r}return _createClass2(n,[{key:"resolveComponentFactory",value:function(e){var t=Ye(e);return new zd(t,this.ngModule)}}]),n}(dh);function Gd(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Hd=new re("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Sn}}),zd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(wi).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass2(n,[{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,jd,i);return o!==jd||r===jd?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(_h,ut),c=a.get(Sh,null),u=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?$i(u,n,this.componentDef.encapsulation):Ui(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p=Ll(),v=Zi(0,-1,null,1,0,null,null,null,null,null),m=Bi(null,v,p,f,null,null,s,u,c,a);Wt(m,null);try{var g=Nl(h,this.componentDef,m,s,u);if(h)if(n)dn(u,h,["ng-version",Ih.full]);else{var y=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!yi(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=y.attrs,b=y.classes;_&&dn(u,h,_),b&&b.length>0&&aa(u,h,b.join(" "))}o=pt(m[1],0),t&&(o.projection=t.map((function(e){return Array.from(e)}))),i=Fl(g,this.componentDef,m,p,[Vl]),zi(v,m,null)}finally{Jt()}var C=new qd(this.componentType,i,fa(mh,o,m),m,o);return n&&!d||(C.hostView._tViewNode.child=o),C}},{key:"inputs",get:function(){return Gd(this.componentDef.inputs)}},{key:"outputs",get:function(){return Gd(this.componentDef.outputs)}}]),n}(uh),qd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new ha(o),s.hostView._tViewNode=Hi(o[1],null,-1,o),s.componentType=e,s}return _createClass2(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new qn(this._tNode,this._rootLView)}}]),n}(ch),Wd=void 0,Yd=["en",[["a","p"],["AM","PM"],Wd],[["AM","PM"],Wd,Wd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wd,"{1} 'at' {0}",Wd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Kd={};function Qd(e,t,n){"string"!=typeof t&&(n=t,t=e[tp.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Kd[t]=e,n&&(Kd[t][tp.ExtraData]=n)}function Xd(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=$d(t);if(n)return n;var r=t.split("-")[0];if(n=$d(r))return n;if("en"===r)return Yd;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Jd(e){return Xd(e)[tp.CurrencyCode]||null}function Zd(e){return Xd(e)[tp.PluralCase]}function $d(e){return e in Kd||(Kd[e]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[e]),Kd[e]}function ep(){Kd={}}var tp=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),np="en-US",rp="USD",ip=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,op=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ap=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,sp=/\ufffd(\d+):?\d*\ufffd/gi,cp=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,up=/\[(\ufffd.+?\ufffd?)\]/,lp=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,hp=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,fp=/{([A-Z0-9_]+)}/g,dp=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,pp=/\/\*/,vp=/\d+\:(\d+)/;function mp(e){if(!e)return[];var t,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;t=o.exec(e);){var a=t.index;if("}"==t[0]){if(r.pop(),0==r.length){var s=e.substring(n,a);ip.test(s)?i.push(gp(s)):i.push(s),n=a+1}}else{if(0==r.length){var c=e.substring(n,a);i.push(c),n=a+1}r.push("{")}}var u=e.substring(n);return i.push(u),i}function gp(e){for(var t=[],n=[],r=1,i=0,o=mp(e=e.replace(ip,(function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}))),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&t.push(s);var c=mp(o[a++]);t.length>n.length&&n.push(c)}return{type:r,mainBinding:i,cases:t,values:n}}function yp(e){for(var t,n,r="",i=0,o=!1;null!==(t=op.exec(e));)o?t[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+=e.substr(i)}function _p(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[null,null],o=e.split(sp),a=0,s=0;s<o.length;s++){var c=o[s];if(1&s){var u=parseInt(c,10);i.push(-1-u),a|=wp(u)}else""!==c&&i.push(c)}return i.push(t<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function bp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n|=wp(e.mainBinding);for(var r=0;r<e.values.length;r++)for(var i=e.values[r],o=0;o<i.length;o++){var a=i[o];if("string"==typeof a)for(;t=sp.exec(a);)n|=wp(parseInt(t[1],10));else n=bp(a,n)}return n}var Cp=[],kp=-1;function wp(e){return 1<<Math.min(e,31)}var Sp,Ep=[];function Ip(e,t,n){var r=xt();Cp[++kp]=e,Wc(!0),r.firstCreatePass&&null===r.data[e+19]&&function(e,t,n,r,i){var o=t.blueprint.length-19;Sp=0;var a=At(),s=Rt()?a:a&&a.parent,c=s&&s!==e[6]?s.index-19:n,u=0;Ep[u]=c;var l=[];if(n>0&&a!==s){var h=a.index-19;Rt()||(h=~h),l.push(h<<3|0)}for(var f,d=[],p=[],v=function(e,t){if("number"!=typeof t)return yp(e);var n=e.indexOf(":".concat(t,"\ufffd"))+2+t.toString().length,r=e.search(new RegExp("\ufffd\\/\\*\\d+:".concat(t,"\ufffd")));return yp(e.substring(n,r))}(r,i),m=(f=v,f.replace(Hp," ")).split(ap),g=0;g<m.length;g++){var y=m[g];if(1&g)if("/"===y.charAt(0)){if("#"===y.charAt(1)){var _=parseInt(y.substr(2),10);c=Ep[--u],l.push(_<<3|5)}}else{var b=parseInt(y.substr(1),10),C="#"===y.charAt(0);l.push((C?b:~b)<<3|0,c<<17|1),C&&(Ep[++u]=c=b)}else for(var k=mp(y),w=0;w<k.length;w++)if(1&w){var S=k[w];if("object"!=typeof S)throw new Error('Unable to parse ICU expression in "'.concat(v,'" message.'));var E=o+Sp++;l.push(Ai,"",E,c<<17|1);var I=bp(S);Up(p,S,E,E);var O=p.length-1;d.push(wp(S.mainBinding),3,-1-S.mainBinding,E<<2|2,O,I,2,E<<2|3,O)}else if(""!==k[w]){var P=k[w],x=P.match(sp),T=o+Sp++;l.push(x?"":P,T,c<<17|1),x&&Ce(_p(P,T),d)}}Sp>0&&function(e,t,n){if(n>0&&e.firstCreatePass){for(var r=0;r<n;r++)e.blueprint.push(null),e.data.push(null),t.push(null);e.expandoInstructions?e.expandoInstructions.push(n):e.expandoStartIndex+=n}}(t,e,Sp),t.data[n+19]={vars:Sp,create:l,update:d,icus:p.length?p:null}}(Pt(),r,e,t,n)}function Op(e,t,n,r,i){var o=t.next;r||(r=n),r===n&&t!==n.child?(t.next=n.child,n.child=t):r!==n&&t!==r.next?(t.next=r.next,r.next=t):t.next=null,n!==i[6]&&(t.parent=n);for(var a=t.next;a;)a.next===t&&(a.next=o),a=a.next;if(1===t.type)return ra(e,i,t),t;Zo(e,i,ft(t,i),t);var s=i[t.index];return 0!==t.type&&$e(s)&&Zo(e,i,s[7],t),t}function Pp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if(up.test(e)){var r={},i=[0];n=n.replace(lp,(function(e,t,n){var o=t||n,a=r[o]||[];if(a.length||(o.split("|").forEach((function(e){var t=e.match(vp),n=t?parseInt(t[1],10):0,r=pp.test(e);a.push([n,r,e])})),r[o]=a),!a.length)throw new Error("i18n postprocess: unmatched placeholder - ".concat(o));for(var s=i[i.length-1],c=0,u=0;u<a.length;u++)if(a[u][0]===s){c=u;break}var l=_slicedToArray(a[c],3),h=l[0],f=l[1],d=l[2];return f?i.pop():s!==h&&i.push(h),a.splice(c,1),d}))}return Object.keys(t).length?n=(n=(n=n.replace(hp,(function(e,n,r,i,o,a){return t.hasOwnProperty(r)?"".concat(n).concat(t[r]).concat(a):e}))).replace(fp,(function(e,n){return t.hasOwnProperty(n)?t[n]:e}))).replace(dp,(function(e,n){if(t.hasOwnProperty(n)){var r=t[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - ".concat(e," with key: ").concat(n));return r.shift()}return e})):n}function xp(){var e=Pt();!function(e,t){for(var n=Cp[kp--],r=e.data[n+19],i=At(),o=Ap(n,r.create,e,t),a=n+1;a<=i.index-19;){-1===o.indexOf(a)&&Dp(e,t,a,!0);var s=pt(e,a);!s||0!==s.type&&3!==s.type&&4!==s.type||null===s.localNames||(a+=s.localNames.length>>1),a++}}(xt(),e),Wc(!1)}function Tp(e,t,n,r,i,o){var a=At();t[n+19]=i;var s=Gi(e,t[6],n,r,o,null);return a&&a.next===s&&(a.next=null),s}function Ap(e,t,n,r){for(var i=r[11],o=null,a=null,s=[],c=0;c<t.length;c++){var u=t[c];if("string"==typeof u){var l=Fo(u,i),h=t[++c];a=o,o=Tp(n,r,h,3,l,null),s.push(h),jt()}else if("number"==typeof u)switch(7&u){case 1:var f=u>>>17;a=Op(n,o,f===e?r[6]:pt(n,f),a,r);break;case 0:var d=u>=0,p=(d?u:~u)>>>3;s.push(p),a=o,(o=pt(n,p))&&Dt(o,d);break;case 5:a=o=pt(n,u>>>3),Dt(o,!1);break;case 4:var v=t[++c],m=t[++c];po(pt(n,u>>>3),r,v,m,null,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case Ai:var g=t[++c],y=t[++c],_=i.createComment(g);a=o,o=Tp(n,r,y,5,_,null),s.push(y),si(_,r),o.activeCaseIndex=null,jt();break;case Ti:var b=t[++c],C=t[++c];a=o,o=Tp(n,r,C,3,i.createElement(b),b),s.push(C);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}}return jt(),s}function Dp(e,t,n,r){var i=pt(e,n),o=ht(n,t);o&&ea(t[11],o);var a=vt(t,n);if($e(a)){var s=a;0!==i.type&&ea(t[11],s[7])}r&&(i.flags|=64)}function Rp(e,t,n){Ip(e,t,n),xp()}function jp(e,t){!function(e,t,n,r){for(var i=At().index-19,o=[],a=0;a<r.length;a+=2)for(var s=r[a],c=r[a+1].split(cp),u=0;u<c.length;u++){var l=c[u];if(1&u)throw new Error("ICU expressions are not yet supported in attributes");if(""!==l)if(l.match(sp))t.firstCreatePass&&null===t.data[n+19]&&Ce(_p(l,i,s),o);else{var h=pt(t,i);3===h.type&&po(h,e,s,l,null,null);var f=null!==h.inputs&&h.inputs[s];f&&Do(t,e,f,s,l)}}t.firstCreatePass&&null===t.data[n+19]&&(t.data[n+19]=o)}(Pt(),xt(),e,t)}var Mp=0,Np=0;function Fp(e){return zs(Pt(),Ut(),e)&&(Mp|=1<<Np),Np++,Fp}function Lp(e){if(Np){var t,n=xt(),r=n.data[e+19],i=null;Array.isArray(r)?t=r:(t=r.update,i=r.icus);var o=Lt()-Np-1,a=Pt();!function e(t,n,r,i,o,a){for(var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=!1,u=0;u<t.length;u++){var l=t[u],h=t[++u];if(s||l&i)for(var f="",d=u+1;d<=u+h;d++){var p=t[d];if("string"==typeof p)f+=p;else if("number"==typeof p)if(p<0)f+=kn(a[r-p]);else{var v=p>>>2,m=void 0,g=void 0;switch(3&p){case 1:var y=t[++d],_=t[++d];no(o,pt(o,v),a,y,f,a[11],_,!1);break;case 0:Ro(a,v,f);break;case 2:if(m=n[t[++d]],null!==(g=pt(o,v)).activeCaseIndex)for(var b=m.remove[g.activeCaseIndex],C=0;C<b.length;C++){var k=b[C];switch(7&k){case 3:Dp(o,a,k>>>3,!1);break;case 6:var w=pt(o,b[C+1]>>>3).activeCaseIndex;null!==w&&Ce(n[k>>>3].remove[w],b)}}var S=Vp(m,f);g.activeCaseIndex=-1!==S?S:null,S>-1&&(Ap(-1,m.create[S],o,a),c=!0);break;case 3:m=n[t[++d]],null!==(g=pt(o,v)).activeCaseIndex&&e(m.update[g.activeCaseIndex],n,r,i,o,a,c)}}}u+=h}}(t,i,o,Mp,n,a),Mp=0,Np=0}}function Vp(e,t){var n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:var r=function(e,t){switch(Zd(t)(e)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(t,zp);-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break;case 0:n=e.cases.indexOf("other")}return n}function Up(e,t,n,r){for(var i=[],o=[],a=[],s=[],c=[],u=0;u<t.values.length;u++){for(var l=t.values[u],h=[],f=0;f<l.length;f++){var d=l[f];if("string"!=typeof d){var p=h.push(d)-1;l[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}var v=Bp(l.join(""),n,h,e,r);i.push(v.create),o.push(v.remove),a.push(v.update),s.push(v.vars),c.push(v.childIcus)}e.push({type:t.type,vars:s,childIcus:c,cases:t.cases,create:i,remove:o,update:a}),Sp+=Math.max.apply(Math,s)}function Bp(e,t,n,r,i){var o=new yr(st()).getInertBodyElement(e);if(!o)throw new Error("Unable to generate inert body element");var a={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,r,i,o,a){if(t){for(var s=[];t;){var c=t.nextSibling,u=a+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:var l=t,h=l.tagName.toLowerCase();if(Tr.hasOwnProperty(h)){n.create.push(Ti,h,u,r<<17|1);for(var f=l.attributes,d=0;d<f.length;d++){var p=f.item(d),v=p.name.toLowerCase();p.value.match(sp)?Rr.hasOwnProperty(v)&&Ce(Ar[v]?_p(p.value,u,p.name,Cr):Dr[v]?_p(p.value,u,p.name,kr):_p(p.value,u,p.name),n.update):n.create.push(u<<3|4,p.name,p.value)}e(t.firstChild,n,u,i,o,a),n.remove.push(u<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var m=t.textContent||"",g=m.match(sp);n.create.push(g?"":m,u,r<<17|1),n.remove.push(u<<3|3),g&&Ce(_p(m,u),n.update);break;case Node.COMMENT_NODE:var y=Gp.exec(t.textContent||"");if(y){var _=parseInt(y[1],10);n.create.push(Ai,"",u,r<<17|1),s.push([i[_],u])}else n.vars--;break;default:n.vars--}t=c}for(var b=0;b<s.length;b++){var C=s[b][0],k=s[b][1];Up(o,C,k,a+n.vars);var w=o.length-1;n.vars+=Math.max.apply(Math,_toConsumableArray2(o[w].vars)),n.childIcus.push(w);var S=bp(C);n.update.push(wp(C.mainBinding),3,-1-C.mainBinding,k<<2|2,w,S,2,k<<2|3,w),n.remove.push(w<<3|6,k<<3|3)}}}((Ur(o)||o).firstChild,a,t,n,r,i),a}var Gp=/\ufffd(\d+)\ufffd/,Hp=/\uE500/g,zp=np;function qp(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&(zp=e.toLowerCase().replace(/_/g,"-"))}var Wp=new Map;function Yp(e,t){var n=Wp.get(e);Kp(e,n&&n.moduleType,t.moduleType),Wp.set(e,t)}function Kp(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(N(t)," vs ").concat(N(t.name)))}function Qp(e){if(null!==e.\u0275mod.id){var t=e.\u0275mod.id;Kp(t,Wp.get(t),e),Wp.set(t,e)}var n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach((function(e){return Qp(e)}))}function Xp(e){return Wp.get(e)||Be[e]}var Jp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck2(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Bd(_assertThisInitialized(i));var o=Je(e),a=e[ee]||null;return a&&qp(a),i._bootstrapComponents=Pn(o.bootstrap),i._r3Injector=Wa(e,r,[{provide:_e,useValue:_assertThisInitialized(i)},{provide:dh,useValue:i.componentFactoryResolver}],N(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass2(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ts.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;return e===ts||e===_e||e===ie?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(_e),Zp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).moduleType=e,null!==Je(e)&&Qp(e),r}return _createClass2(n,[{key:"create",value:function(e){return new Jp(this.moduleType,e)}}]),n}(be);function $p(e,t,n,r){return c((function(){var i,o=e,a=o.prototype?Object.getPrototypeOf(o.prototype):null,s=a&&a.constructor;null!==t&&(void 0===o.decorators||s&&s.decorators===o.decorators?o.decorators=t:(i=o.decorators).push.apply(i,_toConsumableArray2(t))),null!==n&&(o.ctorParameters=n),null!==r&&(o.propDecorators=void 0===o.propDecorators||s&&s.propDecorators===o.propDecorators?r:Object.assign(Object.assign({},o.propDecorators),r))}))}function ev(e,t,n){var r=Ft()+e,i=Pt();return i[r]===Si?Gs(i,r,n?t.call(n):t()):Hs(i,r)}function tv(e,t,n,r){return hv(Pt(),Ft(),e,t,n,r)}function nv(e,t,n,r,i){return fv(Pt(),Ft(),e,t,n,r,i)}function rv(e,t,n,r,i,o){return dv(Pt(),Ft(),e,t,n,r,i,o)}function iv(e,t,n,r,i,o,a){return pv(Pt(),Ft(),e,t,n,r,i,o,a)}function ov(e,t,n,r,i,o,a,s){var c=Ft()+e,u=Pt(),l=Ys(u,c,n,r,i,o);return zs(u,c+4,a)||l?Gs(u,c+5,s?t.call(s,n,r,i,o,a):t(n,r,i,o,a)):Hs(u,c+5)}function av(e,t,n,r,i,o,a,s,c){var u=Ft()+e,l=Pt(),h=Ys(l,u,n,r,i,o);return qs(l,u+4,a,s)||h?Gs(l,u+6,c?t.call(c,n,r,i,o,a,s):t(n,r,i,o,a,s)):Hs(l,u+6)}function sv(e,t,n,r,i,o,a,s,c,u){var l=Ft()+e,h=Pt(),f=Ys(h,l,n,r,i,o);return Ws(h,l+4,a,s,c)||f?Gs(h,l+7,u?t.call(u,n,r,i,o,a,s,c):t(n,r,i,o,a,s,c)):Hs(h,l+7)}function cv(e,t,n,r,i,o,a,s,c,u,l){var h=Ft()+e,f=Pt(),d=Ys(f,h,n,r,i,o);return Ys(f,h+4,a,s,c,u)||d?Gs(f,h+8,l?t.call(l,n,r,i,o,a,s,c,u):t(n,r,i,o,a,s,c,u)):Hs(f,h+8)}function uv(e,t,n,r){return vv(Pt(),Ft(),e,t,n,r)}function lv(e,t){var n=e[t];return n===Si?void 0:n}function hv(e,t,n,r,i,o){var a=t+n;return zs(e,a,i)?Gs(e,a+1,o?r.call(o,i):r(i)):lv(e,a+1)}function fv(e,t,n,r,i,o,a){var s=t+n;return qs(e,s,i,o)?Gs(e,s+2,a?r.call(a,i,o):r(i,o)):lv(e,s+2)}function dv(e,t,n,r,i,o,a,s){var c=t+n;return Ws(e,c,i,o,a)?Gs(e,c+3,s?r.call(s,i,o,a):r(i,o,a)):lv(e,c+3)}function pv(e,t,n,r,i,o,a,s,c){var u=t+n;return Ys(e,u,i,o,a,s)?Gs(e,u+4,c?r.call(c,i,o,a,s):r(i,o,a,s)):lv(e,u+4)}function vv(e,t,n,r,i,o){for(var a=t+n,s=!1,c=0;c<i.length;c++)zs(e,a++,i[c])&&(s=!0);return s?Gs(e,a,r.apply(o,i)):lv(e,a)}function mv(e,t){var n,r=xt(),i=e+19;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Xe(n.type)),a=le(Cc),s=o();return le(a),_c(r,Pt(),e,s),s}function gv(e,t,n){var r=Pt(),i=vt(r,e);return wv(r,kv(r,e)?hv(r,Ft(),t,i.transform,n,i):i.transform(n))}function yv(e,t,n,r){var i=Pt(),o=vt(i,e);return wv(i,kv(i,e)?fv(i,Ft(),t,o.transform,n,r,o):o.transform(n,r))}function _v(e,t,n,r,i){var o=Pt(),a=vt(o,e);return wv(o,kv(o,e)?dv(o,Ft(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function bv(e,t,n,r,i,o){var a=Pt(),s=vt(a,e);return wv(a,kv(a,e)?pv(a,Ft(),t,s.transform,n,r,i,o,s):s.transform(n,r,i,o))}function Cv(e,t,n){var r=Pt(),i=vt(r,e);return wv(r,kv(r,e)?vv(r,Ft(),t,i.transform,n,i):i.transform.apply(i,n))}function kv(e,t){return e[1].data[t+19].pure}function wv(e,t){return Vs.isWrapped(t)&&(t=Vs.unwrap(t),e[Lt()]=Si),t}var Sv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck2(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass2(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var c=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return e instanceof i.a&&e.add(c),c}}]),n}(r.a);function Ev(){return this._results[Ns()]()}var Iv=function(){function e(){_classCallCheck2(this,e),this.dirty=!0,this._results=[],this.changes=new Sv,this.length=0;var t=Ns(),n=e.prototype;n[t]||(n[t]=Ev)}return _createClass2(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=ke(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Ov=function(){function e(t){_classCallCheck2(this,e),this.queryList=t,this.matches=null}return _createClass2(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Pv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck2(this,e),this.queries=t}return _createClass2(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==qv(e,t).matches&&this.queries[t].setDirty()}}]),e}(),xv=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck2(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},Tv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck2(this,e),this.queries=t}return _createClass2(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),Av=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck2(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass2(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,Dv(t,n[r]));else{var i=this.metadata.predicate;i===Gh?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===mh||r===qh||r===Gh&&0===t.type)this.addMatch(t.index,-2);else{var i=Bn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Dv(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Rv(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?fa(mh,e,t):0===e.type?da(Gh,mh,e,t):null}(t,e):-2===n?function(e,t,n){return n===mh?fa(mh,t,e):n===Gh?da(Gh,mh,t,e):n===qh?pa(qh,mh,t,e):void 0}(e,t,r):Gn(e,e[1],n,t)}function jv(e,t,n,r){var i=t[5].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],c=0;c<a.length;c+=2){var u=a[c];s.push(u<0?null:Rv(t,o[u],a[c+1],n.metadata.read))}i.matches=s}return i.matches}function Mv(e){var t=Pt(),n=xt(),r=Ht();zt(r+1);var i=qv(n,r);if(e.dirty&&_t(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=jv(t,n,o,r),c=0;c<a.length;c+=2){var u=a[c];if(u>0)i.push(s[c/2]);else{for(var l=a[c+1],h=n[-u],f=9;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[5])for(var p=h[5],v=0;v<p.length;v++){var m=p[v];e(m[1],m,l,i)}}}return i}(n,t,r,[]):jv(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Nv(e,t,n){Lv(xt(),Pt(),e,t,n,!0)}function Fv(e,t,n){Lv(xt(),Pt(),e,t,n,!1)}function Lv(e,t,n,r,i,o){e.firstCreatePass&&(zv(e,new xv(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),Hv(e,t)}function Vv(e,t,n,r){Bv(xt(),Pt(),t,n,r,!1,At(),e)}function Uv(e,t,n,r){Bv(xt(),Pt(),t,n,r,!0,At(),e)}function Bv(e,t,n,r,i,o,a,s){e.firstCreatePass&&(zv(e,new xv(n,r,o,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),o&&(e.staticContentQueries=!0)),Hv(e,t)}function Gv(){return e=Pt(),t=Ht(),e[5].queries[t].queryList;var e,t}function Hv(e,t){var n=new Iv;!function(e,t,n,r){var i=Po(t);i.push(n),e.firstCreatePass&&xo(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[5]&&(t[5]=new Pv),t[5].queries.push(new Ov(n))}function zv(e,t,n){null===e.queries&&(e.queries=new Tv),e.queries.track(new Av(t,n))}function qv(e,t){return e.queries.getByIndex(t)}function Wv(e,t){return da(Gh,mh,e,t)}function Yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Default,t=va(!0);if(null!=t||e&k.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var Kv={"\u0275\u0275attribute":Ks,"\u0275\u0275attributeInterpolate1":ic,"\u0275\u0275attributeInterpolate2":oc,"\u0275\u0275attributeInterpolate3":ac,"\u0275\u0275attributeInterpolate4":sc,"\u0275\u0275attributeInterpolate5":cc,"\u0275\u0275attributeInterpolate6":uc,"\u0275\u0275attributeInterpolate7":lc,"\u0275\u0275attributeInterpolate8":hc,"\u0275\u0275attributeInterpolateV":fc,"\u0275\u0275defineComponent":Fe,"\u0275\u0275defineDirective":qe,"\u0275\u0275defineInjectable":E,"\u0275\u0275defineInjector":O,"\u0275\u0275defineNgModule":Ge,"\u0275\u0275definePipe":We,"\u0275\u0275directiveInject":Cc,"\u0275\u0275getFactoryOf":Wn,"\u0275\u0275getInheritedFactory":Yn,"\u0275\u0275inject":fe,"\u0275\u0275injectAttribute":kc,"\u0275\u0275invalidFactory":wc,"\u0275\u0275invalidFactoryDep":de,"\u0275\u0275injectPipeChangeDetectorRef":Yv,"\u0275\u0275templateRefExtractor":Wv,"\u0275\u0275NgOnChangesFeature":Jl,"\u0275\u0275ProvidersFeature":sh,"\u0275\u0275CopyDefinitionFeature":Ql,"\u0275\u0275InheritDefinitionFeature":Gl,"\u0275\u0275container":vc,"\u0275\u0275nextContext":Gc,"\u0275\u0275containerRefreshStart":gc,"\u0275\u0275containerRefreshEnd":yc,"\u0275\u0275namespaceHTML":on,"\u0275\u0275namespaceMathML":rn,"\u0275\u0275namespaceSVG":nn,"\u0275\u0275enableBindings":It,"\u0275\u0275disableBindings":Ot,"\u0275\u0275elementStart":Ic,"\u0275\u0275elementEnd":Oc,"\u0275\u0275element":Pc,"\u0275\u0275elementContainerStart":xc,"\u0275\u0275elementContainerEnd":Tc,"\u0275\u0275elementContainer":Ac,"\u0275\u0275pureFunction0":ev,"\u0275\u0275pureFunction1":tv,"\u0275\u0275pureFunction2":nv,"\u0275\u0275pureFunction3":rv,"\u0275\u0275pureFunction4":iv,"\u0275\u0275pureFunction5":ov,"\u0275\u0275pureFunction6":av,"\u0275\u0275pureFunction7":sv,"\u0275\u0275pureFunction8":cv,"\u0275\u0275pureFunctionV":uv,"\u0275\u0275getCurrentView":jc,"\u0275\u0275restoreView":Tt,"\u0275\u0275listener":Fc,"\u0275\u0275projection":Yc,"\u0275\u0275updateSyntheticHostBinding":_l,"\u0275\u0275componentHostSyntheticListener":Lc,"\u0275\u0275pipeBind1":gv,"\u0275\u0275pipeBind2":yv,"\u0275\u0275pipeBind3":_v,"\u0275\u0275pipeBind4":bv,"\u0275\u0275pipeBindV":Cv,"\u0275\u0275projectionDef":zc,"\u0275\u0275hostProperty":yl,"\u0275\u0275property":Sc,"\u0275\u0275propertyInterpolate":Kc,"\u0275\u0275propertyInterpolate1":Qc,"\u0275\u0275propertyInterpolate2":Xc,"\u0275\u0275propertyInterpolate3":Jc,"\u0275\u0275propertyInterpolate4":Zc,"\u0275\u0275propertyInterpolate5":$c,"\u0275\u0275propertyInterpolate6":eu,"\u0275\u0275propertyInterpolate7":tu,"\u0275\u0275propertyInterpolate8":nu,"\u0275\u0275propertyInterpolateV":ru,"\u0275\u0275pipe":mv,"\u0275\u0275queryRefresh":Mv,"\u0275\u0275viewQuery":Fv,"\u0275\u0275staticViewQuery":Nv,"\u0275\u0275staticContentQuery":Uv,"\u0275\u0275loadQuery":Gv,"\u0275\u0275contentQuery":Vv,"\u0275\u0275reference":bc,"\u0275\u0275classMap":Cu,"\u0275\u0275classMapInterpolate1":qu,"\u0275\u0275classMapInterpolate2":Wu,"\u0275\u0275classMapInterpolate3":Yu,"\u0275\u0275classMapInterpolate4":Ku,"\u0275\u0275classMapInterpolate5":Qu,"\u0275\u0275classMapInterpolate6":Xu,"\u0275\u0275classMapInterpolate7":Ju,"\u0275\u0275classMapInterpolate8":Zu,"\u0275\u0275classMapInterpolateV":$u,"\u0275\u0275styleMap":_u,"\u0275\u0275styleMapInterpolate1":el,"\u0275\u0275styleMapInterpolate2":tl,"\u0275\u0275styleMapInterpolate3":nl,"\u0275\u0275styleMapInterpolate4":rl,"\u0275\u0275styleMapInterpolate5":il,"\u0275\u0275styleMapInterpolate6":ol,"\u0275\u0275styleMapInterpolate7":al,"\u0275\u0275styleMapInterpolate8":sl,"\u0275\u0275styleMapInterpolateV":cl,"\u0275\u0275styleProp":gu,"\u0275\u0275stylePropInterpolate1":ul,"\u0275\u0275stylePropInterpolate2":ll,"\u0275\u0275stylePropInterpolate3":hl,"\u0275\u0275stylePropInterpolate4":fl,"\u0275\u0275stylePropInterpolate5":dl,"\u0275\u0275stylePropInterpolate6":pl,"\u0275\u0275stylePropInterpolate7":vl,"\u0275\u0275stylePropInterpolate8":ml,"\u0275\u0275stylePropInterpolateV":gl,"\u0275\u0275styleSanitizer":mu,"\u0275\u0275classProp":yu,"\u0275\u0275select":Pi,"\u0275\u0275advance":Oi,"\u0275\u0275template":mc,"\u0275\u0275text":ju,"\u0275\u0275textInterpolate":Mu,"\u0275\u0275textInterpolate1":Nu,"\u0275\u0275textInterpolate2":Fu,"\u0275\u0275textInterpolate3":Lu,"\u0275\u0275textInterpolate4":Vu,"\u0275\u0275textInterpolate5":Uu,"\u0275\u0275textInterpolate6":Bu,"\u0275\u0275textInterpolate7":Gu,"\u0275\u0275textInterpolate8":Hu,"\u0275\u0275textInterpolateV":zu,"\u0275\u0275embeddedViewStart":Dc,"\u0275\u0275embeddedViewEnd":Rc,"\u0275\u0275i18n":Rp,"\u0275\u0275i18nAttributes":jp,"\u0275\u0275i18nExp":Fp,"\u0275\u0275i18nStart":Ip,"\u0275\u0275i18nEnd":xp,"\u0275\u0275i18nApply":Lp,"\u0275\u0275i18nPostprocess":Pp,"\u0275\u0275resolveWindow":En,"\u0275\u0275resolveDocument":In,"\u0275\u0275resolveBody":On,"\u0275\u0275setComponentScope":Le,"\u0275\u0275setNgModuleScope":He,"\u0275\u0275sanitizeHtml":qr,"\u0275\u0275sanitizeStyle":Wr,"\u0275\u0275defaultStyleSanitizer":Zr,"\u0275\u0275sanitizeResourceUrl":Kr,"\u0275\u0275sanitizeScript":Qr,"\u0275\u0275sanitizeUrl":Yr,"\u0275\u0275sanitizeUrlOrResourceUrl":Jr},Qv=[],Xv=[],Jv=!1;function Zv(){if(!Jv){Jv=!0;try{for(var e=Xv.length-1;e>=0;e--){var t=Xv[e],n=t.moduleType,r=t.ngModule;r.declarations&&r.declarations.every($v)&&(Xv.splice(e,1),rm(n,r))}}finally{Jv=!1}}}function $v(e){return Array.isArray(e)?e.every($v):!!U(e)}function em(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tm(e,t),function(e,t){Xv.push({moduleType:e,ngModule:t})}(e,t)}function tm(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=ke(t.declarations||Qv),r=null;Object.defineProperty(e,$,{configurable:!0,get:function(){return null===r&&((r=K().compileNgModule(Kv,"ng:///".concat(e.name,"/\u0275mod.js"),{type:e,bootstrap:ke(t.bootstrap||Qv).map(U),declarations:n.map(U),imports:ke(t.imports||Qv).map(U).map(am),exports:ke(t.exports||Qv).map(U).map(am),schemas:t.schemas?ke(t.schemas):null,id:t.id||null})).schemas||(r.schemas=[])),r}});var i=null;Object.defineProperty(e,D,{get:function(){if(null===i){var n={name:e.name,type:e,deps:Ta(e),providers:t.providers||Qv,imports:[(t.imports||Qv).map(U),(t.exports||Qv).map(U)]};i=K().compileInjector(Kv,"ng:///".concat(e.name,"/\u0275inj.js"),n)}return i},configurable:!1})}new Map,new Map;function nm(){new Map,new Map,Xv.length=0}function rm(e,t){var n=ke(t.declarations||Qv),r=om(e);n.forEach((function(t){t.hasOwnProperty(X)?im(Ye(t),r):t.hasOwnProperty(J)||t.hasOwnProperty(Z)||(t.ngSelectorScope=e)}))}function im(e,t){e.directiveDefs=function(){return Array.from(t.compilation.directives).map((function(e){return e.hasOwnProperty(X)?Ye(e):Ke(e)})).filter((function(e){return!!e}))},e.pipeDefs=function(){return Array.from(t.compilation.pipes).map((function(e){return Qe(e)}))},e.schemas=t.schemas,e.tView=null}function om(e){if(!sm(e))throw new Error("".concat(e.name," does not have a module def (\u0275mod property)"));var t=Je(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;var n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Pn(t.imports).forEach((function(e){var t=e;if(!sm(t))throw new Error("Importing ".concat(t.name," which does not have a \u0275mod property"));var r=om(t);r.exported.directives.forEach((function(e){return n.compilation.directives.add(e)})),r.exported.pipes.forEach((function(e){return n.compilation.pipes.add(e)}))})),Pn(t.declarations).forEach((function(e){Qe(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),Pn(t.exports).forEach((function(e){var t=e;if(sm(t)){var r=om(t);r.exported.directives.forEach((function(e){n.compilation.directives.add(e),n.exported.directives.add(e)})),r.exported.pipes.forEach((function(e){n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else Qe(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function am(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function sm(e){return!!Je(e)}function cm(e,t){var n=null;!function(e,t){As(t)&&(xs.set(e,t),Ts.add(e))}(e,t),hm(e,t),Object.defineProperty(e,X,{get:function(){if(null===n){var r=K();if(As(t)){var i=["Component '".concat(e.name,"' is not resolved:")];throw t.templateUrl&&i.push(" - templateUrl: ".concat(t.templateUrl)),t.styleUrls&&t.styleUrls.length&&i.push(" - styleUrls: ".concat(JSON.stringify(t.styleUrls))),i.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(i.join("\n"))}var o=t.templateUrl||"ng:///".concat(e.name,"/template.html"),a=Object.assign(Object.assign({},dm(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,o),template:t.template||"",preserveWhitespaces:t.preserveWhitespaces||!1,styles:t.styles||Me,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:t.encapsulation||Re.Emulated,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(a.usesInheritance&&pm(e),n=r.compileComponent(Kv,o,a),Zv(),void 0!==e.ngSelectorScope){var s=om(e.ngSelectorScope);im(n,s)}}return n},configurable:!1})}function um(e,t){var n=null;hm(e,t||{}),Object.defineProperty(e,J,{get:function(){if(null===n){var r=lm(e,t||{});n=K().compileDirective(Kv,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function lm(e,t){var n=e&&e.name,r="ng:///".concat(n,"/\u0275dir.js"),i=K(),o=dm(e,t);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&pm(e),{metadata:o,sourceMapUrl:r}}function hm(e,t){var n=null;Object.defineProperty(e,te,{get:function(){if(null===n){var r=lm(e,t),i=K();n=i.compileFactory(Kv,"ng:///".concat(e.name,"/\u0275fac.js"),Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function fm(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function dm(e,t){var n,r=xa(),i=r.ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:void 0!==t.selector?t.selector:null,deps:Ta(e),host:t.host||je,propMetadata:i,inputs:t.inputs||Me,outputs:t.outputs||Me,queries:vm(e,i,mm),lifecycle:{usesOnChanges:r.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!fm(e),exportAs:(n=t.exportAs,void 0===n?null:_m(n)),providers:t.providers||null,viewQueries:vm(e,i,gm)}}function pm(e){for(var t=Object.prototype,n=Object.getPrototypeOf(e.prototype).constructor;n&&n!==t;)Ke(n)||Ye(n)||!Cm(n)||um(n,null),n=Object.getPrototypeOf(n)}function vm(e,t,n){var r=[],i=function(i){if(t.hasOwnProperty(i)){var o=t[i];o.forEach((function(t){if(n(t)){if(!t.selector)throw new Error("Can't construct a query for the property \"".concat(i,'" of ')+'"'.concat(wn(e),"\" since the query selector wasn't defined."));if(o.some(ym))throw new Error("Cannot combine @Input decorators with query decorators");r.push(function(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?_m(n):U(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static};var n}(i,t))}}))}};for(var o in t)i(o);return r}function mm(e){var t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function gm(e){var t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function ym(e){return"Input"===e.ngMetadataName}function _m(e){return e.split(",").map((function(e){return e.trim()}))}var bm=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Cm(e){var t=xa();if(bm.some((function(n){return t.hasLifecycleHook(e,n)})))return!0;var n=t.propMetadata(e);for(var r in n)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],s=a.ngMetadataName;if(ym(a)||mm(a)||gm(a)||"Output"===s||"HostBinding"===s||"HostListener"===s)return!0}return!1}function km(e,t){var n=null,r=null;Object.defineProperty(e,te,{get:function(){if(null===r){var n=wm(e,t),i=K();r=i.compileFactory(Kv,"ng:///".concat(n.name,"/\u0275fac.js"),Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(e,Z,{get:function(){if(null===n){var r=wm(e,t);n=K().compilePipe(Kv,"ng:///".concat(r.name,"/\u0275pipe.js"),r)}return n},configurable:!1})}function wm(e,t){return{type:e,typeArgumentCount:0,name:e.name,deps:Ta(e),pipeName:t.name,pure:void 0===t.pure||t.pure}}var Sm=f("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),void 0,void 0,(function(e,t){return Mm(e,t)})),Em=f("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:Te.Default},e)}),Sm,void 0,(function(e,t){return jm(e,t)})),Im=f("Pipe",(function(e){return Object.assign({pure:!0},e)}),void 0,void 0,(function(e,t){return Nm(e,t)})),Om=v("Input",(function(e){return{bindingPropertyName:e}})),Pm=v("Output",(function(e){return{bindingPropertyName:e}})),xm=v("HostBinding",(function(e){return{hostPropertyName:e}})),Tm=v("HostListener",(function(e,t){return{eventName:e,args:t}})),Am=cm,Dm=um,Rm=km,jm=Am,Mm=Dm,Nm=Rm,Fm=f("NgModule",(function(e){return e}),void 0,void 0,(function(e,t){return Vm(e,t)})),Lm=em,Vm=Lm,Um=new re("Application Initializer"),Bm=function(){var e=function(){function e(t){var n=this;_classCallCheck2(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass2(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Mc(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(Um,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),Gm=new re("AppId");function Hm(){return"".concat(qm()).concat(qm()).concat(qm())}var zm={provide:Gm,useFactory:Hm,deps:[]};function qm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Wm=new re("Platform Initializer"),Ym=new re("Platform ID"),Km=new re("appBootstrapListener"),Qm=new re("Application Packages Root URL"),Xm=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),Jm=new re("LocaleId"),Zm=new re("DefaultCurrencyCode"),$m=new re("Translations"),eg=new re("TranslationsFormat"),tg=function(){var e={Error:0,Warning:1,Ignore:2};return e[e.Error]="Error",e[e.Warning]="Warning",e[e.Ignore]="Ignore",e}(),ng=!0,rg=ng,ig=function e(t,n){_classCallCheck2(this,e),this.ngModuleFactory=t,this.componentFactories=n},og=function(e){return new Zp(e)},ag=og,sg=function(e){return Promise.resolve(og(e))},cg=sg,ug=function(e){var t=og(e),n=Pn(Je(e).declarations).reduce((function(e,t){var n=Ye(t);return n&&e.push(new zd(n)),e}),[]);return new ig(t,n)},lg=ug,hg=function(e){return Promise.resolve(ug(e))},fg=hg,dg=function(){var e=function(){function e(){_classCallCheck2(this,e),this.compileModuleSync=ag,this.compileModuleAsync=cg,this.compileModuleAndAllComponentsSync=lg,this.compileModuleAndAllComponentsAsync=fg}return _createClass2(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),pg=new re("compilerOptions"),vg=function e(){_classCallCheck2(this,e)},mg=Promise.resolve(0);function gg(e){"undefined"==typeof Zone?mg.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var yg=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck2(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sv(!1),this.onMicrotaskEmpty=new Sv(!1),this.onStable=new Sv(!1),this.onError=new Sv(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=W.requestAnimationFrame,t=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(W,(function(){e.lastRequestAnimationFrameId=-1,kg(e),Cg(e)})),kg(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return wg(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Sg(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return wg(n),e.invoke(r,i,o,a,s)}finally{Sg(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,kg(n),Cg(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass2(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,bg,_g,_g);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function _g(){}var bg={};function Cg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function kg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function wg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Sg(e){e._nesting--,Cg(e)}var Eg=function(){function e(){_classCallCheck2(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sv,this.onMicrotaskEmpty=new Sv,this.onStable=new Sv,this.onError=new Sv}return _createClass2(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Ig=function(){var e=function(){function e(t){var n=this;_classCallCheck2(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass2(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){yg.assertNotInAngularZone(),gg((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())gg((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(yg))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),Og=function(){var e=function(){function e(){_classCallCheck2(this,e),this._applications=new Map,Tg.addToWindow(this)}return _createClass2(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Tg.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function Pg(e){Tg=e}var xg,Tg=new(function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Ag=Dg;function Dg(e,t,n){var r=new Zp(n);if(0===xs.size)return Promise.resolve(r);var i,o,a=(i=e.get(pg,[]).concat(t).map((function(e){return e.providers})),o=[],i.forEach((function(e){return e&&o.push.apply(o,_toConsumableArray2(e))})),o);if(0===a.length)return Promise.resolve(r);var s=K(),c=ts.create({providers:a}).get(s.ResourceLoader);return Ps((function(e){return Promise.resolve(c.get(e))})).then((function(){return r}))}var Rg=jg;function jg(e){return e.isBoundToModule}var Mg=new re("AllowMultipleToken"),Ng=function e(t,n){_classCallCheck2(this,e),this.name=t,this.token=n};function Fg(e){if(xg&&!xg.destroyed&&!xg.injector.get(Mg,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xg=e.get(Gg);var t=e.get(Wm,null);return t&&t.forEach((function(e){return e()})),xg}function Lg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new re(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Bg();if(!o||o.injector.get(Mg,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:Va,useValue:"platform"});Fg(ts.create({providers:a,name:r}))}return Vg(i)}}function Vg(e){var t=Bg();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function Ug(){xg&&!xg.destroyed&&xg.destroy()}function Bg(){return xg&&!xg.destroyed?xg:null}var Gg=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass2(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Eg:("zone.js"===n?void 0:n)||new yg({enableLongStackTrace:mr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:yg,useValue:o}];return o.run((function(){var t=ts.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Jn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return qg(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(Bm)).runInitializers(),a.donePromise.then((function(){return rg&&qp(n.injector.get(Jm,np)||np),i._moduleDoBootstrap(n),n})));return Mc(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Hg({},n);return Ag(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(zg);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(N(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(ts))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function Hg(e,t){return Array.isArray(t)?t.reduce(Hg,e):Object.assign(Object.assign({},e),t)}var zg=function(){var e=function(){function e(t,n,r,i,c,u){var l=this;_classCallCheck2(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=c,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=mr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(e){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){e.next(l._stable),e.complete()}))})),f=new o.a((function(e){var t;l._zone.runOutsideAngular((function(){t=l._zone.onStable.subscribe((function(){yg.assertNotInAngularZone(),gg((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,e.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){yg.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe(Object(s.a)()))}return _createClass2(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof uh?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=Rg(n)?void 0:this._injector.get(_e),o=n.create(ts.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Ig,null);return a&&o.injector.get(Og).registerApplication(o.location.nativeElement,a),this._loadComponent(o),mr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;){r.value.checkNoChanges()}}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;qg(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Km,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),qg(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(yg),fe(Xm),fe(ts),fe(Jn),fe(dh),fe(Bm))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function qg(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Wg=function e(){_classCallCheck2(this,e)};function Yg(e){var t=Xp(e);if(!t)throw Xg(e);return t}function Kg(e){var t=Xp(e);if(!t)throw Xg(e);return new Zp(t)}var Qg=Kg;function Xg(e){return new Error("No module with ID ".concat(e," loaded"))}var Jg=function e(){_classCallCheck2(this,e)},Zg={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},$g=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._compiler=t,this._config=n||Zg}return _createClass2(e,[{key:"load",value:function(e){return!rg&&this._compiler instanceof dg?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return ey(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return ey(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(fe(dg),fe(Jg,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function ey(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var ty=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(ma),ny=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(ty),ry=function e(t,n){_classCallCheck2(this,e),this.name=t,this.callback=n},iy=function(){function e(t,n,r){_classCallCheck2(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof oy&&n.addChild(this)}return _createClass2(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),oy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e,r,i)).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return _createClass2(n,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray2(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return function e(t,r,i){t.childNodes.forEach((function(t){t instanceof n&&(r(t)&&i.push(t),e(t,r,i))}))}(this,e,t),t}},{key:"queryAllNodes",value:function(e){var t=[];return function e(t,r,i){t instanceof n&&t.childNodes.forEach((function(t){r(t)&&i.push(t),t instanceof n&&e(t,r,i)}))}(this,e,t),t}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof n}))}}]),n}(iy);function ay(e){return e.map((function(e){return e.nativeElement}))}var sy=function(){function e(t){_classCallCheck2(this,e),this.nativeNode=t}return _createClass2(e,[{key:"parent",get:function(){var e=this.nativeNode.parentNode;return e?new cy(e):null}},{key:"injector",get:function(){return Sl(this.nativeNode)}},{key:"componentInstance",get:function(){var e=this.nativeNode;return e&&(bl(e)||kl(e))}},{key:"context",get:function(){return bl(this.nativeNode)||Cl(this.nativeNode)}},{key:"listeners",get:function(){return Pl(this.nativeNode).filter((function(e){return"dom"===e.type}))}},{key:"references",get:function(){return e=this.nativeNode,null===(t=Il(e,!1))?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){var n=e[1].data[t];if(n&&n.localNames){for(var r={},i=n.index+1,o=0;o<n.localNames.length;o+=2)r[n.localNames[o]]=e[i],i++;return r}return null}(t.lView,t.nodeIndex)),t.localRefs||{});var e,t}},{key:"providerTokens",get:function(){return function(e){var t=Il(e,!1);if(null===t)return[];for(var n,r=t.lView[1],i=r.data[t.nodeIndex],o=[],a=i.directiveEnd,s=65535&i.providerIndexes;s<a;s++){var c=r.data[s];void 0!==(n=c).type&&void 0!==n.template&&void 0!==n.declaredInputs&&(c=c.type),o.push(c)}return o}(this.nativeNode)}}]),e}(),cy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return ly(this,e,t,!0),t}},{key:"queryAllNodes",value:function(e){var t=[];return ly(this,e,t,!1),t}},{key:"triggerEventHandler",value:function(e,t){var n=this.nativeNode,r=[];this.listeners.forEach((function(i){if(i.name===e){var o=i.callback;o.call(n,t),r.push(o)}})),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach((function(e){if(-1!==e.toString().indexOf("__ngUnwrap__")){var i=e("__ngUnwrap__");return-1===r.indexOf(i)&&i.call(n,t)}}))}},{key:"nativeElement",get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}},{key:"name",get:function(){try{var e=Il(this.nativeNode);return e.lView[1].data[e.nodeIndex].tagName}catch(t){return this.nativeNode.nodeName}}},{key:"properties",get:function(){var e=Il(this.nativeNode,!1);if(null==e)return{};var t=e.lView,n=t[1].data,r=n[e.nodeIndex],i={};return function(e,t){if(e)for(var n=Object.getPrototypeOf(e),r=Node.prototype;null!==n&&n!==r;){var i=Object.getOwnPropertyDescriptors(n);for(var o in i)if(!o.startsWith("__")&&!o.startsWith("on")){var a=e[o];uy(a)&&(t[o]=a)}n=Object.getPrototypeOf(n)}}(this.nativeElement,i),function(e,t,n,r){var i=t.propertyBindings;if(null!==i)for(var o=0;o<i.length;o++){var a=i[o],s=r[a].split("\ufffd"),c=s[0];if(s.length>1){for(var u=s[1],l=1;l<s.length-1;l++)u+=kn(n[a+l-1])+s[l+1];e[c]=u}else e[c]=n[a]}}(i,r,t,n),i}},{key:"attributes",get:function(){var e={},t=this.nativeElement;if(!t)return e;var n=Il(t,!1);if(null==n)return{};var r=n.lView[1].data[n.nodeIndex].attrs,i=[];if(r)for(var o=0;o<r.length;){var a=r[o];if("string"!=typeof a)break;e[a]=r[o+1],i.push(a.toLowerCase()),o+=2}for(var s=t.attributes,c=0;c<s.length;c++){var u=s[c],l=u.name.toLowerCase();-1===i.indexOf(l)&&(e[l]=u.value)}return e}},{key:"styles",get:function(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}},{key:"classes",get:function(){var e={},t=this.nativeElement.className;return(t&&"string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach((function(t){return e[t]=!0})),e}},{key:"childNodes",get:function(){for(var e=this.nativeNode.childNodes,t=[],n=0;n<e.length;n++)t.push(my(e[n]));return t}},{key:"children",get:function(){var e=this.nativeElement;if(!e)return[];for(var t=e.children,n=[],r=0;r<t.length;r++)n.push(my(t[r]));return n}}]),n}(sy);function uy(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function ly(e,t,n,r){var i=Il(e.nativeNode,!1);null!==i?hy(i.lView[1].data[i.nodeIndex],i.lView,t,n,r,e.nativeNode):py(e.nativeNode,t,n,r)}function hy(e,t,n,r,i,o){var a=dt(e,t);if(3===e.type||4===e.type){if(dy(a,n,r,i,o),tt(e)){var s=mt(e.index,t);s&&s[1].firstChild&&hy(s[1].firstChild,s,n,r,i,o)}else e.child&&hy(e.child,t,n,r,i,o),a&&py(a,n,r,i);var c=t[e.index];$e(c)&&fy(c,n,r,i,o)}else if(0===e.type){var u=t[e.index];dy(u[7],n,r,i,o),fy(u,n,r,i,o)}else if(1===e.type){var l=t[16],h=l[6].projection[e.projection];if(Array.isArray(h)){var f,d=_createForOfIteratorHelper(h);try{for(d.s();!(f=d.n()).done;){dy(f.value,n,r,i,o)}}catch(m){d.e(m)}finally{d.f()}}else if(h){var p=l[3];hy(p[1].data[h.index],p,n,r,i,o)}}else e.child&&hy(e.child,t,n,r,i,o);if(o!==a){var v=4&e.flags?e.projectionNext:e.next;v&&hy(v,t,n,r,i,o)}}function fy(e,t,n,r,i){for(var o=9;o<e.length;o++){var a=e[o];hy(a[1].node,a,t,n,r,i)}}function dy(e,t,n,r,i){if(i!==e){var o=gy(e);if(!o)return;(r&&o instanceof cy&&t(o)&&-1===n.indexOf(o)||!r&&t(o)&&-1===n.indexOf(o))&&n.push(o)}}function py(e,t,n,r){for(var i=e.childNodes,o=i.length,a=0;a<o;a++){var s=i[a],c=gy(s);c&&((r&&c instanceof cy&&t(c)&&-1===n.indexOf(c)||!r&&t(c)&&-1===n.indexOf(c))&&n.push(c),py(s,t,n,r))}}var vy=new Map;function my(e){return e instanceof Node?(e.hasOwnProperty("__ng_debug__")||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new cy(e):new sy(e)),e.__ng_debug__):null}var gy=my;function yy(e){return function(e){return vy.get(e)||null}(e)}var _y=function(e){return null};function by(e){vy.set(e.nativeNode,e)}var Cy=sy,ky=cy,wy=Lg(null,"core",[{provide:Ym,useValue:"unknown"},{provide:Gg,deps:[ts]},{provide:Og,deps:[]},{provide:Xm,deps:[]}]);function Sy(){return Uh}function Ey(){return Bh}function Iy(e){return e=e||rg&&"undefined"!=typeof $localize&&$localize.locale||np,rg&&qp(e),e}var Oy=rp,Py=[{provide:zg,useClass:zg,deps:[yg,Xm,ts,Jn,dh,Bm]},{provide:Hd,deps:[yg],useFactory:xy},{provide:Bm,useClass:Bm,deps:[[new g,Um]]},{provide:dg,useClass:dg,deps:[]},zm,{provide:Fh,useFactory:Sy,deps:[]},{provide:Lh,useFactory:Ey,deps:[]},{provide:Jm,useFactory:Iy,deps:[[new m(Jm),new g,new _]]},{provide:Zm,useValue:Oy}];function xy(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var Ty=function(){var e=function e(t){_classCallCheck2(this,e)};return e.\u0275mod=Ge({type:e}),e.\u0275inj=O({factory:function(t){return new(t||e)(fe(zg))},providers:Py}),e}();function Ay(e,t,n,r,i,o){e|=1;var a=If(t),s=a.matchedQueries,c=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:c,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Tf(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||sf},provider:null,text:null,query:null,ngContent:null}}function Dy(e,t,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],c=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;l||(l=sf);var d=If(n),p=d.matchedQueries,v=d.references,m=d.matchedQueryIds,g=null,y=null;o&&(g=(a=_slicedToArray(Ff(o),2))[0],y=a[1]),c=c||[];for(var _=[],b=0;b<c.length;b++){var C=_slicedToArray(c[b],3),k=C[0],w=C[1],S=C[2],E=Ff(w),I=_slicedToArray(E,2),O=I[0],P=I[1],x=void 0,T=void 0;switch(15&k){case 4:T=S;break;case 1:case 8:x=S}_[b]={flags:k,ns:O,name:P,nonMinifiedName:P,securityContext:x,suffix:T}}u=u||[];for(var A=[],D=0;D<u.length;D++){var R=_slicedToArray(u[D],2),j=R[0],M=R[1];A[D]={type:0,target:j,eventName:M,propName:null}}var N=(s=s||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=_slicedToArray(Ff(n),2);return[i[0],i[1],r]}));return f=function(e){if(e&&"$$undefined"===e.id){var t=null!=e.encapsulation&&e.encapsulation!==Re.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c".concat(ff++):"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(f),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:v,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:Lf(_),outputs:A,element:{ns:g,name:y,attrs:N,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:l||sf},provider:null,text:null,query:null,ngContent:null}}function Ry(e,t,n){var r,i=n.element,o=e.root.selectorOrNode,a=e.renderer;if(e.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Pf(e,t,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Re.ShadowDom);if(i.attrs)for(var c=0;c<i.attrs.length;c++){var u=_slicedToArray(i.attrs[c],3),l=u[0],h=u[1],f=u[2];a.setAttribute(r,h,f,l)}return r}function jy(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=My(e,n.nodeIndex,kf(o.target,o.eventName)),s=o.target,c=e;"component"===o.target&&(s=null,c=t);var u=c.renderer.listen(s||r,o.eventName,a);e.disposables[n.outputIndex+i]=u}}function My(e,t,n){return function(r){return yf(e,t,n,r)}}function Ny(e,t,n,r){if(!pf(e,t,n,r))return!1;var i=t.bindings[n],o=ef(e,t.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var a=t.securityContext,s=a?e.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var c=e.renderer;null!=o?c.setAttribute(n,i,s,r):c.removeAttribute(n,i,r)}(e,i,a,i.ns,s,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,a,s,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(Br.STYLE,i);if(null!=o){o=o.toString();var a=t.suffix;null!=a&&(o+=a)}else o=null;var s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,a,s,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,a=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,a,s,r)}return!0}function Fy(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Ef(t),bindings:r},ngContent:null}}function Ly(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Sf(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=e.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&rf(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&e.def.nodeFlags)for(var a=0;a<e.def.nodes.length;a++){var s=e.def.nodes[a];134217728&s.flags&&536870912&s.flags&&rf(e,a).setDirty(),a+=s.childCount}}function Vy(e,t){var n=rf(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=Uy(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=tf(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Uy(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var a=t.query.bindings,s=!1,c=0;c<a.length;c++){var u=a[c],l=void 0;switch(u.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[u.propName]=l}s&&n.notifyOnChanges()}}function Uy(e,t,n,r,i){for(var o=t;o<=n;o++){var a=e.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(By(e,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var c=ef(e,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Uy(e,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var u=c.viewContainer._embeddedViews,l=0;l<u.length;l++){var h=u[l],f=_f(h);f&&f===c&&Uy(h,0,h.def.nodes.length-1,r,i)}var d=c.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];Uy(v,0,v.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function By(e,t,n){if(null!=n)switch(n){case 1:return ef(e,t.nodeIndex).renderElement;case 0:return new mh(ef(e,t.nodeIndex).renderElement);case 2:return ef(e,t.nodeIndex).template;case 3:return ef(e,t.nodeIndex).viewContainer;case 4:return tf(e,t.nodeIndex).instance}}function Gy(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Hy(e,t,n){var r=Pf(e,t,n);r&&Rf(e,n.ngContent.index,1,r,null,void 0)}function zy(e,t){return Yy(128,e,Ie(t+1))}function qy(e,t){return Yy(32,e,Ie(t))}function Wy(e,t){for(var n=Object.keys(t),r=n.length,i=[],o=0;o<r;o++)i.push(n[o]);return Yy(64,e,i)}function Yy(e,t,n){for(var r=[],i=0;i<n.length;i++){var o=n[i];r.push({flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Lf(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Ky(e,t,n){for(var r=[],i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Qy(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=Pf(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function Xy(e,t){return(null!=e?e.toString():"")+t.suffix}function Jy(e,t,n,r){for(var i=0,o=0,a=0,s=0,c=0,u=null,l=null,h=!1,f=!1,d=null,p=0;p<t.length;p++){var v=t[p];if(v.nodeIndex=p,v.parent=u,v.bindingIndex=i,v.outputIndex=o,v.renderParent=l,a|=v.flags,c|=v.matchedQueryIds,v.element){var m=v.element;m.publicProviders=u?u.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,v.element.template&&(c|=v.element.template.nodeMatchedQueries)}if($y(u,v,t.length),i+=v.bindings.length,o+=v.outputs.length,!l&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var g=0!=(32768&v.flags);0==(8192&v.flags)||g?u.element.publicProviders[uf(v.provider.token)]=v:(f||(f=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[uf(v.provider.token)]=v),g&&(u.element.componentProvider=v)}if(u?(u.childFlags|=v.flags,u.directChildFlags|=v.flags,u.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(u.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)u=v,Zy(v)||(l=v);else for(;u&&p===u.nodeIndex+u.childCount;){var y=u.parent;y&&(y.childFlags|=u.childFlags,y.childMatchedQueries|=u.childMatchedQueries),l=(u=y)&&Zy(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:c,flags:e,nodes:t,updateDirectives:n||sf,updateRenderer:r||sf,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function Zy(e){return 0!=(1&e.flags)&&null===e.element.name}function $y(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function e_(e,t,n,r){var i=r_(e.root,e.renderer,e,t,n);return i_(i,e.component,r),o_(i),i}function t_(e,t,n){var r=r_(e,e.renderer,null,null,t);return i_(r,n,n),o_(r),r}function n_(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,r_(e.root,i,e,t.element.componentProvider,n)}function r_(e,t,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function i_(e,t,n){e.component=t,e.context=n}function o_(e){var t;wf(e)&&(t=ef(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(af.setCurrentNode(e,i),201347067&o.flags){case 1:var s=Ry(e,t,o),c=void 0;if(33554432&o.flags){var u=Tf(o.element.componentView);c=af.createComponentView(e,o,u,s)}jy(e,c,o,s),a={renderElement:s,componentView:c,viewContainer:null,template:o.element.template?ld(e,o):void 0},16777216&o.flags&&(a.viewContainer=ad(e,o,a));break;case 2:a=Qy(e,t,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Pd(e,o)});break;case 16:a={instance:xd(e,o)};break;case 16384:(a=r[i])||(a={instance:Td(e,o)}),32768&o.flags&&i_(ef(e,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Iv;break;case 8:Hy(e,t,o),a=void 0}r[i]=a}p_(e,d_.CreateViewNodes),y_(e,201326592,268435456,0)}function a_(e){u_(e),af.updateDirectives(e,1),v_(e,d_.CheckNoChanges),af.updateRenderer(e,1),p_(e,d_.CheckNoChanges),e.state&=-97}function s_(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Jh(e,0,256),u_(e),af.updateDirectives(e,0),v_(e,d_.CheckAndUpdate),y_(e,67108864,536870912,0);var t=Jh(e,256,512);Ld(e,2097152|(t?1048576:0)),af.updateRenderer(e,0),p_(e,d_.CheckAndUpdate),y_(e,134217728,536870912,0),Ld(e,8388608|((t=Jh(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Jh(e,768,1024)}function c_(e,t,n,r,i,o,a,s,c,u,l,h,f){return 0===n?function(e,t,n,r,i,o,a,s,c,u,l,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,a,s,c,u,l,h){var f=t.bindings.length,d=!1;return f>0&&Ny(e,t,0,n)&&(d=!0),f>1&&Ny(e,t,1,r)&&(d=!0),f>2&&Ny(e,t,2,i)&&(d=!0),f>3&&Ny(e,t,3,o)&&(d=!0),f>4&&Ny(e,t,4,a)&&(d=!0),f>5&&Ny(e,t,5,s)&&(d=!0),f>6&&Ny(e,t,6,c)&&(d=!0),f>7&&Ny(e,t,7,u)&&(d=!0),f>8&&Ny(e,t,8,l)&&(d=!0),f>9&&Ny(e,t,9,h)&&(d=!0),d}(e,t,n,r,i,o,a,s,c,u,l,h);case 2:return function(e,t,n,r,i,o,a,s,c,u,l,h){var f=!1,d=t.bindings,p=d.length;if(p>0&&pf(e,t,0,n)&&(f=!0),p>1&&pf(e,t,1,r)&&(f=!0),p>2&&pf(e,t,2,i)&&(f=!0),p>3&&pf(e,t,3,o)&&(f=!0),p>4&&pf(e,t,4,a)&&(f=!0),p>5&&pf(e,t,5,s)&&(f=!0),p>6&&pf(e,t,6,c)&&(f=!0),p>7&&pf(e,t,7,u)&&(f=!0),p>8&&pf(e,t,8,l)&&(f=!0),p>9&&pf(e,t,9,h)&&(f=!0),f){var v=t.text.prefix;p>0&&(v+=Xy(n,d[0])),p>1&&(v+=Xy(r,d[1])),p>2&&(v+=Xy(i,d[2])),p>3&&(v+=Xy(o,d[3])),p>4&&(v+=Xy(a,d[4])),p>5&&(v+=Xy(s,d[5])),p>6&&(v+=Xy(c,d[6])),p>7&&(v+=Xy(u,d[7])),p>8&&(v+=Xy(l,d[8])),p>9&&(v+=Xy(h,d[9]));var m=$h(e,t.nodeIndex).renderText;e.renderer.setValue(m,v)}return f}(e,t,n,r,i,o,a,s,c,u,l,h);case 16384:return function(e,t,n,r,i,o,a,s,c,u,l,h){var f=tf(e,t.nodeIndex),d=f.instance,p=!1,v=void 0,m=t.bindings.length;return m>0&&df(e,t,0,n)&&(p=!0,v=Fd(e,f,t,0,n,v)),m>1&&df(e,t,1,r)&&(p=!0,v=Fd(e,f,t,1,r,v)),m>2&&df(e,t,2,i)&&(p=!0,v=Fd(e,f,t,2,i,v)),m>3&&df(e,t,3,o)&&(p=!0,v=Fd(e,f,t,3,o,v)),m>4&&df(e,t,4,a)&&(p=!0,v=Fd(e,f,t,4,a,v)),m>5&&df(e,t,5,s)&&(p=!0,v=Fd(e,f,t,5,s,v)),m>6&&df(e,t,6,c)&&(p=!0,v=Fd(e,f,t,6,c,v)),m>7&&df(e,t,7,u)&&(p=!0,v=Fd(e,f,t,7,u,v)),m>8&&df(e,t,8,l)&&(p=!0,v=Fd(e,f,t,8,l,v)),m>9&&df(e,t,9,h)&&(p=!0,v=Fd(e,f,t,9,h,v)),v&&d.ngOnChanges(v),65536&t.flags&&Zh(e,256,t.nodeIndex)&&d.ngOnInit(),262144&t.flags&&d.ngDoCheck(),p}(e,t,n,r,i,o,a,s,c,u,l,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,a,s,c,u,l,h){var f=t.bindings,d=!1,p=f.length;if(p>0&&pf(e,t,0,n)&&(d=!0),p>1&&pf(e,t,1,r)&&(d=!0),p>2&&pf(e,t,2,i)&&(d=!0),p>3&&pf(e,t,3,o)&&(d=!0),p>4&&pf(e,t,4,a)&&(d=!0),p>5&&pf(e,t,5,s)&&(d=!0),p>6&&pf(e,t,6,c)&&(d=!0),p>7&&pf(e,t,7,u)&&(d=!0),p>8&&pf(e,t,8,l)&&(d=!0),p>9&&pf(e,t,9,h)&&(d=!0),d){var v,m=nf(e,t.nodeIndex);switch(201347067&t.flags){case 32:v=[],p>0&&v.push(n),p>1&&v.push(r),p>2&&v.push(i),p>3&&v.push(o),p>4&&v.push(a),p>5&&v.push(s),p>6&&v.push(c),p>7&&v.push(u),p>8&&v.push(l),p>9&&v.push(h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=a),p>5&&(v[f[5].name]=s),p>6&&(v[f[6].name]=c),p>7&&(v[f[7].name]=u),p>8&&(v[f[8].name]=l),p>9&&(v[f[9].name]=h);break;case 128:var g=n;switch(p){case 1:v=g.transform(n);break;case 2:v=g.transform(r);break;case 3:v=g.transform(r,i);break;case 4:v=g.transform(r,i,o);break;case 5:v=g.transform(r,i,o,a);break;case 6:v=g.transform(r,i,o,a,s);break;case 7:v=g.transform(r,i,o,a,s,c);break;case 8:v=g.transform(r,i,o,a,s,c,u);break;case 9:v=g.transform(r,i,o,a,s,c,u,l);break;case 10:v=g.transform(r,i,o,a,s,c,u,l,h)}}m.value=v}return d}(e,t,n,r,i,o,a,s,c,u,l,h);default:throw"unreachable"}}(e,t,r,i,o,a,s,c,u,l,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)Ny(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)pf(e,t,o,n[o])&&(i=!0);if(i){for(var a="",s=0;s<n.length;s++)a+=Xy(n[s],r[s]);a=t.text.prefix+a;var c=$h(e,t.nodeIndex).renderText;e.renderer.setValue(c,a)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=tf(e,t.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)df(e,t,s,n[s])&&(o=!0,a=Fd(e,r,t,s,n[s],a));return a&&i.ngOnChanges(a),65536&t.flags&&Zh(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)pf(e,t,o,n[o])&&(i=!0);if(i){var a,s=nf(e,t.nodeIndex);switch(201347067&t.flags){case 32:a=n;break;case 64:a={};for(var c=0;c<n.length;c++)a[r[c].name]=n[c];break;case 128:var u=n[0],l=n.slice(1);a=u.transform.apply(u,_toConsumableArray2(l))}s.value=a}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function u_(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=ef(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,gf(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function l_(e,t,n,r,i,o,a,s,c,u,l,h,f){return 0===n?function(e,t,n,r,i,o,a,s,c,u,l,h){var f=t.bindings.length;f>0&&vf(e,t,0,n),f>1&&vf(e,t,1,r),f>2&&vf(e,t,2,i),f>3&&vf(e,t,3,o),f>4&&vf(e,t,4,a),f>5&&vf(e,t,5,s),f>6&&vf(e,t,6,c),f>7&&vf(e,t,7,u),f>8&&vf(e,t,8,l),f>9&&vf(e,t,9,h)}(e,t,r,i,o,a,s,c,u,l,h,f):function(e,t,n){for(var r=0;r<n.length;r++)vf(e,t,r,n[r])}(e,t,r),!1}function h_(e,t){if(rf(e,t.nodeIndex).dirty)throw Kh(af.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function f_(e){if(!(128&e.state)){if(v_(e,d_.Destroy),p_(e,d_.Destroy),Ld(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=_f(e);if(t){var n=t.template._projectedViews;n&&(Ee(n,n.indexOf(e)),af.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(ef(e,n).renderElement):2&r.flags?e.renderer.destroyNode($h(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&rf(e,n).destroy()}}(e),wf(e)&&e.renderer.destroy(),e.state|=128}}var d_=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function p_(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?m_(ef(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function v_(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=ef(e,r).viewContainer._embeddedViews,a=0;a<o.length;a++)m_(o[a],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function m_(e,t){var n=e.state;switch(t){case d_.CheckNoChanges:0==(128&n)&&(12==(12&n)?a_(e):64&n&&g_(e,d_.CheckNoChangesProjectedViews));break;case d_.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?a_(e):64&n&&g_(e,t));break;case d_.CheckAndUpdate:0==(128&n)&&(12==(12&n)?s_(e):64&n&&g_(e,d_.CheckAndUpdateProjectedViews));break;case d_.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?s_(e):64&n&&g_(e,t));break;case d_.Destroy:f_(e);break;case d_.CreateViewNodes:o_(e)}}function g_(e,t){v_(e,t),p_(e,t)}function y_(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var a=e.def.nodes[o];if(a.flags&t&&a.flags&n)switch(af.setCurrentNode(e,a.nodeIndex),r){case 0:Vy(e,a);break;case 1:h_(e,a)}a.childFlags&t&&a.childFlags&n||(o+=a.childCount)}}var __=!1;function b_(){if(!__){__=!0;var e=mr()?{setCurrentNode:H_,createRootView:k_,createEmbeddedView:S_,createComponentView:E_,createNgModuleRef:I_,overrideProvider:T_,overrideComponentView:A_,clearOverrides:D_,checkAndUpdateView:N_,checkNoChangesView:F_,destroyView:L_,createDebugContext:function(e,t){return new J_(e,t)},handleEvent:z_,updateDirectives:q_,updateRenderer:W_}:{setCurrentNode:function(){},createRootView:C_,createEmbeddedView:e_,createComponentView:n_,createNgModuleRef:vd,overrideProvider:sf,overrideComponentView:sf,clearOverrides:sf,checkAndUpdateView:s_,checkNoChangesView:a_,destroyView:f_,createDebugContext:function(e,t){return new J_(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?j_:M_,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?j_:M_,e)}};af.setCurrentNode=e.setCurrentNode,af.createRootView=e.createRootView,af.createEmbeddedView=e.createEmbeddedView,af.createComponentView=e.createComponentView,af.createNgModuleRef=e.createNgModuleRef,af.overrideProvider=e.overrideProvider,af.overrideComponentView=e.overrideComponentView,af.clearOverrides=e.clearOverrides,af.checkAndUpdateView=e.checkAndUpdateView,af.checkNoChangesView=e.checkNoChangesView,af.destroyView=e.destroyView,af.resolveDep=Md,af.createDebugContext=e.createDebugContext,af.handleEvent=e.handleEvent,af.updateDirectives=e.updateDirectives,af.updateRenderer=e.updateRenderer,af.dirtyParentQueries=Ly}}function C_(e,t,n,r,i,o){var a=i.injector.get(_h);return t_(w_(e,i,a,t,n),r,o)}function k_(e,t,n,r,i,o){var a=i.injector.get(_h),s=w_(e,i,new tb(a),t,n),c=R_(r);return $_(G_.create,t_,null,[s,c,o])}function w_(e,t,n,r,i){var o=t.injector.get(Sh),a=t.injector.get(Jn),s=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function S_(e,t,n,r){var i=R_(n);return $_(G_.create,e_,null,[e,t,i,r])}function E_(e,t,n,r){return n=x_.get(t.element.componentProvider.provider.token)||R_(n),$_(G_.create,n_,null,[e,t,n,r])}function I_(e,t,n,r){return vd(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===O_.size||(e.providers.forEach((function(e){var r=O_.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){P_.forEach((function(r,i){P(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))}))),{hasOverrides:t,hasDeprecatedOverrides:n}}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=O_.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=Of(i.deps),n.value=i.value)}if(P_.size>0){var o=new Set(e.modules);P_.forEach((function(t,n){if(o.has(P(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:Of(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[uf(n)]=i}}))}}(e=e.factory((function(){return sf}))),e):e}(r))}var O_=new Map,P_=new Map,x_=new Map;function T_(e){var t;O_.set(e.token,e),"function"==typeof e.token&&(t=P(e.token))&&"function"==typeof t.providedIn&&P_.set(e.token,e)}function A_(e,t){var n=Tf(rd(t)),r=Tf(n.nodes[0].element.componentView);x_.set(e,r)}function D_(){O_.clear(),P_.clear(),x_.clear()}function R_(e){if(0===O_.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&O_.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return sf}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=O_.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Of(o.deps),i.value=o.value)}}}}function j_(e,t,n,r,i,o,a,s,c,u,l,h,f){var d=e.def.nodes[t];return c_(e,d,n,r,i,o,a,s,c,u,l,h,f),224&d.flags?nf(e,t).value:void 0}function M_(e,t,n,r,i,o,a,s,c,u,l,h,f){var d=e.def.nodes[t];return l_(e,d,n,r,i,o,a,s,c,u,l,h,f),224&d.flags?nf(e,t).value:void 0}function N_(e){return $_(G_.detectChanges,s_,null,[e])}function F_(e){return $_(G_.checkNoChanges,a_,null,[e])}function L_(e){return $_(G_.destroy,f_,null,[e])}var V_,U_,B_,G_=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function H_(e,t){U_=e,B_=t}function z_(e,t,n,r){return H_(e,t),$_(G_.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function q_(e,t){if(128&e.state)throw Xh(G_[V_]);return H_(e,Q_(e,0)),e.def.updateDirectives((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===t?Y_(e,i,r,a):K_(e,i,r,a),16384&i.flags&&H_(e,Q_(e,n)),224&i.flags?nf(e,i.nodeIndex).value:void 0}),e)}function W_(e,t){if(128&e.state)throw Xh(G_[V_]);return H_(e,X_(e,0)),e.def.updateRenderer((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===t?Y_(e,i,r,a):K_(e,i,r,a),3&i.flags&&H_(e,X_(e,n)),224&i.flags?nf(e,i.nodeIndex).value:void 0}),e)}function Y_(e,t,n,r){if(c_.apply(void 0,[e,t,n].concat(_toConsumableArray2(r)))){var i=1===n?r[0]:r;if(16384&t.flags){for(var o={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],c=i[a];8&s.flags&&(o[ti(s.nonMinifiedName)]=ri(c))}var u=t.parent,l=ef(e,u.nodeIndex).renderElement;if(u.element.name)for(var h in o){var f=o[h];null!=f?e.renderer.setAttribute(l,h,f):e.renderer.removeAttribute(l,h)}else e.renderer.setValue(l,"bindings=".concat(JSON.stringify(o,null,2)))}}}function K_(e,t,n,r){l_.apply(void 0,[e,t,n].concat(_toConsumableArray2(r)))}function Q_(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function X_(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var J_=function(){function e(t,n){_classCallCheck2(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,i=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=bf(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass2(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var a=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(i,o),s=-1;i.factory((function(){var t;return++s===a?(t=e.error).bind.apply(t,[e].concat(n)):sf})),s<a&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return ef(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return fd(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){Z_(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Z_(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!wf(e);)e=e.parent;return e.parent?ef(e.parent,bf(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Cf(this.view,this.nodeDef):Cf(this.elView,this.elDef)}}]),e}();function Z_(e,t,n){for(var r in t.references)n[r]=By(e,t,t.references[r])}function $_(e,t,n,r){var i,o,a=V_,s=U_,c=B_;try{V_=e;var u=t.apply(n,r);return U_=s,B_=c,V_=a,u}catch(l){if(Kn(l)||!U_)throw l;throw i=l,o=eb(),i instanceof Error||(i=new Error(i.toString())),Qh(i,o),i}}function eb(){return U_?new J_(U_,B_):null}var tb=function(){function e(t){_classCallCheck2(this,e),this.delegate=t}return _createClass2(e,[{key:"createRenderer",value:function(e,t){return new nb(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),nb=function(){function e(t){_classCallCheck2(this,e),this.delegate=t,this.debugContextFactory=eb,this.data=this.delegate.data}return _createClass2(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=gy(e);!function(e){vy.delete(e.nativeNode)}(t),t instanceof iy&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new oy(n,null,r);i.name=e,by(i)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&by(new iy(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&by(new iy(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=gy(e),r=gy(t);n&&r&&n instanceof oy&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=gy(e),i=gy(t),o=gy(n);r&&i&&r instanceof oy&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=gy(e),r=gy(t);n&&r&&n instanceof oy&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=eb();return r&&by(new oy(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var i=gy(e);i&&i instanceof oy&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=gy(e);r&&r instanceof oy&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=gy(e);n&&n instanceof oy&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=gy(e);n&&n instanceof oy&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var i=gy(e);i&&i instanceof oy&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=gy(e);r&&r instanceof oy&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=gy(e);r&&r instanceof oy&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=gy(e);r&&r.listeners.push(new ry(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();function rb(e){return b_(),af.overrideProvider(e)}function ib(e,t){return b_(),af.overrideComponentView(e,t)}function ob(){return b_(),af.clearOverrides()}function ab(e,t,n){return new sb(e,t,n)}var sb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this)).moduleType=e,o._bootstrapComponents=r,o._ngModuleDefFactory=i,o}return _createClass2(n,[{key:"create",value:function(e){b_();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,scope:e.scope,providers:t,modules:n,providersByKey:r}}(Tf(this._ngModuleDefFactory));return af.createNgModuleRef(this.moduleType,e||ts.NULL,this._bootstrapComponents,t)}}]),n}(be)},"9/Hz":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=((r=t.Direction||{}).Clockwise="Clockwise",r.CounterClockwise="CounterClockwise",r)},"9b/N":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return h}));var r=n("8LU1"),i=n("8Y7J"),o=n("HDdC"),a=n("XNiG"),s=n("Kj3r"),c=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"create",value:function(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e}(),u=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._mutationObserverFactory=t,this._observedElements=new Map}return _createClass2(e,[{key:"ngOnDestroy",value:function(){var e=this;this._observedElements.forEach((function(t,n){return e._cleanupObserver(n)}))}},{key:"observe",value:function(e){var t=this,n=Object(r.e)(e);return new o.a((function(e){var r=t._observeElement(n).subscribe(e);return function(){r.unsubscribe(),t._unobserveElement(n)}}))}},{key:"_observeElement",value:function(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{var t=new a.a,n=this._mutationObserverFactory.create((function(e){return t.next(e)}));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}},{key:"_unobserveElement",value:function(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}},{key:"_cleanupObserver",value:function(e){if(this._observedElements.has(e)){var t=this._observedElements.get(e),n=t.observer,r=t.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](c))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(c))},token:e,providedIn:"root"}),e}(),l=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._contentObserver=t,this._elementRef=n,this._ngZone=r,this.event=new i.EventEmitter,this._disabled=!1,this._currentSubscription=null}return _createClass2(e,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var e=this;this._unsubscribe();var t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){e._currentSubscription=(e.debounce?t.pipe(Object(s.a)(e.debounce)):t).subscribe(e.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Object(r.c)(e),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(e){this._debounce=Object(r.f)(e),this._subscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](u),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.NgZone))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e}(),h=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[c]}),e}()},"9gLZ":function(e,t,n){"use strict";n.r(t),n.d(t,"BidiModule",(function(){return u})),n.d(t,"DIR_DOCUMENT",(function(){return o})),n.d(t,"Dir",(function(){return c})),n.d(t,"Directionality",(function(){return s})),n.d(t,"\u0275angular_material_src_cdk_bidi_bidi_a",(function(){return a}));var r=n("8Y7J"),i=n("SVse"),o=new r.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:a});function a(){return Object(r.inject)(i.DOCUMENT)}var s=function(){var e=function(){function e(t){if(_classCallCheck2(this,e),this.value="ltr",this.change=new r.EventEmitter,t){var n=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](o,8))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(r["\u0275\u0275inject"])(o,8))},token:e,providedIn:"root"}),e}(),c=function(){var e=function(){function e(){_classCallCheck2(this,e),this._dir="ltr",this._isInitialized=!1,this.change=new r.EventEmitter}return _createClass2(e,[{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){this.change.complete()}},{key:"dir",get:function(){return this._dir},set:function(e){var t=this._dir,n=e?e.toLowerCase():e;this._rawDir=e,this._dir="ltr"===n||"rtl"===n?n:"ltr",t!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}},{key:"value",get:function(){return this.dir}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","dir",""]],hostVars:1,hostBindings:function(e,t){2&e&&r["\u0275\u0275attribute"]("dir",t._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[r["\u0275\u0275ProvidersFeature"]([{provide:s,useExisting:e}])]}),e}(),u=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e}()},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},AYtS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("DnmP"),o=n("G+XK"),a=n("vxN6"),s=n("AytR"),c=r.__importStar(n("8Y7J")),u=r.__importStar(n("3G0t")),l=function(){function e(t){_classCallCheck2(this,e),this.localStorageService=t,this.sounds=[],this.initSounds()}return _createClass2(e,[{key:"initSounds",value:function(){var e=this;Object.keys(i.SoundEffect).forEach((function(t){e.sounds.push(new Audio("".concat(s.environment.audioPath).concat(i.SoundEffect[t])))})),this.sounds.forEach((function(t){t.muted=!e.hasAudioEffects}))}},{key:"getSound",value:function(e){return this.sounds.find((function(t){return t.src.includes(e)}))}},{key:"playSound",value:function(e){var t=this.getSound(e)||new Audio("".concat(s.environment.audioPath).concat(e));t.paused&&!t.currentTime||setTimeout((function(){t.pause(),t.currentTime=0})),setTimeout((function(){t.play(),console.log(">>> AUDIO: playing sound")}),150)}},{key:"toggleAudioEffects",value:function(e){this.localStorageService.set(a.StorageKey.AudioEffects,e),this.sounds.forEach((function(t){t.muted=!e}))}},{key:"hasAudioEffects",get:function(){var e=this.localStorageService.get(a.StorageKey.AudioEffects);return!!o.isNil(e)||e}}]),e}();t.AudioHelpers=l,l.\u0275fac=function(e){return new(e||l)(c.\u0275\u0275inject(u.LocalStorageService))},l.\u0275prov=c.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})},AytR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("p8tn");t.environment={production:!0,firebase:{apiKey:"AIzaSyA2-C-ykhmR1QulgG2RSidsBbqMgW_PjHU",authDomain:"gamers-website.firebaseapp.com",databaseURL:"https://gamers-website.firebaseio.com",projectId:"gamers-website",storageBucket:"gamers-website.appspot.com",messagingSenderId:"934983022687",appId:"1:934983022687:web:d7e995978057c10bfcc3ea"},peerjs:{debug:r.DebugLevel.ErrorsAndWarnings,host:"peer.gamers.org.ua",port:443,path:"/peer",config:{iceServers:[{url:"stun:global.stun.twilio.com:3478?transport=udp",urls:"stun:global.stun.twilio.com:3478?transport=udp"},{url:"turn:global.turn.twilio.com:3478?transport=udp",username:"6da13fcac96ea1864377ee0c3cdc038a96397ac8ccebb533e1de55558479ab3b",urls:"turn:global.turn.twilio.com:3478?transport=udp",credential:"Wm0f9CxvFPUrbOhlhX+fS10NLdrpX3x6FqFptmmHf80="},{url:"turn:global.turn.twilio.com:3478?transport=tcp",username:"6da13fcac96ea1864377ee0c3cdc038a96397ac8ccebb533e1de55558479ab3b",urls:"turn:global.turn.twilio.com:3478?transport=tcp",credential:"Wm0f9CxvFPUrbOhlhX+fS10NLdrpX3x6FqFptmmHf80="},{url:"turn:global.turn.twilio.com:443?transport=tcp",username:"6da13fcac96ea1864377ee0c3cdc038a96397ac8ccebb533e1de55558479ab3b",urls:"turn:global.turn.twilio.com:443?transport=tcp",credential:"Wm0f9CxvFPUrbOhlhX+fS10NLdrpX3x6FqFptmmHf80="}]}},domain:"gamers.org.ua",audioPath:"./assets/audio/"}},B5dI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("s7LF"),o=n("U0EP"),a=n("DpmD"),s=r.__importStar(n("8Y7J")),c=r.__importStar(n("s7LF")),u=r.__importStar(n("iELJ")),l=r.__importStar(n("GNJl")),h=r.__importStar(n("iInd")),f=r.__importStar(n("TSSN")),d=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.formBuilder=t,this.dialog=n,this.tokenService=r,this.router=i}return _createClass2(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({email:[null,[i.Validators.required,i.Validators.email]],password:[null,[i.Validators.required]]})}},{key:"signIn",value:function(){var e=this;if(this.form.valid){var t=new o.SignIn(this.form.getRawValue());this.tokenService.signIn(t).subscribe((function(){return e.router.navigate(["account"])}))}}},{key:"openForgotPasswordModal",value:function(){this.dialog.open(a.ForgotPasswordDialogComponent).afterClosed().subscribe((function(e){return console.log(e)}))}}]),e}();t.SignInComponent=d,d.\u0275fac=function(e){return new(e||d)(s.\u0275\u0275directiveInject(c.FormBuilder),s.\u0275\u0275directiveInject(u.MatDialog),s.\u0275\u0275directiveInject(l.TokenService),s.\u0275\u0275directiveInject(h.Router))},d.\u0275cmp=s.\u0275\u0275defineComponent({type:d,selectors:[["gw-sign-in"]],decls:14,vars:12,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-stretch","h-100","m-auto","gw-form",3,"formGroup"],[1,"form-group","m-2"],["for","email","translate","i18n.COMMON.EMAIL_ADDRESS",1,"light"],["formControlName","email","type","email","id","email",1,"form-control",3,"placeholder"],["for","password","translate","i18n.COMMON.PASSWORD",1,"light"],["formControlName","password","type","password","id","password",1,"form-control",3,"placeholder"],[1,"d-flex"],["tabindex","0","translate","i18n.COMMON.SIGN_IN",1,"btn","btn-primary","m-2","flex-grow-1",3,"click"],["tabindex","0",1,"btn","btn-link","light","light","m-2",3,"click"]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275elementStart(1,"div",1),s.\u0275\u0275element(2,"label",2),s.\u0275\u0275element(3,"input",3),s.\u0275\u0275pipe(4,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"div",1),s.\u0275\u0275element(6,"label",4),s.\u0275\u0275element(7,"input",5),s.\u0275\u0275pipe(8,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"div",6),s.\u0275\u0275elementStart(10,"div",7),s.\u0275\u0275listener("click",(function(){return t.signIn()})),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(11,"div",8),s.\u0275\u0275listener("click",(function(){return t.openForgotPasswordModal()})),s.\u0275\u0275text(12),s.\u0275\u0275pipe(13,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275property("formGroup",t.form),s.\u0275\u0275advance(3),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(4,6,"i18n.PLACEHOLDERS.EMAIL")),s.\u0275\u0275advance(4),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(8,8,"i18n.PLACEHOLDERS.PASSWORD")),s.\u0275\u0275advance(3),s.\u0275\u0275classProp("disabled",!t.form.valid),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(13,10,"i18n.COMMON.FORGOT_PASSWORD"),"? "))},directives:[c.NgControlStatusGroup,c.FormGroupDirective,f.TranslateDirective,c.DefaultValueAccessor,c.NgControlStatus,c.FormControlName],pipes:[f.TranslatePipe],styles:[""]})},BFxc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function a(e){return function(t){return 0===e?Object(o.b)():t.lift(new s(e))}}var s=function(){function e(t){if(_classCallCheck2(this,e),this.total=t,this.total<0)throw new i.a}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.total))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass2(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(r.a)},BGUo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PeerData=function(){return function e(t){_classCallCheck2(this,e),this.activeStreams=[],this.activeCalls=[],Object.assign(this,t)}}()},BPRl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("ZnGb"),a=n("4k7s"),s=n("VXtK"),c=n("3u7H"),u=n("g0WT"),l=n("PCNd"),h=r.__importStar(n("8Y7J")),f=r.__importStar(n("SVse")),d=r.__importStar(n("s7LF")),p=r.__importStar(n("iELJ")),v=r.__importStar(n("9gLZ")),m=r.__importStar(n("Dxy4")),g=r.__importStar(n("rJgo")),y=r.__importStar(n("Tj54")),_=r.__importStar(n("pMoy")),b=r.__importStar(n("OaSA")),C=r.__importStar(n("pu8Q")),k=r.__importStar(n("5QHs")),w=r.__importStar(n("LUZP")),S=r.__importStar(n("mPVK")),E=r.__importStar(n("mnSs")),I=r.__importStar(n("TSSN")),O=r.__importStar(n("q3mk")),P=r.__importStar(n("6z/O")),x=r.__importStar(n("7ueh")),T=r.__importStar(n("DG6c")),A=r.__importStar(n("PLoC")),D=r.__importStar(n("iInd")),R=function e(){_classCallCheck2(this,e)};t.NechtoModule=R,R.\u0275mod=h.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=h.\u0275\u0275defineInjector({factory:function(e){return new(e||R)},imports:[[i.CommonModule,l.SharedModule,o.NechtoRoutingModule]]}),h.\u0275\u0275setComponentScope(s.NechtoPlayerComponent,[f.NgClass,f.NgComponentOutlet,f.NgForOf,f.NgIf,f.NgTemplateOutlet,f.NgStyle,f.NgSwitch,f.NgSwitchCase,f.NgSwitchDefault,f.NgPlural,f.NgPluralCase,d.\u0275angular_packages_forms_forms_y,d.NgSelectOption,d.\u0275angular_packages_forms_forms_x,d.DefaultValueAccessor,d.NumberValueAccessor,d.RangeValueAccessor,d.CheckboxControlValueAccessor,d.SelectControlValueAccessor,d.SelectMultipleControlValueAccessor,d.RadioControlValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.RequiredValidator,d.MinLengthValidator,d.MaxLengthValidator,d.PatternValidator,d.CheckboxRequiredValidator,d.EmailValidator,d.NgModel,d.NgModelGroup,d.NgForm,d.FormControlDirective,d.FormGroupDirective,d.FormControlName,d.FormGroupName,d.FormArrayName,p.MatDialogContainer,p.MatDialogClose,p.MatDialogTitle,p.MatDialogContent,p.MatDialogActions,v.Dir,m.MatButton,m.MatAnchor,g._MatMenu,g.MatMenuItem,g.MatMenuTrigger,g.MatMenuContent,y.MatIcon,_.MatCheckbox,_.MatCheckboxRequiredValidator,b.MatTable,b.MatHeaderCellDef,b.MatHeaderRowDef,b.MatColumnDef,b.MatCellDef,b.MatRowDef,b.MatFooterCellDef,b.MatFooterRowDef,b.MatHeaderCell,b.MatCell,b.MatFooterCell,b.MatHeaderRow,b.MatRow,b.MatFooterRow,b.MatTextColumn,C.MatProgressSpinner,C.MatSpinner,k.MatPaginator,w.MatSort,w.MatSortHeader,S.MatSlider,E.TooltipDirective,I.TranslateDirective,O.GameRoomsComponent,P.GameInfoComponent,x.GameLobbyComponent,T.ChooseUsernameDialogComponent,A.DevDialogComponent,D.RouterOutlet,D.RouterLink,D.RouterLinkWithHref,D.RouterLinkActive,D.\u0275angular_packages_router_router_l,a.NechtoComponent,s.NechtoPlayerComponent,c.NechtoCardComponent,u.NechtoTableComponent],[f.AsyncPipe,f.UpperCasePipe,f.LowerCasePipe,f.JsonPipe,f.SlicePipe,f.DecimalPipe,f.PercentPipe,f.TitleCasePipe,f.CurrencyPipe,f.DatePipe,f.I18nPluralPipe,f.I18nSelectPipe,f.KeyValuePipe,I.TranslatePipe]),h.\u0275\u0275setComponentScope(u.NechtoTableComponent,[f.NgClass,f.NgComponentOutlet,f.NgForOf,f.NgIf,f.NgTemplateOutlet,f.NgStyle,f.NgSwitch,f.NgSwitchCase,f.NgSwitchDefault,f.NgPlural,f.NgPluralCase,d.\u0275angular_packages_forms_forms_y,d.NgSelectOption,d.\u0275angular_packages_forms_forms_x,d.DefaultValueAccessor,d.NumberValueAccessor,d.RangeValueAccessor,d.CheckboxControlValueAccessor,d.SelectControlValueAccessor,d.SelectMultipleControlValueAccessor,d.RadioControlValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.RequiredValidator,d.MinLengthValidator,d.MaxLengthValidator,d.PatternValidator,d.CheckboxRequiredValidator,d.EmailValidator,d.NgModel,d.NgModelGroup,d.NgForm,d.FormControlDirective,d.FormGroupDirective,d.FormControlName,d.FormGroupName,d.FormArrayName,p.MatDialogContainer,p.MatDialogClose,p.MatDialogTitle,p.MatDialogContent,p.MatDialogActions,v.Dir,m.MatButton,m.MatAnchor,g._MatMenu,g.MatMenuItem,g.MatMenuTrigger,g.MatMenuContent,y.MatIcon,_.MatCheckbox,_.MatCheckboxRequiredValidator,b.MatTable,b.MatHeaderCellDef,b.MatHeaderRowDef,b.MatColumnDef,b.MatCellDef,b.MatRowDef,b.MatFooterCellDef,b.MatFooterRowDef,b.MatHeaderCell,b.MatCell,b.MatFooterCell,b.MatHeaderRow,b.MatRow,b.MatFooterRow,b.MatTextColumn,C.MatProgressSpinner,C.MatSpinner,k.MatPaginator,w.MatSort,w.MatSortHeader,S.MatSlider,E.TooltipDirective,I.TranslateDirective,O.GameRoomsComponent,P.GameInfoComponent,x.GameLobbyComponent,T.ChooseUsernameDialogComponent,A.DevDialogComponent,D.RouterOutlet,D.RouterLink,D.RouterLinkWithHref,D.RouterLinkActive,D.\u0275angular_packages_router_router_l,a.NechtoComponent,s.NechtoPlayerComponent,c.NechtoCardComponent,u.NechtoTableComponent],[f.AsyncPipe,f.UpperCasePipe,f.LowerCasePipe,f.JsonPipe,f.SlicePipe,f.DecimalPipe,f.PercentPipe,f.TitleCasePipe,f.CurrencyPipe,f.DatePipe,f.I18nPluralPipe,f.I18nSelectPipe,f.KeyValuePipe,I.TranslatePipe])},BPe8:function(e,t,n){"use strict";n.r(t),n.d(t,"AngularFireAuthGuard",(function(){return p})),n.d(t,"AngularFireAuthGuardModule",(function(){return S})),n.d(t,"canActivate",(function(){return v})),n.d(t,"customClaims",(function(){return b})),n.d(t,"emailVerified",(function(){return _})),n.d(t,"hasCustomClaim",(function(){return C})),n.d(t,"idTokenResult",(function(){return y})),n.d(t,"isNotAnonymous",(function(){return g})),n.d(t,"loggedIn",(function(){return m})),n.d(t,"redirectLoggedInTo",(function(){return w})),n.d(t,"redirectUnauthorizedTo",(function(){return k}));var r=n("8Y7J"),i=n("iInd"),o=n("LRne"),a=n("HDdC"),s=n("mCNh"),c=n("IzEk"),u=n("lJxs"),l=n("pxpQ"),h=n("eIep"),f=n("UXun"),d=n("jmUF"),p=function(){var e=function e(t,r,i,s){var p=this;_classCallCheck2(this,e),this.router=s,this.canActivate=function(e,t){var n=e.data.authGuardPipe||function(){return m};return p.authState.pipe(Object(c.a)(1),n(e,t),Object(u.a)((function(e){return"boolean"==typeof e?e:p.router.createUrlTree(e)})))};var v=Object(o.a)(void 0).pipe(Object(l.b)(new d["\u0275AngularFireSchedulers"](i).outsideAngular),Object(h.a)((function(){return i.runOutsideAngular((function(){return n.e(1).then(n.bind(null,"6nsN"))}))})),Object(u.a)((function(){return Object(d["\u0275firebaseAppFactory"])(t,i,r)})),Object(u.a)((function(e){return e.auth()})),Object(f.a)({bufferSize:1,refCount:!1}));this.authState=v.pipe(Object(h.a)((function(e){return new a.a(e.onAuthStateChanged.bind(e))})))};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](d.FIREBASE_OPTIONS),r["\u0275\u0275inject"](d.FIREBASE_APP_NAME,8),r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](i.Router))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(r["\u0275\u0275inject"])(d.FIREBASE_OPTIONS),Object(r["\u0275\u0275inject"])(d.FIREBASE_APP_NAME,8),Object(r["\u0275\u0275inject"])(r.NgZone),Object(r["\u0275\u0275inject"])(i.Router))},token:e,providedIn:"any"}),e}(),v=function(e){return{canActivate:[p],data:{authGuardPipe:e}}},m=Object(u.a)((function(e){return!!e})),g=Object(u.a)((function(e){return!!e&&!e.isAnonymous})),y=Object(h.a)((function(e){return e?e.getIdTokenResult():Object(o.a)(null)})),_=Object(u.a)((function(e){return!!e&&e.emailVerified})),b=Object(s.a)(y,Object(u.a)((function(e){return e?e.claims:[]}))),C=function(e){return Object(s.a)(b,Object(u.a)((function(t){return t.hasOwnProperty(e)})))},k=function(e){return Object(s.a)(m,Object(u.a)((function(t){return t||e})))},w=function(e){return Object(s.a)(m,Object(u.a)((function(t){return t&&e||!0})))},S=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[p]}),e}()},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("SeVD"),o=n("7HRe");function a(e,t){return t?Object(o.a)(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},CkF6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("IheW"),o=n("kU1M"),a=n("AytR"),s=r.__importStar(n("8Y7J")),c=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"intercept",value:function(e,t){if(a.environment.production)return t.handle(e);var n,r=Date.now();return t.handle(e).pipe(o.tap((function(e){return n=e instanceof i.HttpResponse?"succeeded":""}),(function(e){return n="failed"})),o.finalize((function(){var t=Date.now()-r;console.log("".concat(e.method,' "').concat(e.urlWithParams,'" ').concat(n," in ").concat(t," ms."))})))}}]),e}();t.ProfilerInterceptor=c,c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=s.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac})},CtHx:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s}));var r=n("7+OI"),i=n("LRne"),o=n("XNiG");n("8Y7J");var a=function e(){_classCallCheck2(this,e)};function s(e){return e&&"function"==typeof e.connect}var c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._data=e,r}return _createClass2(n,[{key:"connect",value:function(){return Object(r.a)(this._data)?this._data:Object(i.a)(this._data)}},{key:"disconnect",value:function(){}}]),n}(a),u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck2(this,e),this._multiple=n,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new o.a,r&&r.length&&(n?r.forEach((function(e){return t._markSelected(e)})):this._markSelected(r[0]),this._selectedToEmit.length=0)}return _createClass2(e,[{key:"select",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._verifyValueAssignment(n),n.forEach((function(t){return e._markSelected(t)})),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._verifyValueAssignment(n),n.forEach((function(t){return e._unmarkSelected(t)})),this._emitChangeEvent()}},{key:"toggle",value:function(e){this.isSelected(e)?this.deselect(e):this.select(e)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(e){return this._selection.has(e)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(e){this._multiple&&this.selected&&this._selected.sort(e)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}},{key:"_unmarkSelected",value:function(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}},{key:"_unmarkAll",value:function(){var e=this;this.isEmpty()||this._selection.forEach((function(t){return e._unmarkSelected(t)}))}},{key:"_verifyValueAssignment",value:function(e){if(e.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}},{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}}]),e}()},"D/SK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("kU1M"),o=r.__importStar(n("8Y7J")),a=r.__importStar(n("lwos")),s=function(){function e(t){_classCallCheck2(this,e),this.loaderService=t}return _createClass2(e,[{key:"intercept",value:function(e,t){var n=this;return this.loaderService.addRequest(),t.handle(e).pipe(i.finalize((function(){return n.loaderService.removeRequest()})))}}]),e}();t.LoaderInterceptor=s,s.\u0275fac=function(e){return new(e||s)(o.\u0275\u0275inject(a.LoaderService))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac})},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DG6c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("s7LF"),o=r.__importStar(n("8Y7J")),a=r.__importStar(n("iELJ")),s=r.__importStar(n("TSSN")),c=r.__importStar(n("s7LF")),u=function(){function e(t){_classCallCheck2(this,e),this.dialogRef=t,this.username=new i.FormControl(null,[i.Validators.required]),this.mailSent=!1}return _createClass2(e,[{key:"submitUsername",value:function(){this.username.valid&&this.dialogRef.close(this.username.value)}}]),e}();t.ChooseUsernameDialogComponent=u,u.\u0275fac=function(e){return new(e||u)(o.\u0275\u0275directiveInject(a.MatDialogRef))},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["gw-choose-username-dialog"]],decls:8,vars:6,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-stretch","gw-form"],[1,"form-group","m-2"],["for","username","translate","i18n.PLACEHOLDERS.USERNAME"],["type","text","id","username",1,"form-control",3,"formControl","placeholder"],[1,"d-flex"],["tabindex","0","translate","i18n.COMMON.SUBMIT",1,"btn","btn-primary","m-2","flex-grow-1",3,"click","keydown.enter"],["mat-dialog-close","","tabindex","0","translate","i18n.COMMON.CANCEL",1,"btn","btn-secondary","m-2"]],template:function(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275element(2,"label",2),o.\u0275\u0275element(3,"input",3),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"div",4),o.\u0275\u0275elementStart(6,"div",5),o.\u0275\u0275listener("click",(function(){return t.submitUsername()}))("keydown.enter",(function(){return t.submitUsername()})),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(7,"button",6),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(3),o.\u0275\u0275propertyInterpolate1("placeholder","",o.\u0275\u0275pipeBind1(4,4,"i18n.PLACEHOLDERS.USERNAME"),"..."),o.\u0275\u0275property("formControl",t.username),o.\u0275\u0275advance(3),o.\u0275\u0275classProp("disabled",!t.username.valid))},directives:[s.TranslateDirective,c.DefaultValueAccessor,c.NgControlStatus,c.FormControlDirective,a.MatDialogClose],pipes:[s.TranslatePipe],styles:[""]})},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},DnmP:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SoundEffect=((r=t.SoundEffect||{}).AlertInfo="alert-info.mp3",r.AlertDanger="alert-danger.mp3",r.GameStart="game-start.mp3",r.GameEnd="game-end.mp3",r.StepStart="step-start.mp3",r.StepEnd="step-end.mp3",r.JoinRoom="join-room.mp3",r.LeaveRoom="leave-room.mp3",r)},Dpde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameRoomDto=function(){return function e(t){_classCallCheck2(this,e),this.id=null,this.name=null,this.description=null,this.game=null,this.authorId=null,this.ownerId=null,this.botManagerId=null,this.isGameMode=!1,this.isGameFinished=!1,this.hasRandomStartingPlayer=!1,this.hasCardsBasedOnQuantity=!1,this.maxQuantity=null,Object.assign(this,t)}}()},DpmD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("s7LF"),o=r.__importStar(n("8Y7J")),a=r.__importStar(n("GNJl")),s=r.__importStar(n("SVse")),c=r.__importStar(n("TSSN")),u=r.__importStar(n("s7LF")),l=r.__importStar(n("iELJ"));function h(e,t){if(1&e){var n=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275elementStart(2,"div",2),o.\u0275\u0275element(3,"label",3),o.\u0275\u0275element(4,"input",4),o.\u0275\u0275pipe(5,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"div",5),o.\u0275\u0275elementStart(7,"div",6),o.\u0275\u0275listener("click",(function(){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext().remindPassword()}))("keydown.enter",(function(){return o.\u0275\u0275restoreView(n),o.\u0275\u0275nextContext().remindPassword()})),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(8,"button",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd()}if(2&e){var r=o.\u0275\u0275nextContext();o.\u0275\u0275advance(4),o.\u0275\u0275propertyInterpolate("placeholder",o.\u0275\u0275pipeBind1(5,4,"i18n.PLACEHOLDERS.EMAIL")),o.\u0275\u0275property("formControl",r.email),o.\u0275\u0275advance(3),o.\u0275\u0275classProp("disabled",!r.email.valid)}}function f(e,t){1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275elementStart(1,"div",1),o.\u0275\u0275element(2,"div",8),o.\u0275\u0275elementStart(3,"div",5),o.\u0275\u0275element(4,"button",9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementContainerEnd())}var d=function(){function e(t){_classCallCheck2(this,e),this.tokenService=t,this.email=new i.FormControl(null,[i.Validators.required]),this.mailSent=!1}return _createClass2(e,[{key:"remindPassword",value:function(){var e=this;this.email.valid&&this.tokenService.remindPassword(this.email.value).subscribe((function(e){return e}),(function(){e.mailSent=!0}))}}]),e}();t.ForgotPasswordDialogComponent=d,d.\u0275fac=function(e){return new(e||d)(o.\u0275\u0275directiveInject(a.TokenService))},d.\u0275cmp=o.\u0275\u0275defineComponent({type:d,selectors:[["gw-forgot-password-dialog"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-stretch","gw-form"],[1,"form-group","m-2"],["for","email","translate","i18n.COMMON.EMAIL_ADDRESS"],["type","email","id","email",1,"form-control",3,"formControl","placeholder"],[1,"d-flex"],["tabindex","0","translate","i18n.COMMON.REMIND_VIA_EMAIL",1,"btn","btn-primary","m-2","flex-grow-1",3,"click","keydown.enter"],["mat-dialog-close","","tabindex","0","translate","i18n.COMMON.CANCEL",1,"btn","btn-secondary","m-2"],["role","alert","translate","i18n.NOTIFICATIONS.EMAIL_WITH_PASSWORD_SENT",1,"alert","alert-success"],["mat-dialog-close","","tabindex","0","translate","i18n.COMMON.CLOSE",1,"btn","btn-primary","m-2"]],template:function(e,t){1&e&&(o.\u0275\u0275template(0,h,9,6,"ng-container",0),o.\u0275\u0275template(1,f,5,0,"ng-container",0)),2&e&&(o.\u0275\u0275property("ngIf",!t.mailSent),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",t.mailSent))},directives:[s.NgIf,c.TranslateDirective,u.DefaultValueAccessor,u.NgControlStatus,u.FormControlDirective,l.MatDialogClose],pipes:[c.TranslatePipe],styles:[""]})},Dxpt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("FpMh"),a=n("PCNd"),s=r.__importStar(n("8Y7J")),c=function e(){_classCallCheck2(this,e)};t.InfoModule=c,c.\u0275mod=s.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=s.\u0275\u0275defineInjector({factory:function(e){return new(e||c)},imports:[[i.CommonModule,a.SharedModule,o.InfoRoutingModule]]})},Dxy4:function(e,t,n){"use strict";n.r(t),n.d(t,"MatAnchor",(function(){return f})),n.d(t,"MatButton",(function(){return h})),n.d(t,"MatButtonModule",(function(){return d}));var r=n("UhP/"),i=n("omvX"),o=n("8Y7J"),a=n("YEUz"),s=["mat-button",""],c=["*"],u=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],l=Object(r.n)(Object(r.p)(Object(r.o)((function e(t){_classCallCheck2(this,e),this._elementRef=t})))),h=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck2(this,n),(o=t.call(this,e))._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var a,s=_createForOfIteratorHelper(u);try{for(s.s();!(a=s.n()).done;){var c=a.value;o._hasHostAttributes(c)&&o._getHostElement().classList.add(c)}}catch(l){s.e(l)}finally{s.f()}return e.nativeElement.classList.add("mat-button-base"),o._focusMonitor.monitor(o._elementRef,!0),o.isRoundButton&&(o.color="accent"),o}return _createClass2(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",t=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),e,t)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.some((function(t){return e._getHostElement().hasAttribute(t)}))}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](a.e),o["\u0275\u0275directiveInject"](i.ANIMATION_MODULE_TYPE,8))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){var n;1&e&&o["\u0275\u0275viewQuery"](r.j,!0),2&e&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(e,t){2&e&&(o["\u0275\u0275attribute"]("disabled",t.disabled||null),o["\u0275\u0275classProp"]("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o["\u0275\u0275InheritDefinitionFeature"]],attrs:s,ngContentSelectors:c,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(o["\u0275\u0275projectionDef"](),o["\u0275\u0275elementStart"](0,"span",0),o["\u0275\u0275projection"](1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](2,"div",1),o["\u0275\u0275element"](3,"div",2)),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275classProp"]("mat-button-ripple-round",t.isRoundButton||t.isIconButton),o["\u0275\u0275property"]("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[r.j],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e}(),f=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,r,e,i)}return _createClass2(n,[{key:"_haltDisabledEvents",value:function(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}]),n}(h);return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.e),o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](i.ANIMATION_MODULE_TYPE,8))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){1&e&&o["\u0275\u0275listener"]("click",(function(e){return t._haltDisabledEvents(e)})),2&e&&(o["\u0275\u0275attribute"]("tabindex",t.disabled?-1:t.tabIndex||0)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString()),o["\u0275\u0275classProp"]("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o["\u0275\u0275InheritDefinitionFeature"]],attrs:s,ngContentSelectors:c,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(o["\u0275\u0275projectionDef"](),o["\u0275\u0275elementStart"](0,"span",0),o["\u0275\u0275projection"](1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](2,"div",1),o["\u0275\u0275element"](3,"div",2)),2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275classProp"]("mat-button-ripple-round",t.isRoundButton||t.isIconButton),o["\u0275\u0275property"]("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[r.j],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e}(),d=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.k,r.f],r.f]}),e}()},EQ5u:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r,i=n("XNiG"),o=n("HDdC"),a=(n("7o/Q"),n("quSY")),s=n("x+ZX"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass2(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.a.EMPTY)),e}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(o.a),u={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=c.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass2(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(i.b)},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},F8Su:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("6yn5"),o=n("qCKp"),a=n("kU1M"),s=n("cijb"),c=n("YrkI"),u=n("9/Hz"),l=n("x5lf"),h=n("gcyb"),f=n("ZPdZ"),d=n("wO2d"),p=n("sDVU"),v=r.__importStar(n("8Y7J")),m=r.__importStar(n("2kLq")),g=r.__importStar(n("TSSN")),y=r.__importStar(n("kBxi")),_=function(){function e(t,n,r){var i=this;_classCallCheck2(this,e),this.firebaseService=t,this.translateService=n,this.cardHelpers=r,this.gamesInfo$=new o.BehaviorSubject([]),this.stepsInfo$=new o.BehaviorSubject([]),this.destroy$=new o.Subject,this.firebaseService.listen(s.GameInfoDto,"games-info").pipe(a.takeUntil(this.destroy$)).subscribe((function(e){return i.gamesInfo$.next(e)})),this.firebaseService.listen(c.StepInfoDto,"steps-info").pipe(a.takeUntil(this.destroy$)).subscribe((function(e){return i.stepsInfo$.next(e)}))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"getGameInfo",value:function(e){return this.gamesInfo.find((function(t){return t.game===e}))||null}},{key:"saveStepInfo",value:function(e,t){return this.firebaseService.set(c.StepInfoDto,"steps-info",e,t)}},{key:"getStepInfo",value:function(e){return this.stepsInfo.find((function(t){return t.roomId===e}))}},{key:"deleteStepInfo",value:function(e){return this.firebaseService.delete(c.StepInfoDto,"steps-info",e)}},{key:"getFormattedStepInfo",value:function(e){var t,n,r,o;e.cardAction&&(t=this.cardHelpers.getCardActionKey(e.cardAction),n=this.translateService.instant("i18n.CARDS.ACTIONS.".concat(t.toUpperCase())),r=this.cardHelpers.getCardType(e.cardAction),o=this.translateService.instant("i18n.CARDS.PHRASES.".concat(r.toUpperCase(),"_CARD_FORM2")).toLowerCase());var a="";e.processedAt&&(a="[".concat(e.processedAt.getHours(),":","".concat(e.processedAt.getMinutes()<10?"0":"").concat(e.processedAt.getMinutes()),"]"));var s='<p class="m-0 text-left">\n            '.concat(a," ").concat(this.translateService.instant("i18n.COMMON.PLAYER")," <b>").concat(e.activeUsername,"</b>:\n        ");switch(e.stepPhase){case h.StepPhase.TakeFromDeck:s=s.concat(this.translateService.instant("i18n.STEP_INFO_MESSAGES.TOOK_CARD",{cardTypePhrase:o}));break;case h.StepPhase.FulfillHandFromDeck:s=s.concat(this.translateService.instant("i18n.STEP_INFO_MESSAGES.TOOK_EXTRA_CARD",{cardTypePhrase:o}));break;case h.StepPhase.DefenceFromHand:s=s.concat(e.otherUsername?this.translateService.instant("i18n.STEP_INFO_MESSAGES.DEFENCED_FROM_HAND_FROM",{username:e.otherUsername,cardAction:n}):this.translateService.instant("i18n.STEP_INFO_MESSAGES.DEFENCED_FROM_HAND",{cardAction:n}));break;case h.StepPhase.PlayFromHand:s=s.concat(e.otherUsername?this.translateService.instant("i18n.STEP_INFO_MESSAGES.PLAYED_FROM_HAND_AGAINST",{username:e.otherUsername,cardAction:n}):this.translateService.instant("i18n.STEP_INFO_MESSAGES.PLAYED_FROM_HAND",{cardAction:n}));break;case h.StepPhase.PlayFromTable:s=s.concat(e.otherUsername?this.translateService.instant("i18n.STEP_INFO_MESSAGES.PLAYED_FROM_TABLE_AGAINST",{username:e.otherUsername,cardAction:n}):this.translateService.instant("i18n.STEP_INFO_MESSAGES.PLAYED_FROM_TABLE",{cardAction:n}));break;case h.StepPhase.DropFromTable:s=s.concat(this.translateService.instant("i18n.STEP_INFO_MESSAGES.DROPPED_FROM_TABLE",{cardAction:n}));break;case h.StepPhase.DropFromHand:s=s.concat(this.translateService.instant("i18n.STEP_INFO_MESSAGES.DROPPED_FROM_HAND",{cardTypePhrase:o}));break;case h.StepPhase.GiveToPlayer:case h.StepPhase.GiveToPreviousPlayer:s=s.concat(e.otherUsername?this.translateService.instant("i18n.STEP_INFO_MESSAGES.GAVE_FROM_HAND_TO",{username:e.otherUsername,cardTypePhrase:o}):this.translateService.instant("i18n.STEP_INFO_MESSAGES.GAVE_FROM_HAND",{cardTypePhrase:o}));break;case h.StepPhase.ReturnToPlayer:s=s.concat(e.otherUsername?this.translateService.instant("i18n.STEP_INFO_MESSAGES.RETURNED_CARD_TO",{username:e.otherUsername,cardTypePhrase:o}):this.translateService.instant("i18n.STEP_INFO_MESSAGES.RETURNED_CARD",{cardTypePhrase:o}));break;case h.StepPhase.ShowFromHand:var c;c=this.translateService.instant(e.skipShowing?"i18n.STEP_INFO_MESSAGES.SKIPPED_SHOWING":e.showAll?"i18n.STEP_INFO_MESSAGES.SHOWED_ALL":"i18n.STEP_INFO_MESSAGES.SHOWED_INFECTION"),s=s.concat(c);break;case h.StepPhase.AcceptRequest:s=s.concat(e.otherUsername?this.translateService.instant("i18n.STEP_INFO_MESSAGES.ACCEPTED_FROM",{username:e.otherUsername}):this.translateService.instant("i18n.STEP_INFO_MESSAGES.ACCEPTED"));break;case h.StepPhase.PickFromHand:s=s.concat(this.translateService.instant("i18n.STEP_INFO_MESSAGES.PICKED_CARD",{cardTypePhrase:o}));break;case h.StepPhase.RefillDeck:s=s.concat(this.translateService.instant("i18n.STEP_INFO_MESSAGES.REFILLED_DECK"));break;default:s=s.concat(this.translateService.instant("i18n.STEP_INFO_MESSAGES.APPLIED_UNKNOWN_ACTION"))}return s=s.concat("</p>"),i.html(i.stripIndents(s))}},{key:"getFormattedGameDirection",value:function(e){return this.translateService.instant(e===u.Direction.Clockwise?"i18n.COMMON.CLOCKWISE":"i18n.COMMON.COUNTER_CLOCKWISE")}},{key:"getFormattedStepPhase",value:function(e){var t=p.pascalCaseToUnderscore(e);return this.translateService.instant("i18n.STEP_PHASES.".concat(t.toUpperCase()))}},{key:"getFormattedUserLevel",value:function(e){var t=p.pascalCaseToUnderscore(d.UserLevel[e]);return this.translateService.instant("i18n.USER_LEVELS.".concat(t.toUpperCase()))}},{key:"getFormattedLanguage",value:function(e){var t=Object.keys(l.Language).find((function(t){return l.Language[t]===e}));return this.translateService.instant("i18n.LANGUAGES.".concat(t.toUpperCase()))}},{key:"getFormattedAction",value:function(e){var t=this.cardHelpers.getCardActionKey(e);return this.translateService.instant("i18n.CARDS.ACTIONS.".concat(t.toUpperCase()))}},{key:"getFormattedUserAction",value:function(e){var t=p.pascalCaseToUnderscore(f.UserAction[e]);return this.translateService.instant("i18n.CARDS.USER_ACTIONS.".concat(t.toUpperCase()))}},{key:"gamesInfo",get:function(){return this.gamesInfo$.value}},{key:"stepsInfo",get:function(){return this.stepsInfo$.value}}]),e}();t.GameInfoService=_,_.\u0275fac=function(e){return new(e||_)(v.\u0275\u0275inject(m.FirebaseService),v.\u0275\u0275inject(g.TranslateService),v.\u0275\u0275inject(y.CardHelpers))},_.\u0275prov=v.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})},"F97/":function(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,"a",(function(){return r}))},FpMh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("iInd"),a=n("MyAK"),s=n("lMyw"),c=n("lNqK"),u=r.__importStar(n("8Y7J")),l=(r.__importStar(n("iInd")),[{path:"faq",component:s.FaqComponent,canActivate:[c.DevGuard]},{path:"contacts",component:a.ContactsComponent},{path:"**",redirectTo:"faq",pathMatch:"full"}]),h=function e(){_classCallCheck2(this,e)};t.InfoRoutingModule=h,h.\u0275mod=u.\u0275\u0275defineNgModule({type:h}),h.\u0275inj=u.\u0275\u0275defineInjector({factory:function(e){return new(e||h)},imports:[[i.CommonModule,o.RouterModule.forChild(l)],o.RouterModule]})},"G+XK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNil=function(e){return r(e)||i(e)};var r=function(e){return null===e};t.isNull=r;var i=function(e){return void 0===e};t.isUndefined=i,t.isBoolean=function(e){return"boolean"==typeof e}},GNJl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("ZPdZ"),s=r.__importStar(n("8Y7J")),c=r.__importStar(n("bUwk")),u=r.__importStar(n("f4AX")),l=r.__importStar(n("2kLq")),h=r.__importStar(n("iInd")),f=r.__importStar(n("PIpM")),d=function(){function e(t,n,r,o,a){var s=this;_classCallCheck2(this,e),this.httpService=t,this.userService=n,this.firebaseService=r,this.router=o,this.ratingService=a,this.isLogged$=new i.BehaviorSubject(!1),this.isGuest$=new i.BehaviorSubject(!0),this.subscription=new i.Subscription,this.subscription.add(this.userService.user$.subscribe((function(e){s.isLogged$.next(!!e);var t=!!e&&!!e.id&&"GUEST"===e.id.split("_")[0];s.isGuest$.next(t)})))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"signIn",value:function(e){var t=this;return this.firebaseService.signIn(e).pipe(o.switchMap((function(e){return t.ratingService.getUserRating(e.id)?i.of(e):i.forkJoin([i.of(e),t.ratingService.addXp(e.id,a.UserAction.SignIn,!1)]).pipe(o.map((function(e){var t=_slicedToArray(e,2),n=t[0];t[1];return n})))})))}},{key:"guestSignIn",value:function(e){var t=this;return this.firebaseService.signInAnonymously(e).pipe(o.switchMap((function(e){return i.forkJoin([i.of(e),t.ratingService.addXp(e.id,a.UserAction.SignIn,!1)])})),o.map((function(e){var t=_slicedToArray(e,2),n=t[0];t[1];return n})))}},{key:"signUp",value:function(e){var t=this;return this.firebaseService.signUp(e).pipe(o.switchMap((function(e){return t.ratingService.addXp(e.id,a.UserAction.SignUp,!1)})),o.switchMap((function(){return t.signIn(e.mapToSignInModel())})))}},{key:"signOut",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.firebaseService.signOut(this.isGuest).pipe(o.map((function(){t&&(e.router.navigate(["/"]),location.reload())})))}},{key:"remindPassword",value:function(e){return this.httpService.get("remindPassword")}},{key:"getFirebaseUser",value:function(){return this.firebaseService.firebaseUser}},{key:"isLogged",get:function(){return this.isLogged$.value}},{key:"isGuest",get:function(){return this.isGuest$.value}}]),e}();t.TokenService=d,d.\u0275fac=function(e){return new(e||d)(s.\u0275\u0275inject(c.HttpService),s.\u0275\u0275inject(u.UserService),s.\u0275\u0275inject(l.FirebaseService),s.\u0275\u0275inject(h.Router),s.\u0275\u0275inject(f.RatingService))},d.\u0275prov=s.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"})},GS7A:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return a})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return _}));var r=function e(){_classCallCheck2(this,e)},i=function e(){_classCallCheck2(this,e)},o="*";function a(e,t){return{type:7,name:e,definitions:t,options:{}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:3,steps:e,options:t}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function l(e){return{type:6,styles:e,offset:null}}function h(e,t,n){return{type:0,name:e,styles:t,options:n}}function f(e){return{type:5,steps:e}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:e}}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:e,animation:t,options:n}}function m(e){Promise.resolve(null).then(e)}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass2(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;m((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),y=function(){function e(t){var n=this;_classCallCheck2(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?m((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass2(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),_="!"},Gi4w:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t,n))}}var o=function(){function e(t,n,r){_classCallCheck2(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass2(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(r.a)},GyhO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("LRne"),i=n("0EUg");function o(){return Object(i.a)()(Object(r.a).apply(void 0,arguments))}},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,i=n("8Qeq"),o=n("7o/Q"),a=n("2QA8"),s=n("gRHU"),c=n("kJWO"),u=n("mCNh"),l=n("2fFW"),h=((r=function(){function e(t){_classCallCheck2(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass2(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof o.a)return e;if(e[a.a])return e[a.a]()}return e||t||n?new o.a(e,t,n):new o.a(s.a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),l.a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(i.a)(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=f(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:c.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(u.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=f(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new r(e)},r);function f(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},"Hs/S":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Game=((r=t.Game||{}).Nechto="Nechto",r.Trump="Trump",r.Other="Other",r)},"Ht+U":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return r})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return v})),n.d(t,"q",(function(){return _}));var r=9,i=13,o=27,a=32,s=33,c=34,u=35,l=36,h=37,f=38,d=39,p=40,v=48,m=57,g=65,y=90;function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?n.some((function(t){return e[t]})):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},I9Nm:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NechtoCardSubType=((r=t.NechtoCardSubType||{}).Infection="infection",r.Action="action",r.Defence="defence",r.Obstacle="obstacle",r)},IheW:function(e,t,n){"use strict";n.r(t),n.d(t,"HTTP_INTERCEPTORS",(function(){return P})),n.d(t,"HttpBackend",(function(){return h})),n.d(t,"HttpClient",(function(){return I})),n.d(t,"HttpClientJsonpModule",(function(){return Y})),n.d(t,"HttpClientModule",(function(){return W})),n.d(t,"HttpClientXsrfModule",(function(){return q})),n.d(t,"HttpErrorResponse",(function(){return S})),n.d(t,"HttpEventType",(function(){return b})),n.d(t,"HttpHandler",(function(){return l})),n.d(t,"HttpHeaderResponse",(function(){return k})),n.d(t,"HttpHeaders",(function(){return f})),n.d(t,"HttpParams",(function(){return v})),n.d(t,"HttpRequest",(function(){return _})),n.d(t,"HttpResponse",(function(){return w})),n.d(t,"HttpResponseBase",(function(){return C})),n.d(t,"HttpUrlEncodingCodec",(function(){return d})),n.d(t,"HttpXhrBackend",(function(){return F})),n.d(t,"HttpXsrfTokenExtractor",(function(){return U})),n.d(t,"JsonpClientBackend",(function(){return D})),n.d(t,"JsonpInterceptor",(function(){return R})),n.d(t,"XhrFactory",(function(){return M})),n.d(t,"\u0275HttpInterceptingHandler",(function(){return H})),n.d(t,"\u0275angular_packages_common_http_http_a",(function(){return x})),n.d(t,"\u0275angular_packages_common_http_http_b",(function(){return A})),n.d(t,"\u0275angular_packages_common_http_http_c",(function(){return z})),n.d(t,"\u0275angular_packages_common_http_http_d",(function(){return N})),n.d(t,"\u0275angular_packages_common_http_http_e",(function(){return L})),n.d(t,"\u0275angular_packages_common_http_http_f",(function(){return V})),n.d(t,"\u0275angular_packages_common_http_http_g",(function(){return B})),n.d(t,"\u0275angular_packages_common_http_http_h",(function(){return G}));var r=n("8Y7J"),i=n("LRne"),o=n("HDdC"),a=n("bOdf"),s=n("pLZG"),c=n("lJxs"),u=n("SVse"),l=function e(){_classCallCheck2(this,e)},h=function e(){_classCallCheck2(this,e)},f=function(){function e(t){var n=this;_classCallCheck2(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass2(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray2(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),d=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"encodeKey",value:function(e){return p(e)}},{key:"encodeValue",value:function(e){return p(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function p(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var v=function(){function e(){var t,n,r,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck2(this,e),this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new d,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=o.fromString,n=this.encoder,r=new Map,t.length>0&&t.split("&").forEach((function(e){var t=e.indexOf("="),i=_slicedToArray(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),o=i[0],a=i[1],s=r.get(o)||[];s.push(a),r.set(o,s)})),r)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach((function(e){var t=o.fromObject[e];i.map.set(e,Array.isArray(t)?t:[t])}))):this.map=null}return _createClass2(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function m(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function g(e){return"undefined"!=typeof Blob&&e instanceof Blob}function y(e){return"undefined"!=typeof FormData&&e instanceof FormData}var _=function(){function e(t,n,r,i){var o;if(_classCallCheck2(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new f),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new v,this.urlWithParams=n}return _createClass2(e,[{key:"serializeBody",value:function(){return null===this.body?null:m(this.body)||g(this.body)||y(this.body)||"string"==typeof this.body?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||y(this.body)?null:g(this.body)?this.body.type||null:m(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,c=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),u)),new e(n,r,o,{params:u,headers:c,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),b=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),C=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck2(this,e),this.headers=t.headers||new f,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},k=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck2(this,n),(e=t.call(this,r)).type=b.ResponseHeader,e}return _createClass2(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(C),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck2(this,n),(e=t.call(this,r)).type=b.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass2(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(C),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(C);function E(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var I=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.handler=t}return _createClass2(e,[{key:"request",value:function(e,t){var n,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof _)n=e;else{var u=void 0;u=o.headers instanceof f?o.headers:new f(o.headers);var l=void 0;o.params&&(l=o.params instanceof v?o.params:new v({fromObject:o.params})),n=new _(e,t,void 0!==o.body?o.body:null,{headers:u,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var h=Object(i.a)(n).pipe(Object(a.a)((function(e){return r.handler.handle(e)})));if(e instanceof _||"events"===o.observe)return h;var d=h.pipe(Object(s.a)((function(e){return e instanceof w})));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return d.pipe(Object(c.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return d.pipe(Object(c.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return d.pipe(Object(c.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return d.pipe(Object(c.a)((function(e){return e.body})))}case"response":return d;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new v).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,E(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,E(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,E(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](l))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),O=function(){function e(t,n){_classCallCheck2(this,e),this.next=t,this.interceptor=n}return _createClass2(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),P=new r.InjectionToken("HTTP_INTERCEPTORS"),x=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),T=0,A=function e(){_classCallCheck2(this,e)},D=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.callbackMap=t,this.document=n}return _createClass2(e,[{key:"nextCallback",value:function(){return"ng_jsonp_callback_".concat(T++)}},{key:"handle",value:function(e){var t=this;if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");return new o.a((function(n){var r=t.nextCallback(),i=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,"=".concat(r,"$1")),o=t.document.createElement("script");o.src=i;var a=null,s=!1,c=!1;t.callbackMap[r]=function(e){delete t.callbackMap[r],c||(a=e,s=!0)};var u=function(){o.parentNode&&o.parentNode.removeChild(o),delete t.callbackMap[r]},l=function(e){c||(u(),s?(n.next(new w({body:a,status:200,statusText:"OK",url:i})),n.complete()):n.error(new S({url:i,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},h=function(e){c||(u(),n.error(new S({error:e,status:0,statusText:"JSONP Error",url:i})))};return o.addEventListener("load",l),o.addEventListener("error",h),t.document.body.appendChild(o),n.next({type:b.Sent}),function(){c=!0,o.removeEventListener("load",l),o.removeEventListener("error",h),u()}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](A),r["\u0275\u0275inject"](u.DOCUMENT))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),R=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.jsonp=t}return _createClass2(e,[{key:"intercept",value:function(e,t){return"JSONP"===e.method?this.jsonp.handle(e):t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](D))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),j=/^\)\]\}',?\n/,M=function e(){_classCallCheck2(this,e)},N=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),F=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.xhrFactory=t}return _createClass2(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new o.a((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,c=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new f(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new k({headers:i,status:t,statusText:n,url:o})},u=function(){var t=c(),i=t.headers,o=t.status,a=t.statusText,s=t.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(j,"");try{u=""!==u?JSON.parse(u):null}catch(f){u=h,l&&(l=!1,u={error:f,text:u})}}l?(n.next(new w({body:u,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new S({error:u,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=c().url,i=new S({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,d=function(t){h||(n.next(c()),h=!0);var i={type:b.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(e){var t={type:b.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",u),r.addEventListener("error",l),e.reportProgress&&(r.addEventListener("progress",d),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:b.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",u),e.reportProgress&&(r.removeEventListener("progress",d),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.abort()}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](M))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),L=new r.InjectionToken("XSRF_COOKIE_NAME"),V=new r.InjectionToken("XSRF_HEADER_NAME"),U=function e(){_classCallCheck2(this,e)},B=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass2(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(u["\u0275parseCookieValue"])(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](u.DOCUMENT),r["\u0275\u0275inject"](r.PLATFORM_ID),r["\u0275\u0275inject"](L))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),G=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.tokenService=t,this.headerName=n}return _createClass2(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](U),r["\u0275\u0275inject"](V))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),H=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass2(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(P,[]);this.chain=t.reduceRight((function(e,t){return new O(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](h),r["\u0275\u0275inject"](r.Injector))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function z(){return"object"==typeof window?window:{}}var q=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:G,useClass:x}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:L,useValue:t.cookieName}:[],t.headerName?{provide:V,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[G,{provide:P,useExisting:G,multi:!0},{provide:U,useClass:B},{provide:L,useValue:"XSRF-TOKEN"},{provide:V,useValue:"X-XSRF-TOKEN"}]}),e}(),W=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[I,{provide:l,useClass:H},F,{provide:h,useExisting:F},N,{provide:M,useExisting:N}],imports:[[q.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}(),Y=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[D,{provide:A,useFactory:z},{provide:P,useClass:R,multi:!0}]}),e}()},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Y/cZ"),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a.now;return _classCallCheck2(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass2(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r.a)},IzEk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function a(e){return function(t){return 0===e?Object(o.b)():t.lift(new s(e))}}var s=function(){function e(t){if(_classCallCheck2(this,e),this.total=t,this.total<0)throw new i.a}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.total))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass2(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(r.a)},JIr8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj");function a(e){return function(t){var n=new s(e),r=t.lift(n);return n.caught=r}}var s=function(){function e(t){_classCallCheck2(this,e),this.selector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.selector,this.caught))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass2(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var r=new i.a(this,void 0,void 0);this.add(r);var a=Object(o.a)(this,t,void 0,void 0,r);a!==r&&this.add(a)}}}]),n}(r.a)},JX91:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("GyhO"),i=n("z+Ro");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[t.length-1];return Object(i.a)(o)?(t.pop(),function(e){return Object(r.a)(t,e,o)}):function(e){return Object(r.a)(t,e)}}},Kj3r:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7o/Q"),i=n("D0XW");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){_classCallCheck2(this,e),this.dueTime=t,this.scheduler=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass2(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(r.a);function c(e){e.debouncedNext()}},Kqap:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(e,t,n))}}var o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck2(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass2(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(r.a)},KqfI:function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(r.a)(a)?(t.pop(),Object(o.a)(t,a)):Object(i.a)(t)}},LUZP:function(e,t,n){"use strict";n.r(t),n.d(t,"MAT_SORT_HEADER_INTL_PROVIDER",(function(){return C})),n.d(t,"MAT_SORT_HEADER_INTL_PROVIDER_FACTORY",(function(){return b})),n.d(t,"MatSort",(function(){return v})),n.d(t,"MatSortHeader",(function(){return w})),n.d(t,"MatSortHeaderIntl",(function(){return _})),n.d(t,"MatSortModule",(function(){return S})),n.d(t,"matSortAnimations",(function(){return y}));var r=n("8Y7J"),i=n("8LU1"),o=n("UhP/"),a=n("XNiG"),s=n("VRyK"),c=n("GS7A"),u=n("SVse"),l=n("YEUz"),h=["mat-sort-header",""];function f(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",3),r["\u0275\u0275listener"]("@arrowPosition.start",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]()._disableViewStateAnimation=!0}))("@arrowPosition.done",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]()._disableViewStateAnimation=!1})),r["\u0275\u0275element"](1,"div",4),r["\u0275\u0275elementStart"](2,"div",5),r["\u0275\u0275element"](3,"div",6),r["\u0275\u0275element"](4,"div",7),r["\u0275\u0275element"](5,"div",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("@arrowOpacity",i._getArrowViewState())("@arrowPosition",i._getArrowViewState())("@allowChildren",i._getArrowDirectionState()),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("@indicator",i._getArrowDirectionState()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("@leftPointer",i._getArrowDirectionState()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("@rightPointer",i._getArrowDirectionState())}}var d=["*"],p=Object(o.r)(Object(o.p)((function e(){_classCallCheck2(this,e)}))),v=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments)).sortables=new Map,e._stateChanges=new a.a,e.start="asc",e._direction="",e.sortChange=new r.EventEmitter,e}return _createClass2(n,[{key:"register",value:function(e){if(!e.id)throw Error("MatSortHeader must be provided with a unique id.");if(this.sortables.has(e.id))throw Error("Cannot have two MatSortables with the same id (".concat(e.id,")."));this.sortables.set(e.id,e)}},{key:"deregister",value:function(e){this.sortables.delete(e.id)}},{key:"sort",value:function(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}},{key:"getNextSortDirection",value:function(e){if(!e)return"";var t,n,r,i=(t=e.start||this.start,n=null!=e.disableClear?e.disableClear:this.disableClear,r=["asc","desc"],"desc"==t&&r.reverse(),n||r.push(""),r),o=i.indexOf(this.direction)+1;return o>=i.length&&(o=0),i[o]}},{key:"ngOnInit",value:function(){this._markInitialized()}},{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"direction",get:function(){return this._direction},set:function(e){if(Object(r.isDevMode)()&&e&&"asc"!==e&&"desc"!==e)throw function(e){return Error("".concat(e," is not a valid sort direction ('asc' or 'desc')."))}(e);this._direction=e}},{key:"disableClear",get:function(){return this._disableClear},set:function(e){this._disableClear=Object(i.c)(e)}}]),n}(p);return e.\u0275fac=function(t){return m(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),e}(),m=r["\u0275\u0275getInheritedFactory"](v),g=o.b.ENTERING+" "+o.a.STANDARD_CURVE,y={indicator:Object(c.n)("indicator",[Object(c.k)("active-asc, asc",Object(c.l)({transform:"translateY(0px)"})),Object(c.k)("active-desc, desc",Object(c.l)({transform:"translateY(10px)"})),Object(c.m)("active-asc <=> active-desc",Object(c.e)(g))]),leftPointer:Object(c.n)("leftPointer",[Object(c.k)("active-asc, asc",Object(c.l)({transform:"rotate(-45deg)"})),Object(c.k)("active-desc, desc",Object(c.l)({transform:"rotate(45deg)"})),Object(c.m)("active-asc <=> active-desc",Object(c.e)(g))]),rightPointer:Object(c.n)("rightPointer",[Object(c.k)("active-asc, asc",Object(c.l)({transform:"rotate(45deg)"})),Object(c.k)("active-desc, desc",Object(c.l)({transform:"rotate(-45deg)"})),Object(c.m)("active-asc <=> active-desc",Object(c.e)(g))]),arrowOpacity:Object(c.n)("arrowOpacity",[Object(c.k)("desc-to-active, asc-to-active, active",Object(c.l)({opacity:1})),Object(c.k)("desc-to-hint, asc-to-hint, hint",Object(c.l)({opacity:.54})),Object(c.k)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Object(c.l)({opacity:0})),Object(c.m)("* => asc, * => desc, * => active, * => hint, * => void",Object(c.e)("0ms")),Object(c.m)("* <=> *",Object(c.e)(g))]),arrowPosition:Object(c.n)("arrowPosition",[Object(c.m)("* => desc-to-hint, * => desc-to-active",Object(c.e)(g,Object(c.h)([Object(c.l)({transform:"translateY(-25%)"}),Object(c.l)({transform:"translateY(0)"})]))),Object(c.m)("* => hint-to-desc, * => active-to-desc",Object(c.e)(g,Object(c.h)([Object(c.l)({transform:"translateY(0)"}),Object(c.l)({transform:"translateY(25%)"})]))),Object(c.m)("* => asc-to-hint, * => asc-to-active",Object(c.e)(g,Object(c.h)([Object(c.l)({transform:"translateY(25%)"}),Object(c.l)({transform:"translateY(0)"})]))),Object(c.m)("* => hint-to-asc, * => active-to-asc",Object(c.e)(g,Object(c.h)([Object(c.l)({transform:"translateY(0)"}),Object(c.l)({transform:"translateY(-25%)"})]))),Object(c.k)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Object(c.l)({transform:"translateY(0)"})),Object(c.k)("hint-to-desc, active-to-desc, desc",Object(c.l)({transform:"translateY(-25%)"})),Object(c.k)("hint-to-asc, active-to-asc, asc",Object(c.l)({transform:"translateY(25%)"}))]),allowChildren:Object(c.n)("allowChildren",[Object(c.m)("* <=> *",[Object(c.i)("@*",Object(c.f)(),{optional:!0})])])},_=function(){var e=function e(){_classCallCheck2(this,e),this.changes=new a.a,this.sortButtonLabel=function(e){return"Change sorting for ".concat(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e}();function b(e){return e||new _}var C={provide:_,deps:[[new r.Optional,new r.SkipSelf,_]],useFactory:b},k=Object(o.p)((function e(){_classCallCheck2(this,e)})),w=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,c){var u;if(_classCallCheck2(this,n),(u=t.call(this))._intl=e,u._sort=i,u._columnDef=o,u._focusMonitor=a,u._elementRef=c,u._showIndicatorHint=!1,u._arrowDirection="",u._disableViewStateAnimation=!1,u.arrowPosition="after",!i)throw Error("MatSortHeader must be placed within a parent element with the MatSort directive.");return u._rerenderSubscription=Object(s.a)(i.sortChange,i._stateChanges,e.changes).subscribe((function(){u._isSorted()&&u._updateArrowDirection(),!u._isSorted()&&u._viewState&&"active"===u._viewState.toState&&(u._disableViewStateAnimation=!1,u._setAnimationTransitionState({fromState:"active",toState:u._arrowDirection})),r.markForCheck()})),a&&c&&a.monitor(c,!0).subscribe((function(e){return u._setIndicatorHintVisible(!!e)})),_possibleConstructorReturn(u)}return _createClass2(n,[{key:"ngOnInit",value:function(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._elementRef&&this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}},{key:"_setIndicatorHintVisible",value:function(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}},{key:"_setAnimationTransitionState",value:function(e){this._viewState=e,this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}},{key:"_handleClick",value:function(){if(!this._isDisabled()){this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0);var e=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection};this._setAnimationTransitionState(e),this._showIndicatorHint=!1}}},{key:"_isSorted",value:function(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}},{key:"_getArrowDirectionState",value:function(){return"".concat(this._isSorted()?"active-":"").concat(this._arrowDirection)}},{key:"_getArrowViewState",value:function(){var e=this._viewState.fromState;return(e?"".concat(e,"-to-"):"")+this._viewState.toState}},{key:"_updateArrowDirection",value:function(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}},{key:"_isDisabled",value:function(){return this._sort.disabled||this.disabled}},{key:"_getAriaSortAttribute",value:function(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":null}},{key:"_renderArrow",value:function(){return!this._isDisabled()||this._isSorted()}},{key:"disableClear",get:function(){return this._disableClear},set:function(e){this._disableClear=Object(i.c)(e)}}]),n}(k);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](_),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](v,8),r["\u0275\u0275directiveInject"]("MAT_SORT_HEADER_COLUMN_DEF",8),r["\u0275\u0275directiveInject"](l.e),r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("click",(function(){return t._handleClick()}))("mouseenter",(function(){return t._setIndicatorHintVisible(!0)}))("mouseleave",(function(){return t._setIndicatorHintVisible(!1)})),2&e&&(r["\u0275\u0275attribute"]("aria-sort",t._getAriaSortAttribute()),r["\u0275\u0275classProp"]("mat-sort-header-disabled",t._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[r["\u0275\u0275InheritDefinitionFeature"]],attrs:h,ngContentSelectors:d,decls:4,vars:7,consts:[[1,"mat-sort-header-container"],["type","button",1,"mat-sort-header-button","mat-focus-indicator"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"button",1),r["\u0275\u0275projection"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,f,6,6,"div",2),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275classProp"]("mat-sort-header-sorted",t._isSorted())("mat-sort-header-position-before","before"==t.arrowPosition),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("disabled",t._isDisabled()||null)("aria-label",t._intl.sortButtonLabel(t.id)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t._renderArrow()))},directives:[u.NgIf],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-button{border:none;background:0 0;display:flex;align-items:center;padding:0;cursor:inherit;outline:0;font:inherit;color:currentColor;position:relative}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-button,[mat-sort-header].cdk-program-focused .mat-sort-header-button{border-bottom:solid 1px currentColor}.mat-sort-header-button::-moz-focus-inner{border:0}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[y.indicator,y.leftPointer,y.rightPointer,y.arrowOpacity,y.arrowPosition,y.allowChildren]},changeDetection:0}),e}(),S=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[C],imports:[[u.CommonModule]]}),e}()},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},Lihs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=(n("e9by"),n("o3mT"),n("sZC0"),n("iInd")),a=n("PCNd"),s=(n("WRCD"),r.__importStar(n("8Y7J"))),c=function e(){_classCallCheck2(this,e)};t.LayoutModule=c,c.\u0275mod=s.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=s.\u0275\u0275defineInjector({factory:function(e){return new(e||c)},imports:[[i.CommonModule,o.RouterModule,a.SharedModule]]})},LyZz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameDto=function(){return function e(t){_classCallCheck2(this,e),this.roomId=null,this.deck=[],this.trash=[],this.hands={},this.table={},this.borders={},this.currentStepPlayerId=null,this.previousStepPlayerId=null,this.currentStepPhases=[],this.previousStepPhases=[],this.authorId=null,this.direction=null,this.lastCard={},this.reservedStepPlayerId=null,this.reservedStepPhases=[],Object.assign(this,t)}}()},MBfS:function(e,t,n){"use strict";function r(e){return e[Math.floor(Math.random()*e.length)]}Object.defineProperty(t,"__esModule",{value:!0}),t.shuffleArray=function(e){for(var t=JSON.parse(JSON.stringify(e)),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),i=[t[r],t[n]];t[n]=i[0],t[r]=i[1]}return t},t.getRandomItem=r,t.getRandomMapItem=function(e){return r(Array.from(e))},t.reorderArray=function(e,t){return e.slice(t).concat(e.slice(0,t))},t.flatten=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])}},Muyr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG").__importStar(n("8Y7J")),i=function e(){_classCallCheck2(this,e)};t.PremiumComponent=i,i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["gw-premium"]],decls:2,vars:0,consts:[[1,"light"]],template:function(e,t){1&e&&(r.\u0275\u0275elementStart(0,"p",0),r.\u0275\u0275text(1,"premium works!"),r.\u0275\u0275elementEnd())},styles:[""]})},MyAK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=r.__importStar(n("8Y7J")),o=r.__importStar(n("TSSN")),a=function e(){_classCallCheck2(this,e)};t.ContactsComponent=a,a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=i.\u0275\u0275defineComponent({type:a,selectors:[["gw-contacts"]],decls:6,vars:3,consts:[[1,"d-flex","justify-content-around","align-items-stretch","h-100","gw-contacts"],[1,"w-50","d-flex","justify-content-center","gw-contact-company"],["href","https://chunkup.com","target","_blank",1,"btn","btn-dark","gw-contact-bg",3,"title"],[1,"w-50","d-flex","justify-content-center","gw-contact-author"],["href","https://www.linkedin.com/in/yuriy-detsyk","target","_blank","title","Yuriy D",1,"btn","btn-dark","gw-contact-bg"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementStart(1,"div",1),i.\u0275\u0275element(2,"a",2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",3),i.\u0275\u0275element(5,"a",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275advance(2),i.\u0275\u0275propertyInterpolate("title",i.\u0275\u0275pipeBind1(3,1,"i18n.COMMON.COMPANY")))},pipes:[o.TranslatePipe],styles:[".gw-contacts[_ngcontent-%COMP%]{background-color:#f4f7f6}.gw-contacts[_ngcontent-%COMP%]   .gw-contact-author[_ngcontent-%COMP%], .gw-contacts[_ngcontent-%COMP%]   .gw-contact-company[_ngcontent-%COMP%]{position:relative}.gw-contacts[_ngcontent-%COMP%]   .gw-contact-author[_ngcontent-%COMP%]   .gw-contact-bg[_ngcontent-%COMP%], .gw-contacts[_ngcontent-%COMP%]   .gw-contact-company[_ngcontent-%COMP%]   .gw-contact-bg[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;background-position:50%;border:none;-webkit-filter:blur(5px);filter:blur(5px);transition:-webkit-filter .5s ease-in-out;transition:filter .5s ease-in-out;transition:filter .5s ease-in-out,-webkit-filter .5s ease-in-out;width:100%;height:100%;position:absolute}.gw-contacts[_ngcontent-%COMP%]   .gw-contact-author[_ngcontent-%COMP%]:hover   .gw-contact-bg[_ngcontent-%COMP%], .gw-contacts[_ngcontent-%COMP%]   .gw-contact-company[_ngcontent-%COMP%]:hover   .gw-contact-bg[_ngcontent-%COMP%]{-webkit-filter:blur(0);filter:blur(0)}.gw-contacts[_ngcontent-%COMP%]   .gw-contact-company[_ngcontent-%COMP%]   .gw-contact-bg[_ngcontent-%COMP%]{background-image:url(chunkup-logo-large.51ae554baa042ac15161.png);background-size:100% auto}.gw-contacts[_ngcontent-%COMP%]   .gw-contact-author[_ngcontent-%COMP%]   .gw-contact-bg[_ngcontent-%COMP%]{background-image:url(yuriyd.823159e22e7bbb570977.jpg);background-size:auto 100%}.gw-contacts[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:200px}"]})},"NHP+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("XNiG"),i=n("quSY"),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments)).value=null,e.hasNext=!1,e.hasCompleted=!1,e}return _createClass2(n,[{key:"_subscribe",value:function(e){return this.hasError?(e.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),i.a.EMPTY):_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e)}},{key:"next",value:function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}},{key:"error",value:function(e){this.hasCompleted||_get(_getPrototypeOf(n.prototype),"error",this).call(this,e)}},{key:"complete",value:function(){this.hasCompleted=!0,this.hasNext&&_get(_getPrototypeOf(n.prototype),"next",this).call(this,this.value),_get(_getPrototypeOf(n.prototype),"complete",this).call(this)}}]),n}(r.a)},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},NJ9Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("sVev"),i=n("pLZG"),o=n("BFxc"),a=n("XDbj"),s=n("xbPD"),c=n("SpAZ");function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i.a)((function(t,n){return e(t,n,u)})):c.a,Object(o.a)(1),n?Object(s.a)(t):Object(a.a)((function(){return new r.a})))}}},NUQi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("kU1M"),o=r.__importStar(n("8Y7J")),a=r.__importStar(n("iInd")),s=r.__importStar(n("2kLq")),c=function(){function e(t,n){_classCallCheck2(this,e),this.router=t,this.firebaseService=n}return _createClass2(e,[{key:"canActivate",value:function(){return this.canProceed()}},{key:"canLoad",value:function(){return this.canProceed()}},{key:"canProceed",value:function(){var e=this;return this.firebaseService.getAuthState().pipe(i.take(1),i.map((function(t){return!!t||(e.router.navigate(["auth/signin"]),!1)})))}}]),e}();t.AuthGuard=c,c.\u0275fac=function(e){return new(e||c)(o.\u0275\u0275inject(a.Router),o.\u0275\u0275inject(s.FirebaseService))},c.\u0275prov=o.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})},NXyV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function a(e){return new r.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(t)}))}},Nlor:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=r.__importStar(n("8Y7J")),s=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"intercept",value:function(e,t){return t.handle(e).pipe(o.retry(2),o.catchError((function(e){return 401!==e.status&&console.log(e.message),i.throwError(e)})))}}]),e}();t.ErrorInterceptor=s,s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=a.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac})},NsPw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=r.__importStar(n("8Y7J")),o=r.__importStar(n("blSl")),a=function(){function e(t){_classCallCheck2(this,e),this.mediaService=t}return _createClass2(e,[{key:"canDeactivate",value:function(){return this.mediaService.stopUserMedia(),!0}}]),e}();t.MediaGuard=a,a.\u0275fac=function(e){return new(e||a)(i.\u0275\u0275inject(o.MediaService))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})},Nv8m:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DH7j"),i=n("yCtX"),o=n("l7GE"),a=n("ZUHj");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!Object(r.a)(t[0]))return t[0];t=t[0]}return Object(i.a)(t,void 0).lift(new c)}var c=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return _createClass2(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(a.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)}}]),n}(o.a)},OB6y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PeerStream=function(){return function e(t){_classCallCheck2(this,e),Object.assign(this,t)}}()},OC2O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("wO2d");t.UserRatingDto=function(){return function e(t){_classCallCheck2(this,e),this.userId=null,this.gamesPlayed=0,this.wins=0,this.losses=0,this.level=r.UserLevel.Noob,this.xp=0,Object.assign(this,t)}}()},OQgR:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return h}));var r=n("7o/Q"),i=n("quSY"),o=n("HDdC"),a=n("XNiG");function s(e,t,n,r){return function(i){return i.lift(new c(e,t,n,r))}}var c=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.keySelector=t,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this,e)).keySelector=r,s.elementSelector=i,s.durationSelector=o,s.subjectSelector=a,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return _createClass2(n,[{key:"_next",value:function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)}},{key:"_group",value:function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(c){this.error(c)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a.a,n.set(t,i);var o=new h(t,i,this);if(this.destination.next(o),this.durationSelector){var s;try{s=this.durationSelector(new h(t,i))}catch(c){return void this.error(c)}this.add(s.subscribe(new l(t,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)}},{key:"_complete",value:function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()}},{key:"removeGroup",value:function(e){this.groups.delete(e)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}}]),n}(r.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,r)).key=e,o.group=r,o.parent=i,o}return _createClass2(n,[{key:"_next",value:function(e){this.complete()}},{key:"_unsubscribe",value:function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)}}]),n}(r.a),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this)).key=e,o.groupSubject=r,o.refCountSubscription=i,o}return _createClass2(n,[{key:"_subscribe",value:function(e){var t=new i.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new f(n)),t.add(r.subscribe(e)),t}}]),n}(o.a),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).parent=e,e.count++,r}return _createClass2(n,[{key:"unsubscribe",value:function(){var e=this.parent;e.closed||this.closed||(_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}]),n}(i.a)},OaSA:function(e,t,n){"use strict";n.r(t),n.d(t,"MatCell",(function(){return et})),n.d(t,"MatCellDef",(function(){return ze})),n.d(t,"MatColumnDef",(function(){return Xe})),n.d(t,"MatFooterCell",(function(){return $e})),n.d(t,"MatFooterCellDef",(function(){return Ke})),n.d(t,"MatFooterRow",(function(){return ut})),n.d(t,"MatFooterRowDef",(function(){return rt})),n.d(t,"MatHeaderCell",(function(){return Ze})),n.d(t,"MatHeaderCellDef",(function(){return We})),n.d(t,"MatHeaderRow",(function(){return st})),n.d(t,"MatHeaderRowDef",(function(){return tt})),n.d(t,"MatRow",(function(){return ht})),n.d(t,"MatRowDef",(function(){return ot})),n.d(t,"MatTable",(function(){return Ge})),n.d(t,"MatTableDataSource",(function(){return mt})),n.d(t,"MatTableModule",(function(){return vt})),n.d(t,"MatTextColumn",(function(){return dt}));var r=n("8LU1"),i=n("CtHx"),o=n("8Y7J"),a=n("9gLZ"),s=n("SCoL"),c=n("SVse"),u=n("XNiG"),l=n("2Vo4"),h=n("7+OI"),f=n("LRne"),d=n("1G5W"),p=[[["caption"]]],v=["caption"];function m(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"th",3),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275styleProp"]("text-align",n.justify),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",n.headerText," ")}}function g(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td",4),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=o["\u0275\u0275nextContext"]();o["\u0275\u0275styleProp"]("text-align",r.justify),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",r.dataAccessor(n,r.name)," ")}}function y(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck2(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._sticky=!1,e._hasStickyChanged=!1,e}return _createClass2(n,[{key:"hasStickyChanged",value:function(){var e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}},{key:"resetStickyChanged",value:function(){this._hasStickyChanged=!1}},{key:"sticky",get:function(){return this._sticky},set:function(e){var t=this._sticky;this._sticky=Object(r.c)(e),this._hasStickyChanged=t!==this._sticky}}]),n}(e)}var _,b,C,k,w,S,E,I,O,P,x,T,A,D,R,j=((C=function e(t){_classCallCheck2(this,e),this.template=t}).\u0275fac=function(e){return new(e||C)(o["\u0275\u0275directiveInject"](o.TemplateRef))},C.\u0275dir=o["\u0275\u0275defineDirective"]({type:C,selectors:[["","cdkCellDef",""]]}),C),M=((b=function e(t){_classCallCheck2(this,e),this.template=t}).\u0275fac=function(e){return new(e||b)(o["\u0275\u0275directiveInject"](o.TemplateRef))},b.\u0275dir=o["\u0275\u0275defineDirective"]({type:b,selectors:[["","cdkHeaderCellDef",""]]}),b),N=((_=function e(t){_classCallCheck2(this,e),this.template=t}).\u0275fac=function(e){return new(e||_)(o["\u0275\u0275directiveInject"](o.TemplateRef))},_.\u0275dir=o["\u0275\u0275defineDirective"]({type:_,selectors:[["","cdkFooterCellDef",""]]}),_),F=y((function e(){_classCallCheck2(this,e)})),L=((k=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments))._stickyEnd=!1,e}return _createClass2(n,[{key:"name",get:function(){return this._name},set:function(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"))}},{key:"stickyEnd",get:function(){return this._stickyEnd},set:function(e){var t=this._stickyEnd;this._stickyEnd=Object(r.c)(e),this._hasStickyChanged=t!==this._stickyEnd}}]),n}(F)).\u0275fac=function(e){return V(e||k)},k.\u0275dir=o["\u0275\u0275defineDirective"]({type:k,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,t,n){var r;1&e&&(o["\u0275\u0275contentQuery"](n,j,!0),o["\u0275\u0275contentQuery"](n,M,!0),o["\u0275\u0275contentQuery"](n,N,!0)),2&e&&(o["\u0275\u0275queryRefresh"](r=o["\u0275\u0275loadQuery"]())&&(t.cell=r.first),o["\u0275\u0275queryRefresh"](r=o["\u0275\u0275loadQuery"]())&&(t.headerCell=r.first),o["\u0275\u0275queryRefresh"](r=o["\u0275\u0275loadQuery"]())&&(t.footerCell=r.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o["\u0275\u0275ProvidersFeature"]([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:k}]),o["\u0275\u0275InheritDefinitionFeature"]]}),k),V=o["\u0275\u0275getInheritedFactory"](L),U=function e(t,n){_classCallCheck2(this,e),n.nativeElement.classList.add("cdk-column-".concat(t.cssClassFriendlyName))},B=((I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck2(this,n),t.call(this,e,r)}return n}(U)).\u0275fac=function(e){return new(e||I)(o["\u0275\u0275directiveInject"](L),o["\u0275\u0275directiveInject"](o.ElementRef))},I.\u0275dir=o["\u0275\u0275defineDirective"]({type:I,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o["\u0275\u0275InheritDefinitionFeature"]]}),I),G=((E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck2(this,n),t.call(this,e,r)}return n}(U)).\u0275fac=function(e){return new(e||E)(o["\u0275\u0275directiveInject"](L),o["\u0275\u0275directiveInject"](o.ElementRef))},E.\u0275dir=o["\u0275\u0275defineDirective"]({type:E,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:["role","gridcell",1,"cdk-footer-cell"],features:[o["\u0275\u0275InheritDefinitionFeature"]]}),E),H=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck2(this,n),t.call(this,e,r)}return n}(U)).\u0275fac=function(e){return new(e||S)(o["\u0275\u0275directiveInject"](L),o["\u0275\u0275directiveInject"](o.ElementRef))},S.\u0275dir=o["\u0275\u0275defineDirective"]({type:S,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[o["\u0275\u0275InheritDefinitionFeature"]]}),S),z=((w=function(){function e(t,n){_classCallCheck2(this,e),this.template=t,this._differs=n}return _createClass2(e,[{key:"ngOnChanges",value:function(e){if(!this._columnsDiffer){var t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}},{key:"getColumnsDiff",value:function(){return this._columnsDiffer.diff(this.columns)}},{key:"extractCellTemplate",value:function(e){return this instanceof W?e.headerCell.template:this instanceof K?e.footerCell.template:e.cell.template}}]),e}()).\u0275fac=function(e){o["\u0275\u0275invalidFactory"]()},w.\u0275dir=o["\u0275\u0275defineDirective"]({type:w,features:[o["\u0275\u0275NgOnChangesFeature"]]}),w),q=y(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(z)),W=((O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck2(this,n),t.call(this,e,r)}return _createClass2(n,[{key:"ngOnChanges",value:function(e){_get(_getPrototypeOf(n.prototype),"ngOnChanges",this).call(this,e)}}]),n}(q)).\u0275fac=function(e){return new(e||O)(o["\u0275\u0275directiveInject"](o.TemplateRef),o["\u0275\u0275directiveInject"](o.IterableDiffers))},O.\u0275dir=o["\u0275\u0275defineDirective"]({type:O,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o["\u0275\u0275InheritDefinitionFeature"],o["\u0275\u0275NgOnChangesFeature"]]}),O),Y=y(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(z)),K=((R=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck2(this,n),t.call(this,e,r)}return _createClass2(n,[{key:"ngOnChanges",value:function(e){_get(_getPrototypeOf(n.prototype),"ngOnChanges",this).call(this,e)}}]),n}(Y)).\u0275fac=function(e){return new(e||R)(o["\u0275\u0275directiveInject"](o.TemplateRef),o["\u0275\u0275directiveInject"](o.IterableDiffers))},R.\u0275dir=o["\u0275\u0275defineDirective"]({type:R,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o["\u0275\u0275InheritDefinitionFeature"],o["\u0275\u0275NgOnChangesFeature"]]}),R),Q=((D=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck2(this,n),t.call(this,e,r)}return n}(z)).\u0275fac=function(e){return new(e||D)(o["\u0275\u0275directiveInject"](o.TemplateRef),o["\u0275\u0275directiveInject"](o.IterableDiffers))},D.\u0275dir=o["\u0275\u0275defineDirective"]({type:D,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o["\u0275\u0275InheritDefinitionFeature"]]}),D),X=((A=function(){function e(t){_classCallCheck2(this,e),this._viewContainer=t,e.mostRecentCellOutlet=this}return _createClass2(e,[{key:"ngOnDestroy",value:function(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}}]),e}()).\u0275fac=function(e){return new(e||A)(o["\u0275\u0275directiveInject"](o.ViewContainerRef))},A.\u0275dir=o["\u0275\u0275defineDirective"]({type:A,selectors:[["","cdkCellOutlet",""]]}),A.mostRecentCellOutlet=null,A),J=((T=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||T)},T.\u0275cmp=o["\u0275\u0275defineComponent"]({type:T,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&o["\u0275\u0275elementContainer"](0,0)},directives:[X],encapsulation:2}),T),Z=((x=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=o["\u0275\u0275defineComponent"]({type:x,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&o["\u0275\u0275elementContainer"](0,0)},directives:[X],encapsulation:2}),x),$=((P=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||P)},P.\u0275cmp=o["\u0275\u0275defineComponent"]({type:P,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&o["\u0275\u0275elementContainer"](0,0)},directives:[X],encapsulation:2}),P),ee=["top","bottom","left","right"],te=function(){function e(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_classCallCheck2(this,e),this._isNativeHtmlTable=t,this._stickCellCss=n,this.direction=r,this._isBrowser=i}return _createClass2(e,[{key:"clearStickyPositioning",value:function(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.nodeType===i.ELEMENT_NODE){this._removeStickyStyle(i,t);for(var o=0;o<i.children.length;o++)this._removeStickyStyle(i.children[o],t)}}}catch(a){r.e(a)}finally{r.f()}}},{key:"updateStickyColumns",value:function(e,t,n){var r=t.some((function(e){return e}))||n.some((function(e){return e}));if(e.length&&r&&this._isBrowser){var i,o=e[0],a=o.children.length,s=this._getCellWidths(o),c=this._getStickyStartColumnPositions(s,t),u=this._getStickyEndColumnPositions(s,n),l="rtl"===this.direction,h=_createForOfIteratorHelper(e);try{for(h.s();!(i=h.n()).done;)for(var f=i.value,d=0;d<a;d++){var p=f.children[d];t[d]&&this._addStickyStyle(p,l?"right":"left",c[d]),n[d]&&this._addStickyStyle(p,l?"left":"right",u[d])}}catch(v){h.e(v)}finally{h.f()}}}},{key:"stickRows",value:function(e,t,n){if(this._isBrowser)for(var r="bottom"===n?e.reverse():e,i=0,o=0;o<r.length;o++)if(t[o]){var a=r[o];if(this._isNativeHtmlTable)for(var s=0;s<a.children.length;s++)this._addStickyStyle(a.children[s],n,i);else this._addStickyStyle(a,n,i);if(o===r.length-1)return;i+=a.getBoundingClientRect().height}}},{key:"updateStickyFooterContainer",value:function(e,t){if(this._isNativeHtmlTable){var n=e.querySelector("tfoot");t.some((function(e){return!e}))?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}}},{key:"_removeStickyStyle",value:function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.style[i]=""}}catch(o){r.e(o)}finally{r.f()}e.style.zIndex=this._getCalculatedZIndex(e),ee.some((function(t){return!!e.style[t]}))||(e.style.position="",e.classList.remove(this._stickCellCss))}},{key:"_addStickyStyle",value:function(e,t,n){e.classList.add(this._stickCellCss),e.style[t]="".concat(n,"px"),e.style.cssText+="position: -webkit-sticky; position: sticky; ",e.style.zIndex=this._getCalculatedZIndex(e)}},{key:"_getCalculatedZIndex",value:function(e){var t,n={top:100,bottom:10,left:1,right:1},r=0,i=_createForOfIteratorHelper(ee);try{for(i.s();!(t=i.n()).done;){var o=t.value;e.style[o]&&(r+=n[o])}}catch(a){i.e(a)}finally{i.f()}return r?"".concat(r):""}},{key:"_getCellWidths",value:function(e){for(var t=[],n=e.children,r=0;r<n.length;r++)t.push(n[r].getBoundingClientRect().width);return t}},{key:"_getStickyStartColumnPositions",value:function(e,t){for(var n=[],r=0,i=0;i<e.length;i++)t[i]&&(n[i]=r,r+=e[i]);return n}},{key:"_getStickyEndColumnPositions",value:function(e,t){for(var n=[],r=0,i=e.length;i>0;i--)t[i]&&(n[i]=r,r+=e[i]);return n}}]),e}();function ne(e){return Error('Could not find column with id "'.concat(e,'".'))}var re,ie,oe,ae,se=((ae=function e(t,n){_classCallCheck2(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||ae)(o["\u0275\u0275directiveInject"](o.ViewContainerRef),o["\u0275\u0275directiveInject"](o.ElementRef))},ae.\u0275dir=o["\u0275\u0275defineDirective"]({type:ae,selectors:[["","rowOutlet",""]]}),ae),ce=((oe=function e(t,n){_classCallCheck2(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||oe)(o["\u0275\u0275directiveInject"](o.ViewContainerRef),o["\u0275\u0275directiveInject"](o.ElementRef))},oe.\u0275dir=o["\u0275\u0275defineDirective"]({type:oe,selectors:[["","headerRowOutlet",""]]}),oe),ue=((ie=function e(t,n){_classCallCheck2(this,e),this.viewContainer=t,this.elementRef=n}).\u0275fac=function(e){return new(e||ie)(o["\u0275\u0275directiveInject"](o.ViewContainerRef),o["\u0275\u0275directiveInject"](o.ElementRef))},ie.\u0275dir=o["\u0275\u0275defineDirective"]({type:ie,selectors:[["","footerRowOutlet",""]]}),ie),le=((re=function(){function e(t,n,r,i,o,a,s){_classCallCheck2(this,e),this._differs=t,this._changeDetectorRef=n,this._elementRef=r,this._dir=o,this._platform=s,this._onDestroy=new u.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new l.a({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((function(t,n){return e.trackBy?e.trackBy(n.dataIndex,n.data):n}))}},{key:"ngAfterContentChecked",value:function(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}},{key:"ngOnDestroy",value:function(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Object(i.d)(this.dataSource)&&this.dataSource.disconnect(this)}},{key:"renderRows",value:function(){var e=this;this._renderRows=this._getAllRenderRows();var t=this._dataDiffer.diff(this._renderRows);if(t){var n=this._rowOutlet.viewContainer;t.forEachOperation((function(t,r,i){if(null==t.previousIndex)e._insertRow(t.item,i);else if(null==i)n.remove(r);else{var o=n.get(r);n.move(o,i)}})),this._updateRowIndexContext(),t.forEachIdentityChange((function(e){n.get(e.currentIndex).context.$implicit=e.item.data})),this.updateStickyColumnStyles()}}},{key:"setHeaderRowDef",value:function(e){this._customHeaderRowDefs=new Set([e]),this._headerRowDefChanged=!0}},{key:"setFooterRowDef",value:function(e){this._customFooterRowDefs=new Set([e]),this._footerRowDefChanged=!0}},{key:"addColumnDef",value:function(e){this._customColumnDefs.add(e)}},{key:"removeColumnDef",value:function(e){this._customColumnDefs.delete(e)}},{key:"addRowDef",value:function(e){this._customRowDefs.add(e)}},{key:"removeRowDef",value:function(e){this._customRowDefs.delete(e)}},{key:"addHeaderRowDef",value:function(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}},{key:"removeHeaderRowDef",value:function(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}},{key:"addFooterRowDef",value:function(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}},{key:"removeFooterRowDef",value:function(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}},{key:"updateStickyHeaderRowStyles",value:function(){var e=this._getRenderedRows(this._headerRowOutlet),t=this._elementRef.nativeElement.querySelector("thead");t&&(t.style.display=e.length?"":"none");var n=this._headerRowDefs.map((function(e){return e.sticky}));this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach((function(e){return e.resetStickyChanged()}))}},{key:"updateStickyFooterRowStyles",value:function(){var e=this._getRenderedRows(this._footerRowOutlet),t=this._elementRef.nativeElement.querySelector("tfoot");t&&(t.style.display=e.length?"":"none");var n=this._footerRowDefs.map((function(e){return e.sticky}));this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach((function(e){return e.resetStickyChanged()}))}},{key:"updateStickyColumnStyles",value:function(){var e=this,t=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([].concat(_toConsumableArray2(t),_toConsumableArray2(n),_toConsumableArray2(r)),["left","right"]),t.forEach((function(t,n){e._addStickyColumnStyles([t],e._headerRowDefs[n])})),this._rowDefs.forEach((function(t){for(var r=[],i=0;i<n.length;i++)e._renderRows[i].rowDef===t&&r.push(n[i]);e._addStickyColumnStyles(r,t)})),r.forEach((function(t,n){e._addStickyColumnStyles([t],e._footerRowDefs[n])})),Array.from(this._columnDefsByName.values()).forEach((function(e){return e.resetStickyChanged()}))}},{key:"_getAllRenderRows",value:function(){var e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(var n=0;n<this._data.length;n++){var r=this._data[n],i=this._getRenderRowsForData(r,n,t.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(var o=0;o<i.length;o++){var a=i[o],s=this._cachedRenderRowsMap.get(a.data);s.has(a.rowDef)?s.get(a.rowDef).push(a):s.set(a.rowDef,[a]),e.push(a)}}return e}},{key:"_getRenderRowsForData",value:function(e,t,n){return this._getRowDefs(e,t).map((function(r){var i=n&&n.has(r)?n.get(r):[];if(i.length){var o=i.shift();return o.dataIndex=t,o}return{data:e,rowDef:r,dataIndex:t}}))}},{key:"_cacheColumnDefs",value:function(){var e=this;this._columnDefsByName.clear(),he(this._contentColumnDefs,this._customColumnDefs).forEach((function(t){if(e._columnDefsByName.has(t.name))throw function(e){return Error('Duplicate column definition name provided: "'.concat(e,'".'))}(t.name);e._columnDefsByName.set(t.name,t)}))}},{key:"_cacheRowDefs",value:function(){this._headerRowDefs=he(this._contentHeaderRowDefs,this._customHeaderRowDefs),this._footerRowDefs=he(this._contentFooterRowDefs,this._customFooterRowDefs),this._rowDefs=he(this._contentRowDefs,this._customRowDefs);var e=this._rowDefs.filter((function(e){return!e.when}));if(!this.multiTemplateDataRows&&e.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=e[0]}},{key:"_renderUpdatedColumns",value:function(){var e=function(e,t){return e||!!t.getColumnsDiff()};this._rowDefs.reduce(e,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(e,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(e,!1)&&this._forceRenderFooterRows()}},{key:"_switchDataSource",value:function(e){this._data=[],Object(i.d)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}},{key:"_observeRenderChanges",value:function(){var e=this;if(this.dataSource){var t;if(Object(i.d)(this.dataSource)?t=this.dataSource.connect(this):Object(h.a)(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(f.a)(this.dataSource)),void 0===t)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=t.pipe(Object(d.a)(this._onDestroy)).subscribe((function(t){e._data=t||[],e.renderRows()}))}}},{key:"_forceRenderHeaderRows",value:function(){var e=this;this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((function(t,n){return e._renderRow(e._headerRowOutlet,t,n)})),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}},{key:"_forceRenderFooterRows",value:function(){var e=this;this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((function(t,n){return e._renderRow(e._footerRowOutlet,t,n)})),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}},{key:"_addStickyColumnStyles",value:function(e,t){var n=this,r=Array.from(t.columns||[]).map((function(e){var t=n._columnDefsByName.get(e);if(!t)throw ne(e);return t})),i=r.map((function(e){return e.sticky})),o=r.map((function(e){return e.stickyEnd}));this._stickyStyler.updateStickyColumns(e,i,o)}},{key:"_getRenderedRows",value:function(e){for(var t=[],n=0;n<e.viewContainer.length;n++){var r=e.viewContainer.get(n);t.push(r.rootNodes[0])}return t}},{key:"_getRowDefs",value:function(e,t){if(1==this._rowDefs.length)return[this._rowDefs[0]];var n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter((function(n){return!n.when||n.when(t,e)}));else{var r=this._rowDefs.find((function(n){return n.when&&n.when(t,e)}))||this._defaultRowDef;r&&n.push(r)}if(!n.length)throw function(e){return Error("Could not find a matching row definition for the"+"provided row data: ".concat(JSON.stringify(e)))}(e);return n}},{key:"_insertRow",value:function(e,t){this._renderRow(this._rowOutlet,e.rowDef,t,{$implicit:e.data})}},{key:"_renderRow",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.viewContainer.createEmbeddedView(t.template,r,n);var i,o=_createForOfIteratorHelper(this._getCellTemplates(t));try{for(o.s();!(i=o.n()).done;){var a=i.value;X.mostRecentCellOutlet&&X.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,r)}}catch(s){o.e(s)}finally{o.f()}this._changeDetectorRef.markForCheck()}},{key:"_updateRowIndexContext",value:function(){for(var e=this._rowOutlet.viewContainer,t=0,n=e.length;t<n;t++){var r=e.get(t).context;r.count=n,r.first=0===t,r.last=t===n-1,r.even=t%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[t].dataIndex,r.renderIndex=t):r.index=this._renderRows[t].dataIndex}}},{key:"_getCellTemplates",value:function(e){var t=this;return e&&e.columns?Array.from(e.columns,(function(n){var r=t._columnDefsByName.get(n);if(!r)throw ne(n);return e.extractCellTemplate(r)})):[]}},{key:"_applyNativeTableSections",value:function(){for(var e=this._document.createDocumentFragment(),t=0,n=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];t<n.length;t++){var r=n[t],i=this._document.createElement(r.tag);i.setAttribute("role","rowgroup"),i.appendChild(r.outlet.elementRef.nativeElement),e.appendChild(i)}this._elementRef.nativeElement.appendChild(e)}},{key:"_forceRenderDataRows",value:function(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}},{key:"_checkStickyStates",value:function(){var e=function(e,t){return e||t.hasStickyChanged()};this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&this.updateStickyColumnStyles()}},{key:"_setupStickyStyler",value:function(){var e=this;this._stickyStyler=new te(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:Object(f.a)()).pipe(Object(d.a)(this._onDestroy)).subscribe((function(t){e._stickyStyler.direction=t,e.updateStickyColumnStyles()}))}},{key:"trackBy",get:function(){return this._trackByFn},set:function(e){Object(o.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),".")),this._trackByFn=e}},{key:"dataSource",get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this._switchDataSource(e)}},{key:"multiTemplateDataRows",get:function(){return this._multiTemplateDataRows},set:function(e){this._multiTemplateDataRows=Object(r.c)(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}}]),e}()).\u0275fac=function(e){return new(e||re)(o["\u0275\u0275directiveInject"](o.IterableDiffers),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275injectAttribute"]("role"),o["\u0275\u0275directiveInject"](a.Directionality,8),o["\u0275\u0275directiveInject"](c.DOCUMENT),o["\u0275\u0275directiveInject"](s.a))},re.\u0275cmp=o["\u0275\u0275defineComponent"]({type:re,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,t,n){var r;1&e&&(o["\u0275\u0275contentQuery"](n,L,!0),o["\u0275\u0275contentQuery"](n,Q,!0),o["\u0275\u0275contentQuery"](n,W,!0),o["\u0275\u0275contentQuery"](n,K,!0)),2&e&&(o["\u0275\u0275queryRefresh"](r=o["\u0275\u0275loadQuery"]())&&(t._contentColumnDefs=r),o["\u0275\u0275queryRefresh"](r=o["\u0275\u0275loadQuery"]())&&(t._contentRowDefs=r),o["\u0275\u0275queryRefresh"](r=o["\u0275\u0275loadQuery"]())&&(t._contentHeaderRowDefs=r),o["\u0275\u0275queryRefresh"](r=o["\u0275\u0275loadQuery"]())&&(t._contentFooterRowDefs=r))},viewQuery:function(e,t){var n;1&e&&(o["\u0275\u0275staticViewQuery"](se,!0),o["\u0275\u0275staticViewQuery"](ce,!0),o["\u0275\u0275staticViewQuery"](ue,!0)),2&e&&(o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t._rowOutlet=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t._headerRowOutlet=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t._footerRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],ngContentSelectors:v,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(o["\u0275\u0275projectionDef"](p),o["\u0275\u0275projection"](0),o["\u0275\u0275elementContainer"](1,0),o["\u0275\u0275elementContainer"](2,1),o["\u0275\u0275elementContainer"](3,2))},directives:[ce,se,ue],encapsulation:2}),re);function he(e,t){return e.toArray().concat(Array.from(t))}var fe,de,pe=new o.InjectionToken("text-column-options"),ve=((de=function(){function e(t,n){_classCallCheck2(this,e),this._table=t,this._options=n,this.justify="start",this._options=n||{}}return _createClass2(e,[{key:"ngOnInit",value:function(){if(this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||function(e,t){return e[t]}),!this._table)throw Error("Text column could not find a parent table for registration.");this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef)}},{key:"ngOnDestroy",value:function(){this._table&&this._table.removeColumnDef(this.columnDef)}},{key:"_createDefaultHeaderText",value:function(){var e=this.name;if(Object(o.isDevMode)()&&!e)throw Error("Table text column must have a name.");return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(e):e[0].toUpperCase()+e.slice(1)}},{key:"_syncColumnDefName",value:function(){this.columnDef&&(this.columnDef.name=this.name)}},{key:"name",get:function(){return this._name},set:function(e){this._name=e,this._syncColumnDefName()}}]),e}()).\u0275fac=function(e){return new(e||de)(o["\u0275\u0275directiveInject"](le,8),o["\u0275\u0275directiveInject"](pe,8))},de.\u0275cmp=o["\u0275\u0275defineComponent"]({type:de,selectors:[["cdk-text-column"]],viewQuery:function(e,t){var n;1&e&&(o["\u0275\u0275staticViewQuery"](L,!0),o["\u0275\u0275staticViewQuery"](j,!0),o["\u0275\u0275staticViewQuery"](M,!0)),2&e&&(o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.columnDef=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.cell=n.first),o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.headerCell=n.first))},inputs:{justify:"justify",name:"name",headerText:"headerText",dataAccessor:"dataAccessor"},decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0,0),o["\u0275\u0275template"](1,m,2,3,"th",1),o["\u0275\u0275template"](2,g,2,3,"td",2),o["\u0275\u0275elementContainerEnd"]())},directives:[L,M,j,B,H],encapsulation:2}),de),me=((fe=function e(){_classCallCheck2(this,e)}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:fe}),fe.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||fe)}}),fe),ge=n("UhP/"),ye=n("quSY"),_e=n("VRyK"),be=n("itXk"),Ce=n("lJxs"),ke=[[["caption"]]],we=["caption"];function Se(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"th",3),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275styleProp"]("text-align",n.justify),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",n.headerText," ")}}function Ee(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"td",4),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=o["\u0275\u0275nextContext"]();o["\u0275\u0275styleProp"]("text-align",r.justify),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",r.dataAccessor(n,r.name)," ")}}var Ie,Oe,Pe,xe,Te,Ae,De,Re,je,Me,Ne,Fe,Le,Ve,Ue,Be,Ge=((Ie=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments)).stickyCssClass="mat-table-sticky",e}return n}(le)).\u0275fac=function(e){return He(e||Ie)},Ie.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Ie,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[o["\u0275\u0275ProvidersFeature"]([{provide:le,useExisting:Ie}]),o["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:we,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(o["\u0275\u0275projectionDef"](ke),o["\u0275\u0275projection"](0),o["\u0275\u0275elementContainer"](1,0),o["\u0275\u0275elementContainer"](2,1),o["\u0275\u0275elementContainer"](3,2))},directives:[ce,se,ue],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type,[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type,[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}\n'],encapsulation:2}),Ie),He=o["\u0275\u0275getInheritedFactory"](Ge),ze=((Oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(j)).\u0275fac=function(e){return qe(e||Oe)},Oe.\u0275dir=o["\u0275\u0275defineDirective"]({type:Oe,selectors:[["","matCellDef",""]],features:[o["\u0275\u0275ProvidersFeature"]([{provide:j,useExisting:Oe}]),o["\u0275\u0275InheritDefinitionFeature"]]}),Oe),qe=o["\u0275\u0275getInheritedFactory"](ze),We=((Pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(M)).\u0275fac=function(e){return Ye(e||Pe)},Pe.\u0275dir=o["\u0275\u0275defineDirective"]({type:Pe,selectors:[["","matHeaderCellDef",""]],features:[o["\u0275\u0275ProvidersFeature"]([{provide:M,useExisting:Pe}]),o["\u0275\u0275InheritDefinitionFeature"]]}),Pe),Ye=o["\u0275\u0275getInheritedFactory"](We),Ke=((xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(N)).\u0275fac=function(e){return Qe(e||xe)},xe.\u0275dir=o["\u0275\u0275defineDirective"]({type:xe,selectors:[["","matFooterCellDef",""]],features:[o["\u0275\u0275ProvidersFeature"]([{provide:N,useExisting:xe}]),o["\u0275\u0275InheritDefinitionFeature"]]}),xe),Qe=o["\u0275\u0275getInheritedFactory"](Ke),Xe=((Te=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(L)).\u0275fac=function(e){return Je(e||Te)},Te.\u0275dir=o["\u0275\u0275defineDirective"]({type:Te,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o["\u0275\u0275ProvidersFeature"]([{provide:L,useExisting:Te},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Te}]),o["\u0275\u0275InheritDefinitionFeature"]]}),Te),Je=o["\u0275\u0275getInheritedFactory"](Xe),Ze=((je=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),i=t.call(this,e,r),r.nativeElement.classList.add("mat-column-".concat(e.cssClassFriendlyName)),i}return n}(B)).\u0275fac=function(e){return new(e||je)(o["\u0275\u0275directiveInject"](L),o["\u0275\u0275directiveInject"](o.ElementRef))},je.\u0275dir=o["\u0275\u0275defineDirective"]({type:je,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o["\u0275\u0275InheritDefinitionFeature"]]}),je),$e=((Re=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),i=t.call(this,e,r),r.nativeElement.classList.add("mat-column-".concat(e.cssClassFriendlyName)),i}return n}(G)).\u0275fac=function(e){return new(e||Re)(o["\u0275\u0275directiveInject"](L),o["\u0275\u0275directiveInject"](o.ElementRef))},Re.\u0275dir=o["\u0275\u0275defineDirective"]({type:Re,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:["role","gridcell",1,"mat-footer-cell"],features:[o["\u0275\u0275InheritDefinitionFeature"]]}),Re),et=((De=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),i=t.call(this,e,r),r.nativeElement.classList.add("mat-column-".concat(e.cssClassFriendlyName)),i}return n}(H)).\u0275fac=function(e){return new(e||De)(o["\u0275\u0275directiveInject"](L),o["\u0275\u0275directiveInject"](o.ElementRef))},De.\u0275dir=o["\u0275\u0275defineDirective"]({type:De,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o["\u0275\u0275InheritDefinitionFeature"]]}),De),tt=((Ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(W)).\u0275fac=function(e){return nt(e||Ae)},Ae.\u0275dir=o["\u0275\u0275defineDirective"]({type:Ae,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o["\u0275\u0275ProvidersFeature"]([{provide:W,useExisting:Ae}]),o["\u0275\u0275InheritDefinitionFeature"]]}),Ae),nt=o["\u0275\u0275getInheritedFactory"](tt),rt=((Me=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(K)).\u0275fac=function(e){return it(e||Me)},Me.\u0275dir=o["\u0275\u0275defineDirective"]({type:Me,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[o["\u0275\u0275ProvidersFeature"]([{provide:K,useExisting:Me}]),o["\u0275\u0275InheritDefinitionFeature"]]}),Me),it=o["\u0275\u0275getInheritedFactory"](rt),ot=((Ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(Q)).\u0275fac=function(e){return at(e||Ne)},Ne.\u0275dir=o["\u0275\u0275defineDirective"]({type:Ne,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o["\u0275\u0275ProvidersFeature"]([{provide:Q,useExisting:Ne}]),o["\u0275\u0275InheritDefinitionFeature"]]}),Ne),at=o["\u0275\u0275getInheritedFactory"](ot),st=((Fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(J)).\u0275fac=function(e){return ct(e||Fe)},Fe.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Fe,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o["\u0275\u0275ProvidersFeature"]([{provide:J,useExisting:Fe}]),o["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&o["\u0275\u0275elementContainer"](0,0)},directives:[X],encapsulation:2}),Fe),ct=o["\u0275\u0275getInheritedFactory"](st),ut=((Le=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(Z)).\u0275fac=function(e){return lt(e||Le)},Le.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Le,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-footer-row"],exportAs:["matFooterRow"],features:[o["\u0275\u0275ProvidersFeature"]([{provide:Z,useExisting:Le}]),o["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&o["\u0275\u0275elementContainer"](0,0)},directives:[X],encapsulation:2}),Le),lt=o["\u0275\u0275getInheritedFactory"](ut),ht=((Ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}($)).\u0275fac=function(e){return ft(e||Ve)},Ve.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Ve,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o["\u0275\u0275ProvidersFeature"]([{provide:$,useExisting:Ve}]),o["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&o["\u0275\u0275elementContainer"](0,0)},directives:[X],encapsulation:2}),Ve),ft=o["\u0275\u0275getInheritedFactory"](ht),dt=((Ue=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(ve)).\u0275fac=function(e){return pt(e||Ue)},Ue.\u0275cmp=o["\u0275\u0275defineComponent"]({type:Ue,selectors:[["mat-text-column"]],features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:0,consts:[["matColumnDef",""],["mat-header-cell","",3,"text-align",4,"matHeaderCellDef"],["mat-cell","",3,"text-align",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""]],template:function(e,t){1&e&&(o["\u0275\u0275elementContainerStart"](0,0),o["\u0275\u0275template"](1,Se,2,3,"th",1),o["\u0275\u0275template"](2,Ee,2,3,"td",2),o["\u0275\u0275elementContainerEnd"]())},directives:[Xe,We,ze,Ze,et],encapsulation:2}),Ue),pt=o["\u0275\u0275getInheritedFactory"](dt),vt=((Be=function e(){_classCallCheck2(this,e)}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:Be}),Be.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Be)},imports:[[me,ge.f]]}),Be),mt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck2(this,n),(e=t.call(this))._renderData=new l.a([]),e._filter=new l.a(""),e._internalPageChanges=new u.a,e._renderChangesSubscription=ye.a.EMPTY,e.sortingDataAccessor=function(e,t){var n=e[t];if(Object(r.a)(n)){var i=Number(n);return i<9007199254740991?i:n}return n},e.sortData=function(t,n){var r=n.active,i=n.direction;return r&&""!=i?t.sort((function(t,n){var o=e.sortingDataAccessor(t,r),a=e.sortingDataAccessor(n,r),s=0;return null!=o&&null!=a?o>a?s=1:o<a&&(s=-1):null!=o?s=1:null!=a&&(s=-1),s*("asc"==i?1:-1)})):t},e.filterPredicate=function(e,t){var n=Object.keys(e).reduce((function(t,n){return t+e[n]+"\u25ec"}),"").toLowerCase(),r=t.trim().toLowerCase();return-1!=n.indexOf(r)},e._data=new l.a(i),e._updateChangeSubscription(),e}return _createClass2(n,[{key:"_updateChangeSubscription",value:function(){var e=this,t=this._sort?Object(_e.a)(this._sort.sortChange,this._sort.initialized):Object(f.a)(null),n=this._paginator?Object(_e.a)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Object(f.a)(null),r=this._data,i=Object(be.b)([r,this._filter]).pipe(Object(Ce.a)((function(t){var n=_slicedToArray(t,1)[0];return e._filterData(n)}))),o=Object(be.b)([i,t]).pipe(Object(Ce.a)((function(t){var n=_slicedToArray(t,1)[0];return e._orderData(n)}))),a=Object(be.b)([o,n]).pipe(Object(Ce.a)((function(t){var n=_slicedToArray(t,1)[0];return e._pageData(n)})));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=a.subscribe((function(t){return e._renderData.next(t)}))}},{key:"_filterData",value:function(e){var t=this;return this.filteredData=this.filter?e.filter((function(e){return t.filterPredicate(e,t.filter)})):e,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}},{key:"_orderData",value:function(e){return this.sort?this.sortData(e.slice(),this.sort):e}},{key:"_pageData",value:function(e){if(!this.paginator)return e;var t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}},{key:"_updatePaginator",value:function(e){var t=this;Promise.resolve().then((function(){var n=t.paginator;if(n&&(n.length=e,n.pageIndex>0)){var r=Math.ceil(n.length/n.pageSize)-1||0,i=Math.min(n.pageIndex,r);i!==n.pageIndex&&(n.pageIndex=i,t._internalPageChanges.next())}}))}},{key:"connect",value:function(){return this._renderData}},{key:"disconnect",value:function(){}},{key:"data",get:function(){return this._data.value},set:function(e){this._data.next(e)}},{key:"filter",get:function(){return this._filter.value},set:function(e){this._filter.next(e)}},{key:"sort",get:function(){return this._sort},set:function(e){this._sort=e,this._updateChangeSubscription()}},{key:"paginator",get:function(){return this._paginator},set:function(e){this._paginator=e,this._updateChangeSubscription()}}]),n}(i.b)},PCNd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("s7LF"),a=n("Dxy4"),s=n("pMoy"),c=n("iELJ"),u=n("Tj54"),l=n("rJgo"),h=n("OaSA"),f=n("pu8Q"),d=n("5QHs"),p=n("LUZP"),v=n("mPVK"),m=n("TSSN"),g=n("mnSs"),y=(n("6z/O"),n("7ueh"),n("q3mk"),n("DG6c"),n("PLoC"),r.__importStar(n("8Y7J"))),_=(r.__importStar(n("mnSs")),[i.CommonModule,o.FormsModule,o.ReactiveFormsModule]),b=[c.MatDialogModule,a.MatButtonModule,l.MatMenuModule,u.MatIconModule,s.MatCheckboxModule,h.MatTableModule,f.MatProgressSpinnerModule,d.MatPaginatorModule,p.MatSortModule,v.MatSliderModule],C=[g.TooltipModule.forRoot({"max-width":500,"hide-delay":0,"animation-duration":100,shadow:!1}),m.TranslateModule],k=function e(){_classCallCheck2(this,e)};t.SharedModule=k,k.\u0275mod=y.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=y.\u0275\u0275defineInjector({factory:function(e){return new(e||k)},imports:[[].concat(_,b,C),i.CommonModule,o.FormsModule,o.ReactiveFormsModule,c.MatDialogModule,a.MatButtonModule,l.MatMenuModule,u.MatIconModule,s.MatCheckboxModule,h.MatTableModule,f.MatProgressSpinnerModule,d.MatPaginatorModule,p.MatSortModule,v.MatSliderModule,g.TooltipModule,m.TranslateModule]})},PHhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("Dpde"),s=n("xEFI"),c=n("Vphj"),u=n("ZPdZ"),l=n("G+XK"),h=n("dDzl"),f=n("DnmP"),d=r.__importStar(n("8Y7J")),p=r.__importStar(n("2kLq")),v=r.__importStar(n("f4AX")),m=r.__importStar(n("GNJl")),g=r.__importStar(n("PIpM")),y=r.__importStar(n("Y4+Y")),_=r.__importStar(n("TSSN")),b=r.__importStar(n("AYtS")),C=function(){function e(t,n,r,c,u,l,h){var d=this;_classCallCheck2(this,e),this.firebaseService=t,this.userService=n,this.tokenService=r,this.ratingService=c,this.notificationService=u,this.translateService=l,this.audioHelpers=h,this.rooms$=new i.BehaviorSubject([]),this.selectedRooms$=new i.BehaviorSubject([]),this.roomMembers$=new i.BehaviorSubject([]),this.roomMembers=[],this.roomsResolved=!1,this.subscription=new i.Subscription,this.destroy$=new i.Subject,this.subscription.add(this.tokenService.isLogged$.pipe(o.tap((function(e){e&&(d.userId=d.userService.getCurrentUserId())}))).subscribe()),this.firebaseService.listen(a.GameRoomDto,"rooms").pipe(o.takeUntil(this.destroy$)).subscribe((function(e){return d.rooms$.next(e)})),this.firebaseService.listen(s.PlayerDto,"players").pipe(o.tap((function(e){var t=d.getSelectedRoomId();if(t){var n=d.roomMembers.filter((function(e){return e.roomId===t&&e.userId!==d.userId})).map((function(e){return e.userId})),r=e.filter((function(e){return e.roomId===t&&e.userId!==d.userId})).map((function(e){return e.userId})),i=n.some((function(e){return!r.includes(e)})),o=r.some((function(e){return!n.includes(e)}));i&&d.audioHelpers.playSound(f.SoundEffect.LeaveRoom),o&&d.audioHelpers.playSound(f.SoundEffect.JoinRoom)}})),o.tap((function(e){d.roomMembers=e,d.roomMembers$.next(d.roomMembers)})),o.map((function(e){return e.filter((function(e){return e.userId===d.userId}))})),o.switchMap((function(e){var t=e.map((function(e){return e.roomId}));return d.rooms$.pipe(o.map((function(e){return e.filter((function(e){return t.includes(e.id)}))})))})),o.map((function(e){var t=d.getSelectedRoomId();if(t){var n=d.selectedRooms.find((function(e){return e.id===t})),r=e.find((function(e){return e.id===t}));n&&r&&(!n.isGameMode&&r.isGameMode&&d.audioHelpers.playSound(f.SoundEffect.GameStart),!n.isGameFinished&&r.isGameFinished&&d.audioHelpers.playSound(f.SoundEffect.GameEnd))}d.selectedRooms$.next(e)})),o.takeUntil(this.destroy$)).subscribe()}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"selectRoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectedGame;if(!l.isNil(e)&&!l.isNil(t)){if(!this.rooms.find((function(t){return t.id===e})))throw new Error("Room not specified");return this.firebaseService.set(s.PlayerDto,"players","".concat(e,"_").concat(this.userId),{roomId:e,userId:this.userId})}}},{key:"leaveRoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedGame;if(l.isNil(e))throw new Error("Game not specified");var t=this.getSelectedRoomId(e);if(l.isNil(t))throw new Error("Room ID not specified");return this.firebaseService.delete(s.PlayerDto,"players","".concat(t,"_").concat(this.userId))}},{key:"getSelectedRoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedGame;return l.isNil(e)?null:this.selectedRooms.find((function(t){return t.game===e}))||null}},{key:"getSelectedRoomId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedGame;if(l.isNil(e))return null;var t=this.getSelectedRoom(e);return t?t.id:null}},{key:"getRoom",value:function(e){return l.isNil(e)?null:this.rooms.find((function(t){return t.id===e}))}},{key:"getRooms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedGame;return l.isNil(e)?[]:this.rooms}},{key:"addRoom",value:function(e){if(l.isNil(e))throw new Error("Room not specified");return e.id=this.firebaseService.generateId(7),e.authorId=this.userId,e.ownerId=this.userId,e.botManagerId=this.userId,i.forkJoin([this.firebaseService.set(a.GameRoomDto,"rooms",e.id,e),this.ratingService.addXp(this.userId,u.UserAction.CreateRoom)])}},{key:"deleteRoom",value:function(e){var t=this;if(l.isNil(e))throw new Error("Room ID not specified");return this.firebaseService.delete(a.GameRoomDto,"rooms",e).pipe(o.tap((function(){return t.notificationService.addNotification({level:"info",message:t.translateService.instant("i18n.NOTIFICATIONS.ROOM_DELETED",{roomId:e}),location:h.NotificationLocation.Aside})})))}},{key:"selectGame",value:function(e){this.selectedGame=e}},{key:"setGameMode",value:function(e,t){if(l.isNil(e))throw new Error("Room ID not specified");return this.firebaseService.update(a.GameRoomDto,"rooms",e,{isGameMode:t})}},{key:"setGameFinished",value:function(e,t){if(l.isNil(e))throw new Error("Room ID not specified");return this.firebaseService.update(a.GameRoomDto,"rooms",e,{isGameFinished:t})}},{key:"isGameMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelectedRoomId();if(!e)return!1;var t=this.getRoom(e);return!!t&&t.isGameMode}},{key:"isGameFinished",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelectedRoomId();if(!e)return!1;var t=this.getRoom(e);return!!t&&t.isGameFinished}},{key:"getRoomMembers",value:function(e){return this.roomMembers.filter((function(t){return t.roomId===e}))}},{key:"getRoomMember",value:function(e,t){return this.roomMembers.find((function(n){return n.userId===e&&n.roomId===t}))||null}},{key:"getRoomMemberByPlayerId",value:function(e,t){return this.roomMembers.find((function(n){return n.playerId===e&&n.roomId===t}))||null}},{key:"getSelectedRoomMembers",value:function(){var e=this;return this.roomMembers.filter((function(t){return t.roomId===e.getSelectedRoomId()}))}},{key:"fetchRooms",value:function(){return this.firebaseService.getAll(a.GameRoomDto,"rooms")}},{key:"fetchSelectedRooms",value:function(){var e=this;return this.firebaseService.getAll(s.PlayerDto,"players").pipe(o.tap((function(t){return e.roomMembers=t})),o.map((function(t){return t.filter((function(t){return t.userId===e.userId}))})),o.switchMap((function(t){var n=t.map((function(e){return e.roomId}));return e.rooms$.pipe(o.map((function(e){return e.filter((function(e){return n.includes(e.id)}))})))})))}},{key:"anybodyWon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelectedRoomId();return!l.isNil(e)&&(this.humansWon(e)||this.itWon(e))}},{key:"humansWon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelectedRoomId();return!l.isNil(e)&&!this.roomMembers.some((function(t){return t.roomId===e&&t.role===c.Role.It}))}},{key:"itWon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelectedRoomId();return!l.isNil(e)&&!this.roomMembers.some((function(t){return t.roomId===e&&t.role===c.Role.Human}))}},{key:"isRoomOwner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSelectedRoomId();if(!e)return!1;var n=this.rooms.find((function(e){return e.id===t}));return!!n&&(n.ownerId===e||n.authorId===e)}},{key:"isBotManager",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSelectedRoomId(),n=this.rooms.find((function(e){return e.id===t}));return!!n&&n.botManagerId===e}},{key:"getBotManagerId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelectedRoomId(),t=this.rooms.find((function(t){return t.id===e}));return t?t.botManagerId:null}},{key:"resolveRooms",value:function(){var e=this;return this.pendingResolvedRooms||(this.pendingResolvedRooms=this.fetchRooms().pipe(o.tap((function(t){return e.rooms$.next(t)})),o.switchMap((function(){return e.fetchSelectedRooms()})),o.tap((function(t){e.selectedRooms$.next(t),e.roomMembers$.next(e.roomMembers)})),o.map((function(){return e.rooms})),o.take(1),o.finalize((function(){return e.roomsResolved=!0})))),this.pendingResolvedRooms}},{key:"hasRoomOwner",value:function(e){return!!this.getRoom(e).ownerId}},{key:"setRoomOwner",value:function(e,t){var n=this.getRoom(e).ownerId;if(!t){var r=this.getRoomMembers(e).filter((function(e){return e.userId!==n})).shift();t=r?r.userId:null}return this.firebaseService.update(a.GameRoomDto,"rooms",e,{ownerId:t})}},{key:"selectedRooms",get:function(){return this.selectedRooms$.value}},{key:"isPlaying",get:function(){var e=this,t=this.getSelectedRoomId(this.selectedGame);return!l.isNil(t)&&!l.isNil(this.roomMembers.find((function(n){return n.userId===e.userId&&n.roomId===t&&!l.isNil(n.playerId)})))}},{key:"rooms",get:function(){return this.rooms$.value}}]),e}();t.RoomService=C,C.\u0275fac=function(e){return new(e||C)(d.\u0275\u0275inject(p.FirebaseService),d.\u0275\u0275inject(v.UserService),d.\u0275\u0275inject(m.TokenService),d.\u0275\u0275inject(g.RatingService),d.\u0275\u0275inject(y.NotificationService),d.\u0275\u0275inject(_.TranslateService),d.\u0275\u0275inject(b.AudioHelpers))},C.\u0275prov=d.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"})},PIpM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("ZzrI"),s=n("OC2O"),c=n("ZPdZ"),u=n("wO2d"),l=n("G+XK"),h=n("dDzl"),f=r.__importStar(n("8Y7J")),d=r.__importStar(n("2kLq")),p=r.__importStar(n("Y4+Y")),v=r.__importStar(n("TSSN")),m=r.__importStar(n("F8Su")),g=function(){function e(t,n,r,u){var l=this;_classCallCheck2(this,e),this.firebaseService=t,this.notificationService=n,this.translateService=r,this.gameInfoService=u,this.rating$=new i.BehaviorSubject([]),this.ratingInfo$=new i.BehaviorSubject([]),this.rewardPoints=new Map([[c.UserAction.SignUp,0],[c.UserAction.SignIn,0],[c.UserAction.FillUserInfo,100],[c.UserAction.CreateRoom,100],[c.UserAction.WinGame,500],[c.UserAction.LooseGame,250]]),this.destroy$=new i.Subject,this.firebaseService.listen(s.UserRatingDto,"rating").pipe(o.takeUntil(this.destroy$)).subscribe((function(e){return l.rating$.next(e)})),this.firebaseService.listen(a.RatingInfoDto,"rating-info").pipe(o.takeUntil(this.destroy$)).subscribe((function(e){return l.ratingInfo$.next(e)}))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"getLevel",value:function(e){var t=this.rating.find((function(t){return t.userId===e}));return t?t.level:u.UserLevel.Noob}},{key:"addXp",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return console.warn("Missing user ID"),i.EMPTY;if(l.isNil(t))return console.warn("Missing action"),i.EMPTY;var r=this.ratingInfo$.getValue();if(!this.rating||!r)return console.warn("Missing rating data or levels info"),i.EMPTY;var a,u,h=this.rating.find((function(t){return t.userId===e})),f=this.getRewardPoints(t);if(h){var d=h.gamesPlayed,p=h.wins,v=h.losses;return t===c.UserAction.LooseGame?(d+=1,v+=1):t===c.UserAction.WinGame&&(d+=1,p+=1),a=h.xp+f,u=r.find((function(e){return e.minXp<=a&&(!e.maxXp||e.maxXp>a)})).level,n&&this.sendXpNotification(f,t),this.firebaseService.update(s.UserRatingDto,"rating",e,{gamesPlayed:d,wins:p,losses:v,xp:a,level:u}).pipe(o.catchError((function(e){return i.throwError(e)})))}return a=f,u=r.find((function(e){return e.minXp<=a&&(!e.maxXp||e.maxXp>a)})).level,n&&this.sendXpNotification(f,t),this.firebaseService.set(s.UserRatingDto,"rating",e,new s.UserRatingDto({userId:e,gamesPlayed:0,wins:0,losses:0,xp:a,level:u})).pipe(o.catchError((function(e){return i.throwError(e)})))}},{key:"getUserRating",value:function(e){return this.rating$.pipe(o.map((function(t){return t.find((function(t){return t.userId===e}))})))}},{key:"getRatingInfo",value:function(e){return this.ratingInfo$.pipe(o.map((function(t){return t.find((function(t){return t.level===e}))})))}},{key:"getRewardPoints",value:function(e){return this.rewardPoints.get(e)||0}},{key:"sendXpNotification",value:function(e,t){return this.notificationService.addNotification({level:"info",message:this.translateService.instant("i18n.NOTIFICATIONS.GAINED_XP",{xp:e,action:this.gameInfoService.getFormattedUserAction(t).toLowerCase()}),location:h.NotificationLocation.Aside})}},{key:"rating",get:function(){return this.rating$.getValue()}},{key:"ratingInfo",get:function(){return this.ratingInfo$.getValue()}}]),e}();t.RatingService=g,g.\u0275fac=function(e){return new(e||g)(f.\u0275\u0275inject(d.FirebaseService),f.\u0275\u0275inject(p.NotificationService),f.\u0275\u0275inject(v.TranslateService),f.\u0275\u0275inject(m.GameInfoService))},g.\u0275prov=f.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac,providedIn:"root"})},PLoC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=r.__importStar(n("8Y7J")),o=r.__importStar(n("TSSN")),a=r.__importStar(n("iELJ")),s=function e(){_classCallCheck2(this,e)};t.DevDialogComponent=s,s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=i.\u0275\u0275defineComponent({type:s,selectors:[["gw-dev-dialog"]],decls:5,vars:0,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-stretch","gw-form"],[1,"form-group","m-2"],["translate","i18n.NOTIFICATIONS.WEBSITE_UNAVAILABLE"],[1,"d-flex","justify-content-center"],["mat-dialog-close","","tabindex","0","translate","i18n.COMMON.CLOSE",1,"btn","btn-primary","m-2"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275elementStart(1,"div",1),i.\u0275\u0275element(2,"span",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"div",3),i.\u0275\u0275element(4,"div",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd())},directives:[o.TranslateDirective,a.MatDialogClose],styles:[""]})},PqYM:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("D0XW"),o=n("Y7HM"),a=n("z+Ro");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=-1;return Object(o.a)(t)?s=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=i.a),new r.a((function(t){var r=Object(o.a)(e)?e:+e-n.now();return n.schedule(c,r,{index:0,period:s,subscriber:t})}))}function c(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},"R/cS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("Dpde"),s=n("xEFI"),c=n("tenp"),u=n("Vphj"),l=n("gcyb"),h=n("MBfS"),f=n("G+XK"),d=r.__importStar(n("8Y7J")),p=r.__importStar(n("2kLq")),v=r.__importStar(n("bUwk")),m=r.__importStar(n("zyZ6")),g=r.__importStar(n("S1xO")),y=r.__importStar(n("PHhj")),_=r.__importStar(n("f4AX")),b=function(){function e(t,n,r,i,a,s){var c=this;_classCallCheck2(this,e),this.firebaseService=t,this.httpService=n,this.gameService=r,this.cardService=i,this.roomService=a,this.userService=s,this.isProcessingBotStep=!1,this.botProcessingInterval=1e4,this.bots=[],this.botRecords=new Map,this.httpService.getPlain("/assets/txt/bots.csv").pipe(o.map((function(e){e.split("\n").map((function(e){var t=e.trim().split(",");c.botRecords.set(t[0],t[1])}))}))).subscribe(),this.roomService.roomMembers$.pipe(o.map((function(e){c.bots=e.filter((function(e){return e.isBot}))}))).subscribe(),this.gameService.gameStopped$.pipe(o.map((function(){return c.isProcessingBotStep=!1}))).subscribe()}return _createClass2(e,[{key:"getBot",value:function(e,t){return this.bots.find((function(n){return n.roomId===e&&n.playerId===t}))}},{key:"addBot",value:function(e,t){var n="BOT_".concat(this.firebaseService.generateId()),r=this.getRandomBotRecord();return this.firebaseService.set(s.PlayerDto,"players","".concat(e,"_").concat(n),{roomId:e,playerId:t,role:u.Role.Human,userId:n,botName:r[0],botGender:r[1]})}},{key:"removeBot",value:function(e,t){var n=this.bots.find((function(n){return n.roomId===e&&n.playerId===t}));return n?this.firebaseService.delete(s.PlayerDto,"players","".concat(e,"_").concat(n.userId)):(console.warn("Cannot remove the bot at #".concat(t," place - bot is missing")),i.of())}},{key:"removeBots",value:function(e){var t=this.bots.map((function(e){return e.playerId}));return t.length?(console.warn("Removing all bots in room #".concat(e)),this.firebaseService.deleteQuery("players",[{field:"roomId",operator:"==",value:e},{field:"playerId",operator:"in",value:t}])):(console.warn("Cannot remove bots in the room #".concat(e," - none of them are present")),i.of(!0))}},{key:"getRandomBotRecord",value:function(){var e=h.getRandomMapItem(this.botRecords);return this.botRecords.delete(e[0]),e}},{key:"processBotStep",value:function(){var e,t=this;console.log(">>> BOT: Processing step"),this.isProcessingBotStep=!0;var n=this.gameService.getTableComponent(),r=this.gameService.getActivePlayerComponents(),a=[];n&&n.cardComponents.forEach((function(e){return a.push(e)}));var s=[];r&&r.forEach((function(e){e.cardComponents.forEach((function(e){return s.push(e)}))}));var u=s.find((function(e){return e.canTake})),f=a.find((function(e){return e.canTake})),d=s.find((function(e){return e.canPlay})),p=a.find((function(e){return e.canPlay})),v=s.find((function(e){return e.canDrop})),m=a.find((function(e){return e.canDrop})),g=s.find((function(e){return e.canGive})),y=a.find((function(e){return e.canGive})),_=this.gameService.getActivePlayerId();if(this.cardService.canRefillDeck())e=this.cardService.refillDeck();else{var b,C,k,w,S,E=new Map;if(this.gameService.hasAnyOfStepPhases(l.StepPhase.TakeFromDeck,l.StepPhase.FulfillHandFromDeck)&&f&&E.set(c.GameAction.TakeDeckCard,[f.card.id]),this.gameService.hasStepPhase(l.StepPhase.PickFromHand)&&u&&E.set(c.GameAction.TakeHandCard,[u.card.id]),this.gameService.hasStepPhase(l.StepPhase.PlayFromTable)&&p)p.filteredReceivingPlayers.length>0&&(C=p.filteredReceivingPlayers[0].playerId),E.set(c.GameAction.PlayTableCard,[p.card.id,C]);if(this.gameService.hasAnyOfStepPhases(l.StepPhase.PlayFromHand,l.StepPhase.DefenceFromHand)&&d)d.filteredReceivingPlayers.length>0&&(k=d.filteredReceivingPlayers[0].playerId),E.set(c.GameAction.PlayHandCard,[d.card.id,k]);if(this.gameService.hasStepPhase(l.StepPhase.DropFromTable)&&m&&E.set(c.GameAction.DropTableCard,[m.card.id]),this.gameService.hasStepPhase(l.StepPhase.DropFromHand)&&v&&E.set(c.GameAction.DropHandCard,[v.card.id]),this.gameService.hasAnyOfStepPhases(l.StepPhase.GiveToPlayer,l.StepPhase.GiveToNextPlayer,l.StepPhase.GiveToPreviousPlayer,l.StepPhase.GiveToSpecificPlayer)&&g)g.filteredReceivingPlayers.length>0&&(w=g.filteredReceivingPlayers[0].playerId),E.set(c.GameAction.GiveHandCard,[g.card.id,w]);if(this.gameService.hasStepPhase(l.StepPhase.ReturnToPlayer)&&y)y.filteredReceivingPlayers.length>0&&(S=y.filteredReceivingPlayers[0].playerId),E.set(c.GameAction.GiveTableCard,[y.card.id,S]);this.gameService.hasStepPhase(l.StepPhase.ShowFromHand)&&(this.gameService.isHuman(_)?E.set(c.GameAction.ShowCards,[]):E.set(c.GameAction.SkipShowingCards,[])),this.gameService.hasStepPhase(l.StepPhase.AcceptRequest)&&E.set(c.GameAction.AcceptRequest,[]);var I=h.getRandomMapItem(E);e=(b=this.cardService)[I[0]].apply(b,_toConsumableArray2(I[1]))}return e.pipe(o.finalize((function(){return t.isProcessingBotStep=!1})),o.timeout(2*this.botProcessingInterval),o.catchError((function(){return t.isProcessingBotStep=!1,i.throwError("Request timed out")})))}},{key:"processBotManagement",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.roomService.getSelectedRoomId(),n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return console.warn("Room ID not specified"),i.of(!0);var o=this.roomService.getBotManagerId();if(o&&(!n||o!==this.userService.getCurrentUserId()))return i.of(!0);var a=this.roomService.getRoomMembers(t).filter((function(e){return!e.isBot})).filter((function(t){return!n||t.playerId!==e.gameService.getActivePlayerId()}));return a.length?this.setBotManager(a[0].userId,t):i.forkJoin([this.setBotManager(null,t),r?this.removeBots(t):i.of(!0)])}},{key:"setBotManager",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.roomService.getSelectedRoomId();if(f.isUndefined(e)||!t)throw new Error("Manager ID or Room ID not specified");return this.roomService.isBotManager(e,t)?(console.warn("Same Manager ID already exists"),i.of(this.roomService.getSelectedRoom())):(console.warn("Setting Bot Manager ID to ".concat(e," in room #").concat(t)),this.firebaseService.update(a.GameRoomDto,"rooms",t,{botManagerId:e}))}}]),e}();t.BotService=b,b.\u0275fac=function(e){return new(e||b)(d.\u0275\u0275inject(p.FirebaseService),d.\u0275\u0275inject(v.HttpService),d.\u0275\u0275inject(m.GameService),d.\u0275\u0275inject(g.CardService),d.\u0275\u0275inject(y.RoomService),d.\u0275\u0275inject(_.UserService))},b.\u0275prov=d.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"})},R3EJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=r.__importStar(n("8Y7J")),s=r.__importStar(n("2kLq")),c=r.__importStar(n("f4AX")),u=function(){function e(t,n){_classCallCheck2(this,e),this.firebaseService=t,this.userService=n}return _createClass2(e,[{key:"resolve",value:function(){var e=this,t=this.userService.getCurrentUser();return t?i.of(t):this.firebaseService.getAuthState().pipe(o.take(1),o.switchMap((function(t){if(t){var n=e.firebaseService.getFormattedUserId(t);return e.firebaseService.getCurrentUser(n)}return i.of(null)})),o.map((function(t){return e.userService.setCurrentUser(t),t})))}}]),e}();t.UserResolver=u,u.\u0275fac=function(e){return new(e||u)(a.\u0275\u0275inject(s.FirebaseService),a.\u0275\u0275inject(c.UserService))},u.\u0275prov=a.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"})},RWxf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomIntFromInterval=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.randomIntFromArray=function(e){return e[Math.floor(Math.random()*e.length)]},t.create=function(e){return new e}},RcHk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=r.__importStar(n("8Y7J")),o=r.__importStar(n("iInd")),a=r.__importStar(n("TSSN")),s=function(){return{exact:!0}},c=function e(){_classCallCheck2(this,e)};t.AccountComponent=c,c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=i.\u0275\u0275defineComponent({type:c,selectors:[["gw-account"]],decls:6,vars:2,consts:[[1,"nav","nav-tabs"],[1,"nav-item"],["routerLink","./","routerLinkActive","active","translate","i18n.COMMON.ACCOUNT",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","./stats","routerLinkActive","active","translate","i18n.COMMON.STATISTICS",1,"nav-link"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"ul",0),i.\u0275\u0275elementStart(1,"li",1),i.\u0275\u0275element(2,"a",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"li",1),i.\u0275\u0275element(4,"a",3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(5,"router-outlet")),2&e&&(i.\u0275\u0275advance(2),i.\u0275\u0275property("routerLinkActiveOptions",i.\u0275\u0275pureFunction0(1,s)))},directives:[o.RouterLinkWithHref,o.RouterLinkActive,a.TranslateDirective,o.RouterOutlet],styles:[""]})},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("UBlB"),i=n("zVF4"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService(c);s.resolve(u)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),s=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=s,t.Provider=a},S1xO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("LyZz"),s=n("xEFI"),c=n("YrkI"),u=n("9/Hz"),l=n("Hs/S"),h=n("z4p9"),f=n("I9Nm"),d=n("ngNE"),p=n("Vphj"),v=n("gcyb"),m=n("fE0i"),g=n("MBfS"),y=n("G+XK"),_=r.__importStar(n("8Y7J")),b=r.__importStar(n("2kLq")),C=r.__importStar(n("zyZ6")),k=r.__importStar(n("PHhj")),w=r.__importStar(n("F8Su")),S=function(){function e(t,n,r,i){var a=this;_classCallCheck2(this,e),this.firebaseService=t,this.gameService=n,this.roomService=r,this.gameInfoService=i,this.MAX_HAND_CARDS=4,this.processGameStatePipe=function(e){return e.pipe(o.tap((function(){a.roomService.anybodyWon()&&!a.roomService.isGameFinished()&&a.roomService.setGameFinished(a.roomService.getSelectedRoomId(),!0).subscribe()})))}}return _createClass2(e,[{key:"canDrop",value:function(){return this.isTakingStep&&!this.roomService.isGameFinished()&&this.gameService.hasAnyOfStepPhases(v.StepPhase.DropFromHand,v.StepPhase.DropFromTable)}},{key:"canTake",value:function(e){var t;return this.isTakingStep&&!this.roomService.isGameFinished()&&(t=this.gameService).hasAnyOfStepPhases.apply(t,_toConsumableArray2(e))}},{key:"canPlay",value:function(){return this.isTakingStep&&!this.roomService.isGameFinished()&&this.gameService.hasAnyOfStepPhases(v.StepPhase.PlayFromHand,v.StepPhase.DefenceFromHand,v.StepPhase.ShowFromHand,v.StepPhase.PlayFromTable)}},{key:"canGive",value:function(){return this.isTakingStep&&!this.roomService.isGameFinished()&&this.gameService.hasAnyOfStepPhases(v.StepPhase.GiveToNextPlayer,v.StepPhase.GiveToPreviousPlayer,v.StepPhase.GiveToPlayer,v.StepPhase.GiveToSpecificPlayer,v.StepPhase.ReturnToPlayer)}},{key:"canRefillDeck",value:function(){return this.isTakingStep&&!this.roomService.isGameFinished()&&!this.gameService.currentGameDeck.length&&this.gameService.currentGameTrash.length}},{key:"takeDeckCard",value:function(e){var t=this;if(!this.isTakingStep||!this.gameService.hasCurrentGame)return console.warn("Not taking step or not in the game"),i.EMPTY;var n=this.gameService.currentGame,r=n.deck.find((function(t){return t.id===e}));if(y.isNil(r))return console.warn("Missing card"),i.EMPTY;var o=this.gameService.getCurrentStepPlayerId(),a=this.roomService.getSelectedRoomId(),s=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasAnyOfStepPhases(v.StepPhase.TakeFromDeck,v.StepPhase.FulfillHandFromDeck))return console.warn("Incorrect step phase"),i.EMPTY;var u;n.deck=n.deck.filter((function(t){return t.id!==e}));var f=this.gameService.getNextPlayer().playerId,p=this.MAX_HAND_CARDS,m=this.gameService.getActivePanicCard(),g=this.gameService.getActiveEventCard(),_=n.reservedStepPhases,b=n.reservedStepPlayerId,C=this.gameService.getPlayerComponent(o).user.username;if(this.gameService.hasStepPhase(v.StepPhase.TakeFromDeck)){if(this.gameInfoService.saveStepInfo(a,new c.StepInfoDto({roomId:a,activeUsername:C,cardAction:r.action,stepPhase:v.StepPhase.TakeFromDeck,processedAt:new Date})).subscribe(),u=o,this.gameService.hasStepPhase(v.StepPhase.ProcessPanic));else if(this.gameService.hasStepPhase(v.StepPhase.ProcessEvent))switch(g.action){case h.NechtoCardAction.Event_Action_Persistence:p+=3}if(r.type===d.NechtoCardType.Event)if(this.gameService.hasAnyOfStepPhases(v.StepPhase.ProcessPanic,v.StepPhase.ProcessEvent)&&n.hands[o].push(Object.assign(Object.assign({},r),{hidden:!1})),n.hands[o].length<p)s=[v.StepPhase.TakeFromDeck],this.gameService.hasAnyOfStepPhases(v.StepPhase.ProcessPanic,v.StepPhase.ProcessEvent)?this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)?s.push(v.StepPhase.ProcessPanic):this.gameService.hasStepPhase(v.StepPhase.ProcessEvent)&&s.push(v.StepPhase.ProcessEvent):n.hands[o].push(Object.assign(Object.assign({},r),{hidden:!1}));else if(this.gameService.hasAnyOfStepPhases(v.StepPhase.ProcessPanic,v.StepPhase.ProcessEvent)){if(this.gameService.hasAnyOfStepPhases(v.StepPhase.ProcessPanic))switch(m.action){case h.NechtoCardAction.Panic_BlindDate:n.table[o]=n.table[o].filter((function(e){return e.id!==m.id||(n.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)}));var k=this.processHandFulfillment(o);s=k.nextStepPhases,u=k.nextPlayerId;break;default:s=[v.StepPhase.ProcessPanic]}else if(this.gameService.hasAnyOfStepPhases(v.StepPhase.ProcessEvent))switch(g.action){case h.NechtoCardAction.Event_Action_Persistence:s=[v.StepPhase.DropFromHand,v.StepPhase.ProcessEvent];break;default:s=[v.StepPhase.ProcessEvent]}}else{if(s=[v.StepPhase.DropFromHand,v.StepPhase.PlayFromHand],this.gameService.hasQuarantine(o)){var w=this.processQuarantine(o);n.table=w.table,n.trash=w.trash;var S=n.hands[o].some((function(e){return e.action===h.NechtoCardAction.Event_Action_Axe}));this.gameService.hasQuarantine(o)&&!S&&(s=[v.StepPhase.DropFromHand])}n.hands[o].push(Object.assign(Object.assign({},r),{hidden:!1}))}else if(n.hands[o].length<p)s=[v.StepPhase.TakeFromDeck],this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)?s.push(v.StepPhase.ProcessPanic):this.gameService.hasStepPhase(v.StepPhase.ProcessEvent)&&s.push(v.StepPhase.ProcessEvent),n.trash.unshift(Object.assign(Object.assign({},r),{hidden:!0}));else{var E=this.processQuarantine(o);switch(n.table=E.table,n.trash=E.trash,r.action){case h.NechtoCardAction.Panic_OldRopes:case h.NechtoCardAction.Panic_BetweenUs:case h.NechtoCardAction.Panic_IsItParty:case h.NechtoCardAction.Panic_Oops:case h.NechtoCardAction.Panic_ThreeFour:s=[v.StepPhase.PlayFromTable];break;case h.NechtoCardAction.Panic_OneTwo:var I=this.gameService.getPreviousPlayer(this.gameService.getPreviousPlayer(this.gameService.getPreviousPlayer(o).playerId).playerId).playerId,O=this.gameService.getNextPlayer(this.gameService.getNextPlayer(this.gameService.getNextPlayer(o).playerId).playerId).playerId;s=this.gameService.hasQuarantine(I)&&this.gameService.hasQuarantine(O)?[v.StepPhase.DropFromTable]:[v.StepPhase.PlayFromTable];break;case h.NechtoCardAction.Panic_GoAway:s=this.gameService.getActivePlayerComponents().filter((function(e){return e.playerId!==o&&!t.gameService.hasQuarantine(e.playerId)})).length?[v.StepPhase.PlayFromTable]:[v.StepPhase.DropFromTable];break;case h.NechtoCardAction.Panic_Friends:s=[v.StepPhase.GiveToPlayer];break;case h.NechtoCardAction.Panic_BlindDate:s=[v.StepPhase.DropFromHand];break;case h.NechtoCardAction.Panic_ChainReaction:r.panicRequester=o,s=[v.StepPhase.GiveToNextPlayer];break;case h.NechtoCardAction.Panic_ConfessionTime:r.panicRequester=o,s=[v.StepPhase.ShowFromHand];break;case h.NechtoCardAction.Panic_Forgetfulness:s=[v.StepPhase.DropFromHand];break;default:s=[]}s.push(v.StepPhase.ProcessPanic),n.table[o].push(Object.assign(Object.assign({},r),{hidden:!1,panicRequester:o}))}}else if(this.gameService.hasStepPhase(v.StepPhase.FulfillHandFromDeck))if(this.gameInfoService.saveStepInfo(a,new c.StepInfoDto({roomId:a,activeUsername:C,cardAction:r.action,stepPhase:v.StepPhase.FulfillHandFromDeck,processedAt:new Date})).subscribe(),r.type===d.NechtoCardType.Event){n.hands[o].push(Object.assign(Object.assign({},r),{hidden:!1}));var P=this.processHandFulfillment(o);if(this.gameService.hasStepPhase(v.StepPhase.ProcessPanic))if(n.hands[o].length===p&&this.gameService.canExchange(f)){s=[v.StepPhase.GiveToNextPlayer],u=o,n.table[o]=n.table[o].filter((function(e){return e.type!==d.NechtoCardType.Panic||(n.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)}));var x=this.processReservedData(s,u);s=x.currentStepPhases,u=x.currentStepPlayerId,_=x.reservedStepPhases,b=x.reservedStepPlayerId}else s=P.nextStepPhases,u=P.nextPlayerId,s.push(v.StepPhase.ProcessPanic);else if(s=P.nextStepPhases,u=P.nextPlayerId,n.hands[o].length===p){var T=this.processReservedData(s,u);s=T.currentStepPhases,u=T.currentStepPlayerId,_=T.reservedStepPhases,b=T.reservedStepPlayerId}}else n.hands[o].length<p&&(s=[v.StepPhase.FulfillHandFromDeck],u=o,n.trash.unshift(Object.assign(Object.assign({},r),{hidden:!0})),this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)&&s.push(v.StepPhase.ProcessPanic));return this.updateGameData(a,{deck:n.deck,hands:n.hands,table:n.table,trash:n.trash,currentStepPhases:s,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:u,previousStepPlayerId:o,lastCard:r,reservedStepPhases:_,reservedStepPlayerId:b})}}},{key:"takeHandCard",value:function(e){if(!this.isTakingStep||!this.gameService.hasCurrentGame)return console.warn("Not taking step or not in the game"),i.EMPTY;var t=this.gameService.currentGame,n=t.hands[this.gameService.getHandPartId(e)].find((function(t){return t.id===e}));if(y.isNil(n))return console.warn("Missing card"),i.EMPTY;var r,o=this.gameService.getCurrentStepPlayerId(),a=this.roomService.getSelectedRoomId(),s=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasStepPhase(v.StepPhase.PickFromHand))return console.warn("Incorrect step phase"),i.EMPTY;var u=this.gameService.getPlayerComponent(o).user.username;switch(this.gameInfoService.saveStepInfo(a,new c.StepInfoDto({roomId:a,activeUsername:u,cardAction:n.action,stepPhase:v.StepPhase.PickFromHand,processedAt:new Date})).subscribe(),t.lastCard.action){case h.NechtoCardAction.Event_Action_Suspicion:n.sharedWithPlayerId=o,s=[v.StepPhase.DropFromTable],r=o}return this.updateGameData(a,{hands:t.hands,currentStepPhases:s,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:r,previousStepPlayerId:o,lastCard:n})}}},{key:"playHandCard",value:function(e,t){if(this.isTakingStep&&this.gameService.hasCurrentGame){var n=this.gameService.currentGame,r=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasAnyOfStepPhases(v.StepPhase.PlayFromHand,v.StepPhase.DefenceFromHand))return console.warn("Incorrect step phase"),i.EMPTY;var o,a=this.gameService.getCurrentStepPlayerId(),s=this.roomService.getSelectedRoomId(),u=n.hands[a].find((function(t){return t.id===e}));if(y.isNil(u))throw new Error("Missing card");var d,m=[],g=this.gameService.getPlayerComponent(a).user.username;if(t&&(d=this.gameService.getPlayerComponent(t).user.username),u.subType===f.NechtoCardSubType.Defence){this.gameInfoService.saveStepInfo(s,new c.StepInfoDto({roomId:s,activeUsername:g,otherUsername:d,cardAction:u.action,stepPhase:v.StepPhase.DefenceFromHand,processedAt:new Date})).subscribe();var _=this.gameService.getActiveRequestedCard(),b=this.gameService.getActiveEventCard();switch(u.action){case h.NechtoCardAction.Event_Defence_Fear:if(y.isNil(_))throw new Error("Missing requested card");r=[v.StepPhase.ReturnToPlayer],o=a,n.hands[a]=n.hands[a].filter((function(t){return t.id!==e})),n.table[a]=n.table[a].map((function(e){return e.id===_.id?Object.assign(Object.assign({},e),{sharedWithPlayerId:a}):e})),n.table[a].push(Object.assign({},u));break;case h.NechtoCardAction.Event_Defence_Miss:r=[v.StepPhase.DropFromTable],o=a,n.hands[a]=n.hands[a].filter((function(t){return t.id!==e})),n.table[a].push(Object.assign({},u));break;case h.NechtoCardAction.Event_Defence_NoBarbecue:if(y.isNil(b))throw new Error("Missing active event card");r=[v.StepPhase.DropFromTable],o=a,n.hands[a]=n.hands[a].filter((function(t){return t.id!==e})),n.table[a].push(Object.assign({},u));break;case h.NechtoCardAction.Event_Defence_NoThanks:if(y.isNil(_))throw new Error("Missing requested card");r=[v.StepPhase.ReturnToPlayer],o=a,n.hands[a]=n.hands[a].filter((function(t){return t.id!==e})),n.table[a].push(Object.assign({},u));break;case h.NechtoCardAction.Event_Defence_GoodHere:if(y.isNil(b))throw new Error("Missing active event card");r=[v.StepPhase.DropFromTable],o=a,n.hands[a]=n.hands[a].filter((function(t){return t.id!==e})),n.table[a].push(Object.assign({},u))}this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)?r.push(v.StepPhase.ProcessPanic):this.gameService.hasStepPhase(v.StepPhase.ProcessEvent)&&r.push(v.StepPhase.ProcessEvent)}else{this.gameInfoService.saveStepInfo(s,new c.StepInfoDto({roomId:s,activeUsername:g,otherUsername:d,cardAction:u.action,stepPhase:v.StepPhase.PlayFromHand,processedAt:new Date})).subscribe(),n.hands[a]=n.hands[a].filter((function(t){return t.id!==e}));var C=this.gameService.getNextPlayer().playerId,k=this.processHandFulfillment(a);switch(u.eventRequester=a,u.action){case h.NechtoCardAction.Event_Obstacle_LockedDoor:if(y.isNil(t))throw new Error("Missing other Player ID");n.borders[a].push(Object.assign(Object.assign({},u),{blockFrom:t})),this.gameService.canExchange(C)?(r=[v.StepPhase.GiveToNextPlayer],o=a):(r=k.nextStepPhases,o=k.nextPlayerId);break;case h.NechtoCardAction.Event_Obstacle_Quarantine:n.table[t].push(Object.assign(Object.assign({},u),t!==a?{stepsSpent:0}:{stepsSpent:1})),this.gameService.canExchange(C)?(r=[v.StepPhase.GiveToNextPlayer],o=a):(r=k.nextStepPhases,o=k.nextPlayerId);break;case h.NechtoCardAction.Event_Action_Whiskey:r=[v.StepPhase.DropFromTable],o=a,n.table[a].push(Object.assign({},u)),n.hands[a].forEach((function(e){return e.shared=!0}));break;case h.NechtoCardAction.Event_Action_RunAway:case h.NechtoCardAction.Event_Action_SwapPlaces:case h.NechtoCardAction.Event_Action_LookAround:case h.NechtoCardAction.Event_Action_Axe:r=[v.StepPhase.PlayFromTable],o=a,n.table[a].push(Object.assign({},u));break;case h.NechtoCardAction.Event_Action_Temptation:if(y.isNil(t))throw new Error("Missing other Player ID");r=[v.StepPhase.GiveToSpecificPlayer],o=a,n.table[t].push(Object.assign({},u));break;case h.NechtoCardAction.Event_Action_Flamethrower:if(y.isNil(t))throw new Error("Missing other Player ID");n.table[t].push(Object.assign({},u)),n.hands[t].some((function(e){return e.action===h.NechtoCardAction.Event_Defence_NoBarbecue}))?(r=[v.StepPhase.DefenceFromHand],o=t):(m.push.apply(m,_toConsumableArray2(this.processRoleChange(t,p.Role.Inactive))),r=[v.StepPhase.DropFromTable],o=a);break;case h.NechtoCardAction.Event_Action_Analysis:if(y.isNil(t))throw new Error("Missing other Player ID");r=[v.StepPhase.DropFromTable],o=a,n.table[t].push(Object.assign({},u)),n.hands[t].forEach((function(e){return e.sharedWithPlayerId=a}));break;case h.NechtoCardAction.Event_Action_Persistence:r=[v.StepPhase.TakeFromDeck],o=a,n.table[a].push(Object.assign({},u));break;case h.NechtoCardAction.Event_Action_Suspicion:if(y.isNil(t))throw new Error("Missing other Player ID");r=[v.StepPhase.PickFromHand],o=a,n.table[t].push(Object.assign({},u));break;default:r=[],o=a,n.table[a].push(u)}u.subType!==f.NechtoCardSubType.Obstacle&&r.push(v.StepPhase.ProcessEvent)}return m.push(this.updateGameData(s,{hands:n.hands,borders:n.borders,table:n.table,currentStepPhases:r,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:o,previousStepPlayerId:a,lastCard:u})),i.forkJoin(m).pipe(this.processGameStatePipe)}}else console.warn("Not taking step or not in the game")}},{key:"playTableCard",value:function(e,t){var n=this;if(this.isTakingStep&&this.gameService.hasCurrentGame){var r=this.gameService.currentGame,o=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasStepPhase(v.StepPhase.PlayFromTable))return console.warn("Incorrect step phase"),i.EMPTY;var a=this.gameService.getCurrentStepPlayerId(),s=this.roomService.getSelectedRoomId(),p=r.table[a].find((function(t){return t.id===e}));if(y.isNil(p))throw new Error("Missing card");var m,_,b=this.gameService.getNextPlayer().playerId,C=[],k=this.gameService.getPlayerComponent(a).user.username;if(t&&(_=this.gameService.getPlayerComponent(t).user.username),this.gameInfoService.saveStepInfo(s,new c.StepInfoDto({roomId:s,activeUsername:k,otherUsername:_,cardAction:p.action,stepPhase:v.StepPhase.PlayFromTable,processedAt:new Date})).subscribe(),p.type===d.NechtoCardType.Panic)switch(p.action){case h.NechtoCardAction.Panic_OldRopes:if(Object.keys(r.table).forEach((function(t){var n=parseInt(t,null);r.table[n]=r.table[n].filter((function(t){return t.id!==e&&t.action!==h.NechtoCardAction.Event_Obstacle_Quarantine||(r.trash.unshift(t),!1)}))})),this.gameService.canExchange(b))o=[v.StepPhase.GiveToNextPlayer],m=a;else{var w=this.processHandFulfillment(a);o=w.nextStepPhases,m=w.nextPlayerId}break;case h.NechtoCardAction.Panic_BetweenUs:if(y.isNil(t))throw new Error("Missing other Player ID");o=[v.StepPhase.DropFromTable,v.StepPhase.ProcessPanic],m=a,r.hands[a].forEach((function(e){return e.sharedWithPlayerId=t}));break;case h.NechtoCardAction.Panic_Oops:o=[v.StepPhase.DropFromTable,v.StepPhase.ProcessPanic],m=a,r.hands[a].forEach((function(e){return e.shared=!0}));break;case h.NechtoCardAction.Panic_GoAway:case h.NechtoCardAction.Panic_OneTwo:if(y.isNil(t))throw new Error("Missing other Player ID");if(r.table[a]=r.table[a].filter((function(t){return t.id!==e||(r.trash.unshift(Object.assign(Object.assign({},t),{hidden:!0})),!1)})),C.push.apply(C,_toConsumableArray2(this.processSwapPlaces(a,t))),b=this.gameService.getNextPlayer(t).playerId,this.gameService.canExchangeBoth(t,b))o=[v.StepPhase.GiveToNextPlayer],m=t;else{var S=this.processHandFulfillment(t);o=S.nextStepPhases,m=S.nextPlayerId}break;case h.NechtoCardAction.Panic_IsItParty:Object.keys(r.table).forEach((function(t){var n=parseInt(t,null);r.table[n]=r.table[n].filter((function(t){return t.id!==e&&t.action!==h.NechtoCardAction.Event_Obstacle_Quarantine||(r.trash.unshift(t),!1)}))})),Object.keys(r.borders).forEach((function(e){var t=parseInt(e,null);r.borders[t]=r.borders[t].filter((function(e){return e.action!==h.NechtoCardAction.Event_Obstacle_LockedDoor||(r.trash.unshift(e),!1)}))}));var E=this.gameService.getActivePlayerComponents().map((function(e){return e.playerId}));(E=g.reorderArray(E,E.findIndex((function(e){return e===a})))).length%2!=0&&E.pop(),E.forEach((function(e,t){t%2==0&&(C.push.apply(C,_toConsumableArray2(n.processSwapPlaces(e,E[t+1]))),a===e?b=E[t+1]:a===E[t+1]&&(b=e))})),o=[v.StepPhase.GiveToNextPlayer],m=b;break;case h.NechtoCardAction.Panic_ThreeFour:if(r.table[a]=r.table[a].filter((function(t){return t.id!==e||(r.trash.unshift(Object.assign(Object.assign({},t),{hidden:!0})),!1)})),Object.keys(r.borders).forEach((function(e){var t=parseInt(e,null);r.borders[t]=r.borders[t].filter((function(e){return e.action!==h.NechtoCardAction.Event_Obstacle_LockedDoor||(r.trash.unshift(e),!1)}))})),this.gameService.canExchange(b))o=[v.StepPhase.GiveToNextPlayer],m=a;else{var I=this.processHandFulfillment(a);o=I.nextStepPhases,m=I.nextPlayerId}}else switch(p.action){case h.NechtoCardAction.Event_Action_RunAway:case h.NechtoCardAction.Event_Action_SwapPlaces:if(y.isNil(t))throw new Error("Missing other Player ID");if(r.hands[t].some((function(e){return e.subType===f.NechtoCardSubType.Defence&&e.action===h.NechtoCardAction.Event_Defence_GoodHere})))r.table[a]=r.table[a].filter((function(n){return n.id!==e||(r.table[t].push(Object.assign(Object.assign({},n),{eventRequester:a,requester:a})),!1)})),o=[v.StepPhase.DefenceFromHand,v.StepPhase.AcceptRequest,v.StepPhase.ProcessEvent],m=t;else if(r.table[a]=r.table[a].filter((function(t){return t.id!==e||(r.trash.unshift(Object.assign(Object.assign({},t),{hidden:!0})),!1)})),C.push.apply(C,_toConsumableArray2(this.processSwapPlaces(a,t))),b=this.gameService.getNextPlayer(t).playerId,this.gameService.canExchangeBoth(t,b))o=[v.StepPhase.GiveToNextPlayer],m=t;else{var O=this.processHandFulfillment(t);o=O.nextStepPhases,m=O.nextPlayerId}break;case h.NechtoCardAction.Event_Action_Axe:if(y.isNil(t))throw new Error("Missing other Player ID");if(r.table[a]=r.table[a].filter((function(t){return t.id!==e||(r.trash.unshift(Object.assign(Object.assign({},t),{hidden:!0})),!1)})),this.gameService.hasQuarantine(t))r.table[t]=r.table[t].filter((function(e){return e.action!==h.NechtoCardAction.Event_Obstacle_Quarantine||(r.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)}));else if(this.gameService.hasLockedDoor(t,a))if(t===a){var P=r.borders[a].findIndex((function(e){return e.action===h.NechtoCardAction.Event_Obstacle_LockedDoor}));r.trash.unshift(Object.assign({},r.borders[a][P])),r.borders[a].splice(P,1)}else r.borders[t]=r.borders[t].filter((function(e){return e.blockFrom!==a||(r.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)}));if(this.gameService.canExchange(b))o=[v.StepPhase.GiveToNextPlayer],m=a;else{var x=this.processHandFulfillment(a);o=x.nextStepPhases,m=x.nextPlayerId}break;case h.NechtoCardAction.Event_Action_LookAround:if(r.table[a]=r.table[a].filter((function(t){return t.id!==e||(r.trash.unshift(Object.assign(Object.assign({},t),{hidden:!0})),!1)})),r.direction=r.direction===u.Direction.Clockwise?u.Direction.CounterClockwise:u.Direction.Clockwise,b=this.gameService.getNextPlayer().playerId,this.gameService.canExchange(b))o=[v.StepPhase.GiveToNextPlayer],m=a;else{var T=this.processHandFulfillment(a);o=T.nextStepPhases,m=T.nextPlayerId}}return C.push(this.updateGameData(s,{hands:r.hands,table:r.table,trash:r.trash,borders:r.borders,direction:r.direction,currentStepPhases:o,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:m,previousStepPlayerId:a,lastCard:p})),i.forkJoin(C)}}else console.warn("Not taking step or not in the game")}},{key:"dropTableCard",value:function(e){if(this.isTakingStep&&this.gameService.hasCurrentGame){var t=this.gameService.currentGame,n=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasStepPhase(v.StepPhase.DropFromTable))return console.warn("Incorrect step phase"),i.EMPTY;var r=this.gameService.getCurrentStepPlayerId(),o=this.roomService.getSelectedRoomId(),a=this.gameService.getTablePartId(e),s=this.gameService.currentGameTable[a].find((function(t){return t.id===e}));if(y.isNil(s))throw new Error("Missing card");var u,f=a,p=this.gameService.getNextPlayer().playerId,m=this.gameService.getActiveEventCard(),g=t.reservedStepPhases,_=t.reservedStepPlayerId,b=this.gameService.getPlayerComponent(r).user.username;if(this.gameInfoService.saveStepInfo(o,new c.StepInfoDto({roomId:o,activeUsername:b,cardAction:s.action,stepPhase:v.StepPhase.DropFromTable,processedAt:new Date})).subscribe(),s.type===d.NechtoCardType.Panic){switch(s.action){case h.NechtoCardAction.Panic_BetweenUs:t.hands[r].forEach((function(e){return e.sharedWithPlayerId=null}));break;case h.NechtoCardAction.Panic_ConfessionTime:case h.NechtoCardAction.Panic_Oops:Object.keys(t.hands).forEach((function(e){var n=parseInt(e,null);t.hands[n].forEach((function(e){return e.shared=!1}))}))}if(t.table[a]=t.table[a].filter((function(n){return n.id!==e||(t.trash.unshift(Object.assign(Object.assign({},n),{hidden:!0})),!1)})),this.gameService.canExchange(p))n=[v.StepPhase.GiveToNextPlayer],u=r;else{var C=this.processHandFulfillment(r);n=C.nextStepPhases,u=C.nextPlayerId}}else switch(s.action){case h.NechtoCardAction.Event_Action_Whiskey:if(t.hands[r].forEach((function(e){return e.shared=null})),t.table[r]=t.table[r].filter((function(n){return n.id!==e||(t.trash.unshift(Object.assign(Object.assign({},n),{hidden:!0})),!1)})),this.gameService.canExchange(p))n=[v.StepPhase.GiveToNextPlayer],u=r;else{var k=this.processHandFulfillment(r);n=k.nextStepPhases,u=k.nextPlayerId}break;case h.NechtoCardAction.Event_Action_Flamethrower:if(t.table[a]=t.table[a].filter((function(e){return t.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1})),t.borders[a]=t.borders[a].filter((function(e){return t.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1})),t.hands[a]=t.hands[a].filter((function(e){return t.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1})),this.gameService.canExchange(p))n=[v.StepPhase.GiveToNextPlayer],u=r;else{var w=this.processHandFulfillment(r);n=w.nextStepPhases,u=w.nextPlayerId}break;case h.NechtoCardAction.Event_Defence_NoBarbecue:if(!m)throw new Error("Missing active event card");var S=this.gameService.getNextPlayer(m.eventRequester).playerId;n=[v.StepPhase.FulfillHandFromDeck],u=r,this.gameService.canExchangeBoth(m.eventRequester,S)?(g=[v.StepPhase.GiveToNextPlayer],_=m.eventRequester):(g=[v.StepPhase.TakeFromDeck],_=S),t.table[r]=t.table[r].filter((function(n){return![e,m.id].includes(n.id)||(t.trash.unshift(Object.assign(Object.assign({},n),{hidden:!0,eventRequester:null})),!1)}));break;case h.NechtoCardAction.Event_Action_Suspicion:if(t.hands[f].find((function(e){return e.sharedWithPlayerId===r})).sharedWithPlayerId=null,t.table[f]=t.table[f].filter((function(e){return e.id!==s.id||(t.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0,eventRequester:null})),!1)})),this.gameService.canExchangeBoth(r,p))n=[v.StepPhase.GiveToNextPlayer],u=r;else{var E=this.processHandFulfillment(r);n=E.nextStepPhases,u=E.nextPlayerId}break;case h.NechtoCardAction.Event_Action_Analysis:if(t.hands[a].forEach((function(e){return e.sharedWithPlayerId=null})),t.table[a]=t.table[a].filter((function(e){return e.id!==s.id||(t.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0,eventRequester:null})),!1)})),this.gameService.canExchangeBoth(r,p))n=[v.StepPhase.GiveToNextPlayer],u=r;else{var I=this.processHandFulfillment(r);n=I.nextStepPhases,u=I.nextPlayerId}break;case h.NechtoCardAction.Event_Defence_Miss:var O=this.gameService.getActiveRequestedCard();if(y.isNil(O))throw new Error("Missing requested card");m&&p===m.eventRequester&&(p=this.gameService.getNextPlayer(p).playerId),t.table[a]=t.table[a].filter((function(e){return e.id===O.id||m&&e.id===m.id?(t.table[p].push(Object.assign({},e)),!1):e.id!==s.id||(t.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0,eventRequester:null})),!1)})),n=[v.StepPhase.FulfillHandFromDeck],u=r,g=[v.StepPhase.GiveToPreviousPlayer,v.StepPhase.DefenceFromHand],_=p,this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)?g.push(v.StepPhase.ProcessPanic):this.gameService.hasStepPhase(v.StepPhase.ProcessEvent)&&g.push(v.StepPhase.ProcessEvent);break;case h.NechtoCardAction.Event_Defence_GoodHere:if(y.isNil(m))throw new Error("Missing active event card");if(t.table[a]=t.table[a].filter((function(e){return!(e.id===s.id||m&&e.id===m.id)||(t.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0,eventRequester:null})),!1)})),f=m.eventRequester,n=[v.StepPhase.FulfillHandFromDeck],u=r,this.gameService.canExchangeBoth(f,r))g=[v.StepPhase.GiveToNextPlayer],_=f;else{var P=this.processHandFulfillment(r);g=P.nextStepPhases,_=P.nextPlayerId}}return this.updateGameData(o,{hands:t.hands,table:t.table,trash:t.trash,borders:t.borders,currentStepPhases:n,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:u,previousStepPlayerId:r,lastCard:s,reservedStepPhases:g,reservedStepPlayerId:_})}}else console.warn("Not taking step or not in the game")}},{key:"dropHandCard",value:function(e){if(this.isTakingStep&&this.gameService.hasCurrentGame){var t=this.gameService.currentGame,n=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasStepPhase(v.StepPhase.DropFromHand))return console.warn("Incorrect step phase"),i.EMPTY;var r=this.gameService.getCurrentStepPlayerId(),o=this.roomService.getSelectedRoomId(),a=t.hands[r].find((function(t){return t.id===e}));if(y.isNil(a))throw new Error("Missing card");t.hands[r]=t.hands[r].filter((function(t){return t.id!==e})),t.trash.unshift(Object.assign(Object.assign({},a),{hidden:!0}));var s,u=this.gameService.getNextPlayer().playerId,f=this.MAX_HAND_CARDS,d=this.gameService.getPlayerComponent(r).user.username;if(this.gameInfoService.saveStepInfo(o,new c.StepInfoDto({roomId:o,activeUsername:d,cardAction:a.action,stepPhase:v.StepPhase.DropFromHand,processedAt:new Date})).subscribe(),this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)){var p=this.gameService.getActivePanicCard();if(y.isNil(p))throw new Error("Missing active panic card");switch(p.action){case h.NechtoCardAction.Panic_BlindDate:n=[v.StepPhase.TakeFromDeck],s=r;break;case h.NechtoCardAction.Panic_Forgetfulness:t.hands[r].length===f-3?(n=[v.StepPhase.FulfillHandFromDeck],s=r):(n=[v.StepPhase.DropFromHand],s=r)}n.push(v.StepPhase.ProcessPanic)}else if(this.gameService.hasStepPhase(v.StepPhase.ProcessEvent)){var m=this.gameService.getActiveEventCard();if(y.isNil(m))throw new Error("Missing active event card");switch(m.action){case h.NechtoCardAction.Event_Action_Persistence:f+=1,s=r,t.hands[r].length>f?n=[v.StepPhase.DropFromHand,v.StepPhase.ProcessEvent]:(n=[v.StepPhase.DropFromHand,v.StepPhase.PlayFromHand],t.table[r]=t.table[r].filter((function(e){return e.id!==m.id||(t.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)})));break;case h.NechtoCardAction.Panic_Forgetfulness:t.hands[r].length===f-3?(n=[v.StepPhase.FulfillHandFromDeck,v.StepPhase.ProcessPanic],s=r):(n=[v.StepPhase.DropFromHand,v.StepPhase.ProcessPanic],s=r)}}else if(this.gameService.canExchange(u))n=[v.StepPhase.GiveToNextPlayer],s=r;else{var g=this.processHandFulfillment(r);n=g.nextStepPhases,s=g.nextPlayerId}return this.updateGameData(o,{hands:t.hands,table:t.table,trash:t.trash,currentStepPhases:n,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:s,previousStepPlayerId:r,lastCard:a})}}else console.warn("Not taking step or not in the game")}},{key:"giveHandCard",value:function(e,t){if(this.isTakingStep&&this.gameService.hasCurrentGame){var n=this.gameService.currentGame,r=this.gameService.getCurrentStepPlayerId(),o=this.roomService.getSelectedRoomId(),a=n.hands[r].find((function(t){return t.id===e}));if(y.isNil(a))throw new Error("Missing card");var s,u=[],f=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasAnyOfStepPhases(v.StepPhase.GiveToPlayer,v.StepPhase.GiveToNextPlayer,v.StepPhase.GiveToPreviousPlayer,v.StepPhase.GiveToSpecificPlayer))return console.warn("Incorrect step phase"),i.EMPTY;var p,m=n.reservedStepPhases,g=n.reservedStepPlayerId,_=this.gameService.getPlayerComponent(r).user.username;if(t&&(p=this.gameService.getPlayerComponent(t).user.username),this.gameService.hasAnyOfStepPhases(v.StepPhase.GiveToPlayer,v.StepPhase.GiveToNextPlayer,v.StepPhase.GiveToSpecificPlayer))if(this.gameInfoService.saveStepInfo(o,new c.StepInfoDto({roomId:o,activeUsername:_,otherUsername:p,cardAction:a.action,stepPhase:v.StepPhase.GiveToPlayer,processedAt:new Date})).subscribe(),this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)){var b=this.gameService.getActivePanicCard();if(y.isNil(b))throw new Error("Missing active panic card");switch(b.action){case h.NechtoCardAction.Panic_ChainReaction:if(n.hands[r]=n.hands[r].filter((function(r){return r.id!==e||(n.hands[t].push(Object.assign({},r)),!1)})),this.gameService.getActivePanicRequester().playerId===t){n.table[t]=n.table[t].filter((function(e){return e.type!==d.NechtoCardType.Panic||(n.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)}));var C=this.gameService.getNextPlayer(t).playerId;u=[v.StepPhase.TakeFromDeck],s=C}else u=[v.StepPhase.GiveToNextPlayer,v.StepPhase.ProcessPanic],s=t;f.push(this.processInfection(t,a));break;case h.NechtoCardAction.Panic_Friends:default:u=[v.StepPhase.GiveToPreviousPlayer,v.StepPhase.DefenceFromHand,v.StepPhase.ProcessPanic],s=t,n.hands[r]=n.hands[r].filter((function(t){return t.id!==e})),n.table[t].push(Object.assign(Object.assign({},a),{hidden:!0,requester:r}))}}else u=[v.StepPhase.GiveToPreviousPlayer,v.StepPhase.DefenceFromHand],s=t,this.gameService.hasStepPhase(v.StepPhase.ProcessEvent)&&u.push(v.StepPhase.ProcessEvent),n.hands[r]=n.hands[r].filter((function(t){return t.id!==e})),n.table[t].push(Object.assign(Object.assign({},a),{hidden:!0,requester:r}));else if(this.gameService.hasStepPhase(v.StepPhase.GiveToPreviousPlayer)){this.gameInfoService.saveStepInfo(o,new c.StepInfoDto({roomId:o,activeUsername:_,otherUsername:p,cardAction:a.action,stepPhase:v.StepPhase.GiveToPreviousPlayer,processedAt:new Date})).subscribe();var k=this.gameService.getActiveRequestedCard();if(y.isNil(k))throw new Error("Missing requested card");var w=this.gameService.getNextPlayer(t).playerId;if(n.hands[r]=n.hands[r].filter((function(t){return t.id!==e})),n.hands[t].push(Object.assign(Object.assign({},a),{hidden:!1})),n.table[r]=n.table[r].filter((function(e){return e.id!==k.id||(n.hands[r].push(Object.assign(Object.assign({},e),{hidden:!1})),!1)})),this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)){var S=this.gameService.getActivePanicCard();if(y.isNil(S))throw new Error("Missing active panic card");[h.NechtoCardAction.Panic_Friends].includes(S.action)&&this.gameService.canExchangeBoth(t,w)?(u=[v.StepPhase.GiveToNextPlayer],s=t):(u=[v.StepPhase.TakeFromDeck],s=w),n.table[t]=n.table[t].filter((function(e){return e.id!==S.id||(n.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)}))}else if(this.gameService.hasStepPhase(v.StepPhase.ProcessEvent)){var E=this.gameService.getActiveEventCard();if(y.isNil(E))throw new Error("Missing active event card");[].includes(E.action)&&this.gameService.canExchangeBoth(t,w)?(u=[v.StepPhase.GiveToNextPlayer],s=t):(u=[v.StepPhase.TakeFromDeck],s=w);var I=this.gameService.getTablePartId(E.id);n.table[I]=n.table[I].filter((function(e){return e.id!==E.id||(n.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)}))}else u=[v.StepPhase.TakeFromDeck],s=w;f.push(this.processInfection(r,k)),f.push(this.processInfection(t,a))}return f.push(this.updateGameData(o,{hands:n.hands,table:n.table,trash:n.trash,currentStepPhases:u,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:s,previousStepPlayerId:r,lastCard:a,reservedStepPhases:m,reservedStepPlayerId:g})),i.forkJoin(f).pipe(this.processGameStatePipe)}}else console.warn("Not taking step or not in the game")}},{key:"giveTableCard",value:function(e,t){if(this.isTakingStep&&this.gameService.hasCurrentGame){var n=this.gameService.currentGame,r=this.gameService.getCurrentStepPlayerId(),o=this.roomService.getSelectedRoomId(),a=n.table[r].find((function(t){return t.id===e}));if(y.isNil(a))throw new Error("Missing card");var s,u=[],d=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasStepPhase(v.StepPhase.ReturnToPlayer))return console.warn("Incorrect step phase"),i.EMPTY;var p,m=this.gameService.getPlayerComponent(r).user.username;t&&(p=this.gameService.getPlayerComponent(t).user.username),this.gameInfoService.saveStepInfo(o,new c.StepInfoDto({roomId:o,activeUsername:m,otherUsername:p,cardAction:a.action,stepPhase:v.StepPhase.ReturnToPlayer,processedAt:new Date})).subscribe();var g=this.gameService.getNextPlayer(t).playerId,_=this.gameService.getActiveRequestedCard(),b=this.gameService.getActiveEventCard(),C=this.gameService.getActivePanicCard(),k=n.reservedStepPhases,w=n.reservedStepPlayerId;if(!_)throw new Error("Missing requested card");if(n.table[r]=n.table[r].filter((function(e){return e.id!==_.id||(n.hands[t].push(Object.assign(Object.assign({},e),{hidden:!1,requester:null,sharedWithPlayerId:null})),!1)})),this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)){var S=this.gameService.getTablePartId(C.id);u=[v.StepPhase.FulfillHandFromDeck],s=r,[h.NechtoCardAction.Panic_Friends].includes(C.action)&&this.gameService.canExchangeBoth(t,g)?(k=[v.StepPhase.GiveToNextPlayer],w=t):(k=[v.StepPhase.TakeFromDeck],w=g),[h.NechtoCardAction.Panic_Friends].includes(C.action)&&(n.table[S]=n.table[S].filter((function(e){return e.id!==C.id||(n.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)})))}else if(this.gameService.hasStepPhase(v.StepPhase.ProcessEvent)){if(u=[v.StepPhase.FulfillHandFromDeck],s=r,[h.NechtoCardAction.Event_Action_SwapPlaces].includes(b.action)&&this.gameService.canExchangeBoth(t,g)?(k=[v.StepPhase.GiveToNextPlayer],w=t):(k=[v.StepPhase.TakeFromDeck],w=g),b!==_){var E=this.gameService.getTablePartId(b.id);n.table[E]=n.table[E].filter((function(e){return e.id!==b.id||(n.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)}))}}else u=[v.StepPhase.FulfillHandFromDeck],s=r,k=[v.StepPhase.TakeFromDeck],w=g;return n.table[r]=n.table[r].filter((function(e){return e.subType!==f.NechtoCardSubType.Defence||(n.trash.unshift(Object.assign(Object.assign({},e),{hidden:!0})),!1)})),d.push(this.updateGameData(o,{hands:n.hands,table:n.table,trash:n.trash,currentStepPhases:u,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:s,previousStepPlayerId:r,lastCard:a,reservedStepPhases:k,reservedStepPlayerId:w})),i.forkJoin(d)}}else console.warn("Not taking step or not in the game")}},{key:"showCards",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isTakingStep&&this.gameService.hasCurrentGame){var n=this.gameService.currentGame,r=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasStepPhase(v.StepPhase.ShowFromHand))return console.warn("Incorrect step phase"),i.EMPTY;var o,a=this.gameService.getCurrentStepPlayerId(),s=this.roomService.getSelectedRoomId(),u=this.gameService.getNextPlayer().playerId,d=this.gameService.getPlayerComponent(a).user.username;if(this.gameInfoService.saveStepInfo(s,new c.StepInfoDto({roomId:s,activeUsername:d,skipShowing:t,showAll:e,stepPhase:v.StepPhase.ShowFromHand,processedAt:new Date})).subscribe(),this.gameService.hasStepPhase(v.StepPhase.ProcessPanic)){var p=this.gameService.getActivePanicCard();if(y.isNil(p))throw new Error("Missing active panic card");switch(p.action){case h.NechtoCardAction.Panic_ConfessionTime:default:var m=n.hands[a].find((function(e){return e.subType===f.NechtoCardSubType.Infection&&e.action!==h.NechtoCardAction.Event_Infection_It}));t||(e?n.hands[a].forEach((function(e){return e.shared=!0})):m.shared=!0);var g=this.gameService.getActivePanicRequester();u===g.playerId||!t&&m?(r=[v.StepPhase.DropFromTable,v.StepPhase.ProcessPanic],o=g.playerId):(r=[v.StepPhase.ShowFromHand,v.StepPhase.ProcessPanic],o=u)}}return this.updateGameData(s,{hands:n.hands,currentStepPhases:r,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:o,previousStepPlayerId:a,lastCard:this.gameService.lastCard})}}else console.warn("Not taking step or not in the game")}},{key:"skipShowingCards",value:function(){return this.showCards(!1,!0)}},{key:"acceptRequest",value:function(){if(this.isTakingStep&&this.gameService.hasCurrentGame){var e=this.gameService.currentGame,t=[];switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:if(!this.gameService.hasStepPhase(v.StepPhase.AcceptRequest))return console.warn("Incorrect step phase"),i.EMPTY;var n,r=this.gameService.getCurrentStepPlayerId(),o=this.roomService.getSelectedRoomId(),a=this.gameService.getNextPlayer().playerId,s=this.gameService.getActiveEventCard();if(y.isNil(s))throw new Error("Missing active event card");var u,f=s.eventRequester,d=[],p=this.gameService.getPlayerComponent(r).user.username;switch(f&&(u=this.gameService.getPlayerComponent(f).user.username),this.gameInfoService.saveStepInfo(o,new c.StepInfoDto({roomId:o,activeUsername:p,otherUsername:u,stepPhase:v.StepPhase.AcceptRequest,processedAt:new Date})).subscribe(),s.action){case h.NechtoCardAction.Event_Action_RunAway:case h.NechtoCardAction.Event_Action_SwapPlaces:if(y.isNil(f))throw new Error("Missing other Player ID");if(e.table[r]=e.table[r].filter((function(t){return t.id!==s.id||(e.trash.unshift(Object.assign(Object.assign({},t),{hidden:!0})),!1)})),d.push.apply(d,_toConsumableArray2(this.processSwapPlaces(r,f))),f=r,a=this.gameService.getNextPlayer(f).playerId,this.gameService.canExchangeBoth(f,a))t=[v.StepPhase.GiveToNextPlayer],n=f;else{var m=this.processHandFulfillment(f);t=m.nextStepPhases,n=m.nextPlayerId}}return d.push(this.updateGameData(o,{hands:e.hands,table:e.table,trash:e.trash,currentStepPhases:t,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:n,previousStepPlayerId:r,lastCard:this.gameService.lastCard})),i.forkJoin(d)}}else console.warn("Not taking step or not in the game")}},{key:"refillDeck",value:function(){var e;if(this.isTakingStep&&this.gameService.hasCurrentGame){var t=this.gameService.currentGame;switch(this.gameService.getSelectedGame()){case l.Game.Nechto:default:var n=this.gameService.getCurrentStepPlayerId(),r=this.roomService.getSelectedRoomId(),o=this.gameService.getPlayerComponent(n).user.username;return(e=t.deck).push.apply(e,_toConsumableArray2(g.shuffleArray(t.trash))),t.trash=[],i.forkJoin([this.updateGameData(r,Object.assign({},t)),this.gameInfoService.saveStepInfo(r,new c.StepInfoDto({roomId:r,activeUsername:o,stepPhase:v.StepPhase.RefillDeck,processedAt:new Date}))])}}else console.warn("Not taking step or not in the game")}},{key:"putOnQuarantine",value:function(e){if(!e)return console.warn("Missing Player ID"),i.EMPTY;if(!this.gameService.hasCurrentGame)return console.warn("Not in the game"),i.EMPTY;var t=this.gameService.currentGame,n=this.roomService.getSelectedRoomId();return t.table[e].push(new m.NechtoCard({id:this.firebaseService.generateId(),type:d.NechtoCardType.Event,subType:f.NechtoCardSubType.Obstacle,action:h.NechtoCardAction.Event_Obstacle_Quarantine,eventRequester:e,stepsSpent:0,hidden:!1})),this.updateGameData(n,{table:t.table,currentStepPhases:t.currentStepPhases,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:t.currentStepPlayerId,previousStepPlayerId:t.previousStepPlayerId,lastCard:t.lastCard})}},{key:"setLockedDoor",value:function(e){if(!e||!e.fromId||!e.toId)throw new Error("Missing Locked Door option data");if(!this.gameService.hasCurrentGame)return console.warn("Not in the game"),i.EMPTY;var t=this.gameService.currentGame,n=this.roomService.getSelectedRoomId();return t.borders[e.fromId].push(new m.NechtoCard({id:this.firebaseService.generateId(),type:d.NechtoCardType.Event,subType:f.NechtoCardSubType.Obstacle,action:h.NechtoCardAction.Event_Obstacle_LockedDoor,eventRequester:e.fromId,blockFrom:e.toId,hidden:!1})),this.updateGameData(n,{borders:t.borders,currentStepPhases:t.currentStepPhases,previousStepPhases:this.gameService.currentStepPhases,currentStepPlayerId:t.currentStepPlayerId,previousStepPlayerId:t.previousStepPlayerId,lastCard:t.lastCard})}},{key:"processQuarantine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return console.warn("Player ID not specified"),null;var n=Object.assign({},this.gameService.currentGameTable),r=_toConsumableArray2(this.gameService.currentGameTrash);if(!this.gameService.hasQuarantine(e)||t.includes(v.StepPhase.ProcessPanic)||t.includes(v.StepPhase.ProcessEvent)||!t.includes(v.StepPhase.TakeFromDeck))return{table:n,trash:r};var i=n[e].find((function(e){return e.action===h.NechtoCardAction.Event_Obstacle_Quarantine}));return i.stepsSpent<3?i.stepsSpent+=1:n[e]=n[e].filter((function(e){return e.id!==i.id||(r.unshift(e),!1)})),{table:n,trash:r}}},{key:"processHandFulfillment",value:function(e){return this.gameService.currentGameHands[e].length<this.MAX_HAND_CARDS?{nextStepPhases:[v.StepPhase.FulfillHandFromDeck],nextPlayerId:e}:{nextStepPhases:[v.StepPhase.TakeFromDeck],nextPlayerId:this.gameService.getNextPlayer(e).playerId}}},{key:"processReservedData",value:function(e,t){return this.gameService.hasReservedData?{currentStepPhases:this.gameService.currentGame.reservedStepPhases,currentStepPlayerId:this.gameService.currentGame.reservedStepPlayerId,reservedStepPhases:[],reservedStepPlayerId:null}:{currentStepPhases:e,currentStepPlayerId:t,reservedStepPhases:[],reservedStepPlayerId:null}}},{key:"processRoleChange",value:function(e,t){var n=this.roomService.getSelectedRoomId(),r=this.roomService.getRoomMemberByPlayerId(e,n),o=[i.of(!0)];return r.role!==t&&o.push(this.firebaseService.update(s.PlayerDto,"players","".concat(n,"_").concat(r.userId),{role:t,previousRole:r.role})),o}},{key:"processInfection",value:function(e,t){var n=this.roomService.getSelectedRoomId(),r=this.gameService.isHuman(e)&&t.subType===f.NechtoCardSubType.Infection,o=i.of(!0);if(r){var a=this.roomService.getRoomMemberByPlayerId(e,n).userId;o=this.firebaseService.update(s.PlayerDto,"players","".concat(n,"_").concat(a),{role:p.Role.Infected})}return o}},{key:"processSwapPlaces",value:function(e,t){if(!e||!t)throw new Error("Missing first or second Player ID");var n=this.gameService.currentGame,r=_toConsumableArray2(n.hands[e]);return n.hands[e]=_toConsumableArray2(n.hands[t]),n.hands[t]=r,this.gameService.swapPlayers(e,t)}},{key:"updateGameData",value:function(e,t){return this.firebaseService.update(a.GameDto,"games",e,t)}},{key:"isTakingStep",get:function(){return this.gameService.isTakingStep(this.gameService.getActivePlayerId())}}]),e}();t.CardService=S,S.\u0275fac=function(e){return new(e||S)(_.\u0275\u0275inject(b.FirebaseService),_.\u0275\u0275inject(C.GameService),_.\u0275\u0275inject(k.RoomService),_.\u0275\u0275inject(w.GameInfoService))},S.\u0275prov=_.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"})},SCoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return f}));var r,i=n("8Y7J"),o=n("SVse");try{r="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(v){r=!1}var a,s,c,u=function(){var e=function e(t){_classCallCheck2(this,e),this._platformId=t,this.isBrowser=this._platformId?Object(o.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!r)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.PLATFORM_ID,8))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(i.PLATFORM_ID,8))},token:e,providedIn:"root"}),e}(),l=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e}();function h(e){return function(){if(null==a&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return a=!0}}))}finally{a=a||!1}return a}()?e:!!e.capture}function f(){return!("object"!=typeof document||!("scrollBehavior"in document.documentElement.style))}function d(){if("object"!=typeof document||!document)return 0;if(null==s){var e=document.createElement("div"),t=e.style;e.dir="rtl",t.height="1px",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";var n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),s=0,0===e.scrollLeft&&(e.scrollLeft=1,s=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return s}function p(e){if(function(){if(null==c){var e="undefined"!=typeof document?document.head:null;c=!(!e||!e.createShadowRoot&&!e.attachShadow)}return c}()){var t=e.getRootNode?e.getRootNode():null;if(t instanceof ShadowRoot)return t}return null}},SNyX:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=((r=t.MenuItem||{})[r.Games=0]="Games",r[r.Info=1]="Info",r[r.User=2]="User",r[r.Language=3]="Language",r)},SVse:function(e,t,n){"use strict";n.r(t),n.d(t,"APP_BASE_HREF",(function(){return b})),n.d(t,"AsyncPipe",(function(){return Ze})),n.d(t,"CommonModule",(function(){return gt})),n.d(t,"CurrencyPipe",(function(){return ft})),n.d(t,"DOCUMENT",(function(){return c})),n.d(t,"DatePipe",(function(){return rt})),n.d(t,"DecimalPipe",(function(){return lt})),n.d(t,"FormStyle",(function(){return x})),n.d(t,"FormatWidth",(function(){return A})),n.d(t,"HashLocationStrategy",(function(){return k})),n.d(t,"I18nPluralPipe",(function(){return ot})),n.d(t,"I18nSelectPipe",(function(){return at})),n.d(t,"JsonPipe",(function(){return st})),n.d(t,"KeyValuePipe",(function(){return ct})),n.d(t,"LOCATION_INITIALIZED",(function(){return h})),n.d(t,"Location",(function(){return w})),n.d(t,"LocationStrategy",(function(){return y})),n.d(t,"LowerCasePipe",(function(){return $e})),n.d(t,"NgClass",(function(){return Ae})),n.d(t,"NgComponentOutlet",(function(){return De})),n.d(t,"NgForOf",(function(){return je})),n.d(t,"NgForOfContext",(function(){return Re})),n.d(t,"NgIf",(function(){return Ne})),n.d(t,"NgIfContext",(function(){return Fe})),n.d(t,"NgLocaleLocalization",(function(){return Pe})),n.d(t,"NgLocalization",(function(){return Ie})),n.d(t,"NgPlural",(function(){return He})),n.d(t,"NgPluralCase",(function(){return ze})),n.d(t,"NgStyle",(function(){return qe})),n.d(t,"NgSwitch",(function(){return Ue})),n.d(t,"NgSwitchCase",(function(){return Be})),n.d(t,"NgSwitchDefault",(function(){return Ge})),n.d(t,"NgTemplateOutlet",(function(){return We})),n.d(t,"NumberFormatStyle",(function(){return O})),n.d(t,"NumberSymbol",(function(){return D})),n.d(t,"PathLocationStrategy",(function(){return C})),n.d(t,"PercentPipe",(function(){return ht})),n.d(t,"PlatformLocation",(function(){return u})),n.d(t,"Plural",(function(){return P})),n.d(t,"SlicePipe",(function(){return vt})),n.d(t,"TitleCasePipe",(function(){return tt})),n.d(t,"TranslationWidth",(function(){return T})),n.d(t,"UpperCasePipe",(function(){return nt})),n.d(t,"VERSION",(function(){return It})),n.d(t,"ViewportScroller",(function(){return Ot})),n.d(t,"WeekDay",(function(){return R})),n.d(t,"formatCurrency",(function(){return Ce})),n.d(t,"formatDate",(function(){return ue})),n.d(t,"formatNumber",(function(){return we})),n.d(t,"formatPercent",(function(){return ke})),n.d(t,"getCurrencySymbol",(function(){return te})),n.d(t,"getLocaleCurrencyCode",(function(){return K})),n.d(t,"getLocaleCurrencyName",(function(){return Y})),n.d(t,"getLocaleCurrencySymbol",(function(){return W})),n.d(t,"getLocaleDateFormat",(function(){return B})),n.d(t,"getLocaleDateTimeFormat",(function(){return H})),n.d(t,"getLocaleDayNames",(function(){return N})),n.d(t,"getLocaleDayPeriods",(function(){return M})),n.d(t,"getLocaleEraNames",(function(){return L})),n.d(t,"getLocaleExtraDayPeriodRules",(function(){return J})),n.d(t,"getLocaleExtraDayPeriods",(function(){return Z})),n.d(t,"getLocaleFirstDayOfWeek",(function(){return V})),n.d(t,"getLocaleId",(function(){return j})),n.d(t,"getLocaleMonthNames",(function(){return F})),n.d(t,"getLocaleNumberFormat",(function(){return q})),n.d(t,"getLocaleNumberSymbol",(function(){return z})),n.d(t,"getLocalePluralCase",(function(){return Q})),n.d(t,"getLocaleTimeFormat",(function(){return G})),n.d(t,"getLocaleWeekEndRange",(function(){return U})),n.d(t,"getNumberOfCurrencyDigits",(function(){return ne})),n.d(t,"isPlatformBrowser",(function(){return kt})),n.d(t,"isPlatformServer",(function(){return wt})),n.d(t,"isPlatformWorkerApp",(function(){return St})),n.d(t,"isPlatformWorkerUi",(function(){return Et})),n.d(t,"registerLocaleData",(function(){return xe})),n.d(t,"\u0275BrowserPlatformLocation",(function(){return f})),n.d(t,"\u0275DomAdapter",(function(){return s})),n.d(t,"\u0275NullViewportScroller",(function(){return xt})),n.d(t,"\u0275PLATFORM_BROWSER_ID",(function(){return yt})),n.d(t,"\u0275PLATFORM_SERVER_ID",(function(){return _t})),n.d(t,"\u0275PLATFORM_WORKER_APP_ID",(function(){return bt})),n.d(t,"\u0275PLATFORM_WORKER_UI_ID",(function(){return Ct})),n.d(t,"\u0275angular_packages_common_common_a",(function(){return l})),n.d(t,"\u0275angular_packages_common_common_b",(function(){return p})),n.d(t,"\u0275angular_packages_common_common_c",(function(){return S})),n.d(t,"\u0275angular_packages_common_common_d",(function(){return _})),n.d(t,"\u0275angular_packages_common_common_e",(function(){return Ye})),n.d(t,"\u0275angular_packages_common_common_f",(function(){return mt})),n.d(t,"\u0275getDOM",(function(){return o})),n.d(t,"\u0275parseCookieValue",(function(){return Te})),n.d(t,"\u0275setRootDomAdapter",(function(){return a}));var r=n("8Y7J"),i=null;function o(){return i}function a(e){i||(i=e)}var s=function e(){_classCallCheck2(this,e)},c=new r.InjectionToken("DocumentToken"),u=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:l,token:e,providedIn:"platform"}),e}();function l(){return Object(r["\u0275\u0275inject"])(f)}var h=new r.InjectionToken("Location Initialized"),f=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass2(n,[{key:"_init",value:function(){this.location=o().getLocation(),this._history=o().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return o().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){d()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){d()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(u);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:p,token:e,providedIn:"platform"}),e}();function d(){return!!window.history.pushState}function p(){return new f(Object(r["\u0275\u0275inject"])(c))}function v(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function m(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}var y=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:_,token:e,providedIn:"root"}),e}();function _(e){var t=Object(r["\u0275\u0275inject"])(c).location;return new C(Object(r["\u0275\u0275inject"])(u),t&&t.origin||"")}var b=new r.InjectionToken("appBaseHref"),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck2(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass2(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return v(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](u),r["\u0275\u0275inject"](b,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),k=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass2(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=v(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](u),r["\u0275\u0275inject"](b,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),w=function(){var e=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=m(E(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass2(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+g(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,E(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](y),r["\u0275\u0275inject"](u))},e.normalizeQueryParams=g,e.joinWithSlash=v,e.stripTrailingSlash=m,e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:S,token:e,providedIn:"root"}),e}();function S(){return new w(Object(r["\u0275\u0275inject"])(y),Object(r["\u0275\u0275inject"])(u))}function E(e){return e.replace(/\/index.html$/,"")}var I={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},O=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),P=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),x=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),T=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),A=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),D=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}(),R=function(){var e={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return e[e.Sunday]="Sunday",e[e.Monday]="Monday",e[e.Tuesday]="Tuesday",e[e.Wednesday]="Wednesday",e[e.Thursday]="Thursday",e[e.Friday]="Friday",e[e.Saturday]="Saturday",e}();function j(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].LocaleId]}function M(e,t,n){var i=Object(r["\u0275findLocaleData"])(e),o=$([i[r["\u0275LocaleDataIndex"].DayPeriodsFormat],i[r["\u0275LocaleDataIndex"].DayPeriodsStandalone]],t);return $(o,n)}function N(e,t,n){var i=Object(r["\u0275findLocaleData"])(e),o=$([i[r["\u0275LocaleDataIndex"].DaysFormat],i[r["\u0275LocaleDataIndex"].DaysStandalone]],t);return $(o,n)}function F(e,t,n){var i=Object(r["\u0275findLocaleData"])(e),o=$([i[r["\u0275LocaleDataIndex"].MonthsFormat],i[r["\u0275LocaleDataIndex"].MonthsStandalone]],t);return $(o,n)}function L(e,t){return $(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Eras],t)}function V(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].FirstDayOfWeek]}function U(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].WeekendRange]}function B(e,t){return $(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateFormat],t)}function G(e,t){return $(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].TimeFormat],t)}function H(e,t){return $(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateTimeFormat],t)}function z(e,t){var n=Object(r["\u0275findLocaleData"])(e),i=n[r["\u0275LocaleDataIndex"].NumberSymbols][t];if(void 0===i){if(t===D.CurrencyDecimal)return n[r["\u0275LocaleDataIndex"].NumberSymbols][D.Decimal];if(t===D.CurrencyGroup)return n[r["\u0275LocaleDataIndex"].NumberSymbols][D.Group]}return i}function q(e,t){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].NumberFormats][t]}function W(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencySymbol]||null}function Y(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencyName]||null}function K(e){return Object(r["\u0275getLocaleCurrencyCode"])(e)}var Q=r["\u0275getLocalePluralCase"];function X(e){if(!e[r["\u0275LocaleDataIndex"].ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[r["\u0275LocaleDataIndex"].LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function J(e){var t=Object(r["\u0275findLocaleData"])(e);return X(t),(t[r["\u0275LocaleDataIndex"].ExtraData][2]||[]).map((function(e){return"string"==typeof e?ee(e):[ee(e[0]),ee(e[1])]}))}function Z(e,t,n){var i=Object(r["\u0275findLocaleData"])(e);X(i);var o=$([i[r["\u0275LocaleDataIndex"].ExtraData][0],i[r["\u0275LocaleDataIndex"].ExtraData][1]],t)||[];return $(o,n)||[]}function $(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function ee(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=function(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Currencies]}(n)[e]||I[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}function ne(e){var t,n=I[e];return n&&(t=n[2]),"number"==typeof t?t:2}var re=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ie={},oe=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ae=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),se=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),ce=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function ue(e,t,n,r){var i=function(e){if(ye(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(re))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,c,u),t}(t)}var s=new Date(e);if(!ye(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var r=j(t);if(ie[r]=ie[r]||{},ie[r][n])return ie[r][n];var i="";switch(n){case"shortDate":i=B(t,A.Short);break;case"mediumDate":i=B(t,A.Medium);break;case"longDate":i=B(t,A.Long);break;case"fullDate":i=B(t,A.Full);break;case"shortTime":i=G(t,A.Short);break;case"mediumTime":i=G(t,A.Medium);break;case"longTime":i=G(t,A.Long);break;case"fullTime":i=G(t,A.Full);break;case"short":var o=e(t,"shortTime"),a=e(t,"shortDate");i=le(H(t,A.Short),[o,a]);break;case"medium":var s=e(t,"mediumTime"),c=e(t,"mediumDate");i=le(H(t,A.Medium),[s,c]);break;case"long":var u=e(t,"longTime"),l=e(t,"longDate");i=le(H(t,A.Long),[u,l]);break;case"full":var h=e(t,"fullTime"),f=e(t,"fullDate");i=le(H(t,A.Full),[h,f])}return i&&(ie[r][n]=i),i}(n,t)||t;for(var o,a=[];t;){if(!(o=oe.exec(t))){a.push(t);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;t=s}var c=i.getTimezoneOffset();r&&(c=ge(r,c),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ge(t,r)-r))}(i,r));var u="";return a.forEach((function(e){var t=function(e){if(me[e])return me[e];var t;switch(e){case"G":case"GG":case"GGG":t=de(ce.Eras,T.Abbreviated);break;case"GGGG":t=de(ce.Eras,T.Wide);break;case"GGGGG":t=de(ce.Eras,T.Narrow);break;case"y":t=fe(se.FullYear,1,0,!1,!0);break;case"yy":t=fe(se.FullYear,2,0,!0,!0);break;case"yyy":t=fe(se.FullYear,3,0,!1,!0);break;case"yyyy":t=fe(se.FullYear,4,0,!1,!0);break;case"M":case"L":t=fe(se.Month,1,1);break;case"MM":case"LL":t=fe(se.Month,2,1);break;case"MMM":t=de(ce.Months,T.Abbreviated);break;case"MMMM":t=de(ce.Months,T.Wide);break;case"MMMMM":t=de(ce.Months,T.Narrow);break;case"LLL":t=de(ce.Months,T.Abbreviated,x.Standalone);break;case"LLLL":t=de(ce.Months,T.Wide,x.Standalone);break;case"LLLLL":t=de(ce.Months,T.Narrow,x.Standalone);break;case"w":t=ve(1);break;case"ww":t=ve(2);break;case"W":t=ve(1,!0);break;case"d":t=fe(se.Date,1);break;case"dd":t=fe(se.Date,2);break;case"E":case"EE":case"EEE":t=de(ce.Days,T.Abbreviated);break;case"EEEE":t=de(ce.Days,T.Wide);break;case"EEEEE":t=de(ce.Days,T.Narrow);break;case"EEEEEE":t=de(ce.Days,T.Short);break;case"a":case"aa":case"aaa":t=de(ce.DayPeriods,T.Abbreviated);break;case"aaaa":t=de(ce.DayPeriods,T.Wide);break;case"aaaaa":t=de(ce.DayPeriods,T.Narrow);break;case"b":case"bb":case"bbb":t=de(ce.DayPeriods,T.Abbreviated,x.Standalone,!0);break;case"bbbb":t=de(ce.DayPeriods,T.Wide,x.Standalone,!0);break;case"bbbbb":t=de(ce.DayPeriods,T.Narrow,x.Standalone,!0);break;case"B":case"BB":case"BBB":t=de(ce.DayPeriods,T.Abbreviated,x.Format,!0);break;case"BBBB":t=de(ce.DayPeriods,T.Wide,x.Format,!0);break;case"BBBBB":t=de(ce.DayPeriods,T.Narrow,x.Format,!0);break;case"h":t=fe(se.Hours,1,-12);break;case"hh":t=fe(se.Hours,2,-12);break;case"H":t=fe(se.Hours,1);break;case"HH":t=fe(se.Hours,2);break;case"m":t=fe(se.Minutes,1);break;case"mm":t=fe(se.Minutes,2);break;case"s":t=fe(se.Seconds,1);break;case"ss":t=fe(se.Seconds,2);break;case"S":t=fe(se.FractionalSeconds,1);break;case"SS":t=fe(se.FractionalSeconds,2);break;case"SSS":t=fe(se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=pe(ae.Short);break;case"ZZZZZ":t=pe(ae.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=pe(ae.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=pe(ae.Long);break;default:return null}return me[e]=t,t}(e);u+=t?t(i,n,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),u}function le(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,c=function(e,t){switch(e){case se.FullYear:return t.getFullYear();case se.Month:return t.getMonth();case se.Date:return t.getDate();case se.Hours:return t.getHours();case se.Minutes:return t.getMinutes();case se.Seconds:return t.getSeconds();case se.FractionalSeconds:return t.getMilliseconds();case se.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||c>-n)&&(c+=n),e===se.Hours)0===c&&-12===n&&(c=12);else if(e===se.FractionalSeconds)return s=t,he(c,3).substr(0,s);var u=z(a,D.MinusSign);return he(c,t,u,r,i)}}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(e,t,n,r,i,o){switch(n){case ce.Months:return F(t,i,r)[e.getMonth()];case ce.Days:return N(t,i,r)[e.getDay()];case ce.DayPeriods:var a=e.getHours(),s=e.getMinutes();if(o){var c,u=J(t),l=Z(t,i,r);if(u.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],u=o.hours,h=o.minutes;a>=r&&s>=i&&(a<u||a===u&&s<h)&&(c=l[t])}else{var f=e.hours,d=e.minutes;f===a&&d===s&&(c=l[t])}})),c)return c}return M(t,i,r)[a<12?0:1];case ce.Eras:return L(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(i,o,e,t,n,r)}}function pe(e){return function(t,n,r){var i=-1*r,o=z(n,D.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case ae.Short:return(i>=0?"+":"")+he(a,2,o)+he(Math.abs(i%60),2,o);case ae.ShortGMT:return"GMT"+(i>=0?"+":"")+he(a,1,o);case ae.Long:return"GMT"+(i>=0?"+":"")+he(a,2,o)+":"+he(Math.abs(i%60),2,o);case ae.Extended:return 0===r?"Z":(i>=0?"+":"")+he(a,2,o)+":"+he(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var c=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();i=1+Math.floor((u+c)/7)}else{var l=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return he(i,e,z(r,D.MinusSign))}}var me={};function ge(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ye(e){return e instanceof Date&&!isNaN(e.valueOf())}var _e=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function be(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",c=!1;if(isFinite(e)){var u=function(e){var t,n,r,i,o,a=Math.abs(e)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))t=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(a.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);a&&(u=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));var l=t.minInt,h=t.minFrac,f=t.maxFrac;if(o){var d=o.match(_e);if(null===d)throw new Error("".concat(o," is not a valid digit info"));var p=d[1],v=d[3],m=d[5];null!=p&&(l=Ee(p)),null!=v&&(h=Ee(v)),null!=m?f=Ee(m):null!=v&&h>f&&(f=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,s=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(var c=a;c<r.length;c++)r[c]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=t+e.integerLen,d=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),t>=10?1:0}),0);d&&(r.unshift(d),e.integerLen++)}(u,h,f);var g=u.digits,y=u.integerLen,_=u.exponent,b=[];for(c=g.every((function(e){return!e}));y<l;y++)g.unshift(0);for(;y<0;y++)g.unshift(0);y>0?b=g.splice(y,g.length):(b=g,g=[0]);var C=[];for(g.length>=t.lgSize&&C.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)C.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&C.unshift(g.join("")),s=C.join(z(n,r)),b.length&&(s+=z(n,i)+b.join("")),_&&(s+=z(n,D.Exponential)+"+"+_)}else s=z(n,D.Infinity);return s=e<0&&!c?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}function Ce(e,t,n,r,i){var o=Se(q(t,O.Currency),z(t,D.MinusSign));return o.minFrac=ne(r),o.maxFrac=o.minFrac,be(e,o,t,D.CurrencyGroup,D.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function ke(e,t,n){return be(e,Se(q(t,O.Percent),z(t,D.MinusSign)),t,D.Group,D.Decimal,n,!0).replace(new RegExp("%","g"),z(t,D.PercentSign))}function we(e,t,n){return be(e,Se(q(t,O.Decimal),z(t,D.MinusSign)),t,D.Group,D.Decimal,n)}function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],c=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var u=0;u<c.length;u++){var l=c.charAt(u);"0"===l?n.minFrac=n.maxFrac=u+1:"#"===l?n.maxFrac=u+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Ee(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var Ie=function e(){_classCallCheck2(this,e)};function Oe(e,t,n,r){var i="=".concat(e);if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'.concat(e,'"'))}var Pe=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this)).locale=e,r}return _createClass2(n,[{key:"getPluralCategory",value:function(e,t){switch(Q(t||this.locale)(e)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(Ie);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](r.LOCALE_ID))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function xe(e,t,n){return Object(r["\u0275registerLocaleData"])(e,t,n)}function Te(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],c=a[1];if(s.trim()===t)return decodeURIComponent(c)}}catch(u){r.e(u)}finally{r.f()}return null}var Ae=function(){var e=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass2(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(r["\u0275stringify"])(e.item)));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.IterableDiffers),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),De=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return _createClass2(e,[{key:"ngOnChanges",value:function(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=t.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var i=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}},{key:"ngOnDestroy",value:function(){this._moduleRef&&this._moduleRef.destroy()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e}(),Re=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass2(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),je=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass2(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Re(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new Me(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var c=new Me(e,s);n.push(c)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Object(r.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.IterableDiffers))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),Me=function e(t,n){_classCallCheck2(this,e),this.record=t,this.view=n},Ne=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._viewContainer=t,this._context=new Fe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass2(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Le("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Le("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),Fe=function e(){_classCallCheck2(this,e),this.$implicit=null,this.ngIf=null};function Le(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r["\u0275stringify"])(t),"'."))}var Ve=function(){function e(t,n){_classCallCheck2(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass2(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Ue=function(){var e=function(){function e(){_classCallCheck2(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass2(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),Be=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this.ngSwitch=r,r._addCase(),this._view=new Ve(t,n)}return _createClass2(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Ue,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}(),Ge=function(){var e=function e(t,n,r){_classCallCheck2(this,e),r._addDefault(new Ve(t,n))};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Ue,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchDefault",""]]}),e}(),He=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._localization=t,this._caseViews={}}return _createClass2(e,[{key:"addCase",value:function(e,t){this._caseViews[e]=t}},{key:"_updateView",value:function(){this._clearViews();var e=Object.keys(this._caseViews),t=Oe(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}},{key:"_clearViews",value:function(){this._activeView&&this._activeView.destroy()}},{key:"_activateView",value:function(e){e&&(this._activeView=e,this._activeView.create())}},{key:"ngPlural",set:function(e){this._switchValue=e,this._updateView()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Ie))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e}(),ze=function(){var e=function e(t,n,r,i){_classCallCheck2(this,e),this.value=t;var o=!isNaN(Number(t));i.addCase(o?"=".concat(t):t,new Ve(r,n))};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275injectAttribute"]("ngPluralCase"),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](He,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPluralCase",""]]}),e}(),qe=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return _createClass2(e,[{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),r=n[0],i=n[1];null!=(t=null!=t&&i?"".concat(t).concat(i):t)?this._renderer.setStyle(this._ngEl.nativeElement,r,t):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}},{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),We=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass2(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===t.indexOf(o))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e}(),Ye=[Ae,De,je,Ne,We,qe,Ue,Be,Ge,He,ze];function Ke(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(r["\u0275stringify"])(e),"'"))}var Qe=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Xe=new(function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Je=new Qe,Ze=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Object(r["\u0275looseIdentical"])(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(Object(r["\u0275isPromise"])(t))return Xe;if(Object(r["\u0275isObservable"])(t))return Je;throw Ke(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275injectPipeChangeDetectorRef"]())},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"async",type:e,pure:!1}),e}(),$e=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Ke(e,t);return t.toLowerCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"lowercase",type:e,pure:!0}),e}(),et=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,tt=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Ke(e,t);return t.replace(et,(function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"titlecase",type:e,pure:!0}),e}(),nt=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Ke(e,t);return t.toUpperCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"uppercase",type:e,pure:!0}),e}(),rt=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.locale=t}return _createClass2(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return ue(t,n,i||this.locale,r)}catch(o){throw Ke(e,o.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"date",type:e,pure:!0}),e}(),it=/#/g,ot=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._localization=t}return _createClass2(e,[{key:"transform",value:function(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw Ke(e,n);return n[Oe(t,Object.keys(n),this._localization,r)].replace(it,t.toString())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Ie))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nPlural",type:e,pure:!0}),e}(),at=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Ke(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nSelect",type:e,pure:!0}),e}(),st=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(e){return JSON.stringify(e,null,2)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"json",type:e,pure:!1}),e}(),ct=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.differs=t,this.keyValues=[]}return _createClass2(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var r=this.differ.diff(e);return r&&(this.keyValues=[],r.forEachItem((function(e){t.keyValues.push({key:e.key,value:e.currentValue})})),this.keyValues.sort(n)),this.keyValues}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.KeyValueDiffers))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"keyvalue",type:e,pure:!1}),e}();function ut(e,t){var n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var lt=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._locale=t}return _createClass2(e,[{key:"transform",value:function(t,n,r){if(dt(t))return null;r=r||this._locale;try{return we(pt(t),r,n)}catch(i){throw Ke(e,i.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"number",type:e,pure:!0}),e}(),ht=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._locale=t}return _createClass2(e,[{key:"transform",value:function(t,n,r){if(dt(t))return null;r=r||this._locale;try{return ke(pt(t),r,n)}catch(i){throw Ke(e,i.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"percent",type:e,pure:!0}),e}(),ft=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck2(this,e),this._locale=t,this._defaultCurrencyCode=n}return _createClass2(e,[{key:"transform",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(dt(t))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?te(a,"symbol"===r?"wide":"narrow",o):r);try{return Ce(pt(t),o,a,n,i)}catch(s){throw Ke(e,s.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID),r["\u0275\u0275directiveInject"](r.DEFAULT_CURRENCY_CODE))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"currency",type:e,pure:!0}),e}();function dt(e){return null==e||""===e||e!=e}function pt(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}var vt=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(t,n,r){if(null==t)return t;if(!this.supports(t))throw Ke(e,t);return t.slice(n,r)}},{key:"supports",value:function(e){return"string"==typeof e||Array.isArray(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"slice",type:e,pure:!1}),e}(),mt=[Ze,nt,$e,st,vt,lt,ht,tt,ft,rt,ot,at,ct],gt=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[{provide:Ie,useClass:Pe}]}),e}(),yt="browser",_t="server",bt="browserWorkerApp",Ct="browserWorkerUi";function kt(e){return e===yt}function wt(e){return e===_t}function St(e){return e===bt}function Et(e){return e===Ct}var It=new r.Version("9.0.7"),Ot=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({token:e,providedIn:"root",factory:function(){return new Pt(Object(r["\u0275\u0275inject"])(c),window,Object(r["\u0275\u0275inject"])(r.ErrorHandler))}}),e}(),Pt=function(){function e(t,n,r){_classCallCheck2(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass2(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),xt=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"setOffset",value:function(e){}},{key:"getScrollPosition",value:function(){return[0,0]}},{key:"scrollToPosition",value:function(e){}},{key:"scrollToAnchor",value:function(e){}},{key:"setHistoryScrollRestoration",value:function(e){}}]),e}()},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),c=n("c2HN"),u=n("XoHu"),l=function(e){if(e&&"function"==typeof e[a.a])return l=e,function(e){var t=l[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(c.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,h=Object(u.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},Sq7f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("5QHs"),o=n("LUZP"),a=n("qCKp"),s=n("kU1M"),c=n("wO2d"),u=n("mZbU"),l=r.__importStar(n("8Y7J")),h=r.__importStar(n("f4AX")),f=r.__importStar(n("PIpM")),d=r.__importStar(n("cUpR")),p=r.__importStar(n("F8Su")),v=r.__importStar(n("SVse")),m=r.__importStar(n("OaSA")),g=r.__importStar(n("LUZP")),y=r.__importStar(n("5QHs")),_=r.__importStar(n("pu8Q")),b=r.__importStar(n("TSSN"));function C(e,t){1&e&&l.\u0275\u0275element(0,"mat-spinner",25)}function k(e,t){1&e&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275element(1,"div",26),l.\u0275\u0275elementContainerEnd())}function w(e,t){1&e&&l.\u0275\u0275element(0,"th",27)}function S(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"td",28),l.\u0275\u0275elementStart(1,"span",29),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=t.index,r=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("#",r.getPlace(n),"")}}function E(e,t){1&e&&l.\u0275\u0275element(0,"th",30)}function I(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"td",28),l.\u0275\u0275elementStart(1,"div",31),l.\u0275\u0275element(2,"div",32),l.\u0275\u0275elementStart(3,"span"),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275styleProp("background-image",r.getAvatarUrl(n),l.\u0275\u0275defaultStyleSanitizer),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(n.user.username)}}function O(e,t){1&e&&(l.\u0275\u0275elementStart(0,"th",33),l.\u0275\u0275text(1,"XP"),l.\u0275\u0275elementEnd())}function P(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"td",28),l.\u0275\u0275elementStart(1,"span",34),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(n.xp)}}function x(e,t){1&e&&l.\u0275\u0275element(0,"th",35)}function T(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"td",28),l.\u0275\u0275elementStart(1,"div",31),l.\u0275\u0275element(2,"span",36),l.\u0275\u0275elementStart(3,"span",34),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("title",r.getFormattedUserLevel(n.level)),l.\u0275\u0275attribute("data-level",n.level),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(r.getFormattedUserLevel(n.level))}}function A(e,t){1&e&&l.\u0275\u0275element(0,"th",37)}function D(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"td",28),l.\u0275\u0275elementStart(1,"span"),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(n.gamesPlayed)}}function R(e,t){1&e&&l.\u0275\u0275element(0,"th",38)}function j(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"td",28),l.\u0275\u0275elementStart(1,"span"),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(n.wins)}}function M(e,t){1&e&&l.\u0275\u0275element(0,"th",39)}function N(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"td",28),l.\u0275\u0275elementStart(1,"span"),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(n.losses)}}function F(e,t){1&e&&l.\u0275\u0275element(0,"th",40)}function L(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"td",28),l.\u0275\u0275elementStart(1,"span",29),l.\u0275\u0275text(2),l.\u0275\u0275pipe(3,"percent"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(3,1,r.getWinRate(n)))}}function V(e,t){1&e&&l.\u0275\u0275element(0,"tr",41)}function U(e,t){1&e&&l.\u0275\u0275element(0,"tr",42)}var B=function(e){return{"d-none":e}},G=function(){function e(t,n,r,i,o){_classCallCheck2(this,e),this.userService=t,this.ratingService=n,this.cdr=r,this.sanitizer=i,this.gameInfoService=o,this.displayedColumns=["index","user","xp","level","games","wins","losses","winRate"],this.data=[],this.dataLength=0,this.isLoading=!0,this.UserLevel=c.UserLevel}return _createClass2(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.sort.sortChange.subscribe((function(){return e.paginator.pageIndex=0})),a.merge(a.of(!0),this.sort.sortChange,this.paginator.page).pipe(s.tap((function(){e.isLoading=!0,e.cdr.detectChanges()})),s.switchMap((function(){return a.combineLatest([e.ratingService.rating$,e.userService.users$])})),s.map((function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1],o=u.RatingView.mapFromDtoBulk(r.sort((function(t,n){return"asc"===e.sort.direction?t.xp-n.xp:n.xp-t.xp})),i);return e.dataLength=o.length,o.slice(e.paginator.pageIndex*e.paginator.pageSize,e.paginator.pageIndex*e.paginator.pageSize+e.paginator.pageSize)})),s.tap((function(){e.isLoading=!1,e.cdr.detectChanges()})),s.catchError((function(){return e.isLoading=!1,e.cdr.detectChanges(),a.of([])}))).subscribe((function(t){e.data=t,e.cdr.detectChanges()}))}},{key:"getWinRate",value:function(e){return e.gamesPlayed?e.wins/e.gamesPlayed:0}},{key:"getPlace",value:function(e){return e+=1,0===this.paginator.pageIndex?e:e+this.paginator.pageIndex*this.paginator.pageSize}},{key:"getAvatarUrl",value:function(e){return this.sanitizer.bypassSecurityTrustStyle("url(".concat(e.user.getAvatarUrl(),")"))}},{key:"getFormattedUserLevel",value:function(e){return this.gameInfoService.getFormattedUserLevel(e)}},{key:"isMissingData",get:function(){return!this.isLoading&&!this.data.length}}]),e}();t.RatingComponent=G,G.\u0275fac=function(e){return new(e||G)(l.\u0275\u0275directiveInject(h.UserService),l.\u0275\u0275directiveInject(f.RatingService),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(d.DomSanitizer),l.\u0275\u0275directiveInject(p.GameInfoService))},G.\u0275cmp=l.\u0275\u0275defineComponent({type:G,selectors:[["gw-rating"]],viewQuery:function(e,t){var n;1&e&&(l.\u0275\u0275viewQuery(i.MatPaginator,!0),l.\u0275\u0275viewQuery(o.MatSort,!0)),2&e&&(l.\u0275\u0275queryRefresh(n=l.\u0275\u0275loadQuery())&&(t.paginator=n.first),l.\u0275\u0275queryRefresh(n=l.\u0275\u0275loadQuery())&&(t.sort=n.first))},decls:32,vars:13,consts:[[1,"d-flex","flex-column","justify-content-between","align-items-stretch","text-center","h-100","gw-rating"],["class","align-self-center m-4 gw-rating-loading",4,"ngIf"],[4,"ngIf"],[1,"gw-rating-wrapper"],["mat-table","","matSort","","matSortActive","ratingId",1,"w-100","gw-rating-table",3,"dataSource","ngClass"],["matColumnDef","index"],["mat-header-cell","","class","text-center","translate","i18n.COMMON.PLACE",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","user"],["mat-header-cell","","class","pl-3","translate","i18n.COMMON.USER",4,"matHeaderCellDef"],["matColumnDef","xp"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","level"],["mat-header-cell","","class","text-center","translate","i18n.COMMON.LEVEL",4,"matHeaderCellDef"],["matColumnDef","games"],["mat-header-cell","","class","text-center","translate","i18n.COMMON.GAMES_PLAYED",4,"matHeaderCellDef"],["matColumnDef","wins"],["mat-header-cell","","class","text-center","translate","i18n.COMMON.WINS",4,"matHeaderCellDef"],["matColumnDef","losses"],["mat-header-cell","","class","text-center","translate","i18n.COMMON.LOSSES",4,"matHeaderCellDef"],["matColumnDef","winRate"],["mat-header-cell","","class","text-center","translate","i18n.COMMON.WIN_RATE",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","ngClass"],[1,"align-self-center","m-4","gw-rating-loading"],["role","alert","translate","i18n.RATING.RATING_EMPTY",1,"alert","alert-warning","m-4"],["mat-header-cell","","translate","i18n.COMMON.PLACE",1,"text-center"],["mat-cell",""],[1,"font-weight-bold"],["mat-header-cell","","translate","i18n.COMMON.USER",1,"pl-3"],[1,"d-flex","align-items-center"],[1,"m-1","gw-user-avatar"],["mat-header-cell","",1,"text-center"],[1,"font-weight-bold","text-primary"],["mat-header-cell","","translate","i18n.COMMON.LEVEL",1,"text-center"],[1,"gw-user-rating","mr-1",3,"title"],["mat-header-cell","","translate","i18n.COMMON.GAMES_PLAYED",1,"text-center"],["mat-header-cell","","translate","i18n.COMMON.WINS",1,"text-center"],["mat-header-cell","","translate","i18n.COMMON.LOSSES",1,"text-center"],["mat-header-cell","","translate","i18n.COMMON.WIN_RATE",1,"text-center"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275template(1,C,1,0,"mat-spinner",1),l.\u0275\u0275template(2,k,2,0,"ng-container",2),l.\u0275\u0275elementStart(3,"div",3),l.\u0275\u0275elementStart(4,"table",4),l.\u0275\u0275elementContainerStart(5,5),l.\u0275\u0275template(6,w,1,0,"th",6),l.\u0275\u0275template(7,S,3,1,"td",7),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(8,8),l.\u0275\u0275template(9,E,1,0,"th",9),l.\u0275\u0275template(10,I,5,3,"td",7),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(11,10),l.\u0275\u0275template(12,O,2,0,"th",11),l.\u0275\u0275template(13,P,3,1,"td",7),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(14,12),l.\u0275\u0275template(15,x,1,0,"th",13),l.\u0275\u0275template(16,T,5,3,"td",7),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(17,14),l.\u0275\u0275template(18,A,1,0,"th",15),l.\u0275\u0275template(19,D,3,1,"td",7),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(20,16),l.\u0275\u0275template(21,R,1,0,"th",17),l.\u0275\u0275template(22,j,3,1,"td",7),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(23,18),l.\u0275\u0275template(24,M,1,0,"th",19),l.\u0275\u0275template(25,N,3,1,"td",7),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(26,20),l.\u0275\u0275template(27,F,1,0,"th",21),l.\u0275\u0275template(28,L,4,3,"td",7),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275template(29,V,1,0,"tr",22),l.\u0275\u0275template(30,U,1,0,"tr",23),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(31,"mat-paginator",24),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",t.isLoading),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",t.isMissingData),l.\u0275\u0275advance(2),l.\u0275\u0275property("dataSource",t.data)("ngClass",l.\u0275\u0275pureFunction1(9,B,t.isMissingData)),l.\u0275\u0275advance(25),l.\u0275\u0275property("matHeaderRowDef",t.displayedColumns),l.\u0275\u0275advance(1),l.\u0275\u0275property("matRowDefColumns",t.displayedColumns),l.\u0275\u0275advance(1),l.\u0275\u0275property("length",t.dataLength)("pageSize",30)("ngClass",l.\u0275\u0275pureFunction1(11,B,t.isMissingData)))},directives:[v.NgIf,m.MatTable,g.MatSort,v.NgClass,m.MatColumnDef,m.MatHeaderCellDef,m.MatCellDef,m.MatHeaderRowDef,m.MatRowDef,y.MatPaginator,_.MatSpinner,b.TranslateDirective,m.MatHeaderCell,m.MatCell,m.MatHeaderRow,m.MatRow],pipes:[v.PercentPipe],styles:[".gw-rating[_ngcontent-%COMP%]{background-color:#f4f7f6}.gw-rating-wrapper[_ngcontent-%COMP%]   .gw-rating-table[_ngcontent-%COMP%]   .gw-user-avatar[_ngcontent-%COMP%]{background-size:cover;background-position:50%;width:50px;height:50px}.gw-rating-wrapper[_ngcontent-%COMP%]   .gw-rating-table[_ngcontent-%COMP%]   .gw-user-rating[_ngcontent-%COMP%]{width:40px;height:40px}"]})},SxV6:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("sVev"),i=n("pLZG"),o=n("IzEk"),a=n("xbPD"),s=n("XDbj"),c=n("SpAZ");function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i.a)((function(t,n){return e(t,n,u)})):c.a,Object(o.a)(1),n?Object(a.a)(t):Object(s.a)((function(){return new r.a})))}}},Sy1n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("iInd"),o=n("6yn5"),a=n("qCKp"),s=n("kU1M"),c=n("232T"),u=n("G+XK"),l=n("x5lf"),h=n("dDzl"),f=n("vxN6"),d=r.__importStar(n("8Y7J")),p=r.__importStar(n("iInd")),v=r.__importStar(n("lwos")),m=r.__importStar(n("TSSN")),g=r.__importStar(n("3G0t")),y=r.__importStar(n("Y4+Y")),_=r.__importStar(n("WRCD")),b=r.__importStar(n("SVse")),C=r.__importStar(n("e9by")),k=r.__importStar(n("sZC0")),w=r.__importStar(n("o3mT"));function S(e,t){1&e&&d.\u0275\u0275element(0,"gw-header")}function E(e,t){1&e&&d.\u0275\u0275element(0,"gw-sidebar")}function I(e,t){1&e&&d.\u0275\u0275element(0,"gw-footer")}function O(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"pre",7),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){var n=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(n.getStrippedContent(n.lastNotification.stack))}}function P(e,t){if(1&e&&(d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275elementStart(1,"div",4),d.\u0275\u0275elementStart(2,"p",5),d.\u0275\u0275text(3),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(4,O,2,1,"pre",6),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementContainerEnd()),2&e){var n=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngClass",n.getNotificationClass(n.lastNotification)),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(n.getStrippedContent(n.lastNotification.message)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",n.lastNotification.stack)}}var x=function(){function e(t,n,r,i,o,s){_classCallCheck2(this,e),this.router=t,this.activatedRoute=n,this.loaderService=r,this.translateService=i,this.localStorageService=o,this.notificationService=s,this.showHeader=!0,this.showSidebar=!1,this.showFooter=!1,this.NotificationLocation=h.NotificationLocation,this.destroy$=new a.Subject}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.initLanguage(),this.initDynamicLayout(),this.notificationService.lastNotification$.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){e.lastNotification=t,e.lastNotificationTimeout&&window.clearTimeout(e.lastNotificationTimeout),e.lastNotificationTimeout=window.setTimeout((function(){e.lastNotification=null}),e.notificationService.notificationDuration)}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"getStrippedContent",value:function(e){return o.html(o.stripIndents(e))}},{key:"getNotificationClass",value:function(e){return this.notificationService.getNotificationClass(e)}},{key:"initLanguage",value:function(){this.translateService.setDefaultLang(l.Language.English);var e=this.localStorageService.get(f.StorageKey.Language)||l.Language.English;this.translateService.use(e)}},{key:"initDynamicLayout",value:function(){var e=this;this.router.events.subscribe((function(t){if(t instanceof i.NavigationStart&&e.loaderService.addRequest(),t instanceof i.NavigationEnd){e.showHeader=!0,e.showSidebar=!1,e.showFooter=!1;var n=c.getLayoutData(e.activatedRoute.snapshot);u.isNil(n.showHeader)||(e.showHeader=n.showHeader),u.isNil(n.showSidebar)||(e.showSidebar=n.showSidebar),u.isNil(n.showFooter)||(e.showFooter=n.showFooter),e.loaderService.removeRequest()}t instanceof i.NavigationCancel&&e.loaderService.removeRequest()}))}}]),e}();t.AppComponent=x,x.\u0275fac=function(e){return new(e||x)(d.\u0275\u0275directiveInject(p.Router),d.\u0275\u0275directiveInject(p.ActivatedRoute),d.\u0275\u0275directiveInject(v.LoaderService),d.\u0275\u0275directiveInject(m.TranslateService),d.\u0275\u0275directiveInject(g.LocalStorageService),d.\u0275\u0275directiveInject(y.NotificationService))},x.\u0275cmp=d.\u0275\u0275defineComponent({type:x,selectors:[["gw-root"]],decls:9,vars:4,consts:[[1,"d-flex","flex-column","justify-content-between","min-vh-100"],[4,"ngIf"],[1,"d-flex","flex-grow-1"],[1,"d-flex","flex-grow-1","gw-main-wrapper"],[1,"alert","gw-notification",3,"ngClass"],[1,"font-weight-bold","mb-0"],["class","mb-0",4,"ngIf"],[1,"mb-0"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275element(1,"gw-loading"),d.\u0275\u0275template(2,S,1,0,"gw-header",1),d.\u0275\u0275elementStart(3,"div",2),d.\u0275\u0275template(4,E,1,0,"gw-sidebar",1),d.\u0275\u0275elementStart(5,"div",3),d.\u0275\u0275element(6,"router-outlet"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(7,I,1,0,"gw-footer",1),d.\u0275\u0275template(8,P,5,3,"ng-container",1),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.showHeader),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.showSidebar),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",t.showFooter),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.lastNotification))},directives:[_.LoadingComponent,b.NgIf,p.RouterOutlet,C.HeaderComponent,k.SidebarComponent,w.FooterComponent,b.NgClass],styles:[".gw-main-wrapper>router-outlet+*{width:100%;height:100%;position:relative}.gw-sidebar-reserved-place[_ngcontent-%COMP%]{width:30px;height:30px}.gw-notification[_ngcontent-%COMP%]{margin:10px;position:fixed;z-index:1000}.gw-notification-bottom[_ngcontent-%COMP%]{width:calc(100% - 20px);left:0;bottom:0;text-align:center}.gw-notification-bottom.alert-danger[_ngcontent-%COMP%]{text-align:left}.gw-notification-aside[_ngcontent-%COMP%]{width:auto;max-width:300px;right:0;top:0;text-align:left}"]})},TSSN:function(e,t,n){"use strict";n.r(t),n.d(t,"FakeMissingTranslationHandler",(function(){return y})),n.d(t,"MissingTranslationHandler",(function(){return g})),n.d(t,"TranslateCompiler",(function(){return _})),n.d(t,"TranslateDefaultParser",(function(){return I})),n.d(t,"TranslateDirective",(function(){return R})),n.d(t,"TranslateFakeCompiler",(function(){return b})),n.d(t,"TranslateFakeLoader",(function(){return v})),n.d(t,"TranslateLoader",(function(){return p})),n.d(t,"TranslateModule",(function(){return M})),n.d(t,"TranslateParser",(function(){return E})),n.d(t,"TranslatePipe",(function(){return j})),n.d(t,"TranslateService",(function(){return D})),n.d(t,"TranslateStore",(function(){return P})),n.d(t,"USE_DEFAULT_LANG",(function(){return T})),n.d(t,"USE_EXTEND",(function(){return A})),n.d(t,"USE_STORE",(function(){return x}));var r=n("8Y7J"),i=n("LRne"),o=n("7+OI"),a=n("cp0P"),s=n("GyhO"),c=n("NXyV"),u=n("IzEk"),l=n("UXun"),h=n("lJxs"),f=n("bOdf"),d=n("eIep"),p=function e(){_classCallCheck2(this,e)},v=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTranslation",value:function(e){return Object(i.a)({})}}]),n}(p);return e.\u0275fac=function(t){return m(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),m=r["\u0275\u0275getInheritedFactory"](v),g=function e(){_classCallCheck2(this,e)},y=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"handle",value:function(e){return e.key}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),_=function e(){_classCallCheck2(this,e)},b=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"compile",value:function(e,t){return e}},{key:"compileTranslations",value:function(e,t){return e}}]),n}(_);return e.\u0275fac=function(t){return C(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),C=r["\u0275\u0275getInheritedFactory"](b);function k(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!Array.isArray(e)){if(Array.isArray(t))return!1;for(r in i=Object.create(null),e){if(!k(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&void 0!==t[r])return!1;return!0}if(!Array.isArray(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!k(e[r],t[r]))return!1;return!0}}return!1}function w(e){return null!=e}function S(e){return e&&"object"==typeof e&&!Array.isArray(e)}var E=function e(){_classCallCheck2(this,e)},I=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return _createClass2(n,[{key:"interpolate",value:function(e,t){return"string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e}},{key:"getValue",value:function(e,t){var n="string"==typeof t?t.split("."):[t];t="";do{t+=n.shift(),!w(e)||!w(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t="")}while(n.length);return e}},{key:"interpolateFunction",value:function(e,t){return e(t)}},{key:"interpolateString",value:function(e,t){var n=this;return t?e.replace(this.templateMatcher,(function(e,r){var i=n.getValue(t,r);return w(i)?i:e})):e}}]),n}(E);return e.\u0275fac=function(t){return O(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),O=r["\u0275\u0275getInheritedFactory"](I),P=function e(){_classCallCheck2(this,e),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new r.EventEmitter,this.onLangChange=new r.EventEmitter,this.onDefaultLangChange=new r.EventEmitter},x=new r.InjectionToken("USE_STORE"),T=new r.InjectionToken("USE_DEFAULT_LANG"),A=new r.InjectionToken("USE_EXTEND"),D=function(){var e=function(){function e(t,n,i,o,a){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];_classCallCheck2(this,e),this.store=t,this.currentLoader=n,this.compiler=i,this.parser=o,this.missingTranslationHandler=a,this.useDefaultLang=s,this.isolate=c,this.extend=u,this.pending=!1,this._onTranslationChange=new r.EventEmitter,this._onLangChange=new r.EventEmitter,this._onDefaultLangChange=new r.EventEmitter,this._langs=[],this._translations={},this._translationRequests={}}return _createClass2(e,[{key:"setDefaultLang",value:function(e){var t=this;if(e!==this.defaultLang){var n=this.retrieveTranslations(e);void 0!==n?(null==this.defaultLang&&(this.defaultLang=e),n.pipe(Object(u.a)(1)).subscribe((function(n){t.changeDefaultLang(e)}))):this.changeDefaultLang(e)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(e){var t=this;if(e===this.currentLang)return Object(i.a)(this.translations[e]);var n=this.retrieveTranslations(e);return void 0!==n?(this.currentLang||(this.currentLang=e),n.pipe(Object(u.a)(1)).subscribe((function(n){t.changeLang(e)})),n):(this.changeLang(e),Object(i.a)(this.translations[e]))}},{key:"retrieveTranslations",value:function(e){var t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}},{key:"getTranslation",value:function(e){var t=this;this.pending=!0;var n=this.currentLoader.getTranslation(e).pipe(Object(l.a)(1),Object(u.a)(1));return this.loadingTranslations=n.pipe(Object(h.a)((function(n){return t.compiler.compileTranslations(n,e)})),Object(l.a)(1),Object(u.a)(1)),this.loadingTranslations.subscribe({next:function(n){t.translations[e]=t.extend&&t.translations[e]?Object.assign({},n,t.translations[e]):n,t.updateLangs(),t.pending=!1},error:function(e){t.pending=!1}}),n}},{key:"setTranslation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=this.compiler.compileTranslations(t,e),this.translations[e]=(n||this.extend)&&this.translations[e]?function e(t,n){var r=Object.assign({},t);return S(t)&&S(n)&&Object.keys(n).forEach((function(i){S(n[i])&&i in t?r[i]=e(t[i],n[i]):Object.assign(r,_defineProperty({},i,n[i]))})),r}(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(e){var t=this;e.forEach((function(e){-1===t.langs.indexOf(e)&&t.langs.push(e)}))}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(e,t,n){var r;if(t instanceof Array){var s,c={},u=!1,l=_createForOfIteratorHelper(t);try{for(l.s();!(s=l.n()).done;){var f=s.value;c[f]=this.getParsedResult(e,f,n),Object(o.a)(c[f])&&(u=!0)}}catch(v){l.e(v)}finally{l.f()}if(u){var d=t.map((function(e){return Object(o.a)(c[e])?c[e]:Object(i.a)(c[e])}));return Object(a.a)(d).pipe(Object(h.a)((function(e){var n={};return e.forEach((function(e,r){n[t[r]]=e})),n})))}return c}if(e&&(r=this.parser.interpolate(this.parser.getValue(e,t),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),n)),void 0===r){var p={key:t,translateService:this};void 0!==n&&(p.interpolateParams=n),r=this.missingTranslationHandler.handle(p)}return void 0!==r?r:t}},{key:"get",value:function(e,t){var n=this;if(!w(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Object(f.a)((function(r){return r=n.getParsedResult(r,e,t),Object(o.a)(r)?r:Object(i.a)(r)})));var r=this.getParsedResult(this.translations[this.currentLang],e,t);return Object(o.a)(r)?r:Object(i.a)(r)}},{key:"getStreamOnTranslationChange",value:function(e,t){var n=this;if(!w(e)||!e.length)throw new Error('Parameter "key" required');return Object(s.a)(Object(c.a)((function(){return n.get(e,t)})),this.onTranslationChange.pipe(Object(d.a)((function(r){var o=n.getParsedResult(r.translations,e,t);return"function"==typeof o.subscribe?o:Object(i.a)(o)}))))}},{key:"stream",value:function(e,t){var n=this;if(!w(e)||!e.length)throw new Error('Parameter "key" required');return Object(s.a)(Object(c.a)((function(){return n.get(e,t)})),this.onLangChange.pipe(Object(d.a)((function(r){var a=n.getParsedResult(r.translations,e,t);return Object(o.a)(a)?a:Object(i.a)(a)}))))}},{key:"instant",value:function(e,t){if(!w(e)||!e.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],e,t);if(Object(o.a)(n)){if(e instanceof Array){var r={};return e.forEach((function(t,n){r[e[n]]=e[n]})),r}return e}return n}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][e]=this.compiler.compile(t,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}},{key:"changeDefaultLang",value:function(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}},{key:"reloadLang",value:function(e){return this.resetLang(e),this.getTranslation(e)}},{key:"resetLang",value:function(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}},{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(e){this.isolate?this._currentLang=e:this.store.currentLang=e}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(e){this.isolate?this._langs=e:this.store.langs=e}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(e){this.isolate?this._translations=e:this.store.translations=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](P),r["\u0275\u0275inject"](p),r["\u0275\u0275inject"](_),r["\u0275\u0275inject"](E),r["\u0275\u0275inject"](g),r["\u0275\u0275inject"](T),r["\u0275\u0275inject"](x),r["\u0275\u0275inject"](A))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),R=function(){var e=function(){function e(t,n,r){var i=this;_classCallCheck2(this,e),this.translateService=t,this.element=n,this._ref=r,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe((function(e){e.lang===i.translateService.currentLang&&i.checkNodes(!0,e.translations)}))),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe((function(e){i.checkNodes(!0,e.translations)}))),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe((function(e){i.checkNodes(!0)})))}return _createClass2(e,[{key:"ngAfterViewChecked",value:function(){this.checkNodes()}},{key:"checkNodes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this.element.nativeElement.childNodes;n.length||(this.setContent(this.element.nativeElement,this.key),n=this.element.nativeElement.childNodes);for(var r=0;r<n.length;++r){var i=n[r];if(3===i.nodeType){var o=void 0;if(this.key)o=this.key,e&&(i.lastKey=null);else{var a=this.getContent(i),s=a.trim();s.length&&(i.originalContent&&e?(i.lastKey=null,o=i.originalContent.trim()):a!==i.currentValue&&(o=s,i.originalContent=i.originalContent||a))}this.updateValue(o,i,t)}}}},{key:"updateValue",value:function(e,t,n){var r=this;if(e){if(t.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;var i=function(n){n!==e&&(t.lastKey=e),t.originalContent||(t.originalContent=r.getContent(t)),t.currentValue=w(n)?n:t.originalContent||e,r.setContent(t,r.key?t.currentValue:t.originalContent.replace(e,t.currentValue)),r._ref.markForCheck()};if(w(n)){var a=this.translateService.getParsedResult(n,e,this.currentParams);Object(o.a)(a)?a.subscribe(i):i(a)}else this.translateService.get(e,this.currentParams).subscribe(i)}}},{key:"getContent",value:function(e){return w(e.textContent)?e.textContent:e.data}},{key:"setContent",value:function(e,t){w(e.textContent)?e.textContent=t:e.data=t}},{key:"ngOnDestroy",value:function(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}},{key:"translate",set:function(e){e&&(this.key=e,this.checkNodes())}},{key:"translateParams",set:function(e){k(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](D),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),e}(),j=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.translate=t,this._ref=n,this.value=""}return _createClass2(e,[{key:"updateValue",value:function(e,t,n){var r=this,i=function(t){r.value=void 0!==t?t:e,r.lastKey=e,r._ref.markForCheck()};if(n){var a=this.translate.getParsedResult(n,e,t);Object(o.a)(a.subscribe)?a.subscribe(i):i(a)}this.translate.get(e,t).subscribe(i)}},{key:"transform",value:function(e){var t,n=this;if(!e||!e.length)return e;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(k(e,this.lastKey)&&k(i,this.lastParams))return this.value;if(w(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){var a=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{t=JSON.parse(a)}catch(s){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: ".concat(i[0]))}}else"object"!=typeof i[0]||Array.isArray(i[0])||(t=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,t),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe((function(r){n.lastKey&&r.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(e,t,r.translations))}))),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe((function(r){n.lastKey&&(n.lastKey=null,n.updateValue(e,t,r.translations))}))),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe((function(){n.lastKey&&(n.lastKey=null,n.updateValue(e,t))}))),this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](D),r["\u0275\u0275injectPipeChangeDetectorRef"]())},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"translate",type:e,pure:!1}),e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),M=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:p,useClass:v},t.compiler||{provide:_,useClass:b},t.parser||{provide:E,useClass:I},t.missingTranslationHandler||{provide:g,useClass:y},P,{provide:x,useValue:t.isolate},{provide:T,useValue:t.useDefaultLang},{provide:A,useValue:t.extend},D]}}},{key:"forChild",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:p,useClass:v},t.compiler||{provide:_,useClass:b},t.parser||{provide:E,useClass:I},t.missingTranslationHandler||{provide:g,useClass:y},{provide:x,useValue:t.isolate},{provide:T,useValue:t.useDefaultLang},{provide:A,useValue:t.extend},D]}}}]),e}();return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e}()},Thfh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("DG6c"),s=r.__importStar(n("8Y7J")),c=r.__importStar(n("f4AX")),u=r.__importStar(n("GNJl")),l=r.__importStar(n("iELJ")),h=r.__importStar(n("R3EJ")),f=r.__importStar(n("iInd")),d=function(){function e(t,n,r,i,o){_classCallCheck2(this,e),this.userService=t,this.tokenService=n,this.dialog=r,this.userResolver=i,this.router=o}return _createClass2(e,[{key:"canActivate",value:function(e){var t=this;return this.userResolver.resolve().pipe(o.switchMap((function(n){return n?i.of(!0):t.dialog.open(a.ChooseUsernameDialogComponent).afterClosed().pipe(o.switchMap((function(n){return n?t.tokenService.guestSignIn(n).pipe(o.map((function(){return!!t.userService.getCurrentUser()}))):(e.paramMap.get("roomId")?t.router.navigate(["/games",e.data.game.toLowerCase(),"lobby"]):t.router.navigate(["auth/signin"]),i.of(!1))})))})))}}]),e}();t.UserGuard=d,d.\u0275fac=function(e){return new(e||d)(s.\u0275\u0275inject(c.UserService),s.\u0275\u0275inject(u.TokenService),s.\u0275\u0275inject(l.MatDialog),s.\u0275\u0275inject(h.UserResolver),s.\u0275\u0275inject(f.Router))},d.\u0275prov=s.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"})},Tj54:function(e,t,n){"use strict";n.r(t),n.d(t,"ICON_REGISTRY_PROVIDER",(function(){return I})),n.d(t,"ICON_REGISTRY_PROVIDER_FACTORY",(function(){return E})),n.d(t,"MAT_ICON_LOCATION",(function(){return T})),n.d(t,"MAT_ICON_LOCATION_FACTORY",(function(){return A})),n.d(t,"MatIcon",(function(){return M})),n.d(t,"MatIconModule",(function(){return N})),n.d(t,"MatIconRegistry",(function(){return S})),n.d(t,"getMatIconFailedToSanitizeLiteralError",(function(){return k})),n.d(t,"getMatIconFailedToSanitizeUrlError",(function(){return C})),n.d(t,"getMatIconNameNotFoundError",(function(){return _})),n.d(t,"getMatIconNoHttpProviderError",(function(){return b}));var r=n("8Y7J"),i=n("UhP/"),o=n("8LU1"),a=n("SVse"),s=n("vkgz"),c=n("lJxs"),u=n("JIr8"),l=n("nYR2"),h=n("w1tV"),f=n("IzEk"),d=n("IheW"),p=n("cUpR"),v=n("LRne"),m=n("z6cu"),g=n("cp0P"),y=["*"];function _(e){return Error('Unable to find icon with the name "'.concat(e,'"'))}function b(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function C(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+"via Angular's DomSanitizer. Attempted URL was \"".concat(e,'".'))}function k(e){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+"Angular's DomSanitizer. Attempted literal was \"".concat(e,'".'))}var w=function e(t,n){_classCallCheck2(this,e),this.options=n,t.nodeName?this.svgElement=t:this.url=t},S=function(){var e=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._httpClient=t,this._sanitizer=n,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=r}return _createClass2(e,[{key:"addSvgIcon",value:function(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}},{key:"addSvgIconLiteral",value:function(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}},{key:"addSvgIconInNamespace",value:function(e,t,n,r){return this._addSvgIconConfig(e,t,new w(n,r))}},{key:"addSvgIconLiteralInNamespace",value:function(e,t,n,i){var o=this._sanitizer.sanitize(r.SecurityContext.HTML,n);if(!o)throw k(n);var a=this._createSvgElementForSingleIcon(o,i);return this._addSvgIconConfig(e,t,new w(a,i))}},{key:"addSvgIconSet",value:function(e,t){return this.addSvgIconSetInNamespace("",e,t)}},{key:"addSvgIconSetLiteral",value:function(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}},{key:"addSvgIconSetInNamespace",value:function(e,t,n){return this._addSvgIconSetConfig(e,new w(t,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(e,t,n){var i=this._sanitizer.sanitize(r.SecurityContext.HTML,t);if(!i)throw k(t);var o=this._svgElementFromString(i);return this._addSvgIconSetConfig(e,new w(o,n))}},{key:"registerFontClassAlias",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._fontCssClassesByAlias.set(e,t),this}},{key:"classNameForFontAlias",value:function(e){return this._fontCssClassesByAlias.get(e)||e}},{key:"setDefaultFontSetClass",value:function(e){return this._defaultFontSetClass=e,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(e){var t=this,n=this._sanitizer.sanitize(r.SecurityContext.RESOURCE_URL,e);if(!n)throw C(e);var i=this._cachedIconsByUrl.get(n);return i?Object(v.a)(O(i)):this._loadSvgIconFromConfig(new w(e)).pipe(Object(s.a)((function(e){return t._cachedIconsByUrl.set(n,e)})),Object(c.a)((function(e){return O(e)})))}},{key:"getNamedSvgIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=P(t,e),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);var i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):Object(m.a)(_(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(e){return e.svgElement?Object(v.a)(O(e.svgElement)):this._loadSvgIconFromConfig(e).pipe(Object(s.a)((function(t){return e.svgElement=t})),Object(c.a)((function(e){return O(e)})))}},{key:"_getSvgFromIconSetConfigs",value:function(e,t){var n=this,i=this._extractIconWithNameFromAnySet(e,t);if(i)return Object(v.a)(i);var o=t.filter((function(e){return!e.svgElement})).map((function(e){return n._loadSvgIconSetFromConfig(e).pipe(Object(u.a)((function(t){var i="Loading icon set URL: ".concat(n._sanitizer.sanitize(r.SecurityContext.RESOURCE_URL,e.url)," failed: ").concat(t.message);return n._errorHandler?n._errorHandler.handleError(new Error(i)):console.error(i),Object(v.a)(null)})))}));return Object(g.a)(o).pipe(Object(c.a)((function(){var r=n._extractIconWithNameFromAnySet(e,t);if(!r)throw _(e);return r})))}},{key:"_extractIconWithNameFromAnySet",value:function(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.svgElement){var i=this._extractSvgIconFromSet(r.svgElement,e,r.options);if(i)return i}}return null}},{key:"_loadSvgIconFromConfig",value:function(e){var t=this;return this._fetchUrl(e.url).pipe(Object(c.a)((function(n){return t._createSvgElementForSingleIcon(n,e.options)})))}},{key:"_loadSvgIconSetFromConfig",value:function(e){var t=this;return e.svgElement?Object(v.a)(e.svgElement):this._fetchUrl(e.url).pipe(Object(c.a)((function(n){return e.svgElement||(e.svgElement=t._svgElementFromString(n)),e.svgElement})))}},{key:"_createSvgElementForSingleIcon",value:function(e,t){var n=this._svgElementFromString(e);return this._setSvgAttributes(n,t),n}},{key:"_extractSvgIconFromSet",value:function(e,t,n){var r=e.querySelector('[id="'.concat(t,'"]'));if(!r)return null;var i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);var o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}},{key:"_svgElementFromString",value:function(e){var t=this._document.createElement("DIV");t.innerHTML=e;var n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(e){for(var t=this._svgElementFromString("<svg></svg>"),n=e.attributes,r=0;r<n.length;r++){var i=n[r],o=i.name,a=i.value;"id"!==o&&t.setAttribute(o,a)}for(var s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[s].cloneNode(!0));return t}},{key:"_setSvgAttributes",value:function(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}},{key:"_fetchUrl",value:function(e){var t=this;if(!this._httpClient)throw b();if(null==e)throw Error('Cannot fetch icon from URL "'.concat(e,'".'));var n=this._sanitizer.sanitize(r.SecurityContext.RESOURCE_URL,e);if(!n)throw C(e);var i=this._inProgressUrlFetches.get(n);if(i)return i;var o=this._httpClient.get(n,{responseType:"text"}).pipe(Object(l.a)((function(){return t._inProgressUrlFetches.delete(n)})),Object(h.a)());return this._inProgressUrlFetches.set(n,o),o}},{key:"_addSvgIconConfig",value:function(e,t,n){return this._svgIconConfigs.set(P(e,t),n),this}},{key:"_addSvgIconSetConfig",value:function(e,t){var n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](d.HttpClient,8),r["\u0275\u0275inject"](p.DomSanitizer),r["\u0275\u0275inject"](a.DOCUMENT,8),r["\u0275\u0275inject"](r.ErrorHandler,8))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(r["\u0275\u0275inject"])(d.HttpClient,8),Object(r["\u0275\u0275inject"])(p.DomSanitizer),Object(r["\u0275\u0275inject"])(a.DOCUMENT,8),Object(r["\u0275\u0275inject"])(r.ErrorHandler,8))},token:e,providedIn:"root"}),e}();function E(e,t,n,r,i){return e||new S(t,n,r,i)}var I={provide:S,deps:[[new r.Optional,new r.SkipSelf,S],[new r.Optional,d.HttpClient],p.DomSanitizer,[new r.Optional,r.ErrorHandler],[new r.Optional,a.DOCUMENT]],useFactory:E};function O(e){return e.cloneNode(!0)}function P(e,t){return e+":"+t}var x=Object(i.n)((function e(t){_classCallCheck2(this,e),this._elementRef=t})),T=new r.InjectionToken("mat-icon-location",{providedIn:"root",factory:A});function A(){var e=Object(r.inject)(a.DOCUMENT),t=e?e.location:null;return{getPathname:function(){return t?t.pathname+t.search:""}}}var D=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],R=D.map((function(e){return"[".concat(e,"]")})).join(", "),j=/^url\(['"]?#(.*?)['"]?\)$/,M=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this,e))._iconRegistry=r,s._location=o,s._errorHandler=a,s._inline=!1,i||e.nativeElement.setAttribute("aria-hidden","true"),s}return _createClass2(n,[{key:"_splitIconName",value:function(e){if(!e)return["",""];var t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error('Invalid icon name: "'.concat(e,'"'))}}},{key:"ngOnChanges",value:function(e){var t=this,n=e.svgIcon;if(n)if(this.svgIcon){var r=_slicedToArray(this._splitIconName(this.svgIcon),2),i=r[0],o=r[1];this._iconRegistry.getNamedSvgIcon(o,i).pipe(Object(f.a)(1)).subscribe((function(e){return t._setSvgElement(e)}),(function(e){var n="Error retrieving icon ".concat(i,":").concat(o,"! ").concat(e.message);t._errorHandler?t._errorHandler.handleError(new Error(n)):console.error(n)}))}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngOnInit",value:function(){this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var e=this._elementsWithExternalReferences;if(e&&this._location&&e.size){var t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}},{key:"ngOnDestroy",value:function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(e){this._clearSvgElement();for(var t=e.querySelectorAll("style"),n=0;n<t.length;n++)t[n].textContent+=" ";if(this._location){var r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r)}this._elementRef.nativeElement.appendChild(e)}},{key:"_clearSvgElement",value:function(){var e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){var n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(e){return"string"==typeof e?e.trim().split(" ")[0]:e}},{key:"_prependPathToReferences",value:function(e){var t=this._elementsWithExternalReferences;t&&t.forEach((function(t,n){t.forEach((function(t){n.setAttribute(t.name,"url('".concat(e,"#").concat(t.value,"')"))}))}))}},{key:"_cacheChildrenWithExternalReferences",value:function(e){for(var t=e.querySelectorAll(R),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,r=function(e){D.forEach((function(r){var i=t[e],o=i.getAttribute(r),a=o?o.match(j):null;if(a){var s=n.get(i);s||(s=[],n.set(i,s)),s.push({name:r,value:a[1]})}}))},i=0;i<t.length;i++)r(i)}},{key:"inline",get:function(){return this._inline},set:function(e){this._inline=Object(o.c)(e)}},{key:"fontSet",get:function(){return this._fontSet},set:function(e){this._fontSet=this._cleanupFontValue(e)}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(e){this._fontIcon=this._cleanupFontValue(e)}}]),n}(x);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](S),r["\u0275\u0275injectAttribute"]("aria-hidden"),r["\u0275\u0275directiveInject"](T,8),r["\u0275\u0275directiveInject"](r.ErrorHandler,8))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(e,t){2&e&&r["\u0275\u0275classProp"]("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:y,decls:1,vars:0,template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275projection"](0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e}(),N=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.f],i.f]}),e}()},U0EP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignIn=function(){return function e(t){_classCallCheck2(this,e),this.email=null,this.password=null,Object.assign(this,t)}}()},UBlB:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return k})),n.d(t,"__importDefault",(function(){return w})),n.d(t,"__classPrivateFieldGet",(function(){return S})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},UXun:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("jtHE");function i(e,t,n){var i;return i=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,i=e.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,a=e.windowTime,s=void 0===a?Number.POSITIVE_INFINITY:a,c=e.refCount,u=e.scheduler,l=0,h=!1,f=!1;return function(e){l++,t&&!h||(h=!1,t=new r.a(o,s,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){h=!0,t.error(e)},complete:function(){f=!0,n=void 0,t.complete()}}));var i=t.subscribe(this);this.add((function(){l--,i.unsubscribe(),n&&!f&&c&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(i))}}},"UhP/":function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return oe})),n.d(t,"e",(function(){return $})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return Q})),n.d(t,"h",(function(){return ee})),n.d(t,"i",(function(){return ie})),n.d(t,"j",(function(){return H})),n.d(t,"k",(function(){return z})),n.d(t,"l",(function(){return te})),n.d(t,"m",(function(){return ne})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return P})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return O}));var r=n("8Y7J"),i=n("YEUz"),o=n("9gLZ"),a=new r.Version("9.1.3"),s=n("SVse"),c=n("8LU1"),u=n("XNiG"),l=n("HDdC"),h=n("SCoL"),f=(n("cUpR"),n("JX91"),n("omvX")),d=n("Ht+U"),p=["*",[["mat-option"],["ng-container"]]],v=["*","mat-option, ng-container"];function m(e,t){if(1&e&&r["\u0275\u0275element"](0,"mat-pseudo-checkbox",3),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}var g,y=["*"],_=function(){var e=function e(){_classCallCheck2(this,e)};return e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",e}(),b=function(){var e=function e(){_classCallCheck2(this,e)};return e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms",e}(),C=new r.Version("9.1.3"),k=new r.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),w=((g=function(){function e(t,n,r){_classCallCheck2(this,e),this._hasDoneGlobalChecks=!1,this._document=r,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass2(e,[{key:"_getDocument",value:function(){var e=this._document||document;return"object"==typeof e&&e?e:null}},{key:"_getWindow",value:function(){var e,t=(null===(e=this._getDocument())||void 0===e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return Object(r.isDevMode)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var e=this._getWindow();return e&&(e.__karma__||e.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(!e&&t&&t.body&&"function"==typeof getComputedStyle){var n=t.createElement("div");n.classList.add("mat-theme-loaded-marker"),t.body.appendChild(n);var r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&C.full!==a.full&&console.warn("The Angular Material version ("+C.full+") does not match the Angular CDK version ("+a.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),e}()).\u0275mod=r["\u0275\u0275defineNgModule"]({type:g}),g.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||g)(r["\u0275\u0275inject"](i.g),r["\u0275\u0275inject"](k,8),r["\u0275\u0275inject"](s.DOCUMENT,8))},imports:[[o.BidiModule],o.BidiModule]}),g);function S(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck2(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._disabled=!1,e}return _createClass2(n,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Object(c.c)(e)}}]),n}(e)}function E(e,t){return function(e){_inherits(r,e);var n=_createSuper(r);function r(){var e;_classCallCheck2(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).color=t,e}return _createClass2(r,[{key:"color",get:function(){return this._color},set:function(e){var n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),n&&this._elementRef.nativeElement.classList.add("mat-".concat(n)),this._color=n)}}]),r}(e)}function I(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck2(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._disableRipple=!1,e}return _createClass2(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(e){this._disableRipple=Object(c.c)(e)}}]),n}(e)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(e){_inherits(r,e);var n=_createSuper(r);function r(){var e;_classCallCheck2(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o)))._tabIndex=t,e}return _createClass2(r,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(e){this._tabIndex=null!=e?e:t}}]),r}(e)}function P(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck2(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).errorState=!1,e.stateChanges=new u.a,e}return _createClass2(n,[{key:"updateErrorState",value:function(){var e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}]),n}(e)}function x(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck2(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._isInitialized=!1,e._pendingSubscribers=[],e.initialized=new l.a((function(t){e._isInitialized?e._notifySubscriber(t):e._pendingSubscribers.push(t)})),e}return _createClass2(n,[{key:"_markInitialized",value:function(){if(this._isInitialized)throw Error("This directive has already been marked as initialized and should not be called twice.");this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}},{key:"_notifySubscriber",value:function(e){e.next(),e.complete()}}]),n}(e)}try{"undefined"!=typeof Intl}catch(ae){!1}var T,A,D,R,j,M,N,F=((T=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}]),e}()).\u0275fac=function(e){return new(e||T)},T.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new T},token:T,providedIn:"root"}),T),L=function(){function e(t,n,r){_classCallCheck2(this,e),this._renderer=t,this.element=n,this.config=r,this.state=3}return _createClass2(e,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),e}(),V={enterDuration:450,exitDuration:400},U=Object(h.e)({passive:!0}),B=function(){function e(t,n,r,o){var a=this;_classCallCheck2(this,e),this._target=t,this._ngZone=n,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(e){var t=Object(i.i)(e),n=a._lastTouchStartEvent&&Date.now()<a._lastTouchStartEvent+800;a._target.rippleDisabled||t||n||(a._isPointerDown=!0,a.fadeInRipple(e.clientX,e.clientY,a._target.rippleConfig))},this._onTouchStart=function(e){if(!a._target.rippleDisabled){a._lastTouchStartEvent=Date.now(),a._isPointerDown=!0;for(var t=e.changedTouches,n=0;n<t.length;n++)a.fadeInRipple(t[n].clientX,t[n].clientY,a._target.rippleConfig)}},this._onPointerUp=function(){a._isPointerDown&&(a._isPointerDown=!1,a._activeRipples.forEach((function(e){!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()})))},o.isBrowser&&(this._containerElement=Object(c.e)(r),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return _createClass2(e,[{key:"fadeInRipple",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},V),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);var a=r.radius||function(e,t,n){var r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),s=e-i.left,c=t-i.top,u=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left="".concat(s-a,"px"),l.style.top="".concat(c-a,"px"),l.style.height="".concat(2*a,"px"),l.style.width="".concat(2*a,"px"),null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration="".concat(u,"ms"),this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";var h=new L(this,l,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var e=h===n._mostRecentTransientRipple;h.state=1,r.persistent||e&&n._isPointerDown||h.fadeOut()}),u),h}},{key:"fadeOutRipple",value:function(e){var t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),t){var n=e.element,r=Object.assign(Object.assign({},V),e.config.animation);n.style.transitionDuration="".concat(r.exitDuration,"ms"),n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone((function(){e.state=3,n.parentNode.removeChild(n)}),r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(e){return e.fadeOut()}))}},{key:"setupTriggerEvents",value:function(e){var t=this,n=Object(c.e)(e);n&&n!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular((function(){t._triggerEvents.forEach((function(e,t){n.addEventListener(t,e,U)}))})),this._triggerElement=n)}},{key:"_runTimeoutOutsideZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(e,t)}))}},{key:"_removeTriggerEvents",value:function(){var e=this;this._triggerElement&&this._triggerEvents.forEach((function(t,n){e._triggerElement.removeEventListener(n,t,U)}))}}]),e}(),G=new r.InjectionToken("mat-ripple-global-options"),H=((j=function(){function e(t,n,r,i,o){_classCallCheck2(this,e),this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new B(this,n,t,r),"NoopAnimations"===o&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return _createClass2(e,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign({},this._globalOptions.animation),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),e}()).\u0275fac=function(e){return new(e||j)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](G,8),r["\u0275\u0275directiveInject"](f.ANIMATION_MODULE_TYPE,8))},j.\u0275dir=r["\u0275\u0275defineDirective"]({type:j,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&r["\u0275\u0275classProp"]("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),j),z=((R=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:R}),R.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||R)},imports:[[w,h.b],w]}),R),q=((D=function e(t){_classCallCheck2(this,e),this._animationMode=t,this.state="unchecked",this.disabled=!1}).\u0275fac=function(e){return new(e||D)(r["\u0275\u0275directiveInject"](f.ANIMATION_MODULE_TYPE,8))},D.\u0275cmp=r["\u0275\u0275defineComponent"]({type:D,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&r["\u0275\u0275classProp"]("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),D),W=((A=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:A}),A.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||A)}}),A),Y=S((function e(){_classCallCheck2(this,e)})),K=0,Q=((M=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments))._labelId="mat-optgroup-label-".concat(K++),e}return n}(Y)).\u0275fac=function(e){return X(e||M)},M.\u0275cmp=r["\u0275\u0275defineComponent"]({type:M,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(e,t){2&e&&(r["\u0275\u0275attribute"]("aria-disabled",t.disabled.toString())("aria-labelledby",t._labelId),r["\u0275\u0275classProp"]("mat-optgroup-disabled",t.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[r["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:v,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](p),r["\u0275\u0275elementStart"](0,"label",0),r["\u0275\u0275text"](1),r["\u0275\u0275projection"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275projection"](3,1)),2&e&&(r["\u0275\u0275property"]("id",t._labelId),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",t.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),M),X=r["\u0275\u0275getInheritedFactory"](Q),J=0,Z=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck2(this,e),this.source=t,this.isUserInput=n},$=new r.InjectionToken("MAT_OPTION_PARENT_COMPONENT"),ee=((N=function(){function e(t,n,i,o){_classCallCheck2(this,e),this._element=t,this._changeDetectorRef=n,this._parent=i,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-".concat(J++),this.onSelectionChange=new r.EventEmitter,this._stateChanges=new u.a}return _createClass2(e,[{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(e,t){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(e){e.keyCode!==d.d&&e.keyCode!==d.l||Object(d.q)(e)||(this._selectViaInteraction(),e.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new Z(this,e))}},{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(e){this._disabled=Object(c.c)(e)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}}]),e}()).\u0275fac=function(e){return new(e||N)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"]($,8),r["\u0275\u0275directiveInject"](Q,8))},N.\u0275cmp=r["\u0275\u0275defineComponent"]({type:N,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("click",(function(){return t._selectViaInteraction()}))("keydown",(function(e){return t._handleKeydown(e)})),2&e&&(r["\u0275\u0275hostProperty"]("id",t.id),r["\u0275\u0275attribute"]("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),r["\u0275\u0275classProp"]("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:y,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275template"](0,m,1,2,"mat-pseudo-checkbox",0),r["\u0275\u0275elementStart"](1,"span",1),r["\u0275\u0275projection"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](3,"div",2)),2&e&&(r["\u0275\u0275property"]("ngIf",t.multiple),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[s.NgIf,H,q],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),N);function te(e,t,n){if(n.length){for(var r=t.toArray(),i=n.toArray(),o=0,a=0;a<e+1;a++)r[a].group&&r[a].group===i[o]&&o++;return o}return 0}function ne(e,t,n,r){var i=e*t;return i<n?i:i+t>n+r?Math.max(0,i-r+t):n}var re,ie=((re=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:re}),re.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||re)},imports:[[z,s.CommonModule,W]]}),re),oe=new r.InjectionToken("mat-label-global-options")},VRCc:function(e,t,n){"use strict";n.r(t),n.d(t,"AngularFireAuth",(function(){return f})),n.d(t,"AngularFireAuthModule",(function(){return d}));var r=n("8Y7J"),i=n("LRne"),o=n("HDdC"),a=n("Cfvw"),s=n("pxpQ"),c=n("eIep"),u=n("lJxs"),l=n("UXun"),h=n("jmUF"),f=function(){var e=function e(t,r,f,d){_classCallCheck2(this,e);var p=new h["\u0275AngularFireSchedulers"](d),v=Object(h["\u0275keepUnstableUntilFirstFactory"])(p,f),m=Object(i.a)(void 0).pipe(Object(s.b)(p.outsideAngular),Object(c.a)((function(){return d.runOutsideAngular((function(){return n.e(1).then(n.bind(null,"6nsN"))}))})),Object(u.a)((function(){return Object(h["\u0275firebaseAppFactory"])(t,d,r)})),Object(u.a)((function(e){return e.auth()})),Object(l.a)({bufferSize:1,refCount:!1}));return this.authState=m.pipe(Object(s.b)(p.outsideAngular),Object(c.a)((function(e){return new o.a(e.onAuthStateChanged.bind(e))})),v),this.user=m.pipe(Object(s.b)(p.outsideAngular),Object(c.a)((function(e){return new o.a(e.onIdTokenChanged.bind(e))})),v),this.idToken=this.user.pipe(Object(c.a)((function(e){return e?Object(a.a)(e.getIdToken()):Object(i.a)(null)}))),this.idTokenResult=this.user.pipe(Object(c.a)((function(e){return e?Object(a.a)(e.getIdTokenResult()):Object(i.a)(null)}))),Object(h["\u0275lazySDKProxy"])(this,m,d)};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](h.FIREBASE_OPTIONS),r["\u0275\u0275inject"](h.FIREBASE_APP_NAME,8),r["\u0275\u0275inject"](r.PLATFORM_ID),r["\u0275\u0275inject"](r.NgZone))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(r["\u0275\u0275inject"])(h.FIREBASE_OPTIONS),Object(r["\u0275\u0275inject"])(h.FIREBASE_APP_NAME,8),Object(r["\u0275\u0275inject"])(r.PLATFORM_ID),Object(r["\u0275\u0275inject"])(r.NgZone))},token:e,providedIn:"any"}),e}(),d=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[f]}),e}()},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,c=null,u=t[t.length-1];return Object(i.a)(u)?(c=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof u&&(s=t.pop()),null===c&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(s)(Object(a.a)(t,c))}},VXtK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("G+XK"),s=n("a6pu"),c=n("jEPN"),u=n("9/Hz"),l=n("z4p9"),h=n("I9Nm"),f=n("ngNE"),d=n("gcyb"),p=n("vxN6"),v=n("wO2d"),m=n("3u7H"),g=r.__importStar(n("8Y7J")),y=r.__importStar(n("blSl")),_=r.__importStar(n("zyZ6")),b=r.__importStar(n("f4AX")),C=r.__importStar(n("S1xO")),k=r.__importStar(n("PHhj")),w=r.__importStar(n("cUpR")),S=r.__importStar(n("PIpM")),E=r.__importStar(n("3G0t")),I=r.__importStar(n("F8Su")),O=r.__importStar(n("AYtS")),P=function(e){return{direction:e}};function x(e,t){if(1&e&&g.\u0275\u0275elementContainer(0,4),2&e){var n=g.\u0275\u0275nextContext(),r=g.\u0275\u0275reference(5);g.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",g.\u0275\u0275pureFunction1(2,P,n.Direction.CounterClockwise))}}function T(e,t){if(1&e&&g.\u0275\u0275element(0,"span",17),2&e){var n=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("title",n.getFormattedUserLevel(n.user.id)),g.\u0275\u0275attribute("data-level",n.getUserLevel(n.user.id))}}function A(e,t){if(1&e&&(g.\u0275\u0275elementStart(0,"span",18),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&e){var n=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("title",n.user.username),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(n.user.username)}}function D(e,t){if(1&e&&(g.\u0275\u0275elementStart(0,"span"),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&e){var n=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate2("",g.\u0275\u0275pipeBind1(2,2,"i18n.COMMON.SLOT")," #",n.playerId,"")}}function R(e,t){if(1&e&&g.\u0275\u0275element(0,"button",29),2&e){g.\u0275\u0275nextContext();var n=g.\u0275\u0275reference(24);g.\u0275\u0275property("matMenuTriggerFor",n)}}function j(e,t){if(1&e&&g.\u0275\u0275element(0,"button",30),2&e){g.\u0275\u0275nextContext();var n=g.\u0275\u0275reference(27);g.\u0275\u0275property("matMenuTriggerFor",n)}}function M(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",31),g.\u0275\u0275listener("click",(function(){g.\u0275\u0275restoreView(n);var e=t.$implicit;return g.\u0275\u0275nextContext(3).setVideoTrack(e.id)})),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(r.label)}}function N(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"button",31),g.\u0275\u0275listener("click",(function(){g.\u0275\u0275restoreView(n);var e=t.$implicit;return g.\u0275\u0275nextContext(3).setAudioTrack(e.id)})),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(r.label)}}function F(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",19),g.\u0275\u0275elementStart(1,"i",20),g.\u0275\u0275listener("click",(function(){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(2).toggleVideo()})),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275text(3,"videocam_off"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"i",20),g.\u0275\u0275listener("click",(function(){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(2).toggleAudio()})),g.\u0275\u0275pipe(5,"translate"),g.\u0275\u0275text(6,"volume_off"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(7,"i",21),g.\u0275\u0275pipe(8,"translate"),g.\u0275\u0275text(9,"settings"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(10,"mat-menu",null,22),g.\u0275\u0275template(12,R,1,1,"button",23),g.\u0275\u0275template(13,j,1,1,"button",24),g.\u0275\u0275elementStart(14,"mat-checkbox",25),g.\u0275\u0275listener("ngModelChange",(function(e){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(2).toggleFullScreenMode(e)})),g.\u0275\u0275text(15),g.\u0275\u0275pipe(16,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(17,"mat-checkbox",25),g.\u0275\u0275listener("ngModelChange",(function(e){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(2).toggleUserLevels(e)})),g.\u0275\u0275text(18),g.\u0275\u0275pipe(19,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(20,"mat-checkbox",25),g.\u0275\u0275listener("ngModelChange",(function(e){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(2).toggleAudioEffects(e)})),g.\u0275\u0275text(21),g.\u0275\u0275pipe(22,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(23,"mat-menu",null,26),g.\u0275\u0275template(25,M,2,1,"button",27),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(26,"mat-menu",null,28),g.\u0275\u0275template(28,N,2,1,"button",27),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd()}if(2&e){var r=g.\u0275\u0275reference(11),i=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(1),g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind1(2,16,i.isVideoMuted?"i18n.TOOLTIPS.CLICK_TO_ENABLE_VIDEO":"i18n.TOOLTIPS.CLICK_TO_DISABLE_VIDEO")),g.\u0275\u0275property("ngClass",i.isVideoMuted?"smth-video-disabled":"smth-video-enabled"),g.\u0275\u0275advance(3),g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind1(5,18,i.isAudioMuted?"i18n.TOOLTIPS.CLICK_TO_UNMUTE":"i18n.TOOLTIPS.CLICK_TO_MUTE")),g.\u0275\u0275property("ngClass",i.isAudioMuted?"smth-audio-disabled":"smth-audio-enabled"),g.\u0275\u0275advance(3),g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind1(8,20,"i18n.COMMON.SETTINGS")),g.\u0275\u0275property("matMenuTriggerFor",r),g.\u0275\u0275advance(5),g.\u0275\u0275property("ngIf",i.videoTracks.length),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",i.audioTracks.length),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngModel",i.isFullScreenMode),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(16,22,"i18n.COMMON.FULLSCREEN_VIDEO"),""),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngModel",i.showUserLevels),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(19,24,"i18n.COMMON.SHOW_LEVELS"),""),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngModel",i.hasAudioEffects),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(22,26,"i18n.COMMON.AUDIO_EFFECTS"),""),g.\u0275\u0275advance(4),g.\u0275\u0275property("ngForOf",i.videoTracks),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngForOf",i.audioTracks)}}var L=function(e){return{"d-none":e}};function V(e,t){if(1&e&&g.\u0275\u0275element(0,"video",35),2&e){var n=g.\u0275\u0275nextContext(3);g.\u0275\u0275property("srcObject",n.playerStream)("muted",n.hasCurrentPlayer||n.isAudioMuted)("ngClass",g.\u0275\u0275pureFunction1(3,L,n.isVideoMuted))}}function U(e,t){if(1&e&&g.\u0275\u0275element(0,"div",36),2&e){var n=g.\u0275\u0275nextContext(3);g.\u0275\u0275styleProp("background-image",n.backgroundImage,g.\u0275\u0275defaultStyleSanitizer)}}var B=function(e){return{"smth-player-fullscreen":e}};function G(e,t){if(1&e&&(g.\u0275\u0275elementContainerStart(0),g.\u0275\u0275elementStart(1,"div",32),g.\u0275\u0275template(2,V,1,5,"video",33),g.\u0275\u0275template(3,U,1,2,"div",34),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementContainerEnd()),2&e){var n=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(1),g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction1(3,B,n.isFullScreenMode)),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.hasStream&&(n.isVideoEnabled||n.isVideoMuted)),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!n.hasStream||n.isVideoMuted)}}function H(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",37),g.\u0275\u0275listener("click",(function(){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(2).takePlace()})),g.\u0275\u0275elementEnd()}}function z(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",38),g.\u0275\u0275listener("click",(function(){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(2).leavePlace()})),g.\u0275\u0275elementEnd()}}function q(e,t){if(1&e&&g.\u0275\u0275element(0,"gw-nechto-card",43),2&e){var n=t.$implicit,r=g.\u0275\u0275nextContext(4);g.\u0275\u0275property("card",n)("isClickable",!r.isBotPlaying)("location",r.CardLocation.Hand)}}function W(e,t){if(1&e&&(g.\u0275\u0275elementContainerStart(0),g.\u0275\u0275template(1,q,1,3,"gw-nechto-card",42),g.\u0275\u0275elementContainerEnd()),2&e){var n=g.\u0275\u0275nextContext(3);g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",n.handCards)}}function Y(e,t){1&e&&(g.\u0275\u0275elementStart(0,"div",44),g.\u0275\u0275element(1,"h5",45),g.\u0275\u0275elementEnd())}var K=function(e,t){return{"smth-player-cards-visible":e,"smth-player-cards-bot":t}};function Q(e,t){if(1&e&&(g.\u0275\u0275elementStart(0,"div",39),g.\u0275\u0275template(1,W,2,1,"ng-container",40),g.\u0275\u0275template(2,Y,2,0,"ng-template",null,41,g.\u0275\u0275templateRefExtractor),g.\u0275\u0275elementEnd()),2&e){var n=g.\u0275\u0275reference(3),r=g.\u0275\u0275nextContext(2);g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction2(3,K,r.canSeeCards,r.isBotPlaying&&r.isPickMode)),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",r.hasCards)("ngIfElse",n)}}function X(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",48),g.\u0275\u0275listener("click",(function(){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(3).showCards(!0)})),g.\u0275\u0275pipe(1,"translate"),g.\u0275\u0275elementStart(2,"i",49),g.\u0275\u0275text(3,"done_all"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd()}2&e&&g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind1(1,1,"i18n.GAME.SHOW_ALL_CARDS"))}function J(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",48),g.\u0275\u0275listener("click",(function(){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(3).showCards(!1)})),g.\u0275\u0275pipe(1,"translate"),g.\u0275\u0275elementStart(2,"i",49),g.\u0275\u0275text(3,"done"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd()}2&e&&g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind1(1,1,"i18n.GAME.SHOW_INFECTION_CARD"))}function Z(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",48),g.\u0275\u0275listener("click",(function(){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(3).skipShowingCards()})),g.\u0275\u0275pipe(1,"translate"),g.\u0275\u0275elementStart(2,"i",49),g.\u0275\u0275text(3,"block"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd()}2&e&&g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind1(1,1,"i18n.GAME.SKIP_SHOWING_CARDS"))}function $(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",48),g.\u0275\u0275listener("click",(function(){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext(3).acceptRequest()})),g.\u0275\u0275pipe(1,"translate"),g.\u0275\u0275elementStart(2,"i",49),g.\u0275\u0275text(3,"done"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd()}2&e&&g.\u0275\u0275propertyInterpolate("title",g.\u0275\u0275pipeBind1(1,1,"i18n.GAME.ACCEPT_REQUEST"))}function ee(e,t){if(1&e&&(g.\u0275\u0275elementStart(0,"div",46),g.\u0275\u0275template(1,X,4,3,"div",47),g.\u0275\u0275template(2,J,4,3,"div",47),g.\u0275\u0275template(3,Z,4,3,"div",47),g.\u0275\u0275template(4,$,4,3,"div",47),g.\u0275\u0275elementEnd()),2&e){var n=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.canShowCards),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.canShowCards&&n.canShowInfection),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.canShowCards),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.canAcceptRequest)}}var te=function(e,t,n,r,i){return{active:e,"taking-step":t,destroyed:n,bot:r,infected:i}},ne=function(e){return{"pl-4":e}};function re(e,t){if(1&e&&(g.\u0275\u0275elementStart(0,"div",5),g.\u0275\u0275elementStart(1,"div",6),g.\u0275\u0275elementStart(2,"h5",7),g.\u0275\u0275template(3,T,1,2,"span",8),g.\u0275\u0275template(4,A,2,2,"span",9),g.\u0275\u0275template(5,D,3,4,"span",10),g.\u0275\u0275template(6,F,29,28,"div",11),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(7,G,4,5,"ng-container",10),g.\u0275\u0275elementStart(8,"div",12),g.\u0275\u0275template(9,H,1,0,"div",13),g.\u0275\u0275template(10,z,1,0,"div",14),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(11,Q,4,6,"div",15),g.\u0275\u0275template(12,ee,5,4,"div",16),g.\u0275\u0275elementEnd()),2&e){var n=g.\u0275\u0275nextContext();g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction5(11,te,n.hasPlayer,n.isTakingStep(!0),n.isInactive,n.isBot,n.hasPlayer&&n.isIt&&(n.canSeeIt||n.isGameFinished))),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction1(17,ne,n.hasPlayer&&n.showUserLevels)),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.hasPlayer&&n.showUserLevels),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.hasPlayer),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!n.hasPlayer),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.hasCurrentPlayer&&!n.hasBlockedStream),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.hasPlayer),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",n.canTakePlace),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.hasCurrentPlayer&&(!n.isGameMode||n.isGameFinished||n.isInactive)),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.isGameMode&&(n.hasCurrentPlayer||n.canSeeCards||n.canSeeBotCards)),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.hasExtraActions)}}function ie(e,t){if(1&e&&g.\u0275\u0275elementContainer(0,4),2&e){var n=g.\u0275\u0275nextContext(),r=g.\u0275\u0275reference(5);g.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",g.\u0275\u0275pureFunction1(2,P,n.Direction.Clockwise))}}function oe(e,t){if(1&e&&g.\u0275\u0275element(0,"gw-nechto-card",43),2&e){var n=t.$implicit,r=g.\u0275\u0275nextContext(3);g.\u0275\u0275property("card",n)("isClickable",!r.isBotPlaying)("location",r.CardLocation.Border)}}function ae(e,t){if(1&e&&(g.\u0275\u0275elementStart(0,"div",51),g.\u0275\u0275template(1,oe,1,3,"gw-nechto-card",42),g.\u0275\u0275elementEnd()),2&e){var n=g.\u0275\u0275nextContext().direction,r=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",r.getFilteredBorderCards(n))}}function se(e,t){if(1&e&&g.\u0275\u0275template(0,ae,2,1,"div",50),2&e){var n=g.\u0275\u0275nextContext();g.\u0275\u0275property("ngIf",n.game)}}var ce=function(){function e(t,n,r,o,a,s,l,h,d,p){_classCallCheck2(this,e),this.mediaService=t,this.gameService=n,this.userService=r,this.cardService=o,this.roomService=a,this.sanitizer=s,this.ratingService=l,this.localStorageService=h,this.gameInfoService=d,this.audioHelpers=p,this.NechtoCardType=f.NechtoCardType,this.isConfiguringStream=!1,this.CardLocation=c.CardLocation,this.Direction=u.Direction,this.UserLevel=v.UserLevel,this.destroy$=new i.Subject}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;i.combineLatest([this.userService.users$,this.roomService.roomMembers$]).pipe(o.map((function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1];if(!r||!i)return e.user=null,void(e.player=null);var o=e.roomService.getSelectedRoomId(),a=i.filter((function(e){return e.roomId===o})).find((function(t){return t.playerId===e.playerId}));if(!a)return e.user=null,void(e.player=null);a.isBot?e.user&&e.user.id===a.userId||setTimeout((function(){e.user=new s.UserDto({id:a.userId,username:a.botName,gender:a.botGender,isBot:!0})})):e.user=r.find((function(e){return e.id===a.userId}))||null,e.player=a})),o.tap((function(){e.hasCurrentPlayer&&e.canResetStream&&e.startStreaming()})),o.takeUntil(this.destroy$)).subscribe()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"takePlace",value:function(){var e=this;this.hasCurrentPlayer||this.gameService.setActivePlayerId(this.playerId).subscribe((function(){return e.startStreaming()}))}},{key:"leavePlace",value:function(){var e=this;this.hasCurrentPlayer&&this.gameService.setActivePlayerId(null).subscribe((function(){e.stopStreaming()}))}},{key:"playHandCard",value:function(e){this.isTakingStep()&&this.cardService.playHandCard(e.id).subscribe()}},{key:"setVideoTrack",value:function(e){var t=this;this.player.videoId!==e&&this.mediaService.setVideoTrackId(e).subscribe((function(){return t.videoTracks.forEach((function(t){return t.enabled=t.id===e}))}))}},{key:"setAudioTrack",value:function(e){var t=this;this.player.audioId!==e&&this.mediaService.setAudioTrackId(e).subscribe((function(){return t.audioTracks.forEach((function(t){return t.enabled=t.id===e}))}))}},{key:"startStreaming",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.canResetStream||t)&&(this.isConfiguringStream=!0,this.mediaService.getUserMedia().pipe(o.take(1),o.switchMap((function(t){if(e.playerStream=t,t){var n=[];if(!e.videoTracks.some((function(t){return t.id===e.player.videoId}))){var r=e.videoTracks[0]?e.videoTracks[0].id:null;r&&n.push(e.mediaService.setVideoTrackId(r))}if(!e.audioTracks.some((function(t){return t.id===e.player.audioId}))){var o=e.audioTracks[0]?e.audioTracks[0].id:null;o&&n.push(e.mediaService.setAudioTrackId(o))}return n.length?i.forkJoin(n):i.EMPTY}return e.mediaService.setTrackIds(null,null)})),o.finalize((function(){return e.isConfiguringStream=!1}))).subscribe((function(){e.gameService.playerStreamsUpdated$.next()})))}},{key:"stopStreaming",value:function(){this.playerStream&&(this.playerStream=null,this.gameService.playerStreamsUpdated$.next())}},{key:"toggleAudio",value:function(){var e=this;if(this.player.audioId)this.audioTracks.find((function(t){return t.id===e.player.audioId})),this.mediaService.toggleMedia({toggleAudio:!0}).subscribe((function(){return e.gameService.playerStreamsUpdated$.next()}));else{var t=this.audioTracks[0];t&&(t.enabled=!0),this.mediaService.setAudioTrackId(t.id).subscribe((function(){return e.gameService.playerStreamsUpdated$.next()}))}}},{key:"toggleVideo",value:function(){var e=this;if(this.player.videoId)this.videoTracks.find((function(t){return t.id===e.player.videoId})),this.mediaService.toggleMedia({toggleVideo:!0}).subscribe((function(){return e.gameService.playerStreamsUpdated$.next()}));else{var t=this.videoTracks[0];t&&(t.enabled=!0),this.mediaService.setVideoTrackId(t.id).subscribe((function(){return e.gameService.playerStreamsUpdated$.next()}))}}},{key:"getFilteredBorderCards",value:function(e){var t=this;if(!this.game||!this.gameService.getActivePlayerComponents(!1,!1).length)return[];var n=this.game.borders[this.playerId];if(!n)return[];var r=this.gameService.getPreviousPlayer(this.playerId).playerId,i=this.gameService.getNextPlayer(this.playerId).playerId;return n.filter(r!==i?function(t){return e===u.Direction.Clockwise?t.blockFrom===i:t.blockFrom===r}:function(n){return e===u.Direction.Clockwise?n.blockFrom>t.playerId:n.blockFrom<t.playerId})}},{key:"showCards",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.cardService.showCards(e).subscribe()}},{key:"skipShowingCards",value:function(){this.cardService.skipShowingCards().subscribe()}},{key:"acceptRequest",value:function(){this.cardService.acceptRequest().subscribe()}},{key:"isTakingStep",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.gameService.isTakingStep(this.playerId,e)}},{key:"toggleFullScreenMode",value:function(e){this.localStorageService.set(p.StorageKey.VideoFullScreen,e)}},{key:"toggleUserLevels",value:function(e){this.localStorageService.set(p.StorageKey.UserLevelsVisibility,e)}},{key:"toggleAudioEffects",value:function(e){this.audioHelpers.toggleAudioEffects(e)}},{key:"getUserLevel",value:function(e){return this.ratingService.getLevel(e)}},{key:"getFormattedUserLevel",value:function(e){return this.gameInfoService.getFormattedUserLevel(this.getUserLevel(e))}},{key:"isShared",value:function(e){return e.shared||e.sharedWithPlayerId===this.gameService.getActivePlayerId()}},{key:"peerId",get:function(){return this.player?this.player.peerId:null},set:function(e){this.player&&(this.player.peerId=e)}},{key:"game",get:function(){return this.gameService.currentGame}},{key:"isVideoMuted",get:function(){return!!this.player&&this.player.isVideoMuted}},{key:"isAudioMuted",get:function(){return!!this.player&&this.player.isAudioMuted}},{key:"isFullScreenMode",get:function(){var e=this.localStorageService.get(p.StorageKey.VideoFullScreen);return!a.isNil(e)&&e}},{key:"showUserLevels",get:function(){var e=this.localStorageService.get(p.StorageKey.UserLevelsVisibility);return!!a.isNil(e)||e}},{key:"hasAudioEffects",get:function(){return!!this.audioHelpers.hasAudioEffects}},{key:"isGameMode",get:function(){return this.roomService.isGameMode()}},{key:"hasStream",get:function(){return!a.isNil(this.playerStream)}},{key:"hasBlockedStream",get:function(){return this.hasCurrentPlayer?this.mediaService.hasBlockedStream:!!this.hasPlayer&&!(this.isBot||this.hasStream||this.player.videoId||this.player.audioId)}},{key:"canResetStream",get:function(){var e=this.hasStream?this.playerStream.getVideoTracks():[];return!this.isConfiguringStream&&(!this.hasStream||e[0]&&this.player.videoId&&e[0].id!==this.player.videoId)}},{key:"hasPlayer",get:function(){return this.user&&this.player}},{key:"hasCurrentPlayer",get:function(){return this.playerId===this.gameService.getActivePlayerId()}},{key:"canTakePlace",get:function(){return a.isNil(this.gameService.getActivePlayerId())&&!this.hasPlayer}},{key:"hasCards",get:function(){return!a.isNil(this.game)&&!a.isNil(this.game.hands[this.playerId])&&this.game.hands[this.playerId].length>0}},{key:"handCards",get:function(){var e=this;if(a.isNil(this.game))return[];var t=this.game.hands[this.playerId];return a.isNil(t)?[]:(this.isBot||this.hasCurrentPlayer||this.isGameFinished||(t=t.filter((function(t){return e.isShared(t)||e.isPickMode}))),t)}},{key:"videoTracks",get:function(){return this.playerStream?this.playerStream.getVideoTracks():[]}},{key:"audioTracks",get:function(){return this.playerStream?this.playerStream.getAudioTracks():[]}},{key:"isVideoEnabled",get:function(){return!a.isNil(this.player.videoId)}},{key:"isGameFinished",get:function(){return this.roomService.isGameFinished()}},{key:"backgroundImage",get:function(){return this.sanitizer.bypassSecurityTrustStyle("url(".concat(this.user.getAvatarUrl(),")"))}},{key:"canSeeCards",get:function(){var e=this;return!!this.gameService.getActivePlayerId()&&!this.isInactive&&this.handCards.some((function(t){return e.isShared(t)}))||this.isPickMode||this.isGameFinished}},{key:"canSeeBotCards",get:function(){return this.isBotManager&&this.isBot}},{key:"isInactive",get:function(){return this.gameService.isInactive(this.playerId)}},{key:"isIt",get:function(){return this.gameService.isIt(this.playerId)}},{key:"currentUserId",get:function(){return this.userService.getCurrentUserId()}},{key:"canShowCards",get:function(){return this.isTakingStep()&&this.gameService.hasStepPhases(d.StepPhase.ShowFromHand)&&(this.canSeeBotCards||this.playerId===this.gameService.getActivePlayerId())}},{key:"canShowInfection",get:function(){return this.isTakingStep()&&this.handCards.some((function(e){return e.subType===h.NechtoCardSubType.Infection&&e.action!==l.NechtoCardAction.Event_Infection_It}))}},{key:"canAcceptRequest",get:function(){return this.isTakingStep()&&this.gameService.hasStepPhase(d.StepPhase.AcceptRequest)&&(this.canSeeBotCards||this.playerId===this.gameService.getActivePlayerId())}},{key:"isBot",get:function(){return this.hasPlayer&&this.user.isBot}},{key:"hasExtraActions",get:function(){return this.canShowCards||this.canAcceptRequest}},{key:"isBotPlaying",get:function(){return this.gameService.isBotPlaying}},{key:"canSeeIt",get:function(){return!!this.gameService.getActivePlayerId()&&!this.gameService.isHuman(this.gameService.getActivePlayerId())&&!this.gameService.isInactive(this.gameService.getActivePlayerId())}},{key:"isPickMode",get:function(){return(this.gameService.hasStepPhase(d.StepPhase.PickFromHand)||this.gameService.hadStepPhase(d.StepPhase.PickFromHand))&&this.gameService.getActiveEventCard()&&this.playerId===this.gameService.getTablePartId(this.gameService.getActiveEventCard().id)&&(!this.isBotPlaying&&this.gameService.getActivePlayerId()===this.gameService.getActiveEventCard().eventRequester||this.isBotManager&&this.isBotPlaying&&this.gameService.getCurrentStepPlayerId()===this.gameService.getActiveEventCard().eventRequester)}},{key:"isBotManager",get:function(){return this.roomService.isBotManager(this.userService.getCurrentUserId())}}]),e}();t.NechtoPlayerComponent=ce,ce.\u0275fac=function(e){return new(e||ce)(g.\u0275\u0275directiveInject(y.MediaService),g.\u0275\u0275directiveInject(_.GameService),g.\u0275\u0275directiveInject(b.UserService),g.\u0275\u0275directiveInject(C.CardService),g.\u0275\u0275directiveInject(k.RoomService),g.\u0275\u0275directiveInject(w.DomSanitizer),g.\u0275\u0275directiveInject(S.RatingService),g.\u0275\u0275directiveInject(E.LocalStorageService),g.\u0275\u0275directiveInject(I.GameInfoService),g.\u0275\u0275directiveInject(O.AudioHelpers))},ce.\u0275cmp=g.\u0275\u0275defineComponent({type:ce,selectors:[["gw-nechto-player"]],viewQuery:function(e,t){var n;1&e&&g.\u0275\u0275viewQuery(m.NechtoCardComponent,!0),2&e&&g.\u0275\u0275queryRefresh(n=g.\u0275\u0275loadQuery())&&(t.cardComponents=n)},inputs:{playerId:"playerId"},decls:6,vars:3,consts:[[1,"d-flex","m-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","d-flex flex-column justify-content-between card smth-player",3,"ngClass",4,"ngIf"],["playerBorderCards",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-column","justify-content-between","card","smth-player",3,"ngClass"],[1,"d-flex","flex-column","justify-content-between","card-body"],[1,"d-flex","justify-content-between","align-items-center","smth-player-panel",3,"ngClass"],["class","gw-user-rating",3,"title",4,"ngIf"],["class","text-truncate",3,"title",4,"ngIf"],[4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],[1,"smth-player-actions"],["class","btn btn-primary mt-1","translate","i18n.GAME.TAKE_PLACE",3,"click",4,"ngIf"],["class","btn btn-primary mt-1","translate","i18n.GAME.LEAVE_PLACE",3,"click",4,"ngIf"],["class","d-flex flex-wrap flex-shrink-0 smth-player-cards",3,"ngClass",4,"ngIf"],["class","d-none justify-content-center smth-player-actions-extra",4,"ngIf"],[1,"gw-user-rating",3,"title"],[1,"text-truncate",3,"title"],[1,"d-flex","align-items-center"],[1,"material-icons",3,"ngClass","title","click"],[1,"material-icons",3,"matMenuTriggerFor","title"],["settingsMenu","matMenu"],["mat-menu-item","","translate","i18n.COMMON.SELECT_VIDEO_TRACK",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","","translate","i18n.COMMON.SELECT_AUDIO_TRACK",3,"matMenuTriggerFor",4,"ngIf"],[1,"mat-menu-item",3,"ngModel","ngModelChange"],["videoMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["audioMenu","matMenu"],["mat-menu-item","","translate","i18n.COMMON.SELECT_VIDEO_TRACK",3,"matMenuTriggerFor"],["mat-menu-item","","translate","i18n.COMMON.SELECT_AUDIO_TRACK",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"flex-grow-1","d-flex","justify-content-center","align-items-center","smth-player-wrapper",3,"ngClass"],["autoplay","","playsinline","","class","smth-player-video",3,"srcObject","muted","ngClass",4,"ngIf"],["class","smth-player-thumbnail",3,"background-image",4,"ngIf"],["autoplay","","playsinline","",1,"smth-player-video",3,"srcObject","muted","ngClass"],[1,"smth-player-thumbnail"],["translate","i18n.GAME.TAKE_PLACE",1,"btn","btn-primary","mt-1",3,"click"],["translate","i18n.GAME.LEAVE_PLACE",1,"btn","btn-primary","mt-1",3,"click"],[1,"d-flex","flex-wrap","flex-shrink-0","smth-player-cards",3,"ngClass"],[4,"ngIf","ngIfElse"],["emptyHand",""],[3,"card","isClickable","location",4,"ngFor","ngForOf"],[3,"card","isClickable","location"],[1,"d-flex","flex-grow-1","justify-content-center","align-items-center","text-uppercase"],["translate","i18n.GAME.EMPTY_HAND"],[1,"d-none","justify-content-center","smth-player-actions-extra"],["class","btn btn-primary btn-icon mx-1",3,"title","click",4,"ngIf"],[1,"btn","btn-primary","btn-icon","mx-1",3,"title","click"],[1,"material-icons"],["class","d-flex flex-column justify-content-center align-items-center flex-wrap smth-border-cards",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center","flex-wrap","smth-border-cards"]],template:function(e,t){1&e&&(g.\u0275\u0275elementStart(0,"div",0),g.\u0275\u0275template(1,x,1,4,"ng-container",1),g.\u0275\u0275template(2,re,13,19,"div",2),g.\u0275\u0275template(3,ie,1,4,"ng-container",1),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(4,se,1,1,"ng-template",null,3,g.\u0275\u0275templateRefExtractor)),2&e&&(g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!t.isGameMode||t.hasPlayer),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!t.isGameMode||t.hasPlayer),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!t.isGameMode||t.hasPlayer))},styles:[".smth-player[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:50%;border-radius:5px;border:none;box-shadow:0 0 10px 0 rgba(0,0,0,.5);width:200px;height:270px;margin:10px;position:relative;z-index:1;box-sizing:content-box}.smth-player.taking-step[_ngcontent-%COMP%]   .smth-player-cards[_ngcontent-%COMP%], .smth-player[_ngcontent-%COMP%]:hover   .smth-player-cards[_ngcontent-%COMP%]{opacity:1}.smth-player[_ngcontent-%COMP%]:not(.active){background-image:url(game-nechto.dfb6add80ebb890b9bc2.png);background-size:auto 50%}.smth-player.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{opacity:1}.smth-player.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-wrapper[_ngcontent-%COMP%]   .smth-player-thumbnail[_ngcontent-%COMP%], .smth-player.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-wrapper[_ngcontent-%COMP%]   .smth-player-video[_ngcontent-%COMP%]{background-color:#fff}.smth-player.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-actions[_ngcontent-%COMP%]{opacity:0}.smth-player.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:hover   .smth-player-actions[_ngcontent-%COMP%]{opacity:1}.smth-player.taking-step[_ngcontent-%COMP%]{background-color:#343a40;border:2px solid #42ab9e;box-shadow:0 0 5px 2px #42ab9e;-webkit-animation:pulsate-green 1s ease-in-out infinite;animation:pulsate-green 1s ease-in-out infinite}.smth-player.taking-step[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%]{background-color:#000}.smth-player.taking-step[_ngcontent-%COMP%]:not(.bot)   .smth-player-actions-extra[_ngcontent-%COMP%]{display:flex!important}.smth-player.bot[_ngcontent-%COMP%]   .smth-player-cards[_ngcontent-%COMP%]{display:none!important}.smth-player.bot[_ngcontent-%COMP%]   .smth-player-cards-visible[_ngcontent-%COMP%]{display:flex!important}.smth-player.destroyed[_ngcontent-%COMP%]{background-image:url(cross.235de03498a530d9b805.png);background-size:100% auto;background-color:#d3d3d3}.smth-player.destroyed[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-wrapper[_ngcontent-%COMP%]   .smth-player-thumbnail[_ngcontent-%COMP%], .smth-player.destroyed[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-wrapper[_ngcontent-%COMP%]   .smth-player-video[_ngcontent-%COMP%]{opacity:.5}.smth-player.destroyed[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%], .smth-player.destroyed[_ngcontent-%COMP%]   .smth-player-cards[_ngcontent-%COMP%]{background-color:#d3d3d3}.smth-player.infected[_ngcontent-%COMP%]{border-image-source:url(border-slime.567c81a36dfb5b930e45.png);border-image-slice:77;border-image-repeat:round;border:10px solid transparent}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{position:relative;opacity:.2;padding:0}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:hover{opacity:1}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%]{background-color:#ffcb9a;border-radius:5px 5px 0 0;color:#fff;margin:0;padding:5px;position:relative}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%]   .gw-user-rating[_ngcontent-%COMP%]{border:1px solid #ffcb9a;border-right-width:2px;border-left:none;position:absolute;top:-2.5px;left:-20px;width:40px;height:40px}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%]   .smth-audio-enabled[_ngcontent-%COMP%], .smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%]   .smth-video-enabled[_ngcontent-%COMP%]{color:#fff}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%]   .smth-audio-disabled[_ngcontent-%COMP%], .smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%]   .smth-audio-enabled[_ngcontent-%COMP%]:hover, .smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%]   .smth-video-disabled[_ngcontent-%COMP%], .smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-panel[_ngcontent-%COMP%]   .smth-video-enabled[_ngcontent-%COMP%]:hover{color:#64686a}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-wrapper[_ngcontent-%COMP%]{overflow-x:hidden}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-wrapper[_ngcontent-%COMP%]   .smth-player-video[_ngcontent-%COMP%]{width:100%;max-height:236px}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-wrapper.smth-player-fullscreen[_ngcontent-%COMP%]{border-radius:0 0 5px 5px}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-wrapper.smth-player-fullscreen[_ngcontent-%COMP%]   .smth-player-video[_ngcontent-%COMP%]{width:auto;height:100%;max-height:none}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-wrapper[_ngcontent-%COMP%]   .smth-player-thumbnail[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;background-position:50%;background-size:auto 100%;border-radius:0 0 5px 5px;width:100%;height:236px}.smth-player[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .smth-player-actions[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding:5px;width:100%;z-index:2}.smth-player[_ngcontent-%COMP%]   .smth-player-actions-extra[_ngcontent-%COMP%]{position:absolute;top:35px;left:0;padding:5px;width:100%;z-index:2}.smth-player-cards[_ngcontent-%COMP%]{background-color:#ffcb9a;border-radius:0 0 5px 5px;width:100%;height:100px;position:relative;opacity:.1;position:absolute;bottom:0;left:0}.smth-player-cards-visible[_ngcontent-%COMP%]{opacity:1}.smth-player-cards-visible.smth-player-cards-bot[_ngcontent-%COMP%]{opacity:0}.smth-border-cards[_ngcontent-%COMP%]{height:270px}"]})},Vphj:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Role=((r=t.Role||{})[r.Human=0]="Human",r[r.Infected=1]="Infected",r[r.It=2]="It",r[r.Inactive=3]="Inactive",r)},WI49:function(e,t,n){"use strict";n.r(t);var r=n("wj3C"),i=n.n(r);function o(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var a=n("S+S0"),s=function(){function e(e,t){this.code_=c(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return c(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}();function c(e){return"storage/"+e}function u(){return new s("unknown","An unknown error occurred, please check the error payload for server response.")}function l(){return new s("canceled","User canceled the upload/download.")}function h(){return new s("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f(){return new s("no-download-url","The given file does not have any download URLs.")}function d(e,t,n){return new s("invalid-argument","Invalid argument in `"+t+"` at index "+e+": "+n)}function p(){return new s("app-deleted","The Firebase app was deleted.")}function v(e,t){return new s("invalid-format","String does not match format '"+e+"': "+t)}function m(e){throw new s("internal-error","Internal error: "+e)}var g={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function y(e){switch(e){case g.RAW:case g.BASE64:case g.BASE64URL:case g.DATA_URL:return;default:throw"Expected one of the event types: ["+g.RAW+", "+g.BASE64+", "+g.BASE64URL+", "+g.DATA_URL+"]."}}var _=function(e,t){this.data=e,this.contentType=t||null};function b(e,t){switch(e){case g.RAW:return new _(C(t));case g.BASE64:case g.BASE64URL:return new _(k(e,t));case g.DATA_URL:return new _((n=new w(t)).base64?k(g.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw v(g.DATA_URL,"Malformed data URL.")}return C(t)}(n.rest),new w(t).contentType)}var n;throw u()}function C(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function k(e,t){switch(e){case g.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw v(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case g.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw v(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(u){throw v(e,"Invalid character found")}for(var s=new Uint8Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}var w=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw v(g.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},S={STATE_CHANGED:"state_changed"},E={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function I(e){switch(e){case"running":case"pausing":case"canceling":return E.RUNNING;case"paused":return E.PAUSED;case"success":return E.SUCCESS;case"canceled":return E.CANCELED;case"error":default:return E.ERROR}}function O(e){return null!=e}function P(e){return void 0!==e}function x(e){return"function"==typeof e}function T(e){return"object"==typeof e}function A(e){return T(e)&&null!==e}function D(e){return"string"==typeof e||e instanceof String}function R(e){return j(e)&&Number.isInteger(e)}function j(e){return"number"==typeof e||e instanceof Number}function M(e){return N()&&e instanceof Blob}function N(){return"undefined"!=typeof Blob}var F=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),L=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=F.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=F.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=F.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw m("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),O(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return O(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw m("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw m("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw m("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){O(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){O(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),V=function(){function e(){}return e.prototype.createXhrIo=function(){return new L},e}();function U(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function B(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=U();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(N())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var G=function(){function e(e,t){var n=0,r="";M(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(M(this.data_)){var r=(o=t,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(N()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(B.apply(null,r))}var i=t.map((function(e){return D(e)?b(g.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),H=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw new s("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],c=0;c<a.length;c++){var u=a[c],l=u.regex.exec(t);if(l){var h=l[u.indices.path];h||(h=""),n=new e(l[u.indices.bucket],h),u.postModify(n);break}}if(null==n)throw function(e){return new s("invalid-url","Invalid URL '"+e+"'.")}(t);return n},e}();function z(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return T(n=t)&&!Array.isArray(n)?t:null}function q(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function W(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Y(e){return"https://firebasestorage.googleapis.com/v0"+e}function K(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}function Q(e,t){return t}var X=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Q},J=null;function Z(e,t,n){var r=z(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new H(e.bucket,e.fullPath);return t.makeStorageReference(n)}})}(r,e),r}(e,r,n)}function $(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function ee(e){if(!T(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!T(n))throw"Expected object for 'customMetadata' mapping."}else if(A(n))throw"Mapping for '"+t+"' cannot be an object."}}function te(e){if(!T(e)||!e)throw"Expected ListOptions object.";for(var t in e)if("maxResults"===t){if(!R(e.maxResults)||e.maxResults<=0)throw"Expected maxResults to be a positive number.";if(e.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==t)throw"Unknown option: "+t;if(e.pageToken&&!D(e.pageToken))throw"Expected pageToken to be string."}}var ne=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function re(e){if(!e)throw u()}function ie(e,t){return function(n,r){var i=Z(e,r,t);return re(null!==i),i}}function oe(e){return function(t,n){var r;return(r=401===t.getStatus()?new s("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new s("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new s("unauthorized","User does not have permission to access '"+e.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function ae(e){var t=oe(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new s("object-not-found","Object '"+e.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function se(e,t,n){var r=Y(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new ne(r,"GET",ie(e,n),i);return o.errorHandler=ae(t),o}function ce(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Y(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime(),c=new ne(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=z(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e.makeStorageReference(new H(t,a));r.prefixes.push(s)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)s=e.makeStorageReference(new H(t,u[c].name)),r.items.push(s);return r}(e,t,r)}(e,t,r);return re(null!==i),i}}(e,t.bucket),s);return c.urlParams=o,c.errorHandler=oe(t),c}function ue(e,t,n){var r=Y(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new ne(r,"GET",function(e,t){return function(n,r){var i=Z(e,r,t);return re(null!==i),function(e,t){var n=z(t);if(null===n)return null;if(!D(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.fullPath;return Y("/b/"+i(e.bucket)+"/o/"+i(n))+K({alt:"media",token:t})}))[0]}(i,r)}}(e,n),i);return o.errorHandler=ae(t),o}function le(e,t,n,r){var i=Y(t.fullServerUrl()),o=$(n,r),a=e.maxOperationRetryTime(),s=new ne(i,"PATCH",ie(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=ae(t),s}function he(e,t){var n=Y(t.fullServerUrl()),r=e.maxOperationRetryTime(),i=new ne(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ae(t),i}function fe(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var de=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function pe(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){re(!1)}return re(!!n&&-1!==(t||["active"]).indexOf(n)),n}var ve=function(e,t,n){if(x(e)||O(t)||O(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},me=function(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o};function ge(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}var a,c,u,l;if(!(r<=n.length&&n.length<=i))throw(a=r)===(c=i)?(u=a,l=1===a?"argument":"arguments"):(u="between "+a+" and "+c,l="arguments"),new s("invalid-argument-count","Invalid argument count in `"+e+"`: Expected "+u+" "+l+", received "+n.length+".");for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(h){throw h instanceof Error?d(o,e,h.message):d(o,e,h)}}var ye=function(e,t){var n=this;this.validator=function(t){n.optional&&!P(t)||e(t)},this.optional=!!t};function _e(e,t){function n(e){if(!D(e))throw"Expected string."}var r,i,o;return e?(i=n,o=e,r=function(e){i(e),o(e)}):r=n,new ye(r,t)}function be(){return new ye((function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||N()&&e instanceof Blob))throw"Expected Blob or File."}))}function Ce(e){return new ye(ee,e)}function ke(e){return new ye(te,e)}function we(){return new ye((function(e){if(!(j(e)&&e>=0))throw"Expected a number 0 or greater."}))}function Se(e,t){return new ye((function(t){if(!(null===t||O(t)&&t instanceof Object))throw"Expected an Object.";null!=e&&e(t)}),t)}function Ee(e){return new ye((function(e){if(null!==e&&!x(e))throw"Expected a Function."}),e)}function Ie(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Oe=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals("canceled")?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_("error"))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals("canceled")?a.completeTransitions_():(a.error_=e,a.transition_("error"))},this.promise_=new Promise((function(e,t){a.resolve_=e,a.reject_=t,a.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then((function(n){switch(t.state_){case"running":e(n);break;case"canceling":t.transition_("canceled");break;case"pausing":t.transition_("paused")}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=fe(t,r,i),s={name:a.fullPath},c=Y(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=$(a,n),h=e.maxUploadRetryTime(),f=new ne(c,"POST",(function(e){var t;pe(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){re(!1)}return re(D(t)),t}),h);return f.urlParams=s,f.headers=u,f.body=l,f.errorHandler=oe(t),f}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime(),o=new ne(n,"POST",(function(e){var t=pe(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){re(!1)}n||re(!1);var i=Number(n);return re(!isNaN(i)),new de(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=oe(t),o}(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then((function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new de(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(e,t,n,r,i,o,a,c){var u=new de(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new s("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,f=l;i>0&&(f=Math.min(f,i));var d=u.current,p={"X-Goog-Upload-Command":f===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},v=r.slice(d,d+f);if(null===v)throw h();var m=t.maxUploadRetryTime(),g=new ne(n,"POST",(function(e,n){var i,a=pe(e,["active","final"]),s=u.current+f,c=r.size();return i="final"===a?ie(t,o)(e,n):null,new de(s,c,"final"===a,i)}),m);return g.headers=p,g.body=v.uploadData(),g.progressCallback=c||null,g.errorHandler=oe(e),g}(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(c){return e.error_=c,void e.transition_("error")}var a=e.authWrapper_.makeRequest(o,i);e.request_=a,a.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_("success")):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=se(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_("success")}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var c=fe(t,r,i),u=$(c,n),l=G.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw h();var f={name:c.fullPath},d=Y(o),p=e.maxUploadRetryTime(),v=new ne(d,"POST",ie(e,n),p);return v.urlParams=f,v.headers=a,v.body=l.uploadData(),v.errorHandler=oe(t),v}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_("success")}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case"canceling":case"pausing":this.state_=e,null!==this.request_&&this.request_.cancel();break;case"running":var t="paused"===this.state_;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=e,this.notifyObservers_();break;case"canceled":this.error_=l(),this.state_=e,this.notifyObservers_();break;case"error":case"success":this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=I(this.state_);return new me(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==S.STATE_CHANGED)throw"Expected one of the event types: ["+S.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=Ee(!0).validator,s=Se(null,!0).validator;function c(e){try{return void a(e)}catch(t){}try{if(s(e),!(P(e.next)||P(e.error)||P(e.complete)))throw"";return}catch(t){throw o}}var u=[_e(i),Se(c,!0),Ee(!0),Ee(!0)];ge("on",u,arguments);var l=this;function h(e){return function(t,n,i){null!==e&&ge("on",e,arguments);var o=new ve(t,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(e){if(null===e)throw o;c(e)}var d=[Se(f),Ee(!0),Ee(!0)],p=!(P(t)||P(n)||P(r));return p?h(d):h(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach((function(t){e.notifyObserver_(t)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(I(this.state_)){case E.SUCCESS:Ie(this.resolve_.bind(null,this.snapshot))();break;case E.CANCELED:case E.ERROR:Ie(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(I(this.state_)){case E.RUNNING:case E.PAUSED:e.next&&Ie(e.next.bind(e,this.snapshot))();break;case E.SUCCESS:e.complete&&Ie(e.complete.bind(e))();break;case E.CANCELED:case E.ERROR:e.error&&Ie(e.error.bind(e,this.error_))();break;default:e.error&&Ie(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){ge("resume",[],arguments);var e="paused"===this.state_||"pausing"===this.state_;return e&&this.transition_("running"),e},e.prototype.pause=function(){ge("pause",[],arguments);var e="running"===this.state_;return e&&this.transition_("pausing"),e},e.prototype.cancel=function(){ge("cancel",[],arguments);var e="running"===this.state_||"pausing"===this.state_;return e&&this.transition_("canceling"),e},e}(),Pe=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof H?t:H.makeFromUrl(t)}return e.prototype.toString=function(){return ge("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return function(){if(J)return J;var e=[];e.push(new X("bucket")),e.push(new X("generation")),e.push(new X("metageneration")),e.push(new X("name","fullPath",!0));var t=new X("name");t.xform=function(e,t){return function(e){return!D(e)||e.length<2?e:W(e)}(t)},e.push(t);var n=new X("size");return n.xform=function(e,t){return O(t)?Number(t):t},e.push(n),e.push(new X("timeCreated")),e.push(new X("updated")),e.push(new X("md5Hash",null,!0)),e.push(new X("cacheControl",null,!0)),e.push(new X("contentDisposition",null,!0)),e.push(new X("contentEncoding",null,!0)),e.push(new X("contentLanguage",null,!0)),e.push(new X("contentType",null,!0)),e.push(new X("metadata","customMetadata",!0)),J=e}()},e.prototype.child=function(e){ge("child",[_e()],arguments);var t=q(this.location.path,e),n=new H(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new H(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new H(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return W(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),ge("put",[be(),Ce(!0)],arguments),this.throwIfRoot_("put"),new Oe(this,this.authWrapper,this.location,this.mappings(),new G(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=g.RAW),ge("putString",[_e(),_e(y,!0),Ce(!0)],arguments),this.throwIfRoot_("putString");var r=b(t,e),i=Object.assign({},n);return!O(i.contentType)&&O(r.contentType)&&(i.contentType=r.contentType),new Oe(this,this.authWrapper,this.location,this.mappings(),new G(r.data,!0),i)},e.prototype.delete=function(){var e=this;return ge("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(t){var n=he(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.listAll=function(){ge("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then((function(){return e}))},e.prototype.listAllHelper=function(e,t){return n=this,i=function(){var n,r,i;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:t})];case 1:return n=o.sent(),(r=e.prefixes).push.apply(r,n.prefixes),(i=e.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(e,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,t){function o(e){try{s(i.next(e))}catch(n){t(n)}}function a(e){try{s(i.throw(e))}catch(n){t(n)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,a)}s((i=i.apply(n,[])).next())}));var n,r,i},e.prototype.list=function(e){ge("list",[ke(!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then((function(n){var r=e||{},i=ce(t.authWrapper,t.location,"/",r.pageToken,r.maxResults);return t.authWrapper.makeRequest(i,n).getPromise()}))},e.prototype.getMetadata=function(){var e=this;return ge("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(t){var n=se(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){var t=this;return ge("updateMetadata",[Ce()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=le(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){var e=this;return ge("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(t){var n=ue(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw f();return e}))}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new s("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),xe=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),Te=function(){function e(){this.map=new Map,this.id=-9007199254740991}return e.prototype.addRequest=function(e){var t=this,n=this.id;this.id++,this.map.set(n,e),e.getPromise().then((function(){return t.map.delete(n)}),(function(){return t.map.delete(n)}))},e.prototype.clear=function(){this.map.forEach((function(e){e&&e.cancel(!0)})),this.map.clear()},e}(),Ae=function(){function e(t,n,r,i,o,a){var s;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var c=this.app_.options;O(c)&&(this.bucket_=e.extractBucket_(c),this.appId_=null!==(s=c.appId)&&void 0!==s?s:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=a,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new Te}return e.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:H.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){var e=this.authProvider_.getImmediate({optional:!0});return e?e.getToken().then((function(e){return null!==e?e.accessToken:null}),(function(){return null})):Promise.resolve(null)},e.prototype.bucket=function(){if(this.deleted_)throw p();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new xe(p());var n=this.requestMaker_(e,this.appId_,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}(),De=function(){function e(e,t,n,r,i,o,a,s,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var c=e.callback_(a,a.getResponseText());P(c)?i(c):i()}catch(h){o(h)}else null!==a?((r=u()).setServerResponseProp(a.getResponseText()),o(e.errorCallback_?e.errorCallback_(a,r):r)):o(r=n.canceled?e.appDelete_?p():l():new s("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Re(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,a=null,s=!1,c=0;function u(){return 2===c}var l=!1;function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l||(l=!0,n.apply(null,e))}function f(t){a=setTimeout((function(){a=null,function(t,n){if(n)t(!1,new Re(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===F.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Re(a,n))}else{var s=n.getErrorCode()===F.ABORT;t(!1,new Re(!1,null,s))}}))}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(d,u())}),t)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!l)if(e)h.call.apply(h,o([null,e],t));else{var r,a=u()||s;a?h.call.apply(h,o([null,e],t)):(i<64&&(i*=2),1===c?(c=2,r=0):r=1e3*(i+Math.random()),f(r))}}var p=!1;function v(e){p||(p=!0,l||(null!==a?(e||(c=2),clearTimeout(a),f(0)):e||(c=1)))}return f(0),setTimeout((function(){s=!0,v(!0)}),r),v}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Re=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function je(e,t,n,r){var o=K(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e){e["X-Firebase-Storage-Version"]="webjs/"+(void 0!==i.a?i.a.SDK_VERSION:"AppManager")}(s),new De(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}var Me,Ne,Fe=function(){function e(e,t,n,r){if(this.bucket_=null,this.authWrapper_=new Ae(e,t,(function(e,t){return new Pe(e,t)}),je,this,n),this.app_=e,null!=r)this.bucket_=H.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new H(i,""))}this.internals_=new Le(this)}return e.prototype.ref=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(ge("ref",[_e(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Pe(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{H.makeFromUrl(e)}catch(t){throw"Expected valid full URL but got an invalid one."}}return ge("refFromURL",[_e(t,!1)],arguments),new Pe(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){ge("setMaxUploadRetryTime",[we()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},e.prototype.setMaxOperationRetryTime=function(e){ge("setMaxOperationRetryTime",[we()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Le=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},e}();Ne={TaskState:E,TaskEvent:S,StringFormat:g,Storage:Fe,Reference:Pe},(Me=i.a).INTERNAL.registerComponent(new a.Component("storage",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return new Fe(n,r,new V,t)}),"PUBLIC").setServiceProps(Ne).setMultipleInstances(!0)),Me.registerVersion("@firebase/storage","0.3.33")},WMd4:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu"),a=function(e){return e.NEXT="N",e.ERROR="E",e.COMPLETE="C",e}({}),s=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass2(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},WRCD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=r.__importStar(n("8Y7J")),o=r.__importStar(n("lwos")),a=r.__importStar(n("SVse"));function s(e,t){1&e&&(i.\u0275\u0275elementStart(0,"div",1),i.\u0275\u0275elementStart(1,"div",2),i.\u0275\u0275element(2,"div",3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd())}var c=function e(t){_classCallCheck2(this,e),this.loaderService=t,this.isLoading=this.loaderService.isLoading};t.LoadingComponent=c,c.\u0275fac=function(e){return new(e||c)(i.\u0275\u0275directiveInject(o.LoaderService))},c.\u0275cmp=i.\u0275\u0275defineComponent({type:c,selectors:[["gw-loading"]],decls:2,vars:3,consts:[["class","gw-overlay",4,"ngIf"],[1,"gw-overlay"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"]],template:function(e,t){1&e&&(i.\u0275\u0275template(0,s,3,0,"div",0),i.\u0275\u0275pipe(1,"async")),2&e&&i.\u0275\u0275property("ngIf",i.\u0275\u0275pipeBind1(1,1,t.isLoading))},directives:[a.NgIf],pipes:[a.AsyncPipe],styles:[".gw-overlay[_ngcontent-%COMP%]{background-color:rgba(244,247,246,.3);position:fixed;width:100%;height:100%;top:0;left:0;z-index:999}.gw-overlay[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{border-radius:0;height:8px}.gw-overlay[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#42ab9e}"]})},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.14.3","app"),e.exports=i},XDbj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("sVev"),i=n("7o/Q");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck2(this,e),this.errorFactory=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.errorFactory))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass2(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(i.a);function c(){return new r.a}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),c=n("2QA8"),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).destination=e,r}return n}(i.a),l=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass2(n,[{key:c.a,value:function(){return new u(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),n}(r.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass2(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(l)},XhEF:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="XhEF"},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},"Y/cZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck2(this,e),this.SchedulerAction=t,this.now=n}return _createClass2(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}()},"Y4+Y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("dDzl"),a=n("DnmP"),s=r.__importStar(n("8Y7J")),c=r.__importStar(n("AYtS")),u=function(){function e(t){_classCallCheck2(this,e),this.audioHelpers=t,this.lastNotification$=new i.Subject,this.notificationDuration=4e3}return _createClass2(e,[{key:"addNotification",value:function(e){this.lastNotification$.next(e),this.audioHelpers.playSound("error"!==e.level?a.SoundEffect.AlertInfo:a.SoundEffect.AlertDanger)}},{key:"getNotificationClass",value:function(e){var t="";switch(e.level){case"error":t+="alert-danger";break;case"info":t+="alert-info";break;default:t+="alert-primary"}return e.location===o.NotificationLocation.Bottom?t+=" gw-notification-bottom":e.location===o.NotificationLocation.Aside&&(t+=" gw-notification-aside"),t}}]),e}();t.NotificationService=u,u.\u0275fac=function(e){return new(e||u)(s.\u0275\u0275inject(c.AudioHelpers))},u.\u0275prov=s.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"})},Y6u4:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},Y7HM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("DH7j");function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},YEUz:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return M}));var r=n("SVse"),i=n("8Y7J"),o=n("XNiG"),a=n("quSY"),s=n("LRne"),c=n("Ht+U"),u=n("vkgz"),l=n("Kj3r"),h=n("pLZG"),f=n("lJxs"),d=n("IzEk"),p=n("8LU1"),v=n("SCoL"),m=n("9b/N");function g(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}var y=0,_=new Map,b=null,C=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._document=t}return _createClass2(e,[{key:"describe",value:function(e,t){this._canBeDescribed(e,t)&&("string"!=typeof t?(this._setMessageId(t),_.set(t,{messageElement:t,referenceCount:0})):_.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))}},{key:"removeDescription",value:function(e,t){if(this._isElementNode(e)){if(this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t),"string"==typeof t){var n=_.get(t);n&&0===n.referenceCount&&this._deleteMessageElement(t)}b&&0===b.childNodes.length&&this._deleteMessagesContainer()}}},{key:"ngOnDestroy",value:function(){for(var e=this._document.querySelectorAll("[cdk-describedby-host]"),t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute("cdk-describedby-host");b&&this._deleteMessagesContainer(),_.clear()}},{key:"_createMessageElement",value:function(e){var t=this._document.createElement("div");this._setMessageId(t),t.textContent=e,this._createMessagesContainer(),b.appendChild(t),_.set(e,{messageElement:t,referenceCount:0})}},{key:"_setMessageId",value:function(e){e.id||(e.id="cdk-describedby-message-".concat(y++))}},{key:"_deleteMessageElement",value:function(e){var t=_.get(e),n=t&&t.messageElement;b&&n&&b.removeChild(n),_.delete(e)}},{key:"_createMessagesContainer",value:function(){if(!b){var e=this._document.getElementById("cdk-describedby-message-container");e&&e.parentNode.removeChild(e),(b=this._document.createElement("div")).id="cdk-describedby-message-container",b.setAttribute("aria-hidden","true"),b.style.display="none",this._document.body.appendChild(b)}}},{key:"_deleteMessagesContainer",value:function(){b&&b.parentNode&&(b.parentNode.removeChild(b),b=null)}},{key:"_removeCdkDescribedByReferenceIds",value:function(e){var t=g(e,"aria-describedby").filter((function(e){return 0!=e.indexOf("cdk-describedby-message")}));e.setAttribute("aria-describedby",t.join(" "))}},{key:"_addMessageReference",value:function(e,t){var n,r,i,o,a=_.get(t);n=e,r="aria-describedby",i=a.messageElement.id,(o=g(n,r)).some((function(e){return e.trim()==i.trim()}))||(o.push(i.trim()),n.setAttribute(r,o.join(" "))),e.setAttribute("cdk-describedby-host",""),a.referenceCount++}},{key:"_removeMessageReference",value:function(e,t){var n,r,i,o,a=_.get(t);a.referenceCount--,n=e,r="aria-describedby",i=a.messageElement.id,(o=g(n,r).filter((function(e){return e!=i.trim()}))).length?n.setAttribute(r,o.join(" ")):n.removeAttribute(r),e.removeAttribute("cdk-describedby-host")}},{key:"_isElementDescribedByMessage",value:function(e,t){var n=g(e,"aria-describedby"),r=_.get(t),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}},{key:"_canBeDescribed",value:function(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;var n=null==t?"":"".concat(t).trim(),r=e.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}},{key:"_isElementNode",value:function(e){return e.nodeType===this._document.ELEMENT_NODE}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(r.DOCUMENT))},token:e,providedIn:"root"}),e}(),k=function(){function e(t){var n=this;_classCallCheck2(this,e),this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new o.a,this._typeaheadSubscription=a.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(e){return e.disabled},this._pressedLetters=[],this.tabOut=new o.a,this.change=new o.a,t instanceof i.QueryList&&t.changes.subscribe((function(e){if(n._activeItem){var t=e.toArray().indexOf(n._activeItem);t>-1&&t!==n._activeItemIndex&&(n._activeItemIndex=t)}}))}return _createClass2(e,[{key:"skipPredicate",value:function(e){return this._skipPredicateFn=e,this}},{key:"withWrap",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=e,this}},{key:"withVerticalOrientation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=e,this}},{key:"withHorizontalOrientation",value:function(e){return this._horizontal=e,this}},{key:"withAllowedModifierKeys",value:function(e){return this._allowedModifierKeys=e,this}},{key:"withTypeAhead",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this._items.length&&this._items.some((function(e){return"function"!=typeof e.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(u.a)((function(t){return e._pressedLetters.push(t)})),Object(l.a)(t),Object(h.a)((function(){return e._pressedLetters.length>0})),Object(f.a)((function(){return e._pressedLetters.join("")}))).subscribe((function(t){for(var n=e._getItemsArray(),r=1;r<n.length+1;r++){var i=(e._activeItemIndex+r)%n.length,o=n[i];if(!e._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){e.setActiveItem(i);break}}e._pressedLetters=[]})),this}},{key:"setActiveItem",value:function(e){var t=this._activeItemIndex;this.updateActiveItem(e),this._activeItemIndex!==t&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(e){var t=this,n=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!e[n]||t._allowedModifierKeys.indexOf(n)>-1}));switch(n){case c.m:return void this.tabOut.next();case c.b:if(this._vertical&&r){this.setNextItemActive();break}return;case c.n:if(this._vertical&&r){this.setPreviousItemActive();break}return;case c.k:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case c.g:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((r||Object(c.q)(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=c.a&&n<=c.o||n>=c.p&&n<=c.h)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],e.preventDefault()}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(e){var t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}},{key:"_setActiveInWrapMode",value:function(e){for(var t=this._getItemsArray(),n=1;n<=t.length;n++){var r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}},{key:"_setActiveInDefaultMode",value:function(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}},{key:"_setActiveItemByIndex",value:function(e,t){var n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}},{key:"_getItemsArray",value:function(){return this._items instanceof i.QueryList?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),e}(),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"setActiveItem",value:function(e){this.activeItem&&this.activeItem.setInactiveStyles(),_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,e),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(k),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments))._origin="program",e}return _createClass2(n,[{key:"setFocusOrigin",value:function(e){return this._origin=e,this}},{key:"setActiveItem",value:function(e){_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,e),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(k),E=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._platform=t}return _createClass2(e,[{key:"isDisabled",value:function(e){return e.hasAttribute("disabled")}},{key:"isVisible",value:function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}},{key:"isTabbable",value:function(e){if(!this._platform.isBrowser)return!1;var t,n=function(e){try{return e.frameElement}catch(t){return null}}((t=e).ownerDocument&&t.ownerDocument.defaultView||window);if(n){var r=n&&n.nodeName.toLowerCase();if(-1===O(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===r)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=e.nodeName.toLowerCase(),o=O(e);if(e.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){var t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0}},{key:"isFocusable",value:function(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||I(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](v.a))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(v.a))},token:e,providedIn:"root"}),e}();function I(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function O(e){if(!I(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var P=function(){function e(t,n,r,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck2(this,e),this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return _createClass2(e,[{key:"destroy",value:function(){var e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var e=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){e._startAnchor||(e._startAnchor=e._createAnchor(),e._startAnchor.addEventListener("focus",e.startAnchorListener)),e._endAnchor||(e._endAnchor=e._createAnchor(),e._endAnchor.addEventListener("focus",e.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var e=this;return new Promise((function(t){e._executeOnStable((function(){return t(e.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var e=this;return new Promise((function(t){e._executeOnStable((function(){return t(e.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var e=this;return new Promise((function(t){e._executeOnStable((function(){return t(e.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-".concat(e,"], ")+"[cdkFocusRegion".concat(e,"], ")+"[cdk-focus-".concat(e,"]")),n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-".concat(e))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(e,"', ")+"use 'cdkFocusRegion".concat(e,"' instead. The deprecated ")+"attribute will be removed in 8.0.0.",t[n]):t[n].hasAttribute("cdk-focus-region-".concat(e))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(e,"', ")+"use 'cdkFocusRegion".concat(e,"' instead. The deprecated attribute ")+"will be removed in 8.0.0.",t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),Object(i.isDevMode)()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e}},{key:"focusLastTabbableElement",value:function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=0;n<t.length;n++){var r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=t.length-1;n>=0;n--){var r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}},{key:"_toggleAnchorTabIndex",value:function(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}},{key:"_executeOnStable",value:function(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(Object(d.a)(1)).subscribe(e)}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}}]),e}(),x=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._checker=t,this._ngZone=n,this._document=r}return _createClass2(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new P(e,this._checker,this._ngZone,this._document,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](E),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(E),Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(r.DOCUMENT))},token:e,providedIn:"root"}),e}();"undefined"!=typeof Element&&Element;var T=new i.InjectionToken("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),A=new i.InjectionToken("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),D=function(){var e=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._ngZone=n,this._defaultOptions=i,this._document=r,this._liveElement=t||this._createLiveElement()}return _createClass2(e,[{key:"announce",value:function(e){for(var t,n,r,i=this,o=this._defaultOptions,a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];return 1===s.length&&"number"==typeof s[0]?r=s[0]:(n=(t=_slicedToArray(s,2))[0],r=t[1]),this.clear(),clearTimeout(this._previousTimeout),n||(n=o&&o.politeness?o.politeness:"polite"),null==r&&o&&(r=o.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular((function(){return new Promise((function(t){clearTimeout(i._previousTimeout),i._previousTimeout=setTimeout((function(){i._liveElement.textContent=e,t(),"number"==typeof r&&(i._previousTimeout=setTimeout((function(){return i.clear()}),r))}),100)}))}))}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](T,8),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](r.DOCUMENT),i["\u0275\u0275inject"](A,8))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(T,8),Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(r.DOCUMENT),Object(i["\u0275\u0275inject"])(A,8))},token:e,providedIn:"root"}),e}(),R=Object(v.e)({passive:!0,capture:!0}),j=function(){var e=function(){function e(t,n,r){var i=this;_classCallCheck2(this,e),this._ngZone=t,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){i._lastTouchTarget=null,i._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){i._lastTouchTarget||i._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(e){null!=i._touchTimeoutId&&clearTimeout(i._touchTimeoutId),i._lastTouchTarget=e.composedPath?e.composedPath()[0]:e.target,i._touchTimeoutId=setTimeout((function(){return i._lastTouchTarget=null}),650)},this._windowFocusListener=function(){i._windowFocused=!0,i._windowFocusTimeoutId=setTimeout((function(){return i._windowFocused=!1}))},this._document=r}return _createClass2(e,[{key:"monitor",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Object(s.a)(null);var r=Object(p.e)(e);if(this._elementInfo.has(r)){var i=this._elementInfo.get(r);return i.checkChildren=n,i.subject.asObservable()}var a={unlisten:function(){},checkChildren:n,subject:new o.a};this._elementInfo.set(r,a),this._incrementMonitoredElementCount();var c=function(e){return t._onFocus(e,r)},u=function(e){return t._onBlur(e,r)};return this._ngZone.runOutsideAngular((function(){r.addEventListener("focus",c,!0),r.addEventListener("blur",u,!0)})),a.unlisten=function(){r.removeEventListener("focus",c,!0),r.removeEventListener("blur",u,!0)},a.subject.asObservable()}},{key:"stopMonitoring",value:function(e){var t=Object(p.e)(e),n=this._elementInfo.get(t);n&&(n.unlisten(),n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._decrementMonitoredElementCount())}},{key:"focusVia",value:function(e,t,n){var r=Object(p.e)(e);this._setOriginForCurrentEventQueue(t),"function"==typeof r.focus&&r.focus(n)}},{key:"ngOnDestroy",value:function(){var e=this;this._elementInfo.forEach((function(t,n){return e.stopMonitoring(n)}))}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(e,t,n){n?e.classList.add(t):e.classList.remove(t)}},{key:"_setClasses",value:function(e,t){this._elementInfo.get(e)&&(this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t))}},{key:"_setOriginForCurrentEventQueue",value:function(e){var t=this;this._ngZone.runOutsideAngular((function(){t._origin=e,t._originTimeoutId=setTimeout((function(){return t._origin=null}),1)}))}},{key:"_wasCausedByTouch",value:function(e){var t=e.target;return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(e,t){var n=this._elementInfo.get(t);if(n&&(n.checkChildren||t===e.target)){var r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"),this._setClasses(t,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}}},{key:"_onBlur",value:function(e,t){var n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(e,t){this._ngZone.run((function(){return e.next(t)}))}},{key:"_incrementMonitoredElementCount",value:function(){var e=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular((function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,R),t.addEventListener("mousedown",e._documentMousedownListener,R),t.addEventListener("touchstart",e._documentTouchstartListener,R),n.addEventListener("focus",e._windowFocusListener)}))}},{key:"_decrementMonitoredElementCount",value:function(){if(!--this._monitoredElementCount){var e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,R),e.removeEventListener("mousedown",this._documentMousedownListener,R),e.removeEventListener("touchstart",this._documentTouchstartListener,R),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](v.a),i["\u0275\u0275inject"](r.DOCUMENT,8))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(i.NgZone),Object(i["\u0275\u0275inject"])(v.a),Object(i["\u0275\u0275inject"])(r.DOCUMENT,8))},token:e,providedIn:"root"}),e}();function M(e){return 0===e.buttons}var N=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._platform=t,this._document=n}return _createClass2(e,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);var t=(this._document.defaultView.getComputedStyle(e).backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),t){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");var t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](v.a),i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(i["\u0275\u0275inject"])(v.a),Object(i["\u0275\u0275inject"])(r.DOCUMENT))},token:e,providedIn:"root"}),e}(),F=function(){var e=function e(t){_classCallCheck2(this,e),t._applyBodyHighContrastModeCssClasses()};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](N))},imports:[[v.b,m.c]]}),e}()},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass2(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},YrkI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StepInfoDto=function(){return function e(t){_classCallCheck2(this,e),this.roomId=null,this.activeUsername=null,this.otherUsername=null,this.cardAction=null,this.stepPhase=null,this.skipShowing=null,this.showAll=null,this.processedAt=null,Object.assign(this,t,{processedAt:t.processedAt&&new Date(t.processedAt)})}}()},ZAI4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("cUpR"),o=n("omvX"),a=n("vY5A"),s=n("Sy1n"),c=n("pKmL"),u=n("Lihs"),l=n("PCNd"),h=r.__importStar(n("8Y7J")),f=function e(){_classCallCheck2(this,e)};t.AppModule=f,f.\u0275mod=h.\u0275\u0275defineNgModule({type:f,bootstrap:[s.AppComponent]}),f.\u0275inj=h.\u0275\u0275defineInjector({factory:function(e){return new(e||f)},imports:[[i.BrowserModule,a.AppRoutingModule,c.CoreModule,l.SharedModule,u.LayoutModule,o.BrowserAnimationsModule]]})},ZPdZ:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UserAction=((r=t.UserAction||{})[r.FillUserInfo=0]="FillUserInfo",r[r.CreateRoom=1]="CreateRoom",r[r.WinGame=2]="WinGame",r[r.LooseGame=3]="LooseGame",r[r.SignUp=4]="SignUp",r[r.SignIn=5]="SignIn",r)},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,a);if(!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}},ZnGb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("iInd"),a=n("NsPw"),s=n("5hSu"),c=n("ukx+"),u=n("Hs/S"),l=n("7ueh"),h=n("4k7s"),f=n("0Xir"),d=r.__importStar(n("8Y7J")),p=(r.__importStar(n("iInd")),[{path:"",data:{game:u.Game.Nechto},children:[{path:"",redirectTo:"lobby"},{path:"lobby",canActivate:[c.RoomGuard],component:l.GameLobbyComponent},{path:":roomId",component:h.NechtoComponent,canActivate:[f.UserAndRoomGuard],canDeactivate:[a.MediaGuard,s.PeerGuard,c.RoomGuard],data:{showSidebar:!0}}]},{path:"**",redirectTo:"",pathMatch:"full"}]),v=function e(){_classCallCheck2(this,e)};t.NechtoRoutingModule=v,v.\u0275mod=d.\u0275\u0275defineNgModule({type:v}),v.\u0275inj=d.\u0275\u0275defineInjector({factory:function(e){return new(e||v)},imports:[[i.CommonModule,o.RouterModule.forChild(p)],o.RouterModule]})},Zy1z:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(e){return e.lift(new o)}}var o=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).hasPrev=!1,r}return _createClass2(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(r.a)},ZzrI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RatingInfoDto=function(){return function e(t){_classCallCheck2(this,e),Object.assign(this,t)}}()},a6Ju:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("G+XK"),a=r.__importStar(n("8Y7J")),s=r.__importStar(n("iInd")),c=r.__importStar(n("zyZ6")),u=r.__importStar(n("PHhj")),l=r.__importStar(n("R/cS")),h=r.__importStar(n("f4AX")),f=function(){function e(t,n,r,o,a,s){_classCallCheck2(this,e),this.activatedRoute=t,this.gameService=n,this.roomService=r,this.botService=o,this.router=a,this.userService=s,this.subscription=new i.Subscription,this.destroy$=new i.Subject}return _createClass2(e,[{key:"ngOnInit",value:function(){this.selectedGame&&this.gameService.selectGame(this.selectedGame),this.botService.processBotManagement().subscribe();var e=this.roomService.getSelectedRoomId();this.roomService.hasRoomOwner(e)||this.roomService.setRoomOwner(e,this.userService.getCurrentUserId())}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}},{key:"hasSelectedRoom",get:function(){return this.selectedGame&&!o.isNil(this.roomService.getSelectedRoomId(this.selectedGame))}}]),e}();t.GameComponent=f,f.\u0275fac=function(e){return new(e||f)(a.\u0275\u0275directiveInject(s.ActivatedRoute),a.\u0275\u0275directiveInject(c.GameService),a.\u0275\u0275directiveInject(u.RoomService),a.\u0275\u0275directiveInject(l.BotService),a.\u0275\u0275directiveInject(s.Router),a.\u0275\u0275directiveInject(h.UserService))},f.\u0275dir=a.\u0275\u0275defineDirective({type:f})},a6pu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7rMc");t.UserDto=function(){function e(t){_classCallCheck2(this,e),this.id=null,this.username=null,this.firstName=null,this.lastName=null,this.gender=null,this.biography=null,this.isBot=!1,this.hasFilledData=!1,this.avatar=null,Object.assign(this,t)}return _createClass2(e,[{key:"getAvatarUrl",value:function(){return this?this.avatar?this.avatar:this.gender===r.Gender.Female?"./assets/images/avatar-female.png":"./assets/images/avatar-male.png":"./assets/images/avatar.jpg"}},{key:"hasAllData",value:function(){return this&&!!this.avatar&&!!this.biography&&!!this.firstName&&!!this.lastName&&!!this.gender&&!!this.username}}]),e}()},aqoL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("U0EP");t.SignUp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).gender=null,r.biography=null,Object.assign(_assertThisInitialized(r),e),r}return _createClass2(n,[{key:"mapToSignInModel",value:function(){return new r.SignIn({email:this.email,password:this.password})}}]),n}(r.SignIn)},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5+tZ");function i(e,t){return Object(r.a)(e,t,1)}},bUwk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=r.__importStar(n("8Y7J")),o=r.__importStar(n("IheW")),a=function(){function e(t){_classCallCheck2(this,e),this.http=t}return _createClass2(e,[{key:"get",value:function(e){return this.http.get(e)}},{key:"getPlain",value:function(e){return this.http.get(e,{responseType:"text"})}},{key:"post",value:function(e,t){return this.http.post(e,t)}}]),e}();t.HttpService=a,a.\u0275fac=function(e){return new(e||a)(i.\u0275\u0275inject(o.HttpClient))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})},blSl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("AytR"),s=n("xEFI"),c=n("G+XK"),u=r.__importStar(n("8Y7J")),l=r.__importStar(n("PHhj")),h=r.__importStar(n("f4AX")),f=r.__importStar(n("2kLq")),d=function(){function e(t,n,r){_classCallCheck2(this,e),this.roomService=t,this.userService=n,this.firebaseService=r,this.hasBlockedStream=!1,this.subscription=new i.Subscription,this.needForceReload=!1,this.stubbedStream=new MediaStream([]),this.mediaConstraints={video:{width:{ideal:420,max:1920},height:{ideal:236,max:1080},frameRate:{ideal:15,max:60}},audio:{echoCancellation:!0}},this.fallbackMediaConstraints={video:!0,audio:!0},this.initConstraints()}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"getUserMedia",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mediaConstraints,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.needForceReload&&(n=!0,this.needForceReload=!1),n||!this.userMedia&&!this.userMedia$?(this.userMedia$=i.defer((function(){return r.__awaiter(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.stopUserMedia(this.userMedia,!1),e.next=4,navigator.mediaDevices.getUserMedia(t);case 4:return this.userMedia=e.sent,a.environment.production||this.userMedia.getAudioTracks().forEach((function(e){return e.enabled=!1})),this.hasBlockedStream=!1,e.abrupt("return",this.userMedia);case 10:if(e.prev=10,e.t0=e.catch(0),this.handleGetUserMediaError(e.t0),["OverconstrainedError","ConstraintNotSatisfiedError"].includes(e.t0.name)){e.next=14;break}return e.abrupt("return",(this.hasBlockedStream=!0,this.stubbedStream));case 14:return e.prev=14,this.stopUserMedia(this.userMedia,!1),e.next=18,navigator.mediaDevices.getUserMedia(this.fallbackMediaConstraints);case 18:return n=e.sent,e.abrupt("return",(this.userMedia=n,this.hasBlockedStream=!1,this.userMedia));case 22:return e.prev=22,e.t1=e.catch(14),e.abrupt("return",(this.hasBlockedStream=!0,this.stubbedStream));case 25:case"end":return e.stop()}}),e,this,[[0,10],[14,22]])})))})).pipe(o.take(1)),this.userMedia$):this.userMedia?i.of(this.userMedia).pipe(o.take(1)):this.userMedia$.pipe(o.take(1))}},{key:"stopUserMedia",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userMedia,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&e.getTracks().forEach((function(e){return e.stop()})),this.needForceReload=t}},{key:"getMediaConstraints",value:function(){return this.mediaConstraints}},{key:"setTrackIds",value:function(e,t){return i.forkJoin([this.setVideoTrackId(e),this.setAudioTrackId(t)]).pipe(o.map((function(e){var t=_slicedToArray(e,2),n=t[0];t[1];return n})))}},{key:"setVideoTrackId",value:function(e){if(c.isUndefined(e))throw new Error("Track ID not specified");var t=this.userService.getCurrentUserId(),n=this.roomService.getSelectedRoomId();if(c.isNil(t)||c.isNil(n))throw new Error("User ID or Room ID not specified");return this.firebaseService.update(s.PlayerDto,"players","".concat(n,"_").concat(t),{videoId:e,isVideoMuted:!e})}},{key:"setAudioTrackId",value:function(e){if(c.isUndefined(e))throw new Error("Track ID not specified");var t=this.userService.getCurrentUserId(),n=this.roomService.getSelectedRoomId();if(c.isNil(t)||c.isNil(n))throw new Error("User ID or Room ID not specified");return this.firebaseService.update(s.PlayerDto,"players","".concat(n,"_").concat(t),{audioId:e,isAudioMuted:!e})}},{key:"toggleMedia",value:function(e){var t=e.toggleVideo,n=void 0!==t&&t,r=e.toggleAudio,i=void 0!==r&&r,o=this.userService.getCurrentUserId(),a=this.roomService.getSelectedRoomId();if(c.isNil(o)||c.isNil(a))throw new Error("User ID or Room ID not specified");var u=this.roomService.getRoomMember(o,a),l={};return n&&(l.isVideoMuted=!u.isVideoMuted),i&&(l.isAudioMuted=!u.isAudioMuted),this.firebaseService.update(s.PlayerDto,"players","".concat(a,"_").concat(o),l)}},{key:"handleGetUserMediaError",value:function(e){switch(e.name){case"OverconstrainedError":case"ConstraintNotSatisfiedError":console.error("No constraint support was found:"+e.message);break;case"NotFoundError":console.error("No camera and/or microphone were found.");break;case"SecurityError":case"PermissionDeniedError":break;default:console.error("Error opening your camera and/or microphone: "+e.message)}}},{key:"initConstraints",value:function(){var e=navigator.mediaDevices.getSupportedConstraints(),t=this.mediaConstraints.video,n=this.mediaConstraints.audio;e.width||delete t.width,e.height||delete t.height,e.frameRate||delete t.frameRate,e.echoCancellation||delete n.echoCancellation}}]),e}();t.MediaService=d,d.\u0275fac=function(e){return new(e||d)(u.\u0275\u0275inject(l.RoomService),u.\u0275\u0275inject(h.UserService),u.\u0275\u0275inject(f.FirebaseService))},d.\u0275prov=u.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"})},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},cMCp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("iInd"),o=n("SVse"),a=n("B5dI"),s=n("d1sV"),c=n("81RL"),u=r.__importStar(n("8Y7J")),l=(r.__importStar(n("iInd")),[{path:"signin",component:a.SignInComponent,canActivate:[c.AnonGuard]},{path:"signup",component:s.SignUpComponent,canActivate:[c.AnonGuard]},{path:"**",redirectTo:"signin",pathMatch:"full"}]),h=function e(){_classCallCheck2(this,e)};t.AuthRoutingModule=h,h.\u0275mod=u.\u0275\u0275defineNgModule({type:h}),h.\u0275inj=u.\u0275\u0275defineInjector({factory:function(e){return new(e||h)},imports:[[o.CommonModule,i.RouterModule.forChild(l)],i.RouterModule]})},cUpR:function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserModule",(function(){return se})),n.d(t,"BrowserTransferStateModule",(function(){return Ce})),n.d(t,"By",(function(){return ke})),n.d(t,"DomSanitizer",(function(){return X})),n.d(t,"EVENT_MANAGER_PLUGINS",(function(){return b})),n.d(t,"EventManager",(function(){return C})),n.d(t,"HAMMER_GESTURE_CONFIG",(function(){return F})),n.d(t,"HAMMER_LOADER",(function(){return L})),n.d(t,"HammerGestureConfig",(function(){return V})),n.d(t,"HammerModule",(function(){return z})),n.d(t,"Meta",(function(){return ue})),n.d(t,"Title",(function(){return he})),n.d(t,"TransferState",(function(){return _e})),n.d(t,"VERSION",(function(){return we})),n.d(t,"disableDebugTools",(function(){return me})),n.d(t,"enableDebugTools",(function(){return ve})),n.d(t,"makeStateKey",(function(){return ye})),n.d(t,"platformBrowser",(function(){return oe})),n.d(t,"\u0275BROWSER_SANITIZATION_PROVIDERS",(function(){return ie})),n.d(t,"\u0275BROWSER_SANITIZATION_PROVIDERS__POST_R3__",(function(){return re})),n.d(t,"\u0275BrowserDomAdapter",(function(){return s})),n.d(t,"\u0275BrowserGetTestability",(function(){return f})),n.d(t,"\u0275DomEventsPlugin",(function(){return M})),n.d(t,"\u0275DomRendererFactory2",(function(){return A})),n.d(t,"\u0275DomSanitizerImpl",(function(){return Z})),n.d(t,"\u0275DomSharedStylesHost",(function(){return S})),n.d(t,"\u0275ELEMENT_PROBE_PROVIDERS",(function(){return _})),n.d(t,"\u0275ELEMENT_PROBE_PROVIDERS__POST_R3__",(function(){return g})),n.d(t,"\u0275HAMMER_PROVIDERS__POST_R3__",(function(){return B})),n.d(t,"\u0275HammerGesturesPlugin",(function(){return U})),n.d(t,"\u0275INTERNAL_BROWSER_PLATFORM_PROVIDERS",(function(){return ne})),n.d(t,"\u0275KeyEventsPlugin",(function(){return Q})),n.d(t,"\u0275NAMESPACE_URIS",(function(){return E})),n.d(t,"\u0275SharedStylesHost",(function(){return w})),n.d(t,"\u0275TRANSITION_ID",(function(){return u})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_a",(function(){return ee})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_b",(function(){return te})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_c",(function(){return ae})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_d",(function(){return ce})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_e",(function(){return le})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_f",(function(){return be})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_g",(function(){return k})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_h",(function(){return G})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_i",(function(){return H})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_j",(function(){return J})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_k",(function(){return l})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_l",(function(){return h})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_m",(function(){return m})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_n",(function(){return y})),n.d(t,"\u0275angular_packages_platform_browser_platform_browser_o",(function(){return a})),n.d(t,"\u0275escapeHtml",(function(){return ge})),n.d(t,"\u0275flattenStyles",(function(){return x})),n.d(t,"\u0275initDomAdapter",(function(){return $})),n.d(t,"\u0275shimContentAttribute",(function(){return O})),n.d(t,"\u0275shimHostAttribute",(function(){return P}));var r=n("SVse"),i=n("8Y7J");n.d(t,"\u0275getDOM",(function(){return r["\u0275getDOM"]}));var o,a=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.call(this)}return _createClass2(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(r["\u0275DomAdapter"]),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=c||(c=document.querySelector("base"))?c.getAttribute("href"):null;return null==n?null:(t=n,o||(o=document.createElement("a")),o.setAttribute("href",t),"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname)}},{key:"resetBaseElement",value:function(){c=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(r["\u0275parseCookieValue"])(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(r["\u0275setRootDomAdapter"])(new n)}}]),n}(a),c=null,u=new i.InjectionToken("TRANSITION_ID");function l(e,t,n){return function(){n.get(i.ApplicationInitStatus).donePromise.then((function(){var n=Object(r["\u0275getDOM"])();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}}var h=[{provide:i.APP_INITIALIZER,useFactory:l,deps:[u,r.DOCUMENT,i.Injector],multi:!0}],f=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addToWindow",value:function(e){i["\u0275global"].getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i["\u0275global"].getAllAngularTestabilities=function(){return e.getAllTestabilities()},i["\u0275global"].getAllAngularRootElements=function(){return e.getAllRootElements()},i["\u0275global"].frameworkStabilizers||(i["\u0275global"].frameworkStabilizers=[]),i["\u0275global"].frameworkStabilizers.push((function(e){var t=i["\u0275global"].getAllAngularTestabilities(),n=t.length,r=!1,o=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Object(r["\u0275getDOM"])().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(i.setTestabilityGetter)(new e)}}]),e}();function d(e,t){"undefined"!=typeof COMPILED&&COMPILED||((i["\u0275global"].ng=i["\u0275global"].ng||{})[e]=t)}var p={ApplicationRef:i.ApplicationRef,NgZone:i.NgZone};function v(e){return Object(i["\u0275getDebugNodeR2"])(e)}function m(e){return d("probe",v),d("coreTokens",Object.assign(Object.assign({},p),(e||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return v}}var g=[],y=[{provide:i.APP_INITIALIZER,useFactory:m,deps:[[i.NgProbeToken,new i.Optional]],multi:!0}],_=g,b=new i.InjectionToken("EventManagerPlugins"),C=function(){var e=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass2(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](b),i["\u0275\u0275inject"](i.NgZone))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),k=function(){function e(t){_classCallCheck2(this,e),this._doc=t}return _createClass2(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Object(r["\u0275getDOM"])().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),w=function(){var e=function(){function e(){_classCallCheck2(this,e),this._stylesSet=new Set}return _createClass2(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),S=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass2(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Object(r["\u0275getDOM"])().remove(e)}))}}]),n}(w);return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),E={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},I=/%COMP%/g;function O(e){return"_ngcontent-%COMP%".replace(I,e)}function P(e){return"_nghost-%COMP%".replace(I,e)}function x(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?x(e,i,n):(i=i.replace(I,e),n.push(i))}return n}function T(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var A=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new D(t)}return _createClass2(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new R(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case i.ViewEncapsulation.Native:case i.ViewEncapsulation.ShadowDom:return new j(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=x(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](C),i["\u0275\u0275inject"](S),i["\u0275\u0275inject"](i.APP_ID))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),D=function(){function e(t){_classCallCheck2(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass2(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(E[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=E[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=E[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&i.RendererStyleFlags2.DashCase?e.style.setProperty(t,n,r&i.RendererStyleFlags2.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&i.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,T(n)):this.eventManager.addEventListener(e,t,T(n))}}]),e}(),R=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck2(this,n),(a=t.call(this,e)).component=i;var s=x(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr=O(o+"-"+i.id),a.hostAttr=P(o+"-"+i.id),a}return _createClass2(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(D),j=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a){var s;_classCallCheck2(this,n),(s=t.call(this,e)).sharedStylesHost=r,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===i.ViewEncapsulation.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var c=x(a.id,a.styles,[]),u=0;u<c.length;u++){var l=document.createElement("style");l.textContent=c[u],s.shadowRoot.appendChild(l)}return s}return _createClass2(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(D),M=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(k);return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),N={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},F=new i.InjectionToken("HammerGestureConfig"),L=new i.InjectionToken("HammerLoader"),V=function(){var e=function(){function e(){_classCallCheck2(this,e),this.events=[],this.overrides={}}return _createClass2(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),U=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e))._config=r,a.console=i,a.loader=o,a}return _createClass2(n,[{key:"supports",value:function(e){return!(!N.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(e,t,n))})).catch((function(){r.console.warn('The "'.concat(t,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),a=function(){}})),function(){a()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(e),a=function(e){i.runGuarded((function(){n(e)}))};return o.on(t,a),function(){o.off(t,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),n}(k);return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT),i["\u0275\u0275inject"](F),i["\u0275\u0275inject"](i["\u0275Console"]),i["\u0275\u0275inject"](L,8))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),B=[],G=[{provide:b,useClass:U,multi:!0,deps:[r.DOCUMENT,F,i["\u0275Console"],[new i.Optional,L]]},{provide:F,useClass:V,deps:[]}],H=B,z=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:G}),e}(),q=["alt","control","meta","shift"],W={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},K={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Q=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var o=n.parseEventName(t),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(r["\u0275getDOM"])().onAndCancel(e,o.domEventName,a)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(q.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Y.hasOwnProperty(t)&&(t=Y[t]))}return W[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),q.forEach((function(r){r!=n&&(0,K[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(k);return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),X=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return Object(i["\u0275\u0275inject"])(Z)},token:e,providedIn:"root"}),e}();function J(e){return new Z(e.get(r.DOCUMENT))}var Z=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._doc=e,r}return _createClass2(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case i.SecurityContext.NONE:return t;case i.SecurityContext.HTML:return Object(i["\u0275allowSanitizationBypassAndThrow"])(t,"HTML")?Object(i["\u0275unwrapSafeValue"])(t):Object(i["\u0275_sanitizeHtml"])(this._doc,String(t));case i.SecurityContext.STYLE:return Object(i["\u0275allowSanitizationBypassAndThrow"])(t,"Style")?Object(i["\u0275unwrapSafeValue"])(t):Object(i["\u0275_sanitizeStyle"])(t);case i.SecurityContext.SCRIPT:if(Object(i["\u0275allowSanitizationBypassAndThrow"])(t,"Script"))return Object(i["\u0275unwrapSafeValue"])(t);throw new Error("unsafe value used in a script context");case i.SecurityContext.URL:return Object(i["\u0275getSanitizationBypassType"])(t),Object(i["\u0275allowSanitizationBypassAndThrow"])(t,"URL")?Object(i["\u0275unwrapSafeValue"])(t):Object(i["\u0275_sanitizeUrl"])(String(t));case i.SecurityContext.RESOURCE_URL:if(Object(i["\u0275allowSanitizationBypassAndThrow"])(t,"ResourceURL"))return Object(i["\u0275unwrapSafeValue"])(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(i["\u0275bypassSanitizationTrustHtml"])(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(i["\u0275bypassSanitizationTrustStyle"])(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(i["\u0275bypassSanitizationTrustScript"])(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(i["\u0275bypassSanitizationTrustUrl"])(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(i["\u0275bypassSanitizationTrustResourceUrl"])(e)}}]),n}(X);return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:function(){return J(Object(i["\u0275\u0275inject"])(i.INJECTOR))},token:e,providedIn:"root"}),e}();function $(){s.makeCurrent(),f.init()}function ee(){return new i.ErrorHandler}function te(){return Object(i["\u0275setDocument"])(document),document}var ne=[{provide:i.PLATFORM_ID,useValue:r["\u0275PLATFORM_BROWSER_ID"]},{provide:i.PLATFORM_INITIALIZER,useValue:$,multi:!0},{provide:r.DOCUMENT,useFactory:te,deps:[]}],re=[],ie=re,oe=Object(i.createPlatformFactory)(i.platformCore,"browser",ne),ae=[ie,{provide:i["\u0275INJECTOR_SCOPE"],useValue:"root"},{provide:i.ErrorHandler,useFactory:ee,deps:[]},{provide:b,useClass:M,multi:!0,deps:[r.DOCUMENT,i.NgZone,i.PLATFORM_ID]},{provide:b,useClass:Q,multi:!0,deps:[r.DOCUMENT]},H,{provide:A,useClass:A,deps:[C,S,i.APP_ID]},{provide:i.RendererFactory2,useExisting:A},{provide:w,useExisting:S},{provide:S,useClass:S,deps:[r.DOCUMENT]},{provide:i.Testability,useClass:i.Testability,deps:[i.NgZone]},{provide:C,useClass:C,deps:[b,i.NgZone]},_],se=function(){var e=function(){function e(t){if(_classCallCheck2(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass2(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:i.APP_ID,useValue:t.appId},{provide:u,useExisting:i.APP_ID},h]}}}]),e}();return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](e,12))},providers:ae,imports:[r.CommonModule,i.ApplicationModule]}),e}();function ce(){return new ue(Object(i["\u0275\u0275inject"])(r.DOCUMENT))}var ue=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._doc=t,this._dom=Object(r["\u0275getDOM"])()}return _createClass2(e,[{key:"addTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this._getOrCreateElement(e,t):null}},{key:"addTags",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?e.reduce((function(e,r){return r&&e.push(t._getOrCreateElement(r,n)),e}),[]):[]}},{key:"getTag",value:function(e){return e&&this._doc.querySelector("meta[".concat(e,"]"))||null}},{key:"getTags",value:function(e){if(!e)return[];var t=this._doc.querySelectorAll("meta[".concat(e,"]"));return t?[].slice.call(t):[]}},{key:"updateTag",value:function(e,t){if(!e)return null;t=t||this._parseSelector(e);var n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}},{key:"removeTag",value:function(e){this.removeTagElement(this.getTag(e))}},{key:"removeTagElement",value:function(e){e&&this._dom.remove(e)}},{key:"_getOrCreateElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var n=this._parseSelector(e),r=this.getTag(n);if(r&&this._containsAttributes(e,r))return r}var i=this._dom.createElement("meta");return this._setMetaElementAttributes(e,i),this._doc.getElementsByTagName("head")[0].appendChild(i),i}},{key:"_setMetaElementAttributes",value:function(e,t){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])})),t}},{key:"_parseSelector",value:function(e){var t=e.name?"name":"property";return"".concat(t,'="').concat(e[t],'"')}},{key:"_containsAttributes",value:function(e,t){return Object.keys(e).every((function(n){return t.getAttribute(n)===e[n]}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:ce,token:e,providedIn:"root"}),e}();function le(){return new he(Object(i["\u0275\u0275inject"])(r.DOCUMENT))}var he=function(){var e=function(){function e(t){_classCallCheck2(this,e),this._doc=t}return _createClass2(e,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(e){this._doc.title=e||""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=Object(i["\u0275\u0275defineInjectable"])({factory:le,token:e,providedIn:"root"}),e}(),fe="undefined"!=typeof window&&window||{},de=function e(t,n){_classCallCheck2(this,e),this.msPerTick=t,this.numTicks=n},pe=function(){function e(t){_classCallCheck2(this,e),this.appRef=t.injector.get(i.ApplicationRef)}return _createClass2(e,[{key:"timeChangeDetection",value:function(e){var t=e&&e.record,n=null!=fe.console.profile;t&&n&&fe.console.profile("Change Detection");for(var i=Object(r["\u0275getDOM"])().performanceNow(),o=0;o<5||Object(r["\u0275getDOM"])().performanceNow()-i<500;)this.appRef.tick(),o++;var a=Object(r["\u0275getDOM"])().performanceNow();t&&n&&fe.console.profileEnd("Change Detection");var s=(a-i)/o;return fe.console.log("ran ".concat(o," change detection cycles")),fe.console.log("".concat(s.toFixed(2)," ms per check")),new de(s,o)}}]),e}();function ve(e){return d("profiler",new pe(e)),e}function me(){d("profiler",null)}function ge(e){var t={"&":"&a;",'"':"&q;","'":"&s;","<":"&l;",">":"&g;"};return e.replace(/[&"'<>]/g,(function(e){return t[e]}))}function ye(e){return e}var _e=function(){var e=function(){function e(){_classCallCheck2(this,e),this.store={},this.onSerializeCallbacks={}}return _createClass2(e,[{key:"get",value:function(e,t){return void 0!==this.store[e]?this.store[e]:t}},{key:"set",value:function(e,t){this.store[e]=t}},{key:"remove",value:function(e){delete this.store[e]}},{key:"hasKey",value:function(e){return this.store.hasOwnProperty(e)}},{key:"onSerialize",value:function(e,t){this.onSerializeCallbacks[e]=t}},{key:"toJson",value:function(){for(var e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)}}],[{key:"init",value:function(t){var n=new e;return n.store=t,n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function be(e,t){var n,r,i=e.getElementById(t+"-state"),o={};if(i&&i.textContent)try{o=JSON.parse((n=i.textContent,r={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},n.replace(/&[^;]+;/g,(function(e){return r[e]}))))}catch(a){console.warn("Exception while restoring TransferState for app "+t,a)}return _e.init(o)}var Ce=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[{provide:_e,useFactory:be,deps:[r.DOCUMENT,i.APP_ID]}]}),e}(),ke=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"all",value:function(){return function(){return!0}}},{key:"css",value:function(e){return function(t){return null!=t.nativeElement&&function(e,t){return!!Object(r["\u0275getDOM"])().isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}(t.nativeElement,e)}}},{key:"directive",value:function(e){return function(t){return-1!==t.providerTokens.indexOf(e)}}}]),e}(),we=new i.Version("9.0.7")},cijb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameInfoDto=function(){return function e(t){_classCallCheck2(this,e),this.bannerClass=null,this.game=null,this.description=null,this.manualUrl=null,Object.assign(this,t)}}()},cp0P:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("HDdC"),i=n("DH7j"),o=n("lJxs"),a=n("XoHu"),s=n("Cfvw");function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Object(i.a)(r))return u(r,null);if(Object(a.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var s=Object.keys(r);return u(s.map((function(e){return r[e]})),s)}}if("function"==typeof t[t.length-1]){var c=t.pop();return u(t=1===t.length&&Object(i.a)(t[0])?t[0]:t,null).pipe(Object(o.a)((function(e){return c.apply(void 0,_toConsumableArray2(e))})))}return u(t,null)}function u(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,c=function(c){var u=Object(s.a)(e[c]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,a++),i[c]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)c(u);else n.complete()}))}},"d+bp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("iInd"),a=n("ulaF"),s=n("RcHk"),c=n("5fYb"),u=r.__importStar(n("8Y7J")),l=(r.__importStar(n("iInd")),[{path:"",component:s.AccountComponent,children:[{path:"",component:a.AccountInfoComponent},{path:"stats",component:c.AccountStatsComponent}]},{path:"**",redirectTo:"",pathMatch:"full"}]),h=function e(){_classCallCheck2(this,e)};t.AccountRoutingModule=h,h.\u0275mod=u.\u0275\u0275defineNgModule({type:h}),h.\u0275inj=u.\u0275\u0275defineInjector({factory:function(e){return new(e||h)},imports:[[i.CommonModule,o.RouterModule.forChild(l)],o.RouterModule]})},d1sV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("s7LF"),o=n("7rMc"),a=n("aqoL"),s=r.__importStar(n("8Y7J")),c=r.__importStar(n("s7LF")),u=r.__importStar(n("GNJl")),l=r.__importStar(n("iInd")),h=r.__importStar(n("TSSN")),f=function(){function e(t,n,r){_classCallCheck2(this,e),this.formBuilder=t,this.tokenService=n,this.router=r,this.Gender=o.Gender}return _createClass2(e,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({email:[null,[i.Validators.required,i.Validators.email]],password:[null,[i.Validators.required,i.Validators.minLength(6)]],gender:null,biography:null})}},{key:"signUp",value:function(){var e=this;if(this.form.valid){var t=new a.SignUp(this.form.getRawValue());this.tokenService.signUp(t).subscribe((function(){return e.router.navigate(["account"])}))}}},{key:"reset",value:function(){this.form&&this.form.reset()}}]),e}();t.SignUpComponent=f,f.\u0275fac=function(e){return new(e||f)(s.\u0275\u0275directiveInject(c.FormBuilder),s.\u0275\u0275directiveInject(u.TokenService),s.\u0275\u0275directiveInject(l.Router))},f.\u0275cmp=s.\u0275\u0275defineComponent({type:f,selectors:[["gw-sign-up"]],decls:22,vars:14,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-stretch","h-100","m-auto","gw-form",3,"formGroup"],[1,"form-group","m-2"],["for","email","translate","i18n.COMMON.EMAIL_ADDRESS",1,"light"],["formControlName","email","type","email","id","email",1,"form-control",3,"placeholder"],["for","password","translate","i18n.COMMON.PASSWORD",1,"light"],["formControlName","password","type","password","id","password",1,"form-control",3,"placeholder"],["for","gender","translate","i18n.COMMON.GENDER",1,"light"],["formControlName","gender","id","gender",1,"form-control"],["disabled","","selected","","translate","i18n.PLACEHOLDERS.GENDER"],["translate","i18n.COMMON.MALE",3,"value"],["translate","i18n.COMMON.FEMALE",3,"value"],["for","biography","translate","i18n.COMMON.BIOGRAPHY",1,"light"],["formControlName","biography","id","biography","rows","3",1,"form-control",3,"placeholder"],[1,"d-flex"],["tabindex","0","translate","i18n.COMMON.SIGN_UP",1,"btn","btn-primary","m-2","flex-grow-1",3,"click"],["tabindex","0","translate","i18n.COMMON.RESET",1,"btn","btn-secondary","light","m-2",3,"click"]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275elementStart(1,"div",1),s.\u0275\u0275element(2,"label",2),s.\u0275\u0275element(3,"input",3),s.\u0275\u0275pipe(4,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"div",1),s.\u0275\u0275element(6,"label",4),s.\u0275\u0275element(7,"input",5),s.\u0275\u0275pipe(8,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"div",1),s.\u0275\u0275element(10,"label",6),s.\u0275\u0275elementStart(11,"select",7),s.\u0275\u0275element(12,"option",8),s.\u0275\u0275element(13,"option",9),s.\u0275\u0275element(14,"option",10),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(15,"div",1),s.\u0275\u0275element(16,"label",11),s.\u0275\u0275element(17,"textarea",12),s.\u0275\u0275pipe(18,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(19,"div",13),s.\u0275\u0275elementStart(20,"div",14),s.\u0275\u0275listener("click",(function(){return t.signUp()})),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(21,"div",15),s.\u0275\u0275listener("click",(function(){return t.reset()})),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275property("formGroup",t.form),s.\u0275\u0275advance(3),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(4,8,"i18n.PLACEHOLDERS.EMAIL")),s.\u0275\u0275advance(4),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(8,10,"i18n.PLACEHOLDERS.PASSWORD")),s.\u0275\u0275advance(6),s.\u0275\u0275property("value",t.Gender.Male),s.\u0275\u0275advance(1),s.\u0275\u0275property("value",t.Gender.Female),s.\u0275\u0275advance(3),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(18,12,"i18n.PLACEHOLDERS.BIOGRAPHY")),s.\u0275\u0275advance(3),s.\u0275\u0275classProp("disabled",!t.form.valid))},directives:[c.NgControlStatusGroup,c.FormGroupDirective,h.TranslateDirective,c.DefaultValueAccessor,c.NgControlStatus,c.FormControlName,c.SelectControlValueAccessor,c.NgSelectOption,c.\u0275angular_packages_forms_forms_x],pipes:[h.TranslatePipe],styles:[""]})},dDzl:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationLocation=((r=t.NotificationLocation||{})[r.Bottom=0]="Bottom",r[r.Aside=1]="Aside",r)},e9by:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("Hs/S"),a=n("SNyX"),s=n("wO2d"),c=n("x5lf"),u=n("vxN6"),l=r.__importStar(n("8Y7J")),h=r.__importStar(n("f4AX")),f=r.__importStar(n("GNJl")),d=r.__importStar(n("PIpM")),p=r.__importStar(n("3G0t")),v=r.__importStar(n("TSSN")),m=r.__importStar(n("F8Su")),g=r.__importStar(n("AYtS")),y=r.__importStar(n("iInd")),_=r.__importStar(n("SVse"));function b(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",20),l.\u0275\u0275listener("click",(function(){l.\u0275\u0275restoreView(n);var e=t.$implicit;return l.\u0275\u0275nextContext().setLanguage(e)})),l.\u0275\u0275element(1,"img",21),l.\u0275\u0275elementStart(2,"span"),l.\u0275\u0275text(3),l.\u0275\u0275pipe(4,"uppercase"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit,i=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("src",i.getFormattedLanguageUrl(r),l.\u0275\u0275sanitizeUrl)("title",i.getFormattedLanguage(r)),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(4,3,r))}}function C(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",5),l.\u0275\u0275listener("mouseleave",(function(){l.\u0275\u0275restoreView(n);var e=l.\u0275\u0275nextContext(2);return e.toggleMenuItem(e.MenuItem.User,!1)})),l.\u0275\u0275elementStart(1,"button",24),l.\u0275\u0275listener("mouseenter",(function(){l.\u0275\u0275restoreView(n);var e=l.\u0275\u0275nextContext(2);return e.toggleMenuItem(e.MenuItem.User)})),l.\u0275\u0275elementStart(2,"span",25),l.\u0275\u0275element(3,"img",26),l.\u0275\u0275element(4,"span",27),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"div",28),l.\u0275\u0275listener("click",(function(){l.\u0275\u0275restoreView(n);var e=l.\u0275\u0275nextContext(2);return e.toggleMenuItem(e.MenuItem.User,!1)})),l.\u0275\u0275element(7,"a",29),l.\u0275\u0275element(8,"a",30),l.\u0275\u0275elementStart(9,"a",31),l.\u0275\u0275listener("click",(function(){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext(2).signOut()})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&e){var r=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275classProp("active",r.isMenuItemActive(r.MenuItem.User)),l.\u0275\u0275advance(2),l.\u0275\u0275property("src",r.user.getAvatarUrl(),l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(1),l.\u0275\u0275property("title",r.getFormattedUserLevel()),l.\u0275\u0275attribute("data-level",r.getUserLevel()),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",r.user.username," "),l.\u0275\u0275advance(1),l.\u0275\u0275classProp("show",r.isMenuItemActive(r.MenuItem.User))}}function k(e,t){if(1&e){var n=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",32),l.\u0275\u0275listener("click",(function(){return l.\u0275\u0275restoreView(n),l.\u0275\u0275nextContext(2).signOut()})),l.\u0275\u0275elementEnd()}}function w(e,t){if(1&e&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,C,10,8,"div",22),l.\u0275\u0275template(2,k,1,0,"div",23),l.\u0275\u0275elementContainerEnd()),2&e){var n=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",!n.isGuest),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",n.isGuest)}}function S(e,t){1&e&&(l.\u0275\u0275element(0,"div",33),l.\u0275\u0275element(1,"div",34))}var E=function(e){return["games",e]},I=function(){function e(t,n,r,u,l,h,f){_classCallCheck2(this,e),this.userService=t,this.tokenService=n,this.ratingService=r,this.localStorageService=u,this.translateService=l,this.gameInfoService=h,this.audioHelpers=f,this.websiteTitle="Gamers.Org.Ua",this.MenuItem=a.MenuItem,this.Game=o.Game,this.UserLevel=s.UserLevel,this.Language=c.Language,this.subscription=new i.Subscription}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.userService.user$.subscribe((function(t){e.user=t})))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"signOut",value:function(){this.tokenService.signOut().subscribe()}},{key:"toggleMenuItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.openedMenuItem=t?e:null}},{key:"isMenuItemActive",value:function(e){return this.openedMenuItem===e}},{key:"getUserLevel",value:function(){return this.user?this.ratingService.getLevel(this.user.id):null}},{key:"setLanguage",value:function(e){this.localStorageService.set(u.StorageKey.Language,e),this.translateService.use(e)}},{key:"getFormattedUserLevel",value:function(){return this.gameInfoService.getFormattedUserLevel(this.getUserLevel())}},{key:"getFormattedLanguage",value:function(e){return this.gameInfoService.getFormattedLanguage(e)}},{key:"getFormattedLanguageUrl",value:function(e){return"./assets/images/flag-".concat(e,".png")}},{key:"toggleAudioEffects",value:function(){this.audioHelpers.toggleAudioEffects(!this.hasAudioEffects)}},{key:"isLogged",get:function(){return this.tokenService.isLogged}},{key:"isGuest",get:function(){return this.tokenService.isGuest}},{key:"selectedLanguage",get:function(){return this.localStorageService.get(u.StorageKey.Language)||c.Language.English}},{key:"availableLanguages",get:function(){return Object.values(c.Language)}},{key:"hasAudioEffects",get:function(){return!!this.audioHelpers.hasAudioEffects}}]),e}();t.HeaderComponent=I,I.\u0275fac=function(e){return new(e||I)(l.\u0275\u0275directiveInject(h.UserService),l.\u0275\u0275directiveInject(f.TokenService),l.\u0275\u0275directiveInject(d.RatingService),l.\u0275\u0275directiveInject(p.LocalStorageService),l.\u0275\u0275directiveInject(v.TranslateService),l.\u0275\u0275directiveInject(m.GameInfoService),l.\u0275\u0275directiveInject(g.AudioHelpers))},I.\u0275cmp=l.\u0275\u0275defineComponent({type:I,selectors:[["gw-header"]],decls:26,vars:24,consts:[[1,"d-flex","justify-content-between","align-items-center","p-2","gw-header-container"],[1,"d-flex","justify-content-start","align-items-center"],["routerLink","/",1,"d-flex","align-items-center","m-1","gw-logo-wrapper"],["src","./assets/images/logo-temp.png",1,"gw-logo"],[1,"light","gw-website-title"],[1,"dropdown",3,"mouseleave"],["type","button","translate","i18n.COMMON.GAMES",1,"btn","btn-secondary","light","m-1","dropdown-toggle",3,"mouseenter"],[1,"dropdown-menu",3,"click"],["translate","i18n.GAMES.NECHTO",1,"dropdown-item",3,"routerLink"],["translate","i18n.GAMES.TRUMP",1,"dropdown-item",3,"routerLink"],["routerLink","rating","tabindex","0","translate","i18n.COMMON.RATING",1,"btn","btn-secondary","light","m-1"],["routerLink","info/contacts","tabindex","0","translate","i18n.COMMON.CONTACTS",1,"btn","btn-secondary","light","m-1"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-secondary","btn-flex","light","m-1"],[1,"material-icons",3,"title","click"],["type","button",1,"btn","btn-secondary","btn-flex","light","m-1","dropdown-toggle",3,"mouseenter"],[3,"src","title"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["unathorizedMenu",""],[1,"dropdown-item",3,"click"],[1,"mr-1",3,"src","title"],["class","dropdown",3,"mouseleave",4,"ngIf"],["class","btn btn-primary m-1","tabindex","0","translate","i18n.COMMON.SIGN_OUT",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-icon","btn-flex","light","m-1","dropdown-toggle",3,"mouseenter"],[1,"gw-user-avatar-wrapper"],[3,"src"],[1,"gw-user-rating",3,"title"],[1,"dropdown-menu","dropdown-menu-right",3,"click"],["routerLink","account","translate","i18n.COMMON.ACCOUNT",1,"dropdown-item"],["routerLink","account/stats","translate","i18n.COMMON.STATISTICS",1,"dropdown-item"],["translate","i18n.COMMON.SIGN_OUT",1,"dropdown-item",3,"click"],["tabindex","0","translate","i18n.COMMON.SIGN_OUT",1,"btn","btn-primary","m-1",3,"click"],["routerLink","auth/signup","tabindex","0","translate","i18n.COMMON.SIGN_UP",1,"btn","btn-primary","m-1"],["routerLink","auth/signin","tabindex","0","translate","i18n.COMMON.SIGN_IN",1,"btn","btn-secondary","light","m-1"]],template:function(e,t){if(1&e&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"div",2),l.\u0275\u0275element(3,"img",3),l.\u0275\u0275elementStart(4,"h3",4),l.\u0275\u0275text(5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"div",5),l.\u0275\u0275listener("mouseleave",(function(){return t.toggleMenuItem(t.MenuItem.Games,!1)})),l.\u0275\u0275elementStart(7,"button",6),l.\u0275\u0275listener("mouseenter",(function(){return t.toggleMenuItem(t.MenuItem.Games)})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(8,"div",7),l.\u0275\u0275listener("click",(function(){return t.toggleMenuItem(t.MenuItem.Games,!1)})),l.\u0275\u0275element(9,"a",8),l.\u0275\u0275element(10,"a",9),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(11,"div",10),l.\u0275\u0275element(12,"div",11),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(13,"div",12),l.\u0275\u0275elementStart(14,"button",13),l.\u0275\u0275elementStart(15,"i",14),l.\u0275\u0275listener("click",(function(){return t.toggleAudioEffects()})),l.\u0275\u0275pipe(16,"translate"),l.\u0275\u0275text(17),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(18,"div",5),l.\u0275\u0275listener("mouseleave",(function(){return t.toggleMenuItem(t.MenuItem.Language,!1)})),l.\u0275\u0275elementStart(19,"button",15),l.\u0275\u0275listener("mouseenter",(function(){return t.toggleMenuItem(t.MenuItem.Language)})),l.\u0275\u0275element(20,"img",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(21,"div",7),l.\u0275\u0275listener("click",(function(){return t.toggleMenuItem(t.MenuItem.Language,!1)})),l.\u0275\u0275template(22,b,5,5,"div",17),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(23,w,3,2,"ng-container",18),l.\u0275\u0275template(24,S,2,0,"ng-template",null,19,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e){var n=l.\u0275\u0275reference(25);l.\u0275\u0275advance(5),l.\u0275\u0275textInterpolate(t.websiteTitle),l.\u0275\u0275advance(2),l.\u0275\u0275classProp("active",t.isMenuItemActive(t.MenuItem.Games)),l.\u0275\u0275advance(1),l.\u0275\u0275classProp("show",t.isMenuItemActive(t.MenuItem.Games)),l.\u0275\u0275advance(1),l.\u0275\u0275property("routerLink",l.\u0275\u0275pureFunction1(20,E,t.Game.Nechto.toLowerCase())),l.\u0275\u0275advance(1),l.\u0275\u0275property("routerLink",l.\u0275\u0275pureFunction1(22,E,t.Game.Trump.toLowerCase())),l.\u0275\u0275advance(5),l.\u0275\u0275propertyInterpolate("title",l.\u0275\u0275pipeBind1(16,18,t.hasAudioEffects?"i18n.COMMON.DISABLE_AUDIO_EFFECTS":"i18n.COMMON.ENABLE_AUDIO_EFFECTS")),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1(" ",t.hasAudioEffects?"volume_up":"volume_off"," "),l.\u0275\u0275advance(2),l.\u0275\u0275classProp("active",t.isMenuItemActive(t.MenuItem.Language)),l.\u0275\u0275advance(1),l.\u0275\u0275property("src",t.getFormattedLanguageUrl(t.selectedLanguage),l.\u0275\u0275sanitizeUrl)("title",t.getFormattedLanguage(t.selectedLanguage)),l.\u0275\u0275advance(1),l.\u0275\u0275classProp("show",t.isMenuItemActive(t.MenuItem.Language)),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",t.availableLanguages),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",t.isLogged)("ngIfElse",n)}},directives:[y.RouterLink,v.TranslateDirective,y.RouterLinkWithHref,_.NgForOf,_.NgIf],pipes:[v.TranslatePipe,_.UpperCasePipe],styles:[".gw-header-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(.btn-flex){min-width:110px}.gw-header-container[_ngcontent-%COMP%]   .gw-logo-wrapper[_ngcontent-%COMP%]{cursor:pointer}.gw-header-container[_ngcontent-%COMP%]   .gw-logo-wrapper[_ngcontent-%COMP%]   .gw-logo[_ngcontent-%COMP%]{height:50px}.gw-header-container[_ngcontent-%COMP%]   .gw-logo-wrapper[_ngcontent-%COMP%]   .gw-website-title[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;margin:0 0 0 5px}@media (max-width:991.98px){.gw-header-container[_ngcontent-%COMP%]   .gw-logo-wrapper[_ngcontent-%COMP%]   .gw-website-title[_ngcontent-%COMP%]{display:none}}.gw-header-container[_ngcontent-%COMP%]   .gw-logo-wrapper[_ngcontent-%COMP%]:hover   .gw-website-title[_ngcontent-%COMP%]{color:#ffcb9a}.gw-header-container[_ngcontent-%COMP%]   .gw-user-avatar-wrapper[_ngcontent-%COMP%]   .gw-user-rating[_ngcontent-%COMP%]{border:1px solid #ffcb9a;border-right-width:2px;border-left:none}"]})},eIep:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),a=n("lJxs"),s=n("Cfvw");function c(e,t){return"function"==typeof t?function(n){return n.pipe(c((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new u(e))}}var u=function(){function e(t){_classCallCheck2(this,e),this.project=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass2(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var a=new i.a(this,t,n),s=this.destination;s.add(a),this.innerSubscription=Object(o.a)(this,e,void 0,void 0,a),this.innerSubscription!==a&&s.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(r.a)},eNwd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass2(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),i=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(r)},ebwL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("f3YY"),a=n("PCNd"),s=r.__importStar(n("8Y7J")),c=function e(){_classCallCheck2(this,e)};t.MainModule=c,c.\u0275mod=s.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=s.\u0275\u0275defineInjector({factory:function(e){return new(e||c)},imports:[[i.CommonModule,a.SharedModule,o.MainRoutingModule]]})},f3YY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("iInd"),a=n("6xve"),s=n("Sq7f"),c=n("Muyr"),u=n("lNqK"),l=r.__importStar(n("8Y7J")),h=(r.__importStar(n("iInd")),[{path:"",component:a.HomeComponent,data:{showFooter:!0}},{path:"rating",component:s.RatingComponent},{path:"premium",component:c.PremiumComponent,canActivate:[u.DevGuard]}]),f=function e(){_classCallCheck2(this,e)};t.MainRoutingModule=f,f.\u0275mod=l.\u0275\u0275defineNgModule({type:f}),f.\u0275inj=l.\u0275\u0275defineInjector({factory:function(e){return new(e||f)},imports:[[i.CommonModule,o.RouterModule.forChild(h)],o.RouterModule]})},f4AX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("a6pu"),s=n("ZPdZ"),c=r.__importStar(n("8Y7J")),u=r.__importStar(n("2kLq")),l=r.__importStar(n("PIpM")),h=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this.firebaseService=t,this.ratingService=n,this.user$=new i.BehaviorSubject(null),this.users$=new i.BehaviorSubject([]),this.destroy$=new i.Subject,this.firebaseService.getAuthState().pipe(o.switchMap((function(e){if(e){var t=r.firebaseService.getFormattedUserId(e);return r.firebaseService.getCurrentUser(t)}return i.of(null)})),o.map((function(e){return r.setCurrentUser(e),e})),o.takeUntil(this.destroy$)).subscribe(),this.firebaseService.listen(a.UserDto,"users").pipe(o.tap((function(e){var t=r.getCurrentUserId();if(t){var n=e.find((function(e){return e.id===t}));r.setCurrentUser(n)}})),o.takeUntil(this.destroy$)).subscribe((function(e){return r.users$.next(e)}))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"setCurrentUser",value:function(e){this.user$.next(e)}},{key:"getCurrentUser",value:function(){return this.user$.getValue()}},{key:"getCurrentUserId",value:function(){var e=this.user$.getValue();return e?e.id:null}},{key:"getUser",value:function(e){return this.users.find((function(t){return t.id===e}))}},{key:"uploadAvatar",value:function(e){var t=this,n=this.getCurrentUserId();return this.firebaseService.uploadFile(e,n).pipe(o.switchMap((function(e){return t.firebaseService.update(a.UserDto,"users",n,{avatar:e})})),o.switchMap((function(e){return!e.hasFilledData&&e.hasAllData()?i.forkJoin([t.firebaseService.update(a.UserDto,"users",n,{hasFilledData:!0}),t.ratingService.addXp(n,s.UserAction.FillUserInfo)]):i.of(!0)})))}},{key:"updateUser",value:function(e){var t=this,n=this.getCurrentUserId();return this.firebaseService.update(a.UserDto,"users",n,e).pipe(o.switchMap((function(e){return!e.hasFilledData&&e.hasAllData()?i.forkJoin([t.firebaseService.update(a.UserDto,"users",n,{hasFilledData:!0}),t.ratingService.addXp(n,s.UserAction.FillUserInfo)]):i.of(!0)})))}},{key:"users",get:function(){return this.users$.getValue()}}]),e}();t.UserService=h,h.\u0275fac=function(e){return new(e||h)(c.\u0275\u0275inject(u.FirebaseService),c.\u0275\u0275inject(l.RatingService))},h.\u0275prov=c.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})},fDcH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("dDzl"),o=r.__importStar(n("8Y7J")),a=r.__importStar(n("Y4+Y")),s=function(){function e(t){_classCallCheck2(this,e),this.notificationService=t}return _createClass2(e,[{key:"handleError",value:function(e){this.notificationService.addNotification({level:"error",message:e.message,stack:e.stack,location:i.NotificationLocation.Bottom}),console.error(e)}}]),e}();t.ErrorsHandler=s,s.\u0275fac=function(e){return new(e||s)(o.\u0275\u0275inject(a.NotificationService))},s.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac})},fE0i:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("nhJR");t.NechtoCard=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).type=null,r.subType=null,r.action=null,r.requiredPlayersQty=null,Object.assign(_assertThisInitialized(r),e),r}return n}(r.Card)},fMxG:function(e,t,n){"use strict";n.r(t),n.d(t,"AngularFireStorage",(function(){return f})),n.d(t,"AngularFireStorageModule",(function(){return d})),n.d(t,"BUCKET",(function(){return h})),n.d(t,"createStorageRef",(function(){return l})),n.d(t,"createUploadTask",(function(){return u})),n.d(t,"fromTask",(function(){return c}));var r=n("HDdC"),i=n("Cfvw"),o=n("lJxs"),a=n("8Y7J"),s=n("jmUF");function c(e){return new r.a((function(t){return e.on("state_changed",(function(e){return t.next(e)}),(function(e){return t.error(e)}),(function(){return t.complete()})),function(){return e.cancel()}}))}function u(e){var t=c(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe(Object(o.a)((function(e){return e.bytesTransferred/e.totalBytes*100})))}}}function l(e,t,n){return{getDownloadURL:function(){return Object(i.a)(e.getDownloadURL(),t.outsideAngular).pipe(n)},getMetadata:function(){return Object(i.a)(e.getMetadata()).pipe(n)},delete:function(){return Object(i.a)(e.delete())},child:function(r){return l(e.child(r),t,n)},updateMetatdata:function(t){return Object(i.a)(e.updateMetadata(t))},updateMetadata:function(t){return Object(i.a)(e.updateMetadata(t))},put:function(t,n){return u(e.put(t,n))},putString:function(t,n,r){return u(e.putString(t,n,r))}}}var h=new a.InjectionToken("angularfire2.storageBucket"),f=function(){var e=function(){function e(t,n,r,i,o){_classCallCheck2(this,e),this.schedulers=new s["\u0275AngularFireSchedulers"](o),this.keepUnstableUntilFirst=Object(s["\u0275keepUnstableUntilFirstFactory"])(this.schedulers,i),this.storage=o.runOutsideAngular((function(){var e=Object(s["\u0275firebaseAppFactory"])(t,o,n);if(!e.storage)throw"You must import 'firebase/storage' before using AngularFireDatabase";return e.storage(r||void 0)}))}return _createClass2(e,[{key:"ref",value:function(e){return l(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(e,t,n){return l(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(t,n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](s.FIREBASE_OPTIONS),a["\u0275\u0275inject"](s.FIREBASE_APP_NAME,8),a["\u0275\u0275inject"](h,8),a["\u0275\u0275inject"](a.PLATFORM_ID),a["\u0275\u0275inject"](a.NgZone))},e.\u0275prov=Object(a["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(a["\u0275\u0275inject"])(s.FIREBASE_OPTIONS),Object(a["\u0275\u0275inject"])(s.FIREBASE_APP_NAME,8),Object(a["\u0275\u0275inject"])(h,8),Object(a["\u0275\u0275inject"])(a.PLATFORM_ID),Object(a["\u0275\u0275inject"])(a.NgZone))},token:e,providedIn:"any"}),e}(),d=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[f]}),e}()},g0WT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("G+XK"),a=n("jEPN"),s=n("fE0i"),c=n("3u7H"),u=r.__importStar(n("8Y7J")),l=r.__importStar(n("zyZ6")),h=r.__importStar(n("PHhj")),f=r.__importStar(n("S1xO")),d=function(e){return{playerId:e}};function p(e,t){if(1&e&&u.\u0275\u0275elementContainer(0,10),2&e){var n=t.$implicit;u.\u0275\u0275nextContext();var r=u.\u0275\u0275reference(15);u.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",u.\u0275\u0275pureFunction1(2,d,n))}}function v(e,t){if(1&e&&u.\u0275\u0275elementContainer(0,10),2&e){var n=t.$implicit;u.\u0275\u0275nextContext();var r=u.\u0275\u0275reference(15);u.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",u.\u0275\u0275pureFunction1(2,d,n))}}function m(e,t){if(1&e&&u.\u0275\u0275element(0,"gw-nechto-card",15),2&e){var n=u.\u0275\u0275nextContext(2);u.\u0275\u0275property("card",n.game.trash[0])("isClickable",!n.isBotPlaying)("isDisabled",!0)("location",n.CardLocation.Trash)}}function g(e,t){1&e&&u.\u0275\u0275element(0,"label",16)}function y(e,t){if(1&e&&(u.\u0275\u0275elementStart(0,"div",11),u.\u0275\u0275template(1,m,1,4,"gw-nechto-card",12),u.\u0275\u0275template(2,g,1,0,"ng-template",null,13,u.\u0275\u0275templateRefExtractor),u.\u0275\u0275element(4,"label",14),u.\u0275\u0275elementEnd()),2&e){var n=u.\u0275\u0275reference(3),r=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.game.trash.length>0)("ngIfElse",n)}}function _(e,t){if(1&e&&u.\u0275\u0275element(0,"gw-nechto-card",21),2&e){var n=u.\u0275\u0275nextContext(2);u.\u0275\u0275property("card",n.game.deck[0])("isClickable",!n.isBotPlaying)("location",n.CardLocation.Deck)}}var b=function(e){return{"smth-deck-inactive":e}};function C(e,t){if(1&e){var n=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"label",22),u.\u0275\u0275listener("click",(function(){return u.\u0275\u0275restoreView(n),u.\u0275\u0275nextContext(2).refillDeck()})),u.\u0275\u0275elementEnd()}if(2&e){var r=u.\u0275\u0275nextContext(2);u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(1,b,!r.isTakingStep))}}function k(e,t){if(1&e&&(u.\u0275\u0275elementStart(0,"div",17),u.\u0275\u0275template(1,_,1,3,"gw-nechto-card",18),u.\u0275\u0275template(2,C,1,3,"ng-template",null,19,u.\u0275\u0275templateRefExtractor),u.\u0275\u0275element(4,"label",20),u.\u0275\u0275elementEnd()),2&e){var n=u.\u0275\u0275reference(3),r=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.game.deck.length>0)("ngIfElse",n)}}function w(e,t){if(1&e){var n=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"div",23),u.\u0275\u0275listener("click",(function(){return u.\u0275\u0275restoreView(n),u.\u0275\u0275nextContext().startGame()})),u.\u0275\u0275elementEnd()}}function S(e,t){if(1&e&&u.\u0275\u0275elementContainer(0,10),2&e){var n=t.$implicit;u.\u0275\u0275nextContext();var r=u.\u0275\u0275reference(15);u.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",u.\u0275\u0275pureFunction1(2,d,n))}}function E(e,t){if(1&e&&u.\u0275\u0275elementContainer(0,10),2&e){var n=t.$implicit;u.\u0275\u0275nextContext();var r=u.\u0275\u0275reference(15);u.\u0275\u0275property("ngTemplateOutlet",r)("ngTemplateOutletContext",u.\u0275\u0275pureFunction1(2,d,n))}}function I(e,t){if(1&e&&(u.\u0275\u0275elementStart(0,"div",24),u.\u0275\u0275elementStart(1,"h1"),u.\u0275\u0275elementStart(2,"span",25),u.\u0275\u0275text(3),u.\u0275\u0275pipe(4,"translate"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&e){var n=u.\u0275\u0275nextContext();u.\u0275\u0275advance(3),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind1(4,1,n.humansWon?"i18n.GAME.HUMANS_WON":"i18n.GAME.IT_WON"))}}function O(e,t){if(1&e&&u.\u0275\u0275element(0,"gw-nechto-card",21),2&e){var n=t.$implicit,r=u.\u0275\u0275nextContext(2);u.\u0275\u0275property("card",n)("isClickable",!r.isBotPlaying)("location",r.CardLocation.Table)}}function P(e,t){if(1&e&&(u.\u0275\u0275elementStart(0,"div",26),u.\u0275\u0275template(1,O,1,3,"gw-nechto-card",27),u.\u0275\u0275elementEnd()),2&e){var n=t.playerId,r=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275property("ngForOf",null==r.game?null:r.game.table[n])}}var x=function(){return[1,2,3,4,5]},T=function(){return[12]},A=function(){return[6]},D=function(){return[11,10,9,8,7]},R=function(){function e(t,n,r){_classCallCheck2(this,e),this.gameService=t,this.roomService=n,this.cardService=r,this.class="smth-table-wrapper",this.NechtoCard=s.NechtoCard,this.CardLocation=a.CardLocation,this.subscription=new i.Subscription}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"startGame",value:function(){this.canStartGame&&this.gameService.startGame().subscribe()}},{key:"endGame",value:function(){this.isGameMode&&this.gameService.endGame(this.roomService.getSelectedRoomId()).subscribe()}},{key:"refillDeck",value:function(){this.isTakingStep&&this.cardService.refillDeck().subscribe()}},{key:"getPlayerComponents",value:function(e){if(this.isGameMode){var t=this.roomService.getRoomMembers(this.roomService.getSelectedRoomId()).map((function(e){return e.playerId}));return e.filter((function(e){return t.includes(e)}))}var n=this.roomService.getSelectedRoom();return e.filter((function(e){return!n.maxQuantity||e<=n.maxQuantity}))}},{key:"getPositioningClass",value:function(e){return 2===e?"justify-content-between":this.isGameMode?"justify-content-center":"justify-content-around"}},{key:"game",get:function(){return this.gameService.currentGame}},{key:"isGameMode",get:function(){return this.roomService.isGameMode()&&!o.isNil(this.game)}},{key:"isGameFinished",get:function(){return this.roomService.isGameFinished()}},{key:"humansWon",get:function(){return this.roomService.humansWon()}},{key:"isBotPlaying",get:function(){return this.gameService.isBotPlaying}},{key:"isTakingStep",get:function(){return this.gameService.isTakingStep(this.gameService.getActivePlayerId())}},{key:"canStartGame",get:function(){return!!this.roomService.getSelectedRoomId()&&!this.isGameMode&&this.gameService.hasEnoughPlayers}}]),e}();t.NechtoTableComponent=R,R.\u0275fac=function(e){return new(e||R)(u.\u0275\u0275directiveInject(l.GameService),u.\u0275\u0275directiveInject(h.RoomService),u.\u0275\u0275directiveInject(f.CardService))},R.\u0275cmp=u.\u0275\u0275defineComponent({type:R,selectors:[["gw-nechto-table"]],viewQuery:function(e,t){var n;1&e&&u.\u0275\u0275viewQuery(c.NechtoCardComponent,!0),2&e&&u.\u0275\u0275queryRefresh(n=u.\u0275\u0275loadQuery())&&(t.cardComponents=n)},hostVars:2,hostBindings:function(e,t){2&e&&u.\u0275\u0275classMap(t.class)},decls:16,vars:15,consts:[[1,"flex-fill","d-flex","flex-column","justify-content-between","align-items-stretch","smth-game-table"],[1,"d-flex","smth-table-row",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-end","flex-wrap","smth-table-deck"],["class","d-flex flex-column align-items-center smth-deck-trash",4,"ngIf"],["class","d-flex flex-column align-items-center smth-deck",4,"ngIf"],[1,"align-self-center","smth-game-actions"],["class","btn btn-primary","translate","i18n.COMMON.START_GAME",3,"click",4,"ngIf"],["class","d-flex justify-content-center align-items-center smth-game-finished",4,"ngIf"],["playerTableCards",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-column","align-items-center","smth-deck-trash"],[3,"card","isClickable","isDisabled","location",4,"ngIf","ngIfElse"],["emptyTrash",""],["translate","i18n.COMMON.TRASH",1,"smth-deck-label","smth-deck-title"],[3,"card","isClickable","isDisabled","location"],["translate","i18n.COMMON.EMPTY",1,"smth-deck-label","smth-deck-empty"],[1,"d-flex","flex-column","align-items-center","smth-deck"],[3,"card","isClickable","location",4,"ngIf","ngIfElse"],["emptyDeck",""],["translate","i18n.COMMON.DECK",1,"smth-deck-label","smth-deck-title"],[3,"card","isClickable","location"],["translate","i18n.COMMON.REFILL",1,"smth-deck-label","smth-deck-refill",3,"ngClass","click"],["translate","i18n.COMMON.START_GAME",1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-center","align-items-center","smth-game-finished"],[1,"badge","badge-dark"],[1,"d-flex","justify-content-center","align-items-center","flex-wrap","smth-table-cards"],[3,"card","isClickable","location",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(u.\u0275\u0275elementStart(0,"div",0),u.\u0275\u0275elementStart(1,"div",1),u.\u0275\u0275template(2,p,1,4,"ng-container",2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(3,"div",1),u.\u0275\u0275template(4,v,1,4,"ng-container",2),u.\u0275\u0275elementStart(5,"div",3),u.\u0275\u0275template(6,y,5,2,"div",4),u.\u0275\u0275template(7,k,5,2,"div",5),u.\u0275\u0275elementStart(8,"div",6),u.\u0275\u0275template(9,w,1,0,"div",7),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275template(10,S,1,4,"ng-container",2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"div",1),u.\u0275\u0275template(12,E,1,4,"ng-container",2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275template(13,I,5,3,"div",8),u.\u0275\u0275template(14,P,2,1,"ng-template",null,9,u.\u0275\u0275templateRefExtractor)),2&e&&(u.\u0275\u0275advance(1),u.\u0275\u0275property("ngClass",t.getPositioningClass(1)),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngForOf",t.getPlayerComponents(u.\u0275\u0275pureFunction0(11,x))),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngClass",t.getPositioningClass(2)),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngForOf",t.getPlayerComponents(u.\u0275\u0275pureFunction0(12,T))),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",t.isGameMode),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",t.isGameMode),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",t.canStartGame),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngForOf",t.getPlayerComponents(u.\u0275\u0275pureFunction0(13,A))),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngClass",t.getPositioningClass(3)),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngForOf",t.getPlayerComponents(u.\u0275\u0275pureFunction0(14,D))),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",t.isGameMode&&t.isGameFinished))},styles:['.smth-table-wrapper[_nghost-%COMP%]{flex-grow:1;max-width:635px}.smth-game-table[_ngcontent-%COMP%]{border-radius:30px;height:320px;padding:10px;position:relative}.smth-game-table[_ngcontent-%COMP%]:before{content:"";background:transparent url(table3.f414a3ba472c33b0f3e8.png) no-repeat 50%;background-size:contain;opacity:.8;width:100%;height:100%;position:absolute;top:0;left:0;z-index:1}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]{position:relative;z-index:2}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-cards[_ngcontent-%COMP%]{width:196px;height:98px}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-deck[_ngcontent-%COMP%]   .smth-deck-label[_ngcontent-%COMP%]{border-radius:5px;color:#fff;display:block;font-weight:700;margin:0;padding:0 5px;text-align:center}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-deck[_ngcontent-%COMP%]   .smth-deck-label.smth-deck-empty[_ngcontent-%COMP%], .smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-deck[_ngcontent-%COMP%]   .smth-deck-label.smth-deck-refill[_ngcontent-%COMP%]{background-color:#f4f7f6;color:#343a40;margin:12.5px auto}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-deck[_ngcontent-%COMP%]   .smth-deck-label.smth-deck-refill[_ngcontent-%COMP%]{cursor:pointer}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-deck[_ngcontent-%COMP%]   .smth-deck-label.smth-deck-refill.smth-deck-inactive[_ngcontent-%COMP%]{cursor:not-allowed}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-deck[_ngcontent-%COMP%]   .smth-deck-trash[_ngcontent-%COMP%]{margin:5px;opacity:.5}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-deck[_ngcontent-%COMP%]   .smth-deck-trash[_ngcontent-%COMP%]   .smth-deck-title[_ngcontent-%COMP%]{background-color:#000}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-deck[_ngcontent-%COMP%]   .smth-deck[_ngcontent-%COMP%]{margin:5px}.smth-game-table[_ngcontent-%COMP%]   .smth-table-row[_ngcontent-%COMP%]   .smth-table-deck[_ngcontent-%COMP%]   .smth-deck[_ngcontent-%COMP%]   .smth-deck-title[_ngcontent-%COMP%]{background-color:#42ab9e}.smth-game-finished[_ngcontent-%COMP%]{background-color:rgba(255,203,154,.5);border-radius:5px;position:absolute;top:calc(50% - 150px);left:calc(50% - 250px);width:500px;height:300px;z-index:2}.smth-game-finished-title[_ngcontent-%COMP%]{box-shadow:0 0 10px 0 rgba(0,0,0,.5);color:#fff;margin:0;padding:0}']})},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},gcyb:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StepPhase=((r=t.StepPhase||{}).TakeFromDeck="TakeFromDeck",r.DropFromHand="DropFromHand",r.DropFromTable="DropFromTable",r.PlayFromHand="PlayFromHand",r.PlayFromTable="PlayFromTable",r.DefenceFromHand="DefenceFromHand",r.GiveToNextPlayer="GiveToNextPlayer",r.GiveToPreviousPlayer="GiveToPreviousPlayer",r.GiveToPlayer="GiveToPlayer",r.ReturnToPlayer="ReturnToPlayer",r.ProcessPanic="ProcessPanic",r.ProcessEvent="ProcessEvent",r.FulfillHandFromDeck="FulfillHandFromDeck",r.GiveToSpecificPlayer="GiveToSpecificPlayer",r.ShowFromHand="ShowFromHand",r.AcceptRequest="AcceptRequest",r.PickFromHand="PickFromHand",r.RefillDeck="RefillDeck",r)},htiD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("AytR"),s=r.__importStar(n("8Y7J")),c=function(){function e(){_classCallCheck2(this,e),this.AUTH_HEADER="Authorization",this.token="secrettoken",this.refreshTokenInProgress=!1,this.refreshTokenSubject=new i.BehaviorSubject(null)}return _createClass2(e,[{key:"intercept",value:function(e,t){var n=this;return e.headers.has("Content-Type")||(e=e.clone({headers:e.headers.set("Content-Type","application/json")})),e=this.addAuthenticationToken(e),t.handle(e).pipe(o.catchError((function(r){return r&&401===r.status?n.refreshTokenInProgress?n.refreshTokenSubject.pipe(o.filter((function(e){return null!==e})),o.take(1),o.switchMap((function(){return t.handle(n.addAuthenticationToken(e))}))):(n.refreshTokenInProgress=!0,n.refreshTokenSubject.next(null),n.refreshAccessToken().pipe(o.switchMap((function(r){return n.refreshTokenSubject.next(r),t.handle(n.addAuthenticationToken(e))})),o.finalize((function(){return n.refreshTokenInProgress=!1})))):i.throwError(r)})))}},{key:"refreshAccessToken",value:function(){return i.of("secret token")}},{key:"addAuthenticationToken",value:function(e){return this.token&&e.url.match("/".concat(a.environment.domain,"//"))?e.clone({headers:e.headers.set(this.AUTH_HEADER,"Bearer "+this.token)}):e}}]),e}();t.AuthInterceptor=c,c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=s.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac})},iELJ:function(e,t,n){"use strict";n.r(t),n.d(t,"MAT_DIALOG_DATA",(function(){return E})),n.d(t,"MAT_DIALOG_DEFAULT_OPTIONS",(function(){return I})),n.d(t,"MAT_DIALOG_SCROLL_STRATEGY",(function(){return O})),n.d(t,"MAT_DIALOG_SCROLL_STRATEGY_FACTORY",(function(){return P})),n.d(t,"MAT_DIALOG_SCROLL_STRATEGY_PROVIDER",(function(){return T})),n.d(t,"MAT_DIALOG_SCROLL_STRATEGY_PROVIDER_FACTORY",(function(){return x})),n.d(t,"MatDialog",(function(){return A})),n.d(t,"MatDialogActions",(function(){return N})),n.d(t,"MatDialogClose",(function(){return R})),n.d(t,"MatDialogConfig",(function(){return _})),n.d(t,"MatDialogContainer",(function(){return k})),n.d(t,"MatDialogContent",(function(){return M})),n.d(t,"MatDialogModule",(function(){return L})),n.d(t,"MatDialogRef",(function(){return S})),n.d(t,"MatDialogTitle",(function(){return j})),n.d(t,"matDialogAnimations",(function(){return b})),n.d(t,"throwMatDialogContentAlreadyAttachedError",(function(){return C}));var r=n("1O3W"),i=n("1z/I"),o=n("8Y7J"),a=n("UhP/"),s=n("9gLZ"),c=n("SVse"),u=n("XNiG"),l=n("NXyV"),h=n("LRne"),f=n("pLZG"),d=n("IzEk"),p=n("JX91"),v=n("GS7A"),m=n("Ht+U"),g=n("YEUz");function y(e,t){}var _=function e(){_classCallCheck2(this,e),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},b={dialogContainer:Object(v.n)("dialogContainer",[Object(v.k)("void, exit",Object(v.l)({opacity:0,transform:"scale(0.7)"})),Object(v.k)("enter",Object(v.l)({transform:"none"})),Object(v.m)("* => enter",Object(v.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(v.l)({transform:"none",opacity:1}))),Object(v.m)("* => void, * => exit",Object(v.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(v.l)({opacity:0})))])};function C(){throw Error("Attempting to attach dialog content after content is already attached")}var k=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,s){var c;return _classCallCheck2(this,n),(c=t.call(this))._elementRef=e,c._focusTrapFactory=r,c._changeDetectorRef=i,c._config=s,c._elementFocusedBeforeDialogWasOpened=null,c._state="enter",c._animationStateChanged=new o.EventEmitter,c.attachDomPortal=function(e){return c._portalOutlet.hasAttached()&&C(),c._savePreviouslyFocusedElement(),c._portalOutlet.attachDomPortal(e)},c._ariaLabelledBy=s.ariaLabelledBy||null,c._document=a,c}return _createClass2(n,[{key:"attachComponentPortal",value:function(e){return this._portalOutlet.hasAttached()&&C(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}},{key:"attachTemplatePortal",value:function(e){return this._portalOutlet.hasAttached()&&C(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}},{key:"_trapFocus",value:function(){var e=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{var t=this._document.activeElement;t===e||e.contains(t)||e.focus()}}},{key:"_restoreFocus",value:function(){var e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){var t=this._document.activeElement,n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||e.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_savePreviouslyFocusedElement",value:function(){var e=this;this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return e._elementRef.nativeElement.focus()})))}},{key:"_onAnimationDone",value:function(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}},{key:"_onAnimationStart",value:function(e){this._animationStateChanged.emit(e)}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(i.a);return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](g.f),o["\u0275\u0275directiveInject"](o.ChangeDetectorRef),o["\u0275\u0275directiveInject"](c.DOCUMENT,8),o["\u0275\u0275directiveInject"](_))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-dialog-container"]],viewQuery:function(e,t){var n;1&e&&o["\u0275\u0275staticViewQuery"](i.b,!0),2&e&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&o["\u0275\u0275componentHostSyntheticListener"]("@dialogContainer.start",(function(e){return t._onAnimationStart(e)}))("@dialogContainer.done",(function(e){return t._onAnimationDone(e)})),2&e&&(o["\u0275\u0275attribute"]("id",t._id)("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),o["\u0275\u0275updateSyntheticHostBinding"]("@dialogContainer",t._state))},features:[o["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&o["\u0275\u0275template"](0,y,0,0,"ng-template",0)},directives:[i.b],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[b.dialogContainer]}}),e}(),w=0,S=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-".concat(w++);_classCallCheck2(this,e),this._overlayRef=t,this._containerInstance=n,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new u.a,this._afterClosed=new u.a,this._beforeClosed=new u.a,this._state=0,n._id=i,n._animationStateChanged.pipe(Object(f.a)((function(e){return"done"===e.phaseName&&"enter"===e.toState})),Object(d.a)(1)).subscribe((function(){r._afterOpened.next(),r._afterOpened.complete()})),n._animationStateChanged.pipe(Object(f.a)((function(e){return"done"===e.phaseName&&"exit"===e.toState})),Object(d.a)(1)).subscribe((function(){clearTimeout(r._closeFallbackTimeout),r._overlayRef.dispose()})),t.detachments().subscribe((function(){r._beforeClosed.next(r._result),r._beforeClosed.complete(),r._afterClosed.next(r._result),r._afterClosed.complete(),r.componentInstance=null,r._overlayRef.dispose()})),t.keydownEvents().pipe(Object(f.a)((function(e){return e.keyCode===m.e&&!r.disableClose&&!Object(m.q)(e)}))).subscribe((function(e){e.preventDefault(),r.close()}))}return _createClass2(e,[{key:"close",value:function(e){var t=this;this._result=e,this._containerInstance._animationStateChanged.pipe(Object(f.a)((function(e){return"start"===e.phaseName})),Object(d.a)(1)).subscribe((function(n){t._beforeClosed.next(e),t._beforeClosed.complete(),t._state=2,t._overlayRef.detachBackdrop(),t._closeFallbackTimeout=setTimeout((function(){t._overlayRef.dispose()}),n.totalTime+100)})),this._containerInstance._startExitAnimation(),this._state=1}},{key:"afterOpened",value:function(){return this._afterOpened.asObservable()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"beforeClosed",value:function(){return this._beforeClosed.asObservable()}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(e){var t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(e){return this._overlayRef.addPanelClass(e),this}},{key:"removePanelClass",value:function(e){return this._overlayRef.removePanelClass(e),this}},{key:"getState",value:function(){return this._state}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),e}(),E=new o.InjectionToken("MatDialogData"),I=new o.InjectionToken("mat-dialog-default-options"),O=new o.InjectionToken("mat-dialog-scroll-strategy");function P(e){return function(){return e.scrollStrategies.block()}}function x(e){return function(){return e.scrollStrategies.block()}}var T={provide:O,deps:[r.c],useFactory:x},A=function(){var e=function(){function e(t,n,r,i,o,a,s){var c=this;_classCallCheck2(this,e),this._overlay=t,this._injector=n,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new u.a,this._afterOpenedAtThisLevel=new u.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(l.a)((function(){return c.openDialogs.length?c._afterAllClosed:c._afterAllClosed.pipe(Object(p.a)(void 0))})),this._scrollStrategy=o}return _createClass2(e,[{key:"open",value:function(e,t){var n=this;if((t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new _)).id&&this.getDialogById(t.id))throw Error('Dialog with id "'.concat(t.id,'" exists already. The dialog id must be unique.'));var r=this._createOverlay(t),i=this._attachDialogContainer(r,t),o=this._attachDialogContent(e,i,r,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe((function(){return n._removeOpenDialog(o)})),this.afterOpened.next(o),o}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(e){return this.openDialogs.find((function(t){return t.id===e}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(e){var t=this._getOverlayConfig(e);return this._overlay.create(t)}},{key:"_getOverlayConfig",value:function(e){var t=new r.d({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}},{key:"_attachDialogContainer",value:function(e,t){var n=o.Injector.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:_,useValue:t}]}),r=new i.c(k,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(r).instance}},{key:"_attachDialogContent",value:function(e,t,n,r){var a=new S(n,t,r.id);if(r.hasBackdrop&&n.backdropClick().subscribe((function(){a.disableClose||a.close()})),e instanceof o.TemplateRef)t.attachTemplatePortal(new i.f(e,null,{$implicit:r.data,dialogRef:a}));else{var s=this._createInjector(r,a,t),c=t.attachComponentPortal(new i.c(e,r.viewContainerRef,s));a.componentInstance=c.instance}return a.updateSize(r.width,r.height).updatePosition(r.position),a}},{key:"_createInjector",value:function(e,t,n){var r=e&&e.viewContainerRef&&e.viewContainerRef.injector,i=[{provide:k,useValue:n},{provide:E,useValue:e.data},{provide:S,useValue:t}];return!e.direction||r&&r.get(s.Directionality,null)||i.push({provide:s.Directionality,useValue:{value:e.direction,change:Object(h.a)()}}),o.Injector.create({parent:r||this._injector,providers:i})}},{key:"_removeOpenDialog",value:function(e){var t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var e=this._overlayContainer.getContainerElement();if(e.parentElement)for(var t=e.parentElement.children,n=t.length-1;n>-1;n--){var r=t[n];r===e||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(e){for(var t=e.length;t--;)e[t].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_afterAllClosed",get:function(){var e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](r.c),o["\u0275\u0275inject"](o.Injector),o["\u0275\u0275inject"](c.Location,8),o["\u0275\u0275inject"](I,8),o["\u0275\u0275inject"](O),o["\u0275\u0275inject"](e,12),o["\u0275\u0275inject"](r.e))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),D=0,R=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this.dialogRef=t,this._elementRef=n,this._dialog=r,this.type="button"}return _createClass2(e,[{key:"ngOnInit",value:function(){this.dialogRef||(this.dialogRef=F(this._elementRef,this._dialog.openDialogs))}},{key:"ngOnChanges",value:function(e){var t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](S,8),o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](A))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,t){1&e&&o["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close(t.dialogResult)})),2&e&&o["\u0275\u0275attribute"]("aria-label",t.ariaLabel||null)("type",t.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o["\u0275\u0275NgOnChangesFeature"]]}),e}(),j=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._dialogRef=t,this._elementRef=n,this._dialog=r,this.id="mat-dialog-title-".concat(D++)}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this._dialogRef||(this._dialogRef=F(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((function(){var t=e._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=e.id)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](S,8),o["\u0275\u0275directiveInject"](o.ElementRef),o["\u0275\u0275directiveInject"](A))},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,t){2&e&&o["\u0275\u0275hostProperty"]("id",t.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),e}(),M=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),e}(),N=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),e}();function F(e,t){for(var n=e.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find((function(e){return e.id===n.id})):null}var L=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[A,T],imports:[[r.f,i.e,a.f],a.f]}),e}()},iInd:function(e,t,n){"use strict";n.r(t),n.d(t,"ActivatedRoute",(function(){return Ve})),n.d(t,"ActivatedRouteSnapshot",(function(){return Be})),n.d(t,"ActivationEnd",(function(){return W})),n.d(t,"ActivationStart",(function(){return q})),n.d(t,"ChildActivationEnd",(function(){return z})),n.d(t,"ChildActivationStart",(function(){return H})),n.d(t,"ChildrenOutletContexts",(function(){return en})),n.d(t,"DefaultUrlSerializer",(function(){return ye})),n.d(t,"GuardsCheckEnd",(function(){return L})),n.d(t,"GuardsCheckStart",(function(){return F})),n.d(t,"NavigationCancel",(function(){return j})),n.d(t,"NavigationEnd",(function(){return R})),n.d(t,"NavigationError",(function(){return M})),n.d(t,"NavigationStart",(function(){return D})),n.d(t,"NoPreloading",(function(){return an})),n.d(t,"OutletContext",(function(){return $t})),n.d(t,"PRIMARY_OUTLET",(function(){return Q})),n.d(t,"PreloadAllModules",(function(){return on})),n.d(t,"PreloadingStrategy",(function(){return rn})),n.d(t,"ROUTER_CONFIGURATION",(function(){return un})),n.d(t,"ROUTER_INITIALIZER",(function(){return wn})),n.d(t,"ROUTES",(function(){return Bt})),n.d(t,"ResolveEnd",(function(){return U})),n.d(t,"ResolveStart",(function(){return V})),n.d(t,"RouteConfigLoadEnd",(function(){return G})),n.d(t,"RouteConfigLoadStart",(function(){return B})),n.d(t,"RouteReuseStrategy",(function(){return Vt})),n.d(t,"Router",(function(){return Kt})),n.d(t,"RouterEvent",(function(){return A})),n.d(t,"RouterLink",(function(){return Qt})),n.d(t,"RouterLinkActive",(function(){return Zt})),n.d(t,"RouterLinkWithHref",(function(){return Xt})),n.d(t,"RouterModule",(function(){return dn})),n.d(t,"RouterOutlet",(function(){return tn})),n.d(t,"RouterPreloader",(function(){return sn})),n.d(t,"RouterState",(function(){return Fe})),n.d(t,"RouterStateSnapshot",(function(){return Ge})),n.d(t,"RoutesRecognized",(function(){return N})),n.d(t,"Scroll",(function(){return Y})),n.d(t,"UrlHandlingStrategy",(function(){return Ht})),n.d(t,"UrlSegment",(function(){return pe})),n.d(t,"UrlSegmentGroup",(function(){return de})),n.d(t,"UrlSerializer",(function(){return ge})),n.d(t,"UrlTree",(function(){return fe})),n.d(t,"VERSION",(function(){return En})),n.d(t,"convertToParamMap",(function(){return J})),n.d(t,"provideRoutes",(function(){return gn})),n.d(t,"\u0275EmptyOutletComponent",(function(){return K})),n.d(t,"\u0275ROUTER_PROVIDERS",(function(){return hn})),n.d(t,"\u0275angular_packages_router_router_a",(function(){return ln})),n.d(t,"\u0275angular_packages_router_router_b",(function(){return fn})),n.d(t,"\u0275angular_packages_router_router_c",(function(){return pn})),n.d(t,"\u0275angular_packages_router_router_d",(function(){return vn})),n.d(t,"\u0275angular_packages_router_router_e",(function(){return mn})),n.d(t,"\u0275angular_packages_router_router_f",(function(){return yn})),n.d(t,"\u0275angular_packages_router_router_g",(function(){return _n})),n.d(t,"\u0275angular_packages_router_router_h",(function(){return bn})),n.d(t,"\u0275angular_packages_router_router_i",(function(){return Cn})),n.d(t,"\u0275angular_packages_router_router_j",(function(){return kn})),n.d(t,"\u0275angular_packages_router_router_k",(function(){return Sn})),n.d(t,"\u0275angular_packages_router_router_l",(function(){return K})),n.d(t,"\u0275angular_packages_router_router_m",(function(){return De})),n.d(t,"\u0275angular_packages_router_router_n",(function(){return Me})),n.d(t,"\u0275angular_packages_router_router_o",(function(){return cn})),n.d(t,"\u0275flatten",(function(){return se}));var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),a=n("Cfvw"),s=n("2Vo4"),c=n("HDdC"),u=n("sVev"),l=n("itXk"),h=n("NXyV"),f=n("XNiG"),d=n("EY2u"),p=n("lJxs"),v=n("0EUg"),m=n("NJ9Y"),g=n("JIr8"),y=n("SxV6"),_=n("5+tZ"),b=n("Gi4w"),C=n("eIep"),k=n("IzEk"),w=n("JX91"),S=n("Kqap"),E=n("pLZG"),I=n("bOdf"),O=n("128B"),P=n("vkgz"),x=n("nYR2"),T=n("bHdf"),A=function e(t,n){_classCallCheck2(this,e),this.id=t,this.url=n},D=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck2(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass2(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(A),R=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass2(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(A),j=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass2(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(A),M=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass2(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(A),N=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass2(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(A),F=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass2(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(A),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass2(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(A),V=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass2(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(A),U=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass2(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(A),B=function(){function e(t){_classCallCheck2(this,e),this.route=t}return _createClass2(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),G=function(){function e(t){_classCallCheck2(this,e),this.route=t}return _createClass2(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),H=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),z=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),q=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),W=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Y=function(){function e(t,n,r){_classCallCheck2(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass2(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),K=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"router-outlet")},directives:function(){return[tn]},encapsulation:2}),e}(),Q="primary",X=function(){function e(t){_classCallCheck2(this,e),this.params=t||{}}return _createClass2(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function J(e){return new X(e)}function Z(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function $(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var ee=function e(t,n){_classCallCheck2(this,e),this.routes=t,this.module=n};function te(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];ne(r,re(t,r))}}function ne(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Q)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&te(e.children,t)}function re(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function ie(e){var t=e.children&&e.children.map(ie),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=K),n}function oe(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!ae(e[n=r[o]],t[n]))return!1;return!0}function ae(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function se(e){return Array.prototype.concat.apply([],e)}function ce(e){return e.length>0?e[e.length-1]:null}function ue(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function le(e){return Object(i["\u0275isObservable"])(e)?e:Object(i["\u0275isPromise"])(e)?Object(a.a)(Promise.resolve(e)):Object(o.a)(e)}function he(e,t,n){return n?function(e,t){return oe(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!ve(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return ae(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!ve(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ve(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!ve(n.segments,a)&&!!n.children[Q]&&t(n.children[Q],r,s)}(t,n,n.segments)}(e.root,t.root)}var fe=function(){function e(t,n,r){_classCallCheck2(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass2(e,[{key:"toString",value:function(){return _e.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=J(this.queryParams)),this._queryParamMap}}]),e}(),de=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this.segments=t,this.children=n,this.parent=null,ue(n,(function(e,t){return e.parent=r}))}return _createClass2(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return be(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),pe=function(){function e(t,n){_classCallCheck2(this,e),this.path=t,this.parameters=n}return _createClass2(e,[{key:"toString",value:function(){return Ie(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=J(this.parameters)),this._parameterMap}}]),e}();function ve(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function me(e,t){var n=[];return ue(e.children,(function(e,r){r===Q&&(n=n.concat(t(e,r)))})),ue(e.children,(function(e,r){r!==Q&&(n=n.concat(t(e,r)))})),n}var ge=function e(){_classCallCheck2(this,e)},ye=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"parse",value:function(e){var t=new Ae(e);return new fe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return be(t);if(n){var r=t.children[Q]?e(t.children[Q],!1):"",i=[];return ue(t.children,(function(t,n){n!==Q&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=me(t,(function(n,r){return r===Q?[e(t.children[Q],!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(be(t),"/(").concat(o.join("//"),")")}(e.root,!0)),(n=e.queryParams,r=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(ke(e),"=").concat(ke(t))})).join("&"):"".concat(ke(e),"=").concat(ke(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),_e=new ye;function be(e){return e.segments.map((function(e){return Ie(e)})).join("/")}function Ce(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ke(e){return Ce(e).replace(/%3B/gi,";")}function we(e){return Ce(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Se(e){return decodeURIComponent(e)}function Ee(e){return Se(e.replace(/\+/g,"%20"))}function Ie(e){return"".concat(we(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(we(e),"=").concat(we(t[e]))})).join("")));var t}var Oe=/^[^\/()?;=#]+/;function Pe(e){var t=e.match(Oe);return t?t[0]:""}var xe=/^[^=?&#]+/,Te=/^[^?&#]+/,Ae=function(){function e(t){_classCallCheck2(this,e),this.url=t,this.remaining=t}return _createClass2(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Q]=new de(e,t)),n}},{key:"parseSegment",value:function(){var e=Pe(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new pe(Se(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Pe(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Pe(this.remaining);r&&(n=r,this.capture(n))}e[Se(t)]=Se(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(xe);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Te);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Ee(t),o=Ee(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Pe(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Q);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o[Q]:new de([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),De=function(){function e(t){_classCallCheck2(this,e),this._root=t}return _createClass2(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Re(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Re(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=je(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return je(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Re(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Re(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function je(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=je(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Me=function(){function e(t,n){_classCallCheck2(this,e),this.value=t,this.children=n}return _createClass2(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Ne(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).snapshot=r,He(_assertThisInitialized(i),e),i}return _createClass2(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(De);function Le(e,t){var n=function(e,t){var n=new Be([],{},{},"",{},Q,t,null,e.root,-1,{});return new Ge("",new Me(n,[]))}(e,t),r=new s.a([new pe("",{})]),i=new s.a({}),o=new s.a({}),a=new s.a({}),c=new s.a(""),u=new Ve(r,i,a,c,o,Q,t,n.root);return u.snapshot=n.root,new Fe(new Me(u,[]),n)}var Ve=function(){function e(t,n,r,i,o,a,s,c){_classCallCheck2(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=c}return _createClass2(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(p.a)((function(e){return J(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(p.a)((function(e){return J(e)})))),this._queryParamMap}}]),e}();function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Be=function(){function e(t,n,r,i,o,a,s,c,u,l,h){_classCallCheck2(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=l,this._resolve=h}return _createClass2(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=J(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=J(this.queryParams)),this._queryParamMap}}]),e}(),Ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,r)).url=e,He(_assertThisInitialized(i),r),i}return _createClass2(n,[{key:"toString",value:function(){return ze(this._root)}}]),n}(De);function He(e,t){t.value._routerState=e,t.children.forEach((function(t){return He(e,t)}))}function ze(e){var t=e.children.length>0?" { ".concat(e.children.map(ze).join(", ")," } "):"";return"".concat(e.value).concat(t)}function qe(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,oe(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),oe(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!oe(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),oe(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function We(e,t){var n,r;return oe(e.params,t.params)&&ve(n=e.url,r=t.url)&&n.every((function(e,t){return oe(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||We(e.parent,t.parent))}function Ye(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ke(e,t,n,r,i){var o={};return r&&ue(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new fe(n.root===e?t:function e(t,n,r){var i={};return ue(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new de(t.segments,i)}(n.root,e,t),o,i)}var Qe=function(){function e(t,n,r){if(_classCallCheck2(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ye(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==ce(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass2(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Xe=function e(t,n,r){_classCallCheck2(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Je(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Q]:"".concat(e)}function Ze(e,t,n){if(e||(e=new de([],{})),0===e.segments.length&&e.hasChildren())return $e(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=Je(n[r]),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!rt(s,c,a))return o;r+=2}else{if(!rt(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new de(e.segments.slice(0,r.pathIndex),{});return o.children[Q]=new de(e.segments.slice(r.pathIndex),e.children),$e(o,0,i)}return r.match&&0===i.length?new de(e.segments,{}):r.match&&!e.hasChildren()?et(e,t,n):r.match?$e(e,0,i):et(e,t,n)}function $e(e,t,n){if(0===n.length)return new de(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?_defineProperty({},Q,e):e[0].outlets}(n),i={};return ue(r,(function(n,r){null!==n&&(i[r]=Ze(e.children[r],t,n))})),ue(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new de(e.segments,i)}function et(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=tt(n[i].outlets);return new de(r,o)}if(0===i&&Ye(n[0]))r.push(new pe(e.segments[t].path,n[0])),i++;else{var a=Je(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Ye(s)?(r.push(new pe(a,nt(s))),i+=2):(r.push(new pe(a,{})),i++)}}return new de(r,{})}function tt(e){var t={};return ue(e,(function(e,n){null!==e&&(t[n]=et(new de([],{}),0,e))})),t}function nt(e){var t={};return ue(e,(function(e,n){return t[n]="".concat(e)})),t}function rt(e,t,n){return e==n.path&&oe(t,n.parameters)}var it=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass2(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),qe(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Ne(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),ue(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=Ne(e),o=e.value.component?r.children:t;ue(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Ne(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new W(e.value.snapshot))})),e.children.length&&this.forwardEvent(new z(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(qe(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ot(s.route)}else{var c=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=u,a.outlet&&a.outlet.activateWith(r,u),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function ot(e){qe(e.value),e.children.forEach(ot)}function at(e){return"function"==typeof e}function st(e){return e instanceof fe}var ct=function e(t){_classCallCheck2(this,e),this.segmentGroup=t||null},ut=function e(t){_classCallCheck2(this,e),this.urlTree=t};function lt(e){return new c.a((function(t){return t.error(new ct(e))}))}function ht(e){return new c.a((function(t){return t.error(new ut(e))}))}function ft(e){return new c.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var dt=function(){function e(t,n,r,o,a){_classCallCheck2(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(i.NgModuleRef)}return _createClass2(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Q).pipe(Object(p.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Object(g.a)((function(t){if(t instanceof ut)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof ct)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Q).pipe(Object(p.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Object(g.a)((function(e){if(e instanceof ct)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new de([],_defineProperty({},Q,e)):e;return new fe(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(p.a)((function(e){return new de([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(o.a)({});var a=[],s=[],c={};return ue(n,(function(n,i){var o,u,l=(o=i,u=n,r.expandSegmentGroup(e,t,u,o)).pipe(Object(p.a)((function(e){return c[i]=e})));i===Q?a.push(l):s.push(l)})),o.a.apply(null,a.concat(s)).pipe(Object(v.a)(),Object(m.a)(),Object(p.a)((function(){return c})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,a){var s=this;return Object(o.a).apply(void 0,_toConsumableArray2(n)).pipe(Object(p.a)((function(c){return s.expandSegmentAgainstRoute(e,t,n,c,r,i,a).pipe(Object(g.a)((function(e){if(e instanceof ct)return Object(o.a)(null);throw e})))})),Object(v.a)(),Object(y.a)((function(e){return!!e})),Object(g.a)((function(e,n){if(e instanceof u.a||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,r,i))return Object(o.a)(new de([],{}));throw new ct(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return gt(r)!==o?lt(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):lt(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ht(o):this.lineralizeSegments(n,o).pipe(Object(_.a)((function(n){var o=new de(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=pt(t,r,i),c=s.matched,u=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!c)return lt(t);var f=this.applyRedirectCommands(u,r.redirectTo,h);return r.redirectTo.startsWith("/")?ht(f):this.lineralizeSegments(r,f).pipe(Object(_.a)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(p.a)((function(e){return n._loadedConfig=e,new de(r,{})}))):Object(o.a)(new de(r,{}));var a=pt(t,n,r),s=a.matched,c=a.consumedSegments,u=a.lastChild;if(!s)return lt(t);var l=r.slice(u);return this.getChildConfig(e,n,r).pipe(Object(_.a)((function(e){var n=e.module,r=e.routes,a=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return mt(e,t,n)&&gt(n)!==Q}))}(e,n,r)?{segmentGroup:vt(new de(t,function(e,t){var n={};n[Q]=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&gt(o)!==Q&&(n[gt(o)]=new de([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new de(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return mt(e,t,n)}))}(e,n,r)?{segmentGroup:vt(new de(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;mt(e,t,s)&&!r[gt(s)]&&(o[gt(s)]=new de([],{}))}}catch(c){a.e(c)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,c,l,r),s=a.segmentGroup,u=a.slicedSegments;return 0===u.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(Object(p.a)((function(e){return new de(c,e)}))):0===r.length&&0===u.length?Object(o.a)(new de(c,{})):i.expandSegment(n,s,r,u,Q,!0).pipe(Object(p.a)((function(e){return new de(c.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(o.a)(new ee(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(o.a)(t._loadedConfig):function(e,t,n){var r=t.canLoad;return r&&0!==r.length?Object(a.a)(r).pipe(Object(p.a)((function(r){var i,o=e.get(r);if(function(e){return e&&at(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!at(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return le(i)}))).pipe(Object(v.a)(),Object(b.a)((function(e){return!0===e}))):Object(o.a)(!0)}(e.injector,t,n).pipe(Object(_.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(p.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new c.a((function(t){return t.error(Z("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(o.a)(new ee([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children[Q])return ft(e.redirectTo);r=r.children[Q]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new fe(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return ue(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return ue(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new de(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function pt(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||$)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function vt(e){if(1===e.numberOfChildren&&e.children[Q]){var t=e.children[Q];return new de(e.segments.concat(t.segments),t.children)}return e}function mt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function gt(e){return e.outlet||Q}var yt=function e(t){_classCallCheck2(this,e),this.path=t,this.route=this.path[this.path.length-1]},_t=function e(t,n){_classCallCheck2(this,e),this.component=t,this.route=n};function bt(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ct(e,t,n){var r=Ne(e),i=e.value;ue(r,(function(e,r){Ct(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new _t(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var kt=Symbol("INITIAL_VALUE");function wt(){return Object(C.a)((function(e){return Object(l.b).apply(void 0,_toConsumableArray2(e.map((function(e){return e.pipe(Object(k.a)(1),Object(w.a)(kt))})))).pipe(Object(S.a)((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==kt)return e;if(r===kt&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||st(r))return r}return e}),e)}),kt),Object(E.a)((function(e){return e!==kt})),Object(p.a)((function(e){return st(e)?e:!0===e})),Object(k.a)(1))}))}function St(e,t){return null!==e&&t&&t(new q(e)),Object(o.a)(!0)}function Et(e,t){return null!==e&&t&&t(new H(e)),Object(o.a)(!0)}function It(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);var i=r.map((function(r){return Object(h.a)((function(){var i,o=bt(r,t,n);if(function(e){return e&&at(e.canActivate)}(o))i=le(o.canActivate(t,e));else{if(!at(o))throw new Error("Invalid CanActivate guard");i=le(o(t,e))}return i.pipe(Object(y.a)())}))}));return Object(o.a)(i).pipe(wt())}function Ot(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Object(h.a)((function(){var i=t.guards.map((function(i){var o,a=bt(i,t.node,n);if(function(e){return e&&at(e.canActivateChild)}(a))o=le(a.canActivateChild(r,e));else{if(!at(a))throw new Error("Invalid CanActivateChild guard");o=le(a(r,e))}return o.pipe(Object(y.a)())}));return Object(o.a)(i).pipe(wt())}))}));return Object(o.a)(i).pipe(wt())}var Pt=function e(){_classCallCheck2(this,e)},xt=function(){function e(t,n,r,i,o,a){_classCallCheck2(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass2(e,[{key:"recognize",value:function(){try{var e=Dt(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Q),n=new Be([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Q,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Me(n,t),i=new Ge(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(a){return new c.a((function(e){return e.error(a)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Ue(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=me(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return e.value.outlet===Q?-1:t.value.outlet===Q?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(s){if(!(s instanceof Pt))throw s}}}catch(c){o.e(c)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new Pt}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Pt;if((e.outlet||Q)!==r)throw new Pt;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?ce(n).parameters:{};i=new Be(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mt(e),r,e.component,e,Tt(t),At(t)+n.length,Nt(e))}else{var c=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Pt;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||$)(n,e,t);if(!r)throw new Pt;var i={};ue(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=c.consumedSegments,a=n.slice(c.lastChild),i=new Be(o,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mt(e),r,e.component,e,Tt(t),At(t)+o.length,Nt(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=Dt(t,o,a,u,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(u,h);return[new Me(i,d)]}if(0===u.length&&0===f.length)return[new Me(i,[])];var p=this.processSegment(u,h,f,Q);return[new Me(i,p)]}}]),e}();function Tt(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function At(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Dt(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return Rt(e,t,n)&&jt(n)!==Q}))}(e,n,r)){var o=new de(t,function(e,t,n,r){var i={};i[Q]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&jt(s)!==Q){var c=new de([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,i[jt(s)]=c}}}catch(u){a.e(u)}finally{a.f()}return i}(e,t,r,new de(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Rt(e,t,n)}))}(e,n,r)){var a=new de(e.segments,function(e,t,n,r,i,o){var a,s={},c=_createForOfIteratorHelper(r);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(Rt(e,n,u)&&!i[jt(u)]){var l=new de([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[jt(u)]=l}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new de(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Rt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function jt(e){return e.outlet||Q}function Mt(e){return e.data||{}}function Nt(e){return e.resolve||{}}function Ft(e,t,n,r){var i=bt(e,t,r);return le(i.resolve?i.resolve(t,n):i(t,n))}function Lt(e){return function(t){return t.pipe(Object(C.a)((function(t){var n=e(t);return n?Object(a.a)(n).pipe(Object(p.a)((function(){return t}))):Object(a.a)([t])})))}}var Vt=function e(){_classCallCheck2(this,e)},Ut=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Bt=new i.InjectionToken("ROUTES"),Gt=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass2(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(p.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new ee(se(i.injector.get(Bt)).map(ie),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(a.a)(this.loader.load(e)):le(e()).pipe(Object(_.a)((function(e){return e instanceof i.NgModuleFactory?Object(o.a)(e):Object(a.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),Ht=function e(){_classCallCheck2(this,e)},zt=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function qt(e){throw e}function Wt(e,t,n){return t.parse("/")}function Yt(e,t){return Object(o.a)(null)}var Kt=function(){var e=function(){function e(t,n,r,o,a,c,u,l){var h=this;_classCallCheck2(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new f.a,this.errorHandler=qt,this.malformedUriErrorHandler=Wt,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yt,afterPreactivation:Yt},this.urlHandlingStrategy=new zt,this.routeReuseStrategy=new Ut,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(i.NgModuleRef),this.console=a.get(i["\u0275Console"]);var d=a.get(i.NgZone);this.isNgZoneEnabled=d instanceof i.NgZone,this.resetConfig(l),this.currentUrlTree=new fe(new de([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gt(c,u,(function(e){return h.triggerEvent(new B(e))}),(function(e){return h.triggerEvent(new G(e))})),this.routerState=Le(this.currentUrlTree,this.rootComponentType),this.transitions=new s.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass2(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Object(E.a)((function(e){return 0!==e.id})),Object(p.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Object(C.a)((function(e){var r,i,c,u=!1,l=!1;return Object(o.a)(e).pipe(Object(P.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(C.a)((function(e){var r,i,a,s,c=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||c)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(o.a)(e).pipe(Object(C.a)((function(e){var r=t.transitions.getValue();return n.next(new D(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?d.a:[e]})),Object(C.a)((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,a=t.urlSerializer,s=t.config,function(e){return e.pipe(Object(C.a)((function(e){return function(e,t,n,r,i){return new dt(e,t,n,r,i).apply()}(r,i,a,e.extractedUrl,s).pipe(Object(p.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(P.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(_.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new xt(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(p.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(P.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(P.a)((function(e){var r=new N(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(c&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,l=e.extractedUrl,h=e.source,f=e.restoredState,v=e.extras,m=new D(u,t.serializeUrl(l),h,f);n.next(m);var g=Le(l,t.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},e),{targetSnapshot:g,urlAfterRedirects:l,extras:Object.assign(Object.assign({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),d.a})),Lt((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})})),Object(P.a)((function(e){var n=new F(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(p.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Ne(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,c=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ve(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ve(e.url,t.url)||!oe(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!We(e,t)||!oe(e.queryParams,t.queryParams);case"paramsChange":default:return!We(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new yt(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?c?c.children:null:r,i,o),u&&o.canDeactivateChecks.push(new _t(c&&c.outlet&&c.outlet.component||null,s))}else s&&Ct(n,c,o),o.canActivateChecks.push(new yt(i)),e(t,null,a.component?c?c.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),ue(a,(function(e,t){return Ct(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(_.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,s=n.guards,c=s.canActivateChecks,u=s.canDeactivateChecks;return 0===u.length&&0===c.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(a.a)(e).pipe(Object(_.a)((function(e){return function(e,t,n,r,i){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.a)(!0);var s=a.map((function(o){var a,s=bt(o,t,i);if(function(e){return e&&at(e.canDeactivate)}(s))a=le(s.canDeactivate(e,t,n,r));else{if(!at(s))throw new Error("Invalid CanDeactivate guard");a=le(s(e,t,n,r))}return a.pipe(Object(y.a)())}));return Object(o.a)(s).pipe(wt())}(e.component,e.route,n,t,r)})),Object(y.a)((function(e){return!0!==e}),!0))}(u,r,i,e).pipe(Object(_.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(a.a)(t).pipe(Object(I.a)((function(t){return Object(a.a)([Et(t.route.parent,r),St(t.route,r),Ot(e,t.path,n),It(e,t.route,n)]).pipe(Object(v.a)(),Object(y.a)((function(e){return!0!==e}),!0))})),Object(y.a)((function(e){return!0!==e}),!0))}(r,c,e,t):Object(o.a)(n)})),Object(p.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(P.a)((function(e){if(st(e.guardsResult)){var n=Z('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(P.a)((function(e){var n=new L(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Object(E.a)((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new j(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),Lt((function(e){if(e.guards.canActivateChecks.length)return Object(o.a)(e).pipe(Object(P.a)((function(e){var n=new V(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(_.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(a.a)(i).pipe(Object(I.a)((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(o.a)({});if(1===i.length){var s=i[0];return Ft(e[s],t,n,r).pipe(Object(p.a)((function(e){return _defineProperty({},s,e)})))}var c={};return Object(a.a)(i).pipe(Object(_.a)((function(i){return Ft(e[i],t,n,r).pipe(Object(p.a)((function(e){return c[i]=e,e})))}))).pipe(Object(m.a)(),Object(p.a)((function(){return c})))}(e._resolve,e,t,r).pipe(Object(p.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Ue(e,n).resolve),null})))}(e.route,t,n,r)})),Object(O.a)((function(e,t){return e})),Object(p.a)((function(t){return e}))):Object(o.a)(e)})))}),Object(P.a)((function(e){var n=new U(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),Lt((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})})),Object(p.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new Me(i,o)}var a=t.retrieve(n.value);if(a){var c=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,c),c}var u,l=new Ve(new s.a((u=n.value).url),new s.a(u.params),new s.a(u.queryParams),new s.a(u.fragment),new s.a(u.data),u.outlet,u.component,u),h=n.children.map((function(n){return e(t,n)}));return new Me(l,h)}(e,t._root,n?n._root:void 0);return new Fe(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Object(P.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(r=t.rootContexts,i=t.routeReuseStrategy,c=function(e){return t.triggerEvent(e)},Object(p.a)((function(e){return new it(i,e.targetRouterState,e.currentRouterState,c).activate(r),e}))),Object(P.a)({next:function(){u=!0},complete:function(){u=!0}}),Object(x.a)((function(){if(!u&&!l){t.resetUrlToCurrentUrlTree();var r=new j(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null})),Object(g.a)((function(r){if(l=!0,(s=r)&&s.ngNavigationCancelingError){var i=st(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new j(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new M(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var s;return d.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){te(e),this.config=e.map(ie),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,o=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,c=t.preserveFragment;Object(i.isDevMode)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=a?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return Ke(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Qe(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return ue(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray2(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray2(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray2(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray2(e),[r])}),[]);return new Qe(n,t,r)}(n);if(o.toRoot())return Ke(t.root,new de([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new Xe(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Xe(n.snapshot._urlSegment,!0,0);var r=Ye(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Xe(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?$e(a.segmentGroup,a.index,o.commands):Ze(a.segmentGroup,a.index,o.commands);return Ke(a.segmentGroup,s,t,r,i)}(u,this.currentUrlTree,e,h,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(i.isDevMode)()&&this.isNgZoneEnabled&&!i.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=st(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(st(e))return he(this.currentUrlTree,e,t);var n=this.parseUrl(e);return he(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new R(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,c=this.getTransition();if(c&&"imperative"!==t&&"imperative"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(c&&"hashchange"==t&&"popstate"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(c&&"popstate"==t&&"hashchange"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}();return e.\u0275fac=function(e){i["\u0275\u0275invalidFactory"]()},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e}(),Qt=function(){var e=function(){function e(t,n,r,i,o){_classCallCheck2(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass2(e,[{key:"onClick",value:function(){var e={skipLocationChange:Jt(this.skipLocationChange),replaceUrl:Jt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jt(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Kt),i["\u0275\u0275directiveInject"](Ve),i["\u0275\u0275injectAttribute"]("tabindex"),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),e}(),Xt=function(){var e=function(){function e(t,n,r){var i=this;_classCallCheck2(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof R&&i.updateTargetUrlAndHref()}))}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Jt(this.skipLocationChange),replaceUrl:Jt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(i.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jt(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Kt),i["\u0275\u0275directiveInject"](Ve),i["\u0275\u0275directiveInject"](r.LocationStrategy))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(i["\u0275\u0275hostProperty"]("href",t.href,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275attribute"]("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),e}();function Jt(e){return""===e||!!e}var Zt=function(){var e=function(){function e(t,n,r,i,o){var a=this;_classCallCheck2(this,e),this.router=t,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof R&&a.update()}))}return _createClass2(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Kt),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](Qt,8),i["\u0275\u0275directiveInject"](Xt,8))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(i["\u0275\u0275contentQuery"](n,Qt,!0),i["\u0275\u0275contentQuery"](n,Xt,!0)),2&e&&(i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t.links=r),i["\u0275\u0275queryRefresh"](r=i["\u0275\u0275loadQuery"]())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i["\u0275\u0275NgOnChangesFeature"]]}),e}(),$t=function e(){_classCallCheck2(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new en,this.attachRef=null},en=function(){function e(){_classCallCheck2(this,e),this.contexts=new Map}return _createClass2(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new $t,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),tn=function(){var e=function(){function e(t,n,r,o,a){_classCallCheck2(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=o||Q,t.onChildOutletCreated(this.name,this)}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new nn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](en),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver),i["\u0275\u0275injectAttribute"]("name"),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),nn=function(){function e(t,n,r){_classCallCheck2(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass2(e,[{key:"get",value:function(e,t){return e===Ve?this.route:e===en?this.childContexts:this.parent.get(e,t)}}]),e}(),rn=function e(){_classCallCheck2(this,e)},on=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"preload",value:function(e,t){return t().pipe(Object(g.a)((function(){return Object(o.a)(null)})))}}]),e}(),an=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"preload",value:function(e,t){return Object(o.a)(null)}}]),e}(),sn=function(){var e=function(){function e(t,n,r,i,o){_classCallCheck2(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Gt(n,r,(function(e){return t.triggerEvent(new B(e))}),(function(e){return t.triggerEvent(new G(e))}))}return _createClass2(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Object(E.a)((function(e){return e instanceof R})),Object(I.a)((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(i.NgModuleRef);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(c){i.e(c)}finally{i.f()}return Object(a.a)(r).pipe(Object(T.a)(),Object(p.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(_.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Kt),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](rn))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),cn=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck2(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass2(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof D?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof R&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Y&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Y(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(e){i["\u0275\u0275invalidFactory"]()},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e}(),un=new i.InjectionToken("ROUTER_CONFIGURATION"),ln=new i.InjectionToken("ROUTER_FORROOT_GUARD"),hn=[r.Location,{provide:ge,useClass:ye},{provide:Kt,useFactory:yn,deps:[ge,en,r.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,Bt,un,[Ht,new i.Optional],[Vt,new i.Optional]]},en,{provide:Ve,useFactory:_n,deps:[Kt]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},sn,an,on,{provide:un,useValue:{enableTracing:!1}}];function fn(){return new i.NgProbeToken("Router",Kt)}var dn=function(){var e=function(){function e(t,n){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[hn,gn(t),{provide:ln,useFactory:mn,deps:[[Kt,new i.Optional,new i.SkipSelf]]},{provide:un,useValue:n||{}},{provide:r.LocationStrategy,useFactory:vn,deps:[r.PlatformLocation,[new i.Inject(r.APP_BASE_HREF),new i.Optional],un]},{provide:cn,useFactory:pn,deps:[Kt,r.ViewportScroller,un]},{provide:rn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:an},{provide:i.NgProbeToken,multi:!0,useFactory:fn},Sn()]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[gn(t)]}}}]),e}();return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(i["\u0275\u0275inject"](ln,8),i["\u0275\u0275inject"](Kt,8))}}),e}();function pn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new cn(e,t,n)}function vn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new r.HashLocationStrategy(e,t):new r.PathLocationStrategy(e,t)}function mn(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gn(e){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:Bt,multi:!0,useValue:e}]}function yn(e,t,n,i,o,a,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new Kt(null,e,t,n,i,o,a,se(s));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){var f=Object(r["\u0275getDOM"])();h.events.subscribe((function(e){f.logGroup("Router Event: ".concat(e.constructor.name)),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h}function _n(e){return e.routerState.root}var bn=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new f.a}return _createClass2(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(r.LOCATION_INITIALIZED,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(Kt),i=e.injector.get(un);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(o.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(un),n=this.injector.get(sn),r=this.injector.get(cn),o=this.injector.get(Kt),a=this.injector.get(i.ApplicationRef);e===a.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.Injector))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function Cn(e){return e.appInitializer.bind(e)}function kn(e){return e.bootstrapListener.bind(e)}var wn=new i.InjectionToken("Router Initializer");function Sn(){return[bn,{provide:i.APP_INITIALIZER,multi:!0,useFactory:Cn,deps:[bn]},{provide:wn,useFactory:kn,deps:[bn]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:wn}]}var En=new i.Version("9.0.7")},itXk:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("z+Ro"),i=n("DH7j"),o=n("l7GE"),a=n("ZUHj"),s=n("yCtX"),c={};function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=null,a=null;return Object(r.a)(t[t.length-1])&&(a=t.pop()),"function"==typeof t[t.length-1]&&(o=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(s.a)(t,a).lift(new l(o))}var l=function(){function e(t){_classCallCheck2(this,e),this.resultSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.resultSelector))}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass2(n,[{key:"_next",value:function(e){this.values.push(c),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(a.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===c?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(o.a)},jEPN:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CardLocation=((r=t.CardLocation||{})[r.Deck=0]="Deck",r[r.Table=1]="Table",r[r.Hand=2]="Hand",r[r.Trash=3]="Trash",r[r.Border=4]="Border",r[r.Info=5]="Info",r)},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},jmUF:function(e,t,n){"use strict";n.r(t),n.d(t,"AngularFireModule",(function(){return S})),n.d(t,"FIREBASE_APP_NAME",(function(){return _})),n.d(t,"FIREBASE_OPTIONS",(function(){return y})),n.d(t,"FirebaseApp",(function(){return b})),n.d(t,"VERSION",(function(){return C})),n.d(t,"\u0275AngularFireSchedulers",(function(){return p})),n.d(t,"\u0275BlockUntilFirstOperator",(function(){return d})),n.d(t,"\u0275ZoneScheduler",(function(){return f})),n.d(t,"\u0275firebaseAppFactory",(function(){return k})),n.d(t,"\u0275keepUnstableUntilFirstFactory",(function(){return v})),n.d(t,"\u0275lazySDKProxy",(function(){return g}));var r=n("SVse"),i=n("qgXg"),o=n("D0XW"),a=n("vkgz"),s=n("tf+s"),c=n("pxpQ"),u=n("8Y7J"),l=n("Wcq6");function h(){}var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;_classCallCheck2(this,e),this.zone=t,this.delegate=n}return _createClass2(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),d=function(){function e(t){_classCallCheck2(this,e),this.zone=t,this.task=null}return _createClass2(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",h,{},h,h)})),t.pipe(Object(a.a)(n,n,n)).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),e}(),p=function e(t){_classCallCheck2(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new f(Zone.current)})),this.insideAngular=t.run((function(){return new f(Zone.current,o.a)}))};function v(e,t){return function(n){return Object(r.isPlatformServer)(t)&&(n=n.lift(new d(e.ngZone))),n.pipe(Object(s.a)(e.outsideAngular),Object(c.b)(e.insideAngular))}}var m=["ngOnDestroy"],g=function(e,t,n){return new Proxy(e,{get:function(r,i){return n.runOutsideAngular((function(){if(e[i])return e[i];if(m.includes(i))return function(){};var r=t.toPromise().then((function(e){var t=e&&e[i];return"function"==typeof t?t.bind(e):t&&t.then?t.then((function(e){return n.run((function(){return e}))})):n.run((function(){return t}))}));return new Proxy((function(){}),{get:function(e,t){return r[t]},apply:function(e,t,n){return r.then((function(e){return e&&e.apply(void 0,_toConsumableArray2(n))}))}})}))}})},y=new u.InjectionToken("angularfire2.app.options"),_=new u.InjectionToken("angularfire2.app.nameOrConfig"),b=function e(){_classCallCheck2(this,e)},C=new u.Version("6.0.0-rc.1");function k(e,t,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",l.apps.filter((function(e){return e&&e.name===r.name}))[0]||t.runOutsideAngular((function(){return Object(l.initializeApp)(e,r)}))}var w={provide:b,useFactory:k,deps:[y,u.NgZone,[new u.Optional,_]]},S=function(){var e=function(){function e(t){_classCallCheck2(this,e),Object(l.registerVersion)("angularfire",C.full,t.toString()),Object(l.registerVersion)("angular",u.VERSION.full)}return _createClass2(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:y,useValue:t},{provide:_,useValue:n}]}}}]),e}();return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(u["\u0275\u0275inject"](u.PLATFORM_ID))},providers:[w]}),e}()},jrk1:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GameActionGroup=((r=t.GameActionGroup||{})[r.Take=0]="Take",r[r.Play=1]="Play",r[r.Drop=2]="Drop",r[r.Give=3]="Give",r[r.Pick=4]="Pick",r)},jtHE:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),a=n("pxpQ"),s=n("9ppp"),c=n("Ylt2"),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck2(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass2(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new l(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,u=r.length;if(this.closed)throw new s.a;if(this.isStopped||this.hasError?t=o.a.EMPTY:(this.observers.push(e),t=new c.a(this,e)),i&&e.add(e=new a.a(e,i)),n)for(var l=0;l<u&&!e.closed;l++)e.next(r[l]);else for(var h=0;h<u&&!e.closed;h++)e.next(r[h].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||i.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(r.a),l=function e(t,n){_classCallCheck2(this,e),this.time=t,this.value=n}},k5Gf:function(e,t,n){"use strict";n.r(t),n.d(t,"TranslateHttpLoader",(function(){return r}));var r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets/i18n/",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".json";_classCallCheck2(this,e),this.http=t,this.prefix=n,this.suffix=r}return _createClass2(e,[{key:"getTranslation",value:function(e){return this.http.get("".concat(this.prefix).concat(e).concat(this.suffix))}}]),e}()},kBxi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("Hs/S"),o=n("z4p9"),a=n("I9Nm"),s=n("ngNE"),c=n("fE0i"),u=n("MBfS"),l=n("RWxf"),h=n("G+XK"),f=r.__importStar(n("8Y7J")),d=r.__importStar(n("2kLq")),p=function(){function e(t){_classCallCheck2(this,e),this.firebaseService=t}return _createClass2(e,[{key:"initDeck",value:function(e,t){var n,r,l=this,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(h.isNil(e))throw new Error("Game missing");var d=[];switch(e){case i.Game.Nechto:default:var p=Object.entries(a.NechtoCardSubType),v=Object.entries(o.NechtoCardAction),m={},g=(_defineProperty(n={},o.NechtoCardAction.Event_Action_Flamethrower,5),_defineProperty(n,o.NechtoCardAction.Event_Action_Persistence,5),_defineProperty(n,o.NechtoCardAction.Event_Action_Whiskey,3),_defineProperty(n,o.NechtoCardAction.Event_Action_SwapPlaces,5),_defineProperty(n,o.NechtoCardAction.Event_Action_RunAway,5),_defineProperty(n,o.NechtoCardAction.Event_Action_Suspicion,8),_defineProperty(n,o.NechtoCardAction.Event_Action_Analysis,3),_defineProperty(n,o.NechtoCardAction.Event_Action_Temptation,7),_defineProperty(n,o.NechtoCardAction.Event_Action_LookAround,2),_defineProperty(n,o.NechtoCardAction.Event_Action_Axe,2),_defineProperty(n,o.NechtoCardAction.Event_Infection_It,1),_defineProperty(n,o.NechtoCardAction.Event_Infection_Infection1,5),_defineProperty(n,o.NechtoCardAction.Event_Infection_Infection2,5),_defineProperty(n,o.NechtoCardAction.Event_Infection_Infection3,5),_defineProperty(n,o.NechtoCardAction.Event_Infection_Infection4,5),_defineProperty(n,o.NechtoCardAction.Event_Defence_Fear,4),_defineProperty(n,o.NechtoCardAction.Event_Defence_GoodHere,3),_defineProperty(n,o.NechtoCardAction.Event_Defence_NoBarbecue,3),_defineProperty(n,o.NechtoCardAction.Event_Defence_Miss,3),_defineProperty(n,o.NechtoCardAction.Event_Defence_NoThanks,4),_defineProperty(n,o.NechtoCardAction.Event_Obstacle_Quarantine,2),_defineProperty(n,o.NechtoCardAction.Event_Obstacle_LockedDoor,3),_defineProperty(n,o.NechtoCardAction.Panic_Friends,2),_defineProperty(n,o.NechtoCardAction.Panic_OldRopes,2),_defineProperty(n,o.NechtoCardAction.Panic_BetweenUs,2),_defineProperty(n,o.NechtoCardAction.Panic_IsItParty,2),_defineProperty(n,o.NechtoCardAction.Panic_OneTwo,2),_defineProperty(n,o.NechtoCardAction.Panic_ThreeFour,2),_defineProperty(n,o.NechtoCardAction.Panic_BlindDate,2),_defineProperty(n,o.NechtoCardAction.Panic_ChainReaction,2),_defineProperty(n,o.NechtoCardAction.Panic_Forgetfulness,1),_defineProperty(n,o.NechtoCardAction.Panic_GoAway,1),_defineProperty(n,o.NechtoCardAction.Panic_Oops,1),_defineProperty(n,o.NechtoCardAction.Panic_ConfessionTime,1),n),y=(_defineProperty(r={},o.NechtoCardAction.Event_Action_Flamethrower,4),_defineProperty(r,o.NechtoCardAction.Event_Action_Persistence,6),_defineProperty(r,o.NechtoCardAction.Event_Action_Whiskey,4),_defineProperty(r,o.NechtoCardAction.Event_Action_SwapPlaces,11),_defineProperty(r,o.NechtoCardAction.Event_Action_RunAway,11),_defineProperty(r,o.NechtoCardAction.Event_Action_Suspicion,4),_defineProperty(r,o.NechtoCardAction.Event_Action_Analysis,5),_defineProperty(r,o.NechtoCardAction.Event_Action_Temptation,7),_defineProperty(r,o.NechtoCardAction.Event_Action_LookAround,9),_defineProperty(r,o.NechtoCardAction.Event_Action_Axe,9),_defineProperty(r,o.NechtoCardAction.Event_Infection_It,4),_defineProperty(r,o.NechtoCardAction.Event_Infection_Infection1,4),_defineProperty(r,o.NechtoCardAction.Event_Infection_Infection2,4),_defineProperty(r,o.NechtoCardAction.Event_Infection_Infection3,4),_defineProperty(r,o.NechtoCardAction.Event_Infection_Infection4,4),_defineProperty(r,o.NechtoCardAction.Event_Defence_Fear,8),_defineProperty(r,o.NechtoCardAction.Event_Defence_GoodHere,11),_defineProperty(r,o.NechtoCardAction.Event_Defence_NoBarbecue,6),_defineProperty(r,o.NechtoCardAction.Event_Defence_Miss,11),_defineProperty(r,o.NechtoCardAction.Event_Defence_NoThanks,4),_defineProperty(r,o.NechtoCardAction.Event_Obstacle_Quarantine,5),_defineProperty(r,o.NechtoCardAction.Event_Obstacle_LockedDoor,4),_defineProperty(r,o.NechtoCardAction.Panic_Friends,7),_defineProperty(r,o.NechtoCardAction.Panic_OldRopes,9),_defineProperty(r,o.NechtoCardAction.Panic_BetweenUs,7),_defineProperty(r,o.NechtoCardAction.Panic_IsItParty,9),_defineProperty(r,o.NechtoCardAction.Panic_OneTwo,5),_defineProperty(r,o.NechtoCardAction.Panic_ThreeFour,9),_defineProperty(r,o.NechtoCardAction.Panic_BlindDate,9),_defineProperty(r,o.NechtoCardAction.Panic_ChainReaction,4),_defineProperty(r,o.NechtoCardAction.Panic_Forgetfulness,4),_defineProperty(r,o.NechtoCardAction.Panic_GoAway,5),_defineProperty(r,o.NechtoCardAction.Panic_Oops,10),_defineProperty(r,o.NechtoCardAction.Panic_ConfessionTime,8),r);f&&(v=v.filter((function(e){var n=_slicedToArray(e,2),r=(n[0],n[1]);return y[r]<=t}))),v=v.filter((function(e){var t=_slicedToArray(e,2);t[0];return t[1]!==o.NechtoCardAction.Event_Infection_It}));for(var _=function(e){var t=u.getRandomItem(p),n=u.getRandomItem(v.filter((function(e){var n=_slicedToArray(e,2),r=n[0];n[1];return r.split("_")[0].toUpperCase()===s.NechtoCardType.Event.toUpperCase()&&r.split("_")[1].toUpperCase()===t[0].toUpperCase()})).map((function(e){var t=_slicedToArray(e,2);t[0];return t[1]})));d.push(new c.NechtoCard({id:l.firebaseService.generateId(),type:s.NechtoCardType.Event,subType:t[1],action:n,hidden:!0})),m[n]=(m[n]||0)+1,m[n]===g[n]&&((v=v.filter((function(e){var t=_slicedToArray(e,2);t[0];return t[1]!==n}))).some((function(e){var n=_slicedToArray(e,2),r=n[0];n[1];return r.split("_")[0].toUpperCase()===s.NechtoCardType.Event.toUpperCase()&&r.split("_")[1].toUpperCase()===t[0].toUpperCase()}))||(p=p.filter((function(e){var n=_slicedToArray(e,2);n[0];return n[1]!==t[1]}))))},b=0;b<87&&p.length;b++)_(b);for(var C=function(e){var t=u.getRandomItem(v.filter((function(e){var t=_slicedToArray(e,2),n=t[0];t[1];return n.split("_")[0].toUpperCase()===s.NechtoCardType.Panic.toUpperCase()})).map((function(e){var t=_slicedToArray(e,2);t[0];return t[1]})));d.push(new c.NechtoCard({id:l.firebaseService.generateId(),type:s.NechtoCardType.Panic,action:t,hidden:!0})),m[t]=(m[t]||0)+1,m[t]===g[t]&&(v=v.filter((function(e){var n=_slicedToArray(e,2);n[0];return n[1]!==t})))},k=0;k<20&&v.length;k++)C(k);return u.shuffleArray(d)}}},{key:"initHands",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(h.isNil(e))throw new Error("Game missing");return this.initEmptyCardsObject(t)}},{key:"initAllCards",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(h.isNil(e))throw new Error("Game missing");var i=this.initDeck(e,n.length,r),c=[];i=i.filter((function(e){var t=e.type===s.NechtoCardType.Panic||e.subType===a.NechtoCardSubType.Infection;return t&&c.push(e),!t}));var f=this.initHands(e,n),d=n.map((function(e){return e.playerId})),p=l.randomIntFromArray(d);n.forEach((function(e){if(p===e.playerId){for(var n=0;n<3;n++)f[e.playerId].push(Object.assign(Object.assign({},i.shift()),{hidden:!1}));var r=t.initNewCard(s.NechtoCardType.Event,o.NechtoCardAction.Event_Infection_It,a.NechtoCardSubType.Infection);r.hidden=!1,f[e.playerId].push(r)}else for(var c=0;c<4;c++)f[e.playerId].push(Object.assign(Object.assign({},i.shift()),{hidden:!1}))})),i=u.shuffleArray([].concat(_toConsumableArray2(i),c));var v=this.initEmptyCardsObject(n),m=this.initEmptyCardsObject(n);return i.forEach((function(e){return e.hidden=!0})),[{deck:i,hands:f,table:v,borders:m},n.find((function(e){return e.playerId===p})).user.id]}},{key:"initEmptyCardsObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return e[t.playerId]=[],e}),{})}},{key:"initNewCard",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new c.NechtoCard({id:this.firebaseService.generateId(),type:e,subType:n,action:t})}},{key:"getCardActionKey",value:function(e){return Object.keys(o.NechtoCardAction).find((function(t){return o.NechtoCardAction[t]===e}))||e}},{key:"getCardType",value:function(e){if(!e)return null;var t=this.getCardActionKey(e);return s.NechtoCardType[t.split("_")[0]]}}]),e}();t.CardHelpers=p,p.\u0275fac=function(e){return new(e||p)(f.\u0275\u0275inject(d.FirebaseService))},p.\u0275prov=f.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"})},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},kU1M:function(e,t,n){"use strict";n.r(t),n.d(t,"audit",(function(){return r.a})),n.d(t,"auditTime",(function(){return i.a})),n.d(t,"buffer",(function(){return s})),n.d(t,"bufferCount",(function(){return h})),n.d(t,"bufferTime",(function(){return g})),n.d(t,"bufferToggle",(function(){return E})),n.d(t,"bufferWhen",(function(){return P})),n.d(t,"catchError",(function(){return A.a})),n.d(t,"combineAll",(function(){return R})),n.d(t,"combineLatest",(function(){return N})),n.d(t,"concat",(function(){return L})),n.d(t,"concatAll",(function(){return V.a})),n.d(t,"concatMap",(function(){return U.a})),n.d(t,"concatMapTo",(function(){return B})),n.d(t,"count",(function(){return G})),n.d(t,"debounce",(function(){return q})),n.d(t,"debounceTime",(function(){return K.a})),n.d(t,"defaultIfEmpty",(function(){return Q.a})),n.d(t,"delay",(function(){return X.a})),n.d(t,"delayWhen",(function(){return Z})),n.d(t,"dematerialize",(function(){return re})),n.d(t,"distinct",(function(){return ae})),n.d(t,"distinctUntilChanged",(function(){return ue.a})),n.d(t,"distinctUntilKeyChanged",(function(){return le})),n.d(t,"elementAt",(function(){return ve})),n.d(t,"endWith",(function(){return ge})),n.d(t,"every",(function(){return ye.a})),n.d(t,"exhaust",(function(){return _e})),n.d(t,"exhaustMap",(function(){return Se})),n.d(t,"expand",(function(){return Oe})),n.d(t,"filter",(function(){return fe.a})),n.d(t,"finalize",(function(){return Te.a})),n.d(t,"find",(function(){return Ae})),n.d(t,"findIndex",(function(){return je})),n.d(t,"first",(function(){return Me.a})),n.d(t,"groupBy",(function(){return Ne.b})),n.d(t,"ignoreElements",(function(){return Fe})),n.d(t,"isEmpty",(function(){return Ue})),n.d(t,"last",(function(){return He.a})),n.d(t,"map",(function(){return we.a})),n.d(t,"mapTo",(function(){return ze})),n.d(t,"materialize",(function(){return Ke})),n.d(t,"max",(function(){return Ze})),n.d(t,"merge",(function(){return et})),n.d(t,"mergeAll",(function(){return tt.a})),n.d(t,"mergeMap",(function(){return nt.a})),n.d(t,"flatMap",(function(){return nt.a})),n.d(t,"mergeMapTo",(function(){return rt})),n.d(t,"mergeScan",(function(){return it})),n.d(t,"min",(function(){return st})),n.d(t,"multicast",(function(){return ct.a})),n.d(t,"observeOn",(function(){return ut.b})),n.d(t,"onErrorResumeNext",(function(){return lt})),n.d(t,"pairwise",(function(){return dt.a})),n.d(t,"partition",(function(){return vt})),n.d(t,"pluck",(function(){return mt})),n.d(t,"publish",(function(){return yt})),n.d(t,"publishBehavior",(function(){return bt})),n.d(t,"publishLast",(function(){return kt})),n.d(t,"publishReplay",(function(){return St})),n.d(t,"race",(function(){return It})),n.d(t,"reduce",(function(){return Je.a})),n.d(t,"repeat",(function(){return Pt})),n.d(t,"repeatWhen",(function(){return At})),n.d(t,"retry",(function(){return jt})),n.d(t,"retryWhen",(function(){return Ft})),n.d(t,"refCount",(function(){return Ut.a})),n.d(t,"sample",(function(){return Bt})),n.d(t,"sampleTime",(function(){return zt})),n.d(t,"scan",(function(){return Kt.a})),n.d(t,"sequenceEqual",(function(){return Qt})),n.d(t,"share",(function(){return $t.a})),n.d(t,"shareReplay",(function(){return en.a})),n.d(t,"single",(function(){return nn})),n.d(t,"skip",(function(){return an.a})),n.d(t,"skipLast",(function(){return sn})),n.d(t,"skipUntil",(function(){return ln})),n.d(t,"skipWhile",(function(){return dn})),n.d(t,"startWith",(function(){return mn.a})),n.d(t,"subscribeOn",(function(){return gn.a})),n.d(t,"switchAll",(function(){return bn})),n.d(t,"switchMap",(function(){return yn.a})),n.d(t,"switchMapTo",(function(){return Cn})),n.d(t,"take",(function(){return pe.a})),n.d(t,"takeLast",(function(){return kn.a})),n.d(t,"takeUntil",(function(){return wn.a})),n.d(t,"takeWhile",(function(){return Sn})),n.d(t,"tap",(function(){return On.a})),n.d(t,"throttle",(function(){return xn})),n.d(t,"throttleTime",(function(){return Dn})),n.d(t,"throwIfEmpty",(function(){return de.a})),n.d(t,"timeInterval",(function(){return Fn})),n.d(t,"timeout",(function(){return qn})),n.d(t,"timeoutWith",(function(){return Bn})),n.d(t,"timestamp",(function(){return Wn})),n.d(t,"toArray",(function(){return Qn})),n.d(t,"window",(function(){return Xn})),n.d(t,"windowCount",(function(){return $n})),n.d(t,"windowTime",(function(){return rr})),n.d(t,"windowToggle",(function(){return lr})),n.d(t,"windowWhen",(function(){return dr})),n.d(t,"withLatestFrom",(function(){return mr})),n.d(t,"zip",(function(){return br})),n.d(t,"zipAll",(function(){return Cr}));var r=n("tnsW"),i=n("3UWI"),o=n("l7GE"),a=n("ZUHj");function s(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(t){_classCallCheck2(this,e),this.closingNotifier=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.closingNotifier))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).buffer=[],i.add(Object(a.a)(_assertThisInitialized(i),r)),i}return _createClass2(n,[{key:"_next",value:function(e){this.buffer.push(e)}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)}}]),n}(o.a),l=n("7o/Q");function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return n.lift(new f(e,t))}}var f=function(){function e(t,n){_classCallCheck2(this,e),this.bufferSize=t,this.startBufferEvery=n,this.subscriberClass=n&&t!==n?p:d}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}]),e}(),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).bufferSize=r,i.buffer=[],i}return _createClass2(n,[{key:"_next",value:function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}},{key:"_complete",value:function(){var e=this.buffer;e.length>0&&this.destination.next(e),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}}]),n}(l.a),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).bufferSize=r,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return _createClass2(n,[{key:"_next",value:function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var a=r[o];a.push(e),a.length===t&&(r.splice(o,1),this.destination.next(a))}}},{key:"_complete",value:function(){for(var e=this.buffers,t=this.destination;e.length>0;){var r=e.shift();r.length>0&&t.next(r)}_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}}]),n}(l.a),v=n("D0XW"),m=n("z+Ro");function g(e){var t=arguments.length,n=v.a;Object(m.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new y(e,r,i,n))}}var y=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.bufferTimeSpan=t,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new b(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}]),e}(),_=function e(){_classCallCheck2(this,e),this.buffer=[]},b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;_classCallCheck2(this,n),(s=t.call(this,e)).bufferTimeSpan=r,s.bufferCreationInterval=i,s.maxBufferSize=o,s.scheduler=a,s.contexts=[];var c=s.openContext();if(s.timespanOnly=null==i||i<0,s.timespanOnly)s.add(c.closeAction=a.schedule(C,r,{subscriber:_assertThisInitialized(s),context:c,bufferTimeSpan:r}));else{var u={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:_assertThisInitialized(s),scheduler:a};s.add(c.closeAction=a.schedule(w,r,{subscriber:_assertThisInitialized(s),context:c})),s.add(a.schedule(k,i,u))}return s}return _createClass2(n,[{key:"_next",value:function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)}},{key:"_error",value:function(e){this.contexts.length=0,_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){for(var e=this.contexts,t=this.destination;e.length>0;){var r=e.shift();t.next(r.buffer)}_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){this.contexts=null}},{key:"onBufferFull",value:function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan;this.add(e.closeAction=this.scheduler.schedule(C,n,{subscriber:this,context:e,bufferTimeSpan:n}))}}},{key:"openContext",value:function(){var e=new _;return this.contexts.push(e),e}},{key:"closeContext",value:function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)}}]),n}(l.a);function C(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function k(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(w,n,{subscriber:r,context:o})),this.schedule(e,t))}function w(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var S=n("quSY");function E(e,t){return function(n){return n.lift(new I(e,t))}}var I=function(){function e(t,n){_classCallCheck2(this,e),this.openings=t,this.closingSelector=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new O(e,this.openings,this.closingSelector))}}]),e}(),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).openings=r,o.closingSelector=i,o.contexts=[],o.add(Object(a.a)(_assertThisInitialized(o),r)),o}return _createClass2(n,[{key:"_next",value:function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)}},{key:"_error",value:function(e){for(var t=this.contexts;t.length>0;){var r=t.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){for(var e=this.contexts;e.length>0;){var t=e.shift();this.destination.next(t.buffer),t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)}},{key:"notifyComplete",value:function(e){this.closeBuffer(e.context)}},{key:"openBuffer",value:function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(n){this._error(n)}}},{key:"closeBuffer",value:function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}}},{key:"trySubscribe",value:function(e){var t=this.contexts,n=new S.a,r={buffer:[],subscription:n};t.push(r);var i=Object(a.a)(this,e,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))}}]),n}(o.a);function P(e){return function(t){return t.lift(new x(e))}}var x=function(){function e(t){_classCallCheck2(this,e),this.closingSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new T(e,this.closingSelector))}}]),e}(),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return _createClass2(n,[{key:"_next",value:function(e){this.buffer.push(e)}},{key:"_complete",value:function(){var e=this.buffer;e&&this.destination.next(e),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){this.buffer=null,this.subscribing=!1}},{key:"notifyNext",value:function(e,t,n,r,i){this.openBuffer()}},{key:"notifyComplete",value:function(){this.subscribing?this.complete():this.openBuffer()}},{key:"openBuffer",value:function(){var e,t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{e=(0,this.closingSelector)()}catch(n){return this.error(n)}t=new S.a,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(Object(a.a)(this,e)),this.subscribing=!1}}]),n}(o.a),A=n("JIr8"),D=n("itXk");function R(e){return function(t){return t.lift(new D.a(e))}}var j=n("DH7j"),M=n("Cfvw");function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(j.a)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(Object(M.a)([e].concat(_toConsumableArray2(t))),new D.a(r))}}var F=n("GyhO");function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.lift.call(Object(F.a).apply(void 0,[e].concat(t)))}}var V=n("0EUg"),U=n("bOdf");function B(e,t){return Object(U.a)((function(){return e}),t)}function G(e){return function(t){return t.lift(new H(e,t))}}var H=function(){function e(t,n){_classCallCheck2(this,e),this.predicate=t,this.source=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new z(e,this.predicate,this.source))}}]),e}(),z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).predicate=r,o.source=i,o.count=0,o.index=0,o}return _createClass2(n,[{key:"_next",value:function(e){this.predicate?this._tryPredicate(e):this.count++}},{key:"_tryPredicate",value:function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}},{key:"_complete",value:function(){this.destination.next(this.count),this.destination.complete()}}]),n}(l.a);function q(e){return function(t){return t.lift(new W(e))}}var W=function(){function e(t){_classCallCheck2(this,e),this.durationSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Y(e,this.durationSelector))}}]),e}(),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).durationSelector=r,i.hasValue=!1,i.durationSubscription=null,i}return _createClass2(n,[{key:"_next",value:function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(n){this.destination.error(n)}}},{key:"_complete",value:function(){this.emitValue(),this.destination.complete()}},{key:"_tryNext",value:function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(a.a)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)}},{key:"notifyNext",value:function(e,t,n,r,i){this.emitValue()}},{key:"notifyComplete",value:function(){this.emitValue()}},{key:"emitValue",value:function(){if(this.hasValue){var e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=null,t.unsubscribe(),this.remove(t)),this.value=null,this.hasValue=!1,_get(_getPrototypeOf(n.prototype),"_next",this).call(this,e)}}}]),n}(o.a),K=n("Kj3r"),Q=n("xbPD"),X=n("3E0/"),J=n("HDdC");function Z(e,t){return t?function(n){return new te(n,t).lift(new $(e))}:function(t){return t.lift(new $(e))}}var $=function(){function e(t){_classCallCheck2(this,e),this.delayDurationSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new ee(e,this.delayDurationSelector))}}]),e}(),ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()}},{key:"notifyError",value:function(e,t){this._error(e)}},{key:"notifyComplete",value:function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()}},{key:"_next",value:function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(r){this.destination.error(r)}}},{key:"_complete",value:function(){this.completed=!0,this.tryComplete(),this.unsubscribe()}},{key:"removeSubscription",value:function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue}},{key:"tryDelay",value:function(e,t){var n=Object(a.a)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}},{key:"tryComplete",value:function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}]),n}(o.a),te=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).source=e,i.subscriptionDelay=r,i}return _createClass2(n,[{key:"_subscribe",value:function(e){this.subscriptionDelay.subscribe(new ne(e,this.source))}}]),n}(J.a),ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).parent=e,i.source=r,i.sourceSubscribed=!1,i}return _createClass2(n,[{key:"_next",value:function(e){this.subscribeToSource()}},{key:"_error",value:function(e){this.unsubscribe(),this.parent.error(e)}},{key:"_complete",value:function(){this.unsubscribe(),this.subscribeToSource()}},{key:"subscribeToSource",value:function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}]),n}(l.a);function re(){return function(e){return e.lift(new ie)}}var ie=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new oe(e))}}]),e}(),oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"_next",value:function(e){e.observe(this.destination)}}]),n}(l.a);function ae(e,t){return function(n){return n.lift(new se(e,t))}}var se=function(){function e(t,n){_classCallCheck2(this,e),this.keySelector=t,this.flushes=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new ce(e,this.keySelector,this.flushes))}}]),e}(),ce=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).keySelector=r,o.values=new Set,i&&o.add(Object(a.a)(_assertThisInitialized(o),i)),o}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values.clear()}},{key:"notifyError",value:function(e,t){this._error(e)}},{key:"_next",value:function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)}},{key:"_useKeySelector",value:function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)}},{key:"_finalizeNext",value:function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))}}]),n}(o.a),ue=n("/uUt");function le(e,t){return Object(ue.a)((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}var he=n("4I5i"),fe=n("pLZG"),de=n("XDbj"),pe=n("IzEk");function ve(e,t){if(e<0)throw new he.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(fe.a)((function(t,n){return n===e})),Object(pe.a)(1),n?Object(Q.a)(t):Object(de.a)((function(){return new he.a})))}}var me=n("LRne");function ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return Object(F.a)(e,Object(me.a).apply(void 0,t))}}var ye=n("Gi4w");function _e(){return function(e){return e.lift(new be)}}var be=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Ce(e))}}]),e}(),Ce=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).hasCompleted=!1,r.hasSubscription=!1,r}return _createClass2(n,[{key:"_next",value:function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(a.a)(this,e)))}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}},{key:"notifyComplete",value:function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(o.a),ke=n("51Dv"),we=n("lJxs");function Se(e,t){return t?function(n){return n.pipe(Se((function(n,r){return Object(M.a)(e(n,r)).pipe(Object(we.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Ee(e))}}var Ee=function(){function e(t){_classCallCheck2(this,e),this.project=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Ie(e,this.project))}}]),e}(),Ie=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return _createClass2(n,[{key:"_next",value:function(e){this.hasSubscription||this.tryNext(e)}},{key:"tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new ke.a(this,t,n),i=this.destination;i.add(r);var o=Object(a.a)(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(o.a);function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,n=arguments.length>2?arguments[2]:void 0;return t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new Pe(e,t,n))}}var Pe=function(){function e(t,n,r){_classCallCheck2(this,e),this.project=t,this.concurrent=n,this.scheduler=r}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new xe(e,this.project,this.concurrent,this.scheduler))}}]),e}(),xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).project=r,a.concurrent=i,a.scheduler=o,a.index=0,a.active=0,a.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(a.buffer=[]),a}return _createClass2(n,[{key:"_next",value:function(e){var t=this.destination;if(t.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){t.next(e);try{var i=(0,this.project)(e,r);this.scheduler?this.destination.add(this.scheduler.schedule(n.dispatch,0,{subscriber:this,result:i,value:e,index:r})):this.subscribeToProjection(i,e,r)}catch(o){t.error(o)}}else this.buffer.push(e)}}},{key:"subscribeToProjection",value:function(e,t,n){this.active++,this.destination.add(Object(a.a)(this,e,t,n))}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this._next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}],[{key:"dispatch",value:function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)}}]),n}(o.a),Te=n("nYR2");function Ae(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new De(e,n,!1,t))}}var De=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.predicate=t,this.source=n,this.yieldIndex=r,this.thisArg=i}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Re(e,this.predicate,this.source,this.yieldIndex,this.thisArg))}}]),e}(),Re=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this,e)).predicate=r,s.source=i,s.yieldIndex=o,s.thisArg=a,s.index=0,s}return _createClass2(n,[{key:"notifyComplete",value:function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()}},{key:"_next",value:function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(i){this.destination.error(i)}}},{key:"_complete",value:function(){this.notifyComplete(this.yieldIndex?-1:void 0)}}]),n}(l.a);function je(e,t){return function(n){return n.lift(new De(e,n,!0,t))}}var Me=n("SxV6"),Ne=n("OQgR");function Fe(){return function(e){return e.lift(new Le)}}var Le=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Ve(e))}}]),e}(),Ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"_next",value:function(e){}}]),n}(l.a);function Ue(){return function(e){return e.lift(new Be)}}var Be=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Ge(e))}}]),e}(),Ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"notifyComplete",value:function(e){var t=this.destination;t.next(e),t.complete()}},{key:"_next",value:function(e){this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(l.a),He=n("NJ9Y");function ze(e){return function(t){return t.lift(new qe(e))}}var qe=function(){function e(t){_classCallCheck2(this,e),this.value=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new We(e,this.value))}}]),e}(),We=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).value=r,i}return _createClass2(n,[{key:"_next",value:function(e){this.destination.next(this.value)}}]),n}(l.a),Ye=n("WMd4");function Ke(){return function(e){return e.lift(new Qe)}}var Qe=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Xe(e))}}]),e}(),Xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"_next",value:function(e){this.destination.next(Ye.a.createNext(e))}},{key:"_error",value:function(e){var t=this.destination;t.next(Ye.a.createError(e)),t.complete()}},{key:"_complete",value:function(){var e=this.destination;e.next(Ye.a.createComplete()),e.complete()}}]),n}(l.a),Je=n("128B");function Ze(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return Object(Je.a)(t)}var $e=n("VRyK");function et(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.lift.call(Object($e.a).apply(void 0,[e].concat(t)))}}var tt=n("bHdf"),nt=n("5+tZ");function rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?Object(nt.a)((function(){return e}),t,n):("number"==typeof t&&(n=t),Object(nt.a)((function(){return e}),n))}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return function(r){return r.lift(new ot(e,t,n))}}var ot=function(){function e(t,n,r){_classCallCheck2(this,e),this.accumulator=t,this.seed=n,this.concurrent=r}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new at(e,this.accumulator,this.seed,this.concurrent))}}]),e}(),at=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).accumulator=r,a.acc=i,a.concurrent=o,a.hasValue=!1,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return _createClass2(n,[{key:"_next",value:function(e){if(this.active<this.concurrent){var t,n=this.index++,r=this.destination;try{t=(0,this.accumulator)(this.acc,e,n)}catch(i){return r.error(i)}this.active++,this._innerSub(t,e,n)}else this.buffer.push(e)}},{key:"_innerSub",value:function(e,t,n){var r=new ke.a(this,t,n),i=this.destination;i.add(r);var o=Object(a.a)(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}]),n}(o.a);function st(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return Object(Je.a)(t)}var ct=n("oB13"),ut=n("pxpQ");function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Object(j.a)(t[0])&&(t=t[0]),function(e){return e.lift(new ht(t))}}var ht=function(){function e(t){_classCallCheck2(this,e),this.nextSources=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new ft(e,this.nextSources))}}]),e}(),ft=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).destination=e,i.nextSources=r,i}return _createClass2(n,[{key:"notifyError",value:function(e,t){this.subscribeToNextSource()}},{key:"notifyComplete",value:function(e){this.subscribeToNextSource()}},{key:"_error",value:function(e){this.subscribeToNextSource(),this.unsubscribe()}},{key:"_complete",value:function(){this.subscribeToNextSource(),this.unsubscribe()}},{key:"subscribeToNextSource",value:function(){var e=this.nextSources.shift();if(e){var t=new ke.a(this,void 0,void 0),n=this.destination;n.add(t);var r=Object(a.a)(this,e,void 0,void 0,t);r!==t&&n.add(r)}else this.destination.complete()}}]),n}(o.a),dt=n("Zy1z"),pt=n("F97/");function vt(e,t){return function(n){return[Object(fe.a)(e,t)(n),Object(fe.a)(Object(pt.a)(e,t))(n)]}}function mt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return Object(we.a)(function(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if(void 0===o)return;r=o}return r}}(t,r))(e)}}var gt=n("XNiG");function yt(e){return e?Object(ct.a)((function(){return new gt.a}),e):Object(ct.a)(new gt.a)}var _t=n("2Vo4");function bt(e){return function(t){return Object(ct.a)(new _t.a(e))(t)}}var Ct=n("NHP+");function kt(){return function(e){return Object(ct.a)(new Ct.a)(e)}}var wt=n("jtHE");function St(e,t,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new wt.a(e,t,r);return function(e){return Object(ct.a)((function(){return o}),i)(e)}}var Et=n("Nv8m");function It(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return 1===t.length&&Object(j.a)(t[0])&&(t=t[0]),e.lift.call(Object(Et.a).apply(void 0,[e].concat(_toConsumableArray2(t))))}}var Ot=n("EY2u");function Pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t){return 0===e?Object(Ot.b)():t.lift(new xt(e<0?-1:e-1,t))}}var xt=function(){function e(t,n){_classCallCheck2(this,e),this.count=t,this.source=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Tt(e,this.count,this.source))}}]),e}(),Tt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).count=r,o.source=i,o}return _createClass2(n,[{key:"complete",value:function(){if(!this.isStopped){var e=this.source,t=this.count;if(0===t)return _get(_getPrototypeOf(n.prototype),"complete",this).call(this);t>-1&&(this.count=t-1),e.subscribe(this._unsubscribeAndRecycle())}}}]),n}(l.a);function At(e){return function(t){return t.lift(new Dt(e))}}var Dt=function(){function e(t){_classCallCheck2(this,e),this.notifier=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Rt(e,this.notifier,t))}}]),e}(),Rt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).notifier=r,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}},{key:"notifyComplete",value:function(e){if(!1===this.sourceIsBeingSubscribedTo)return _get(_getPrototypeOf(n.prototype),"complete",this).call(this)}},{key:"complete",value:function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return _get(_getPrototypeOf(n.prototype),"complete",this).call(this);this._unsubscribeAndRecycle(),this.notifications.next()}}},{key:"_unsubscribe",value:function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._unsubscribe;return this._unsubscribe=null,_get(_getPrototypeOf(n.prototype),"_unsubscribeAndRecycle",this).call(this),this._unsubscribe=e,this}},{key:"subscribeToRetries",value:function(){var e;this.notifications=new gt.a;try{e=(0,this.notifier)(this.notifications)}catch(t){return _get(_getPrototypeOf(n.prototype),"complete",this).call(this)}this.retries=e,this.retriesSubscription=Object(a.a)(this,e)}}]),n}(o.a);function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t){return t.lift(new Mt(e,t))}}var Mt=function(){function e(t,n){_classCallCheck2(this,e),this.count=t,this.source=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Nt(e,this.count,this.source))}}]),e}(),Nt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).count=r,o.source=i,o}return _createClass2(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return _get(_getPrototypeOf(n.prototype),"error",this).call(this,e);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}}}]),n}(l.a);function Ft(e){return function(t){return t.lift(new Lt(e,t))}}var Lt=function(){function e(t,n){_classCallCheck2(this,e),this.notifier=t,this.source=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Vt(e,this.notifier,this.source))}}]),e}(),Vt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).notifier=r,o.source=i,o}return _createClass2(n,[{key:"error",value:function(e){if(!this.isStopped){var t=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{t=new gt.a;try{r=(0,this.notifier)(t)}catch(o){return _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}i=Object(a.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=t,this.retries=r,this.retriesSubscription=i,t.next(e)}}},{key:"_unsubscribe",value:function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)}}]),n}(o.a),Ut=n("x+ZX");function Bt(e){return function(t){return t.lift(new Gt(e))}}var Gt=function(){function e(t){_classCallCheck2(this,e),this.notifier=t}return _createClass2(e,[{key:"call",value:function(e,t){var n=new Ht(e),r=t.subscribe(n);return r.add(Object(a.a)(n,this.notifier)),r}}]),e}(),Ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments)).hasValue=!1,e}return _createClass2(n,[{key:"_next",value:function(e){this.value=e,this.hasValue=!0}},{key:"notifyNext",value:function(e,t,n,r,i){this.emitValue()}},{key:"notifyComplete",value:function(){this.emitValue()}},{key:"emitValue",value:function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}]),n}(o.a);function zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.a;return function(n){return n.lift(new qt(e,t))}}var qt=function(){function e(t,n){_classCallCheck2(this,e),this.period=t,this.scheduler=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Wt(e,this.period,this.scheduler))}}]),e}(),Wt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).period=r,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(Yt,r,{subscriber:_assertThisInitialized(o),period:r})),o}return _createClass2(n,[{key:"_next",value:function(e){this.lastValue=e,this.hasValue=!0}},{key:"notifyNext",value:function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}]),n}(l.a);function Yt(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}var Kt=n("Kqap");function Qt(e,t){return function(n){return n.lift(new Xt(e,t))}}var Xt=function(){function e(t,n){_classCallCheck2(this,e),this.compareTo=t,this.comparator=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Jt(e,this.compareTo,this.comparator))}}]),e}(),Jt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).compareTo=r,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(r.subscribe(new Zt(e,_assertThisInitialized(o)))),o}return _createClass2(n,[{key:"_next",value:function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())}},{key:"_complete",value:function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}},{key:"checkValues",value:function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var r=e.shift(),i=t.shift(),o=!1;try{o=n?n(r,i):r===i}catch(a){this.destination.error(a)}o||this.emit(!1)}}},{key:"emit",value:function(e){var t=this.destination;t.next(e),t.complete()}},{key:"nextB",value:function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())}},{key:"completeB",value:function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}]),n}(l.a),Zt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).parent=r,i}return _createClass2(n,[{key:"_next",value:function(e){this.parent.nextB(e)}},{key:"_error",value:function(e){this.parent.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.completeB(),this.unsubscribe()}}]),n}(l.a),$t=n("w1tV"),en=n("UXun"),tn=n("sVev");function nn(e){return function(t){return t.lift(new rn(e,t))}}var rn=function(){function e(t,n){_classCallCheck2(this,e),this.predicate=t,this.source=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new on(e,this.predicate,this.source))}}]),e}(),on=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).predicate=r,o.source=i,o.seenValue=!1,o.index=0,o}return _createClass2(n,[{key:"applySingleValue",value:function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)}},{key:"_next",value:function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)}},{key:"tryNext",value:function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(n){this.destination.error(n)}}},{key:"_complete",value:function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new tn.a)}}]),n}(l.a),an=n("zP0r");function sn(e){return function(t){return t.lift(new cn(e))}}var cn=function(){function e(t){if(_classCallCheck2(this,e),this._skipCount=t,this._skipCount<0)throw new he.a}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(0===this._skipCount?new l.a(e):new un(e,this._skipCount))}}]),e}(),un=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e))._skipCount=r,i._count=0,i._ring=new Array(r),i}return _createClass2(n,[{key:"_next",value:function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}}}]),n}(l.a);function ln(e){return function(t){return t.lift(new hn(e))}}var hn=function(){function e(t){_classCallCheck2(this,e),this.notifier=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new fn(e,this.notifier))}}]),e}(),fn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck2(this,n),(i=t.call(this,e)).hasValue=!1;var o=new ke.a(_assertThisInitialized(i),void 0,void 0);i.add(o),i.innerSubscription=o;var s=Object(a.a)(_assertThisInitialized(i),r,void 0,void 0,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return _createClass2(n,[{key:"_next",value:function(e){this.hasValue&&_get(_getPrototypeOf(n.prototype),"_next",this).call(this,e)}},{key:"notifyNext",value:function(e,t,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}},{key:"notifyComplete",value:function(){}}]),n}(o.a);function dn(e){return function(t){return t.lift(new pn(e))}}var pn=function(){function e(t){_classCallCheck2(this,e),this.predicate=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new vn(e,this.predicate))}}]),e}(),vn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).predicate=r,i.skipping=!0,i.index=0,i}return _createClass2(n,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),n}(l.a),mn=n("JX91"),gn=n("tf+s"),yn=n("eIep"),_n=n("SpAZ");function bn(){return Object(yn.a)(_n.a)}function Cn(e,t){return t?Object(yn.a)((function(){return e}),t):Object(yn.a)((function(){return e}))}var kn=n("BFxc"),wn=n("1G5W");function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new En(e,t))}}var En=function(){function e(t,n){_classCallCheck2(this,e),this.predicate=t,this.inclusive=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new In(e,this.predicate,this.inclusive))}}]),e}(),In=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).predicate=r,o.inclusive=i,o.index=0,o}return _createClass2(n,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),n}(l.a),On=n("vkgz"),Pn={leading:!0,trailing:!1};function xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;return function(n){return n.lift(new Tn(e,t.leading,t.trailing))}}var Tn=function(){function e(t,n,r){_classCallCheck2(this,e),this.durationSelector=t,this.leading=n,this.trailing=r}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new An(e,this.durationSelector,this.leading,this.trailing))}}]),e}(),An=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).destination=e,a.durationSelector=r,a._leading=i,a._trailing=o,a._hasValue=!1,a}return _createClass2(n,[{key:"_next",value:function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))}},{key:"send",value:function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null}},{key:"throttle",value:function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(a.a)(this,t))}},{key:"tryDurationSelector",value:function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}}},{key:"throttlingDone",value:function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()}},{key:"notifyNext",value:function(e,t,n,r,i){this.throttlingDone()}},{key:"notifyComplete",value:function(){this.throttlingDone()}}]),n}(o.a);function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pn;return function(r){return r.lift(new Rn(e,t,n.leading,n.trailing))}}var Rn=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.duration=t,this.scheduler=n,this.leading=r,this.trailing=i}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new jn(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),jn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this,e)).duration=r,s.scheduler=i,s.leading=o,s.trailing=a,s._hasTrailingValue=!1,s._trailingValue=null,s}return _createClass2(n,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Mn,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),n}(l.a);function Mn(e){e.subscriber.clearThrottle()}var Nn=n("NXyV");function Fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a;return function(t){return Object(Nn.a)((function(){return t.pipe(Object(Kt.a)((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Object(we.a)((function(e){var t=e.current,n=e.last,r=e.value;return new Ln(r,t-n)})))}))}}var Ln=function e(t,n){_classCallCheck2(this,e),this.value=t,this.interval=n},Vn=n("Y6u4"),Un=n("mlxB");function Bn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.a;return function(r){var i=Object(Un.a)(e),o=i?+e-n.now():Math.abs(e);return r.lift(new Gn(o,i,t,n))}}var Gn=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.waitFor=t,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Hn(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}]),e}(),Hn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this,e)).absoluteTimeout=r,s.waitFor=i,s.withObservable=o,s.scheduler=a,s.action=null,s.scheduleTimeout(),s}return _createClass2(n,[{key:"scheduleTimeout",value:function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(n.dispatchTimeout,this.waitFor,this))}},{key:"_next",value:function(e){this.absoluteTimeout||this.scheduleTimeout(),_get(_getPrototypeOf(n.prototype),"_next",this).call(this,e)}},{key:"_unsubscribe",value:function(){this.action=null,this.scheduler=null,this.withObservable=null}}],[{key:"dispatchTimeout",value:function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(a.a)(e,t))}}]),n}(o.a),zn=n("z6cu");function qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.a;return Bn(e,Object(zn.a)(new Vn.a),t)}function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a;return Object(we.a)((function(t){return new Yn(t,e.now())}))}var Yn=function e(t,n){_classCallCheck2(this,e),this.value=t,this.timestamp=n};function Kn(e,t,n){return 0===n?[t]:(e.push(t),e)}function Qn(){return Object(Je.a)(Kn,[])}function Xn(e){return function(t){return t.lift(new Jn(e))}}var Jn=function(){function e(t){_classCallCheck2(this,e),this.windowBoundaries=t}return _createClass2(e,[{key:"call",value:function(e,t){var n=new Zn(e),r=t.subscribe(n);return r.closed||n.add(Object(a.a)(n,this.windowBoundaries)),r}}]),e}(),Zn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).window=new gt.a,e.next(r.window),r}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.openWindow()}},{key:"notifyError",value:function(e,t){this._error(e)}},{key:"notifyComplete",value:function(e){this._complete()}},{key:"_next",value:function(e){this.window.next(e)}},{key:"_error",value:function(e){this.window.error(e),this.destination.error(e)}},{key:"_complete",value:function(){this.window.complete(),this.destination.complete()}},{key:"_unsubscribe",value:function(){this.window=null}},{key:"openWindow",value:function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new gt.a;t.next(n)}}]),n}(o.a);function $n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new er(e,t))}}var er=function(){function e(t,n){_classCallCheck2(this,e),this.windowSize=t,this.startWindowEvery=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new tr(e,this.windowSize,this.startWindowEvery))}}]),e}(),tr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).destination=e,o.windowSize=r,o.startWindowEvery=i,o.windows=[new gt.a],o.count=0,e.next(o.windows[0]),o}return _createClass2(n,[{key:"_next",value:function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(e);var s=this.count-r+1;if(s>=0&&s%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var c=new gt.a;i.push(c),n.next(c)}}},{key:"_error",value:function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)}},{key:"_complete",value:function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()}},{key:"_unsubscribe",value:function(){this.count=0,this.windows=null}}]),n}(l.a),nr=n("Y7HM");function rr(e){var t=v.a,n=null,r=Number.POSITIVE_INFINITY;return Object(m.a)(arguments[3])&&(t=arguments[3]),Object(m.a)(arguments[2])?t=arguments[2]:Object(nr.a)(arguments[2])&&(r=arguments[2]),Object(m.a)(arguments[1])?t=arguments[1]:Object(nr.a)(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new ir(e,n,r,t))}}var ir=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.windowTimeSpan=t,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new ar(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}]),e}(),or=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments))._numberOfNextedValues=0,e}return _createClass2(n,[{key:"next",value:function(e){this._numberOfNextedValues++,_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"numberOfNextedValues",get:function(){return this._numberOfNextedValues}}]),n}(gt.a),ar=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;_classCallCheck2(this,n),(s=t.call(this,e)).destination=e,s.windowTimeSpan=r,s.windowCreationInterval=i,s.maxWindowSize=o,s.scheduler=a,s.windows=[];var c=s.openWindow();if(null!==i&&i>=0){var u={windowTimeSpan:r,windowCreationInterval:i,subscriber:_assertThisInitialized(s),scheduler:a};s.add(a.schedule(ur,r,{subscriber:_assertThisInitialized(s),window:c,context:null})),s.add(a.schedule(cr,i,u))}else s.add(a.schedule(sr,r,{subscriber:_assertThisInitialized(s),window:c,windowTimeSpan:r}));return s}return _createClass2(n,[{key:"_next",value:function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}}},{key:"_error",value:function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)}},{key:"_complete",value:function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()}},{key:"openWindow",value:function(){var e=new or;return this.windows.push(e),this.destination.next(e),e}},{key:"closeWindow",value:function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)}}]),n}(l.a);function sr(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function cr(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),a={action:this,subscription:null};a.subscription=r.schedule(ur,t,{subscriber:n,window:o,context:a}),this.add(a.subscription),this.schedule(e,i)}function ur(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function lr(e,t){return function(n){return n.lift(new hr(e,t))}}var hr=function(){function e(t,n){_classCallCheck2(this,e),this.openings=t,this.closingSelector=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new fr(e,this.openings,this.closingSelector))}}]),e}(),fr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).openings=r,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=Object(a.a)(_assertThisInitialized(o),r,r)),o}return _createClass2(n,[{key:"_next",value:function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)}},{key:"_error",value:function(e){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,i=-1;++i<r;){var o=t[i];o.window.error(e),o.subscription.unsubscribe()}_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}}},{key:"notifyNext",value:function(e,t,n,r,i){if(e===this.openings){var o;try{o=(0,this.closingSelector)(t)}catch(h){return this.error(h)}var s=new gt.a,c=new S.a,u={window:s,subscription:c};this.contexts.push(u);var l=Object(a.a)(this,o,u);l.closed?this.closeWindow(this.contexts.length-1):(l.context=u,c.add(l)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(e))}},{key:"notifyError",value:function(e){this.error(e)}},{key:"notifyComplete",value:function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))}},{key:"closeWindow",value:function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}}}]),n}(o.a);function dr(e){return function(t){return t.lift(new pr(e))}}var pr=function(){function e(t){_classCallCheck2(this,e),this.closingSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new vr(e,this.closingSelector))}}]),e}(),vr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).destination=e,i.closingSelector=r,i.openWindow(),i}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.openWindow(i)}},{key:"notifyError",value:function(e,t){this._error(e)}},{key:"notifyComplete",value:function(e){this.openWindow(e)}},{key:"_next",value:function(e){this.window.next(e)}},{key:"_error",value:function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()}},{key:"_complete",value:function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}},{key:"unsubscribeClosingNotification",value:function(){this.closingNotification&&this.closingNotification.unsubscribe()}},{key:"openWindow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new gt.a;this.destination.next(r);try{var i=this.closingSelector;n=i()}catch(o){return this.destination.error(o),void this.window.error(o)}this.add(this.closingNotification=Object(a.a)(this,n))}}]),n}(o.a);function mr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new gr(t,n))}}var gr=function(){function e(t,n){_classCallCheck2(this,e),this.observables=t,this.project=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new yr(e,this.observables,this.project))}}]),e}(),yr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck2(this,n),(o=t.call(this,e)).observables=r,o.project=i,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var c=0;c<s;c++)o.toRespond.push(c);for(var u=0;u<s;u++){var l=r[u];o.add(Object(a.a)(_assertThisInitialized(o),l,l,u))}return o}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray2(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(o.a),_r=n("1uah");function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.lift.call(Object(_r.b).apply(void 0,[e].concat(t)))}}function Cr(e){return function(t){return t.lift(new _r.a(e))}}},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck2(this,e),this.project=t,this.thisArg=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass2(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},lKKO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("SVse"),o=n("d+bp"),a=n("PCNd"),s=r.__importStar(n("8Y7J")),c=function e(){_classCallCheck2(this,e)};t.AccountModule=c,c.\u0275mod=s.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=s.\u0275\u0275defineInjector({factory:function(e){return new(e||c)},imports:[[i.CommonModule,a.SharedModule,o.AccountRoutingModule]]})},lMyw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG").__importStar(n("8Y7J")),i=function e(){_classCallCheck2(this,e)};t.FaqComponent=i,i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["gw-faq"]],decls:2,vars:0,consts:[[1,"light"]],template:function(e,t){1&e&&(r.\u0275\u0275elementStart(0,"p",0),r.\u0275\u0275text(1,"faq works!"),r.\u0275\u0275elementEnd())},styles:[""]})},lNqK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("kU1M"),o=n("PLoC"),a=r.__importStar(n("8Y7J")),s=r.__importStar(n("iELJ")),c=r.__importStar(n("iInd")),u=function(){function e(t,n){_classCallCheck2(this,e),this.dialog=t,this.router=n}return _createClass2(e,[{key:"canActivate",value:function(){return this.canProceed()}},{key:"canLoad",value:function(){return this.canProceed()}},{key:"canProceed",value:function(){var e=this;return this.dialog.open(o.DevDialogComponent).afterClosed().pipe(i.map((function(){return e.router.navigate([""]),!1})))}}]),e}();t.DevGuard=u,u.\u0275fac=function(e){return new(e||u)(a.\u0275\u0275inject(s.MatDialog),a.\u0275\u0275inject(c.Router))},u.\u0275prov=a.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"})},lwos:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=r.__importStar(n("8Y7J")),a=function(){function e(){_classCallCheck2(this,e),this.pendingRequestsCount=0,this.pendingProcessesCount=0,this.isLoading=new i.BehaviorSubject(!1)}return _createClass2(e,[{key:"addRequest",value:function(){this.pendingRequestsCount++,this.isLoading.next(!0)}},{key:"addProcess",value:function(){this.pendingProcessesCount++,this.isLoading.next(!0)}},{key:"removeRequest",value:function(){this.pendingRequestsCount--,this.isLoading.next(this.pendingRequestsCount>0||this.pendingProcessesCount>0)}},{key:"removeProcess",value:function(){this.pendingProcessesCount--,this.isLoading.next(this.pendingRequestsCount>0||this.pendingProcessesCount>0)}}]),e}();t.LoaderService=a,a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=o.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"})},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("KqfI");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.a}},mPVK:function(e,t,n){"use strict";n.r(t),n.d(t,"MAT_SLIDER_VALUE_ACCESSOR",(function(){return m})),n.d(t,"MatSlider",(function(){return _})),n.d(t,"MatSliderChange",(function(){return g})),n.d(t,"MatSliderModule",(function(){return k}));var r=n("SVse"),i=n("8Y7J"),o=n("UhP/"),a=n("8LU1"),s=n("Ht+U"),c=n("s7LF"),u=n("omvX"),l=n("SCoL"),h=n("quSY"),f=n("YEUz"),d=n("9gLZ"),p=["sliderWrapper"],v=Object(l.e)({passive:!1}),m={provide:c.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return _})),multi:!0},g=function e(){_classCallCheck2(this,e)},y=Object(o.s)(Object(o.n)(Object(o.p)((function e(t){_classCallCheck2(this,e),this._elementRef=t})),"accent")),_=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a,s,c,u,l){var f;return _classCallCheck2(this,n),(f=t.call(this,e))._focusMonitor=r,f._changeDetectorRef=o,f._dir=a,f._animationMode=c,f._ngZone=u,f._invert=!1,f._max=100,f._min=0,f._step=1,f._thumbLabel=!1,f._tickInterval=0,f._value=null,f._vertical=!1,f.change=new i.EventEmitter,f.input=new i.EventEmitter,f.valueChange=new i.EventEmitter,f.onTouched=function(){},f._percent=0,f._isSliding=!1,f._isActive=!1,f._tickIntervalPercent=0,f._sliderDimensions=null,f._controlValueAccessorChangeFn=function(){},f._dirChangeSubscription=h.a.EMPTY,f._pointerDown=function(e){f.disabled||f._isSliding||!b(e)&&0!==e.button||f._runInsideZone((function(){var t=f.value,n=C(e);f._isSliding=!0,f._lastPointerEvent=e,e.preventDefault(),f._focusHostElement(),f._onMouseenter(),f._bindGlobalEvents(e),f._focusHostElement(),f._updateValueFromPosition(n),f._valueOnSlideStart=f.value,f._pointerPositionOnStart=n,t!=f.value&&(f._emitInputEvent(),f._emitChangeEvent())}))},f._pointerMove=function(e){if(f._isSliding){e.preventDefault();var t=f.value;f._lastPointerEvent=e,f._updateValueFromPosition(C(e)),t!=f.value&&f._emitInputEvent()}},f._pointerUp=function(e){if(f._isSliding){var t=f._pointerPositionOnStart,n=C(e);e.preventDefault(),f._removeGlobalEvents(),f._valueOnSlideStart=f._pointerPositionOnStart=f._lastPointerEvent=null,f._isSliding=!1,f._valueOnSlideStart==f.value||f.disabled||!t||t.x===n.x&&t.y===n.y||f._emitChangeEvent()}},f._windowBlur=function(){f._lastPointerEvent&&f._pointerUp(f._lastPointerEvent)},f._document=l,f.tabIndex=parseInt(s)||0,f._runOutsizeZone((function(){var t=e.nativeElement;t.addEventListener("mousedown",f._pointerDown,v),t.addEventListener("touchstart",f._pointerDown,v)})),f}return _createClass2(n,[{key:"focus",value:function(e){this._focusHostElement(e)}},{key:"blur",value:function(){this._blurHostElement()}},{key:"_shouldInvertMouseCoords",value:function(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}},{key:"_getDirection",value:function(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}},{key:"ngOnInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(t){e._isActive=!!t&&"keyboard"!==t,e._changeDetectorRef.detectChanges()})),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe((function(){e._changeDetectorRef.markForCheck()})))}},{key:"ngOnDestroy",value:function(){var e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,v),e.removeEventListener("touchstart",this._pointerDown,v),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}},{key:"_onMouseenter",value:function(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}},{key:"_onFocus",value:function(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}},{key:"_onBlur",value:function(){this.onTouched()}},{key:"_onKeydown",value:function(e){if(!this.disabled&&!Object(s.q)(e)){var t=this.value;switch(e.keyCode){case s.j:this._increment(10);break;case s.i:this._increment(-10);break;case s.c:this.value=this.max;break;case s.f:this.value=this.min;break;case s.g:this._increment("rtl"==this._getDirection()?1:-1);break;case s.n:this._increment(1);break;case s.k:this._increment("rtl"==this._getDirection()?-1:1);break;case s.b:this._increment(-1);break;default:return}t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,e.preventDefault()}}},{key:"_onKeyup",value:function(){this._isSliding=!1}},{key:"_getWindow",value:function(){var e;return(null===(e=this._document)||void 0===e?void 0:e.defaultView)||window}},{key:"_bindGlobalEvents",value:function(e){if(void 0!==this._document&&this._document){var t=this._document.body,n=b(e),r=n?"touchend":"mouseup";t.addEventListener(n?"touchmove":"mousemove",this._pointerMove,v),t.addEventListener(r,this._pointerUp,v),n&&t.addEventListener("touchcancel",this._pointerUp,v)}var i=this._getWindow();void 0!==i&&i&&i.addEventListener("blur",this._windowBlur)}},{key:"_removeGlobalEvents",value:function(){if(void 0!==this._document&&this._document){var e=this._document.body;e.removeEventListener("mousemove",this._pointerMove,v),e.removeEventListener("mouseup",this._pointerUp,v),e.removeEventListener("touchmove",this._pointerMove,v),e.removeEventListener("touchend",this._pointerUp,v),e.removeEventListener("touchcancel",this._pointerUp,v)}var t=this._getWindow();void 0!==t&&t&&t.removeEventListener("blur",this._windowBlur)}},{key:"_increment",value:function(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)}},{key:"_updateValueFromPosition",value:function(e){if(this._sliderDimensions){var t=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(t=1-t),0===t)this.value=this.min;else if(1===t)this.value=this.max;else{var n=this._calculateValue(t),r=Math.round((n-this.min)/this.step)*this.step+this.min;this.value=this._clamp(r,this.min,this.max)}}}},{key:"_emitChangeEvent",value:function(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}},{key:"_emitInputEvent",value:function(){this.input.emit(this._createChangeEvent())}},{key:"_updateTickIntervalPercent",value:function(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){var e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,t=Math.ceil(30/(e*this.step/(this.max-this.min)));this._tickIntervalPercent=t*this.step/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}},{key:"_createChangeEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=new g;return t.source=this,t.value=e,t}},{key:"_calculatePercentage",value:function(e){return((e||0)-this.min)/(this.max-this.min)}},{key:"_calculateValue",value:function(e){return this.min+e*(this.max-this.min)}},{key:"_clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(e,n))}},{key:"_getSliderDimensions",value:function(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}},{key:"_focusHostElement",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_blurHostElement",value:function(){this._elementRef.nativeElement.blur()}},{key:"_runInsideZone",value:function(e){this._ngZone?this._ngZone.run(e):e()}},{key:"_runOutsizeZone",value:function(e){this._ngZone?this._ngZone.runOutsideAngular(e):e()}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"invert",get:function(){return this._invert},set:function(e){this._invert=Object(a.c)(e)}},{key:"max",get:function(){return this._max},set:function(e){this._max=Object(a.f)(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},{key:"min",get:function(){return this._min},set:function(e){this._min=Object(a.f)(e,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},{key:"step",get:function(){return this._step},set:function(e){this._step=Object(a.f)(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}},{key:"thumbLabel",get:function(){return this._thumbLabel},set:function(e){this._thumbLabel=Object(a.c)(e)}},{key:"tickInterval",get:function(){return this._tickInterval},set:function(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?Object(a.f)(e,this._tickInterval):0}},{key:"value",get:function(){return null===this._value&&(this.value=this._min),this._value},set:function(e){if(e!==this._value){var t=Object(a.f)(e);this._roundToDecimal&&(t=parseFloat(t.toFixed(this._roundToDecimal))),this._value=t,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}},{key:"vertical",get:function(){return this._vertical},set:function(e){this._vertical=Object(a.c)(e)}},{key:"displayValue",get:function(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}},{key:"percent",get:function(){return this._clamp(this._percent)}},{key:"_invertAxis",get:function(){return this.vertical?!this.invert:this.invert}},{key:"_isMinValue",get:function(){return 0===this.percent}},{key:"_thumbGap",get:function(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}},{key:"_trackBackgroundStyles",get:function(){var e=this.vertical?"1, ".concat(1-this.percent,", 1"):"".concat(1-this.percent,", 1, 1");return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this._shouldInvertMouseCoords()?"-":"").concat(this._thumbGap,"px) scale3d(").concat(e,")")}}},{key:"_trackFillStyles",get:function(){var e=this.percent,t=this.vertical?"1, ".concat(e,", 1"):"".concat(e,", 1, 1");return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this._shouldInvertMouseCoords()?"":"-").concat(this._thumbGap,"px) scale3d(").concat(t,")"),display:0===e?"none":""}}},{key:"_ticksContainerStyles",get:function(){return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this.vertical||"rtl"!=this._getDirection()?"-":"").concat(this._tickIntervalPercent/2*100,"%)")}}},{key:"_ticksStyles",get:function(){var e,t=100*this._tickIntervalPercent,n={backgroundSize:this.vertical?"2px ".concat(t,"%"):"".concat(t,"% 2px"),transform:"translateZ(0) translate".concat(this.vertical?"Y":"X","(").concat(this.vertical||"rtl"!=this._getDirection()?"":"-").concat(t/2,"%)").concat(this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)")};this._isMinValue&&this._thumbGap&&(e=this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left",n["padding".concat(e)]="".concat(this._thumbGap,"px"));return n}},{key:"_thumbContainerStyles",get:function(){return{transform:"translate".concat(this.vertical?"Y":"X","(-").concat(100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent),"%)")}}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](f.e),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](d.Directionality,8),i["\u0275\u0275injectAttribute"]("tabindex"),i["\u0275\u0275directiveInject"](u.ANIMATION_MODULE_TYPE,8),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](r.DOCUMENT,8))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-slider"]],viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](p,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t._sliderWrapper=n.first)},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("focus",(function(){return t._onFocus()}))("blur",(function(){return t._onBlur()}))("keydown",(function(e){return t._onKeydown(e)}))("keyup",(function(){return t._onKeyup()}))("mouseenter",(function(){return t._onMouseenter()}))("selectstart",(function(e){return e.preventDefault()})),2&e&&(i["\u0275\u0275hostProperty"]("tabIndex",t.tabIndex),i["\u0275\u0275attribute"]("aria-disabled",t.disabled)("aria-valuemax",t.max)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-orientation",t.vertical?"vertical":"horizontal"),i["\u0275\u0275classProp"]("mat-slider-disabled",t.disabled)("mat-slider-has-ticks",t.tickInterval)("mat-slider-horizontal",!t.vertical)("mat-slider-axis-inverted",t._invertAxis)("mat-slider-invert-mouse-coords",t._shouldInvertMouseCoords())("mat-slider-sliding",t._isSliding)("mat-slider-thumb-label-showing",t.thumbLabel)("mat-slider-vertical",t.vertical)("mat-slider-min-value",t._isMinValue)("mat-slider-hide-last-tick",t.disabled||t._isMinValue&&t._thumbGap&&t._invertAxis)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[i["\u0275\u0275ProvidersFeature"]([m]),i["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0,1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275element"](3,"div",3),i["\u0275\u0275element"](4,"div",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",5),i["\u0275\u0275element"](6,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",7),i["\u0275\u0275element"](8,"div",8),i["\u0275\u0275element"](9,"div",9),i["\u0275\u0275elementStart"](10,"div",10),i["\u0275\u0275elementStart"](11,"span",11),i["\u0275\u0275text"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngStyle",t._trackBackgroundStyles),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngStyle",t._trackFillStyles),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngStyle",t._ticksContainerStyles),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngStyle",t._ticksStyles),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngStyle",t._thumbContainerStyles),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](t.displayValue))},directives:[r.NgStyle],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),e}();function b(e){return"t"===e.type[0]}function C(e){var t=b(e)?e.touches[0]||e.changedTouches[0]:e;return{x:t.clientX,y:t.clientY}}var k=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.CommonModule,o.f],o.f]}),e}()},mZbU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=function(){function e(t){_classCallCheck2(this,e),Object.assign(this,t)}return _createClass2(e,null,[{key:"mapFromDto",value:function(t,n){if(!t||!n)return null;var i=r.__rest(t,["userId"]);return new e(Object.assign(Object.assign({},i),{user:n}))}},{key:"mapFromDtoBulk",value:function(e,t){var n=this;return e&&t?e.map((function(e){var r=t.find((function(t){return t.id===e.userId}));return n.mapFromDto(e,r)})).filter((function(e){return!!e})):[]}}]),e}();t.RatingView=i},mlxB:function(e,t,n){"use strict";function r(e){return e instanceof Date&&!isNaN(+e)}n.d(t,"a",(function(){return r}))},mnSs:function(e,t,n){"use strict";n.r(t),n.d(t,"TooltipComponent",(function(){return u})),n.d(t,"TooltipDirective",(function(){return d})),n.d(t,"TooltipModule",(function(){return p})),n.d(t,"\u0275a",(function(){return l}));var r=n("8Y7J"),i=n("SVse");function o(e,t){1&e&&r["\u0275\u0275element"](0,"div",3)}function a(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function s(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275template"](1,a,1,0,"ng-container",4),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",n.value)}}function c(e,t){if(1&e&&r["\u0275\u0275element"](0,"div",5),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("innerHTML",n.value,r["\u0275\u0275sanitizeHtml"])}}var u=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this.elementRef=t,this.renderer=n,this._show=!1,this.events=new r.EventEmitter}return _createClass2(e,[{key:"transitionEnd",value:function(e){this.show&&this.events.emit({type:"shown"})}},{key:"ngOnInit",value:function(){this.setCustomClass(),this.setStyles()}},{key:"setPosition",value:function(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{for(var e,t=0,n=["top","right","bottom","left"];t<n.length;t++){var r=n[t];if(this.setHostStyle(r))return this.setPlacementClass(r),void(e=!0)}e||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}},{key:"setPlacementClass",value:function(e){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+e)}},{key:"setHostStyle",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.element instanceof SVGElement,o=this.elementRef.nativeElement,a=!this.elementPosition.right,s=i?this.element.getBoundingClientRect().height:this.element.offsetHeight,c=i?this.element.getBoundingClientRect().width:this.element.offsetWidth,u=o.clientHeight,l=o.clientWidth,h=window.pageYOffset;if(a&&(s=0,c=0),"top"===e&&(t=this.elementPosition.top+h-(u+this.tooltipOffset)),"bottom"===e&&(t=this.elementPosition.top+h+s+this.tooltipOffset),"top"!==e&&"bottom"!==e||(n=this.elementPosition.left+c/2-l/2),"left"===e&&(n=this.elementPosition.left-l-this.tooltipOffset),"right"===e&&(n=this.elementPosition.left+c+this.tooltipOffset),"left"!==e&&"right"!==e||(t=this.elementPosition.top+h+s/2-o.clientHeight/2),this.autoPlacement&&!r){var f=t+u,d=n,p=n+l,v=window.innerHeight+h,m=document.body.clientWidth;if(t<0||f>v||d<0||p>m)return!1}return this.hostStyleTop=t+"px",this.hostStyleLeft=n+"px",!0}},{key:"setZIndex",value:function(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}},{key:"setPointerEvents",value:function(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}},{key:"setCustomClass",value:function(){var e=this;this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach((function(t){e.renderer.addClass(e.elementRef.nativeElement,t)}))}},{key:"setAnimationDuration",value:function(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}},{key:"setStyles",value:function(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth+"px",this.hostStyleWidth=this.options.width?this.options.width+"px":""}},{key:"show",set:function(e){e&&this.setPosition(),this._show=this.hostClassShow=e},get:function(){return this._show}},{key:"placement",get:function(){return this.data.options.placement}},{key:"autoPlacement",get:function(){return this.data.options.autoPlacement}},{key:"element",get:function(){return this.data.element}},{key:"elementPosition",get:function(){return this.data.elementPosition}},{key:"options",get:function(){return this.data.options}},{key:"value",get:function(){return this.data.value}},{key:"tooltipOffset",get:function(){return Number(this.data.options.offset)}},{key:"isThemeLight",get:function(){return"light"===this.options.theme}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("transitionend",(function(e){return t.transitionEnd(e)})),2&e&&(r["\u0275\u0275styleProp"]("top",t.hostStyleTop)("left",t.hostStyleLeft)("z-index",t.hostStyleZIndex)("pointer-events",t.hostStylePointerEvents)("transition",t.hostStyleTransition)("max-width",t.hostStyleMaxWidth)("width",t.hostStyleWidth),r["\u0275\u0275classProp"]("tooltip-show",t.hostClassShow)("tooltip-shadow",t.hostClassShadow)("tooltip-light",t.hostClassLight))},inputs:{show:"show",data:"data"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(r["\u0275\u0275template"](0,o,1,0,"div",0),r["\u0275\u0275template"](1,s,2,1,"div",1),r["\u0275\u0275template"](2,c,1,1,"ng-template",null,2,r["\u0275\u0275templateRefExtractor"])),2&e){var n=r["\u0275\u0275reference"](3);r["\u0275\u0275property"]("ngIf",t.isThemeLight),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf","template"===t.options.contentType)("ngIfElse",n)}},directives:[i.NgIf,i.NgTemplateOutlet],styles:['[_nghost-%COMP%]{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;-webkit-transition:opacity .3s;transition:opacity .3s;top:0;left:0}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px rgba(0,0,0,.4)}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px rgba(0,0,0,.4)}.tooltip[_nghost-%COMP%]::after{content:"";position:absolute;border-style:solid}.tooltip-top[_nghost-%COMP%]::after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 transparent transparent}.tooltip-bottom[_nghost-%COMP%]::after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:transparent transparent #000}.tooltip-left[_nghost-%COMP%]::after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:transparent transparent transparent #000}.tooltip-right[_nghost-%COMP%]::after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:transparent #000 transparent transparent}.tooltip-light[_nghost-%COMP%]::after{display:none}.tooltip-light[_nghost-%COMP%]{border:1px solid rgba(0,0,0,.06);background-color:#fff;color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;-webkit-transform:rotate(135deg);transform:rotate(135deg);background-color:rgba(0,0,0,.07)}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]::after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:-webkit-gradient(linear,right top,left bottom,color-stop(50%,rgba(0,0,0,.07)),color-stop(50%,transparent));background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 50%)}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]::after{top:1px;right:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:-webkit-gradient(linear,left bottom,right top,color-stop(50%,rgba(0,0,0,.1)),color-stop(50%,transparent));background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 50%)}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]::after{top:-1px;right:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:-webkit-gradient(linear,left top,right bottom,color-stop(50%,rgba(0,0,0,.07)),color-stop(50%,transparent));background:linear-gradient(to bottom right,rgba(0,0,0,.07) 50%,transparent 50%)}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]::after{top:1px;right:-1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:-webkit-gradient(linear,right bottom,left top,color-stop(50%,rgba(0,0,0,.07)),color-stop(50%,transparent));background:linear-gradient(to top left,rgba(0,0,0,.07) 50%,transparent 50%)}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]::after{top:-1px;right:1px}']}),e}(),l=new r.InjectionToken("TooltipOptions"),h={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},f={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"},d=function(){var e=function(){function e(t,n,i,o,a){_classCallCheck2(this,e),this.initOptions=t,this.elementRef=n,this.componentFactoryResolver=i,this.appRef=o,this.injector=a,this._showDelay=0,this._hideDelay=300,this._options={},this.events=new r.EventEmitter}return _createClass2(e,[{key:"onMouseEnter",value:function(){0!=this.isDisplayOnHover&&this.show()}},{key:"onMouseLeave",value:function(){"hover"===this.options.trigger&&this.destroyTooltip()}},{key:"onClick",value:function(){var e=this;0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout((function(){e.destroyTooltip()}),this.options.hideDelayAfterClick))}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.initOptions=this.renameProperties(this.initOptions);var t=this.getProperties(e);t=this.renameProperties(t),this.applyOptionsDefault(h,t)}},{key:"ngOnDestroy",value:function(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}},{key:"getShowDelay",value:function(){return this.options.showDelay}},{key:"getHideDelay",value:function(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}},{key:"getProperties",value:function(e){var t={};for(var n in e)"options"!==n&&"tooltipValue"!==n&&(t[n]=e[n].currentValue),"options"===n&&(t=e[n].currentValue);return t}},{key:"renameProperties",value:function(e){for(var t in e)f[t]&&(e[f[t]]=e[t],delete e[t]);return e}},{key:"getElementPosition",value:function(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}},{key:"createTooltip",value:function(){var e=this;this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout((function(){e.appendComponentToBody(u)}),this.getShowDelay()),this.showTimeoutId=window.setTimeout((function(){e.showTooltipElem()}),this.getShowDelay())}},{key:"destroyTooltip",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fast:!1};this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout((function(){e.hideTooltip()}),t.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout((function(){e.componentRef&&!e.isTooltipDestroyed&&(e.appRef.detachView(e.componentRef.hostView),e.componentRef.destroy(),e.events.emit({type:"hidden",position:e.tooltipPosition}))}),t.fast?0:this.destroyDelay))}},{key:"showTooltipElem",value:function(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}},{key:"hideTooltip",value:function(){this.componentRef&&!this.isTooltipDestroyed&&(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}},{key:"appendComponentToBody",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.componentRef=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe((function(e){t.handleEvents(e)}))}},{key:"clearTimeouts",value:function(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}},{key:"applyOptionsDefault",value:function(e,t){this.options=Object.assign({},e,this.initOptions||{},t)}},{key:"handleEvents",value:function(e){"shown"===e.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}},{key:"show",value:function(){!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem()}},{key:"hide",value:function(){this.destroyTooltip()}},{key:"options",set:function(e){e&&h&&(this._options=e)},get:function(){return this._options}},{key:"isTooltipDestroyed",get:function(){return this.componentRef&&this.componentRef.hostView.destroyed}},{key:"destroyDelay",get:function(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)},set:function(e){this._destroyDelay=e}},{key:"tooltipPosition",get:function(){return this.options.position?this.options.position:this.elementPosition}},{key:"isDisplayOnHover",get:function(){return 0!=this.options.display&&(0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"hover"===this.options.trigger}},{key:"isDisplayOnClick",get:function(){return 0!=this.options.display&&(0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"click"==this.options.trigger}},{key:"isTouchScreen",get:function(){var e,t=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||(e=["(",t.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(e).matches)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l,8),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.ComponentFactoryResolver),r["\u0275\u0275directiveInject"](r.ApplicationRef),r["\u0275\u0275directiveInject"](r.Injector))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","tooltip",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("focusin",(function(){return t.onMouseEnter()}))("mouseenter",(function(){return t.onMouseEnter()}))("focusout",(function(){return t.onMouseLeave()}))("mouseleave",(function(){return t.onMouseLeave()}))("click",(function(){return t.onClick()}))},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentType:["content-type","contentType"],hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndex:["z-index","zIndex"],animationDuration:["animation-duration","animationDuration"],trigger:"trigger",tooltipClass:["tooltip-class","tooltipClass"],display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidth:["max-width","maxWidth"],id:"id",showDelay:["show-delay","showDelay"],hideDelay:["hide-delay","hideDelay"],hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[r["\u0275\u0275NgOnChangesFeature"]]}),e}(),p=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:l,useValue:t}]}}}]),e}();return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.CommonModule]]}),e}()},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return k})),n.d(t,"__importDefault",(function(){return w}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},nYR2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7o/Q"),i=n("quSY");function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck2(this,e),this.callback=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.callback))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).add(new i.a(r)),o}return n}(r.a)},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},ngNE:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NechtoCardType=((r=t.NechtoCardType||{}).Event="event",r.Panic="panic",r)},nhJR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Card=function(){return function e(t){_classCallCheck2(this,e),this.id=null,this.hidden=null,this.shared=null,this.sharedWithPlayerId=null,this.requester=null,this.panicRequester=null,this.eventRequester=null,this.blockFrom=null,this.stepsSpent=null,Object.assign(this,t)}}()},o3mT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("sX+X"),o=r.__importStar(n("8Y7J")),a=function e(){_classCallCheck2(this,e),this.currentYear=(new Date).getFullYear(),this.copyright=new i.Copyright({authorName:"Yuriy D",authorCompanyName:"Chunkup",authorCompanyUrl:"https://chunkup.com"})};t.FooterComponent=a,a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=o.\u0275\u0275defineComponent({type:a,selectors:[["gw-footer"]],decls:5,vars:4,consts:[[1,"d-flex","justify-content-center","p-2"],[1,"light","mr-1"],["target","_blank",1,"light",3,"href"]],template:function(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275elementStart(1,"span",1),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"a",2),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1("",t.currentYear," \xa9"),o.\u0275\u0275advance(1),o.\u0275\u0275property("href",t.copyright.authorCompanyUrl,o.\u0275\u0275sanitizeUrl),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate2("",t.copyright.authorName,", ",t.copyright.authorCompanyName,""))},styles:[""]})},oB13:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("EQ5u");function i(e,t){return function(n){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new o(i,t));var a=Object.create(n,r.b);return a.source=n,a.subjectFactory=i,a}}var o=function(){function e(t,n){_classCallCheck2(this,e),this.subjectFactory=t,this.selector=n}return _createClass2(e,[{key:"call",value:function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}]),e}()},oLy0:function(e,t,n){parcelRequire=function(t,r,i,o){var a,s="function"==typeof parcelRequire&&parcelRequire;function c(e,i){if(!r[e]){if(!t[e]){var o="function"==typeof parcelRequire&&parcelRequire;if(!i&&o)return o(e,!0);if(s)return s(e,!0);if("string"==typeof e)return n("XhEF")(e);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}l.resolve=function(n){return t[e][1][n]||n},l.cache={};var u=r[e]=new c.Module(e);t[e][0].call(u.exports,l,u,u.exports,this)}return r[e].exports;function l(e){return c(l.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=t,c.cache=r,c.parent=s,c.register=function(e,n){t[e]=[function(e,t){t.exports=n},{}]};for(var u=0;u<i.length;u++)try{c(i[u])}catch(t){a||(a=t)}if(i.length){var l=c(i[i.length-1]);e.exports=l}if(parcelRequire=c,a)throw a;return c}({EgBh:[function(e,t,n){var r={};r.useBlobBuilder=function(){try{return new Blob([]),!1}catch(r){return!0}}(),r.useArrayBufferView=!r.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(r){return!0}}(),t.exports.binaryFeatures=r;var i=t.exports.BlobBuilder;function o(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(i=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),o.prototype.append=function(e){"number"==typeof e?this._pieces.push(e):(this.flush(),this._parts.push(e))},o.prototype.flush=function(){if(this._pieces.length>0){var e=new Uint8Array(this._pieces);r.useArrayBufferView||(e=e.buffer),this._parts.push(e),this._pieces=[]}},o.prototype.getBuffer=function(){if(this.flush(),r.useBlobBuilder){for(var e=new i,t=0,n=this._parts.length;t<n;t++)e.append(this._parts[t]);return e.getBlob()}return new Blob(this._parts)},t.exports.BufferBuilder=o},{}],kdPp:[function(e,t,n){var r=e("./bufferbuilder").BufferBuilder,i=e("./bufferbuilder").binaryFeatures;function o(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function a(){this.bufferBuilder=new r}function s(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}t.exports={unpack:function(e){return new o(e).unpack()},pack:function(e){var t=new a;return t.pack(e),t.getBuffer()}},o.prototype.unpack=function(){var e,t=this.unpack_uint8();if(t<128)return t;if((224^t)<32)return(224^t)-32;if((e=160^t)<=15)return this.unpack_raw(e);if((e=176^t)<=15)return this.unpack_string(e);if((e=144^t)<=15)return this.unpack_array(e);if((e=128^t)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}},o.prototype.unpack_uint8=function(){var e=255&this.dataView[this.index];return this.index++,e},o.prototype.unpack_uint16=function(){var e=this.read(2),t=256*(255&e[0])+(255&e[1]);return this.index+=2,t},o.prototype.unpack_uint32=function(){var e=this.read(4),t=256*(256*(256*e[0]+e[1])+e[2])+e[3];return this.index+=4,t},o.prototype.unpack_uint64=function(){var e=this.read(8),t=256*(256*(256*(256*(256*(256*(256*e[0]+e[1])+e[2])+e[3])+e[4])+e[5])+e[6])+e[7];return this.index+=8,t},o.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-256},o.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-65536},o.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)},o.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)},o.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t},o.prototype.unpack_string=function(e){for(var t,n,r=this.read(e),i=0,o="";i<e;)(t=r[i])<128?(o+=String.fromCharCode(t),i++):(192^t)<32?(n=(192^t)<<6|63&r[i+1],o+=String.fromCharCode(n),i+=2):(n=(15&t)<<12|(63&r[i+1])<<6|63&r[i+2],o+=String.fromCharCode(n),i+=3);return this.index+=e,o},o.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t},o.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var r=this.unpack(),i=this.unpack();t[r]=i}return t},o.prototype.unpack_float=function(){var e=this.unpack_uint32();return(0==e>>31?1:-1)*(8388607&e|8388608)*Math.pow(2,(e>>23&255)-127-23)},o.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=(e>>20&2047)-1023;return(0==e>>31?1:-1)*((1048575&e|1048576)*Math.pow(2,n-20)+t*Math.pow(2,n-52))},o.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")},a.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},a.prototype.pack=function(e){var t=typeof e;if("string"===t)this.pack_string(e);else if("number"===t)Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if("boolean"===t)!0===e?this.bufferBuilder.append(195):!1===e&&this.bufferBuilder.append(194);else if("undefined"===t)this.bufferBuilder.append(192);else{if("object"!==t)throw new Error('Type "'+t+'" not yet supported');if(null===e)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(n==ArrayBuffer)this.pack_bin(i.useArrayBufferView?new Uint8Array(e):e);else if("BYTES_PER_ELEMENT"in e)this.pack_bin(i.useArrayBufferView?new Uint8Array(e.buffer):e.buffer);else if(n==Object||n.toString().startsWith("class"))this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else{if("function"!=typeof e.toBinaryPack)throw new Error('Type "'+n.toString()+'" not yet supported');this.bufferBuilder.append(e.toBinaryPack())}}}this.bufferBuilder.flush()},a.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(t)}this.bufferBuilder.append(e)},a.prototype.pack_string=function(e){var t=function(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,s).length}(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(t)}this.bufferBuilder.append(e)},a.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(t)}for(var n=0;n<t;n++)this.pack(e[n])},a.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(255&e);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-0x8000000000000000&&e<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(e);else{if(!(e>=0&&e<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(e)}},a.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),r=e/Math.pow(2,n)-1,i=Math.floor(r*Math.pow(2,52)),o=Math.pow(2,32),a=t<<31|n+1023<<20|i/o&1048575,s=i%o;this.bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(s)},a.prototype.pack_object=function(e){var t=Object.keys(e).length;if(t<=15)this.pack_uint8(128+t);else if(t<=65535)this.bufferBuilder.append(222),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(t)}for(var n in e)e.hasOwnProperty(n)&&(this.pack(n),this.pack(e[n]))},a.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)},a.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_uint32=function(e){var t=4294967295&e;this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t)},a.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)},a.prototype.pack_int8=function(e){this.bufferBuilder.append(255&e)},a.prototype.pack_int16=function(e){this.bufferBuilder.append((65280&e)>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)}},{"./bufferbuilder":"EgBh"}],iSxC:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.extractVersion=a,n.wrapPeerConnectionEvent=function(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},n.disableLog=function(e){return"boolean"!=typeof e?new Error("Argument type: "+r(e)+". Please use a boolean."):(i=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},n.disableWarnings=function(e){return"boolean"!=typeof e?new Error("Argument type: "+r(e)+". Please use a boolean."):(o=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},n.log=function(){if("object"===("undefined"==typeof window?"undefined":r(window))){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},n.deprecated=function(e,t){o&&console.warn(e+" is deprecated, please use "+t+" instead.")},n.detectBrowser=function(e){var t=e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=a(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=a(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=a(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=a(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n},n.compactObject=function e(t){return s(t)?Object.keys(t).reduce((function(n,r){var i=s(t[r]),o=i?e(t[r]):t[r],a=i&&!Object.keys(o).length;return void 0===o||a?n:Object.assign(n,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,o))}),{}):t},n.walkStats=c,n.filterStats=function(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&c(e,n,i)}))})),i};var i=!0,o=!0;function a(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?c(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){c(e,e.get(t),n)}))})))}},{}],s6SN:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices){var n=r.detectBrowser(e),a=function(e){if("object"!==i(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===i(e[n])?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"==typeof r.ideal?(a[o("min",n)]=r.ideal,t.optional.push(a),(a={})[o("max",n)]=r.ideal,t.optional.push(a)):(a[o("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,r){if(n.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===i(e.audio)){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};s((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),s(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=a(e.audio)}if(e&&"object"===i(e.video)){var c=e.video.facingMode;c=c&&("object"===i(c)?c:{ideal:c});var u,l=n.version<66;if(c&&("user"===c.exact||"environment"===c.exact||"user"===c.ideal||"environment"===c.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||l)&&(delete e.video.facingMode,"environment"===c.exact||"environment"===c.ideal?u=["back","rear"]:"user"!==c.exact&&"user"!==c.ideal||(u=["front"]),u))return t.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return u.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&u.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=c.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=a(e.video),o("chrome: "+JSON.stringify(e)),r(e)}));e.video=a(e.video)}return o("chrome: "+JSON.stringify(e)),r(e)},c=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=(function(e,n,r){s(e,(function(e){t.webkitGetUserMedia(e,n,(function(e){r&&r(c(e))}))}))}).bind(t),t.mediaDevices.getUserMedia){var u=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return s(e,(function(e){return u(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(c(e))}))}))}}}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../utils.js"));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r.log},{"../utils.js":"iSxC"}],VHa8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:n.video&&n.video.frameRate||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],uI5X:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimMediaStream=function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},n.shimOnTrack=function(e){if("object"!==s(e)||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)r.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}},n.shimGetSendersWithDtmf=function(e){if("object"===s(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===t.kind?e.createDTMFSender(t):null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===s(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}},n.shimGetStats=function(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};return arguments.length>=2?t.apply(this,[function(e){i(s(a(e)))},r]):new Promise((function(n,r){t.apply(e,[function(e){n(s(a(e)))},r])})).then(i,o)}}},n.shimSenderReceiverGetStats=function(e){if("object"===s(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return r.filterStats(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return r.filterStats(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,i=arguments[0];return this.getSenders().forEach((function(e){e.track===i&&(t?r=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===i&&(n?r=!0:n=e),e.track===i})),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}},n.shimAddTrackRemoveTrackWithNative=c,n.shimAddTrackRemoveTrack=function(e){if(e.RTCPeerConnection){var t=r.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return c(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}i.apply(this,[t])};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var a=new e.MediaStream([t]);this._streams[n.id]=a,this._reverseStreams[a.id]=n,this.addStream(a)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=a({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(n){var r=l(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return l(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,n=(t=arguments[0]).sdp,Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})),s.apply(this,arguments)):s.apply(this,arguments);var e,t,n};var u=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=u.get.apply(this);return""===e.type?e:l(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function l(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t];n=n.replace(new RegExp(e._streams[r.id].id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}},n.shimPeerConnection=function(e){var t=r.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=a({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},n.fixNegotiationNeeded=function(e){r.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))},Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}}),Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}});var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../utils.js")),i=e("./getusermedia"),o=e("./getdisplaymedia");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],NZ1C:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.filterIceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var i="string"==typeof t;return i&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=i?t[0]:t,!!t.length}}))};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../utils"))},{"../utils":"iSxC"}],YHvh:[function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){r.push(e.parameters[t]?t+"="+e.parameters[t]:t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=r.parseRtpMap(a),c=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var a=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",o+=e.direction?"a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"==typeof t&&(t.exports=r)},{}],NJ2u:[function(e,t,n){"use strict";var r=e("sdp");function i(e,t,n,i,o){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",a+=e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(i?i.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),a=r(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function c(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}t.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var l=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();n.iceTransport=r.iceTransport,n.dtlsTransport=r.dtlsTransport}return t||this.transceivers.push(n),n},l.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},l.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},l.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var u=r.writeCandidate(s);a.candidate=Object.assign(a.candidate,r.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var l=r.getMediaSections(i._localDescription.sdp);l[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+l.join("");var h=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",a),h&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,n,i){var a=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),a.encodings=e.recvEncodingParameters.length?e.recvEncodingParameters:[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},l.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var s=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var a=i.transceivers[t],c=a.iceGatherer,u=a.iceTransport,l=a.dtlsTransport,h=a.localCapabilities,f=a.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length||a.rejected)){var d=r.getIceParameters(e,n),p=r.getDtlsParameters(e,n);s&&(p.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===u.state&&u.start(c,d,s?"controlling":"controlled"),"new"===l.state&&l.start(p));var v=o(h,f);i._transceive(a,v.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},i._updateSignalingState("offer"===e.type?"have-local-offer":"stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(i){var l=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,l.signalingState)||l._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+l.signalingState));var h={};l.remoteStreams.forEach((function(e){h[e.id]=e}));var f=[],d=r.splitSections(i.sdp),p=d.shift(),v=r.matchPrefix(p,"a=ice-lite").length>0,m=r.matchPrefix(p,"a=group:BUNDLE ").length>0;l.usingBundle=m;var g=r.matchPrefix(p,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,d.forEach((function(a,c){var u=r.splitLines(a),d=r.getKind(a),g=r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length,y=u[0].substr(2).split(" ")[2],_=r.getDirection(a,p),b=r.parseMsid(a),C=r.getMid(a)||r.generateIdentifier();if(g||"application"===d&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))l.transceivers[c]={mid:C,kind:d,protocol:y,rejected:!0};else{var k,w,S,E,I,O,P,x,T;!g&&l.transceivers[c]&&l.transceivers[c].rejected&&(l.transceivers[c]=l._createTransceiver(d,!0));var A,D,R=r.parseRtpParameters(a);g||(A=r.getIceParameters(a,p),(D=r.getDtlsParameters(a,p)).role="client"),P=r.parseRtpEncodingParameters(a);var j=r.parseRtcpParameters(a),M=r.matchPrefix(a,"a=end-of-candidates",p).length>0,N=r.matchPrefix(a,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!g&&m&&c>0&&l.transceivers[c]&&(l._disposeIceAndDtlsTransports(c),l.transceivers[c].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[c].iceTransport=l.transceivers[0].iceTransport,l.transceivers[c].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[c].rtpSender&&l.transceivers[c].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[c].rtpReceiver&&l.transceivers[c].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==i.type||g)"answer"!==i.type||g||(w=(k=l.transceivers[c]).iceGatherer,S=k.iceTransport,E=k.dtlsTransport,I=k.rtpReceiver,O=k.sendEncodingParameters,x=k.localCapabilities,l.transceivers[c].recvEncodingParameters=P,l.transceivers[c].remoteCapabilities=R,l.transceivers[c].rtcpParameters=j,N.length&&"new"===S.state&&(!v&&!M||m&&0!==c?N.forEach((function(e){s(k.iceTransport,e)})):S.setRemoteCandidates(N)),m&&0!==c||("new"===S.state&&S.start(w,A,"controlling"),"new"===E.state&&E.start(D)),!o(k.localCapabilities,k.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&k.sendEncodingParameters[0].rtx&&delete k.sendEncodingParameters[0].rtx,l._transceive(k,"sendrecv"===_||"recvonly"===_,"sendrecv"===_||"sendonly"===_),!I||"sendrecv"!==_&&"sendonly"!==_?delete k.rtpReceiver:(T=I.track,b?(h[b.stream]||(h[b.stream]=new e.MediaStream),n(T,h[b.stream]),f.push([T,I,h[b.stream]])):(h.default||(h.default=new e.MediaStream),n(T,h.default),f.push([T,I,h.default]))));else{(k=l.transceivers[c]||l._createTransceiver(d)).mid=C,k.iceGatherer||(k.iceGatherer=l._createIceGatherer(c,m)),N.length&&"new"===k.iceTransport.state&&(!M||m&&0!==c?N.forEach((function(e){s(k.iceTransport,e)})):k.iceTransport.setRemoteCandidates(N)),x=e.RTCRtpReceiver.getCapabilities(d),t<15019&&(x.codecs=x.codecs.filter((function(e){return"rtx"!==e.name}))),O=k.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var F,L=!1;"sendrecv"===_||"sendonly"===_?(L=!k.rtpReceiver,I=k.rtpReceiver||new e.RTCRtpReceiver(k.dtlsTransport,d),L&&(T=I.track,b&&"-"===b.stream||(b?(h[b.stream]||(h[b.stream]=new e.MediaStream,Object.defineProperty(h[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(T,"id",{get:function(){return b.track}}),F=h[b.stream]):(h.default||(h.default=new e.MediaStream),F=h.default)),F&&(n(T,F),k.associatedRemoteMediaStreams.push(F)),f.push([T,I,F]))):k.rtpReceiver&&k.rtpReceiver.track&&(k.associatedRemoteMediaStreams.forEach((function(t){var n,r,i=t.getTracks().find((function(e){return e.id===k.rtpReceiver.track.id}));i&&((r=t).removeTrack(n=i),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:n})))})),k.associatedRemoteMediaStreams=[]),k.localCapabilities=x,k.remoteCapabilities=R,k.rtpReceiver=I,k.rtcpParameters=j,k.sendEncodingParameters=O,k.recvEncodingParameters=P,l._transceive(l.transceivers[c],!1,L)}}})),void 0===l._dtlsRole&&(l._dtlsRole="offer"===i.type?"active":"passive"),l._remoteDescription={type:i.type,sdp:i.sdp},l._updateSignalingState("offer"===i.type?"have-remote-offer":"stable"),Object.keys(h).forEach((function(t){var n=h[t];if(n.getTracks().length){if(-1===l.remoteStreams.indexOf(n)){l.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){l._dispatchEvent("addstream",r)}))}f.forEach((function(e){n.id===e[2].id&&u(l,e[0],e[1],[n])}))}})),f.forEach((function(e){e[2]||u(l,e[0],e[1],[])})),e.setTimeout((function(){l&&l.transceivers&&l.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter((function(e){return"audio"===e.kind})).length,a=n.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));o>0||a>0;)o>0&&(n._createTransceiver("audio"),o--),a>0&&(n._createTransceiver("video"),a--);var u=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,o){var a=i.track,s=i.kind,c=i.mid||r.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=u,i.sendEncodingParameters=l})),"max-compat"!==n._config.bundlePolicy&&(u+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){u+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,u+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(l)},l.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var a=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(a+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>s)){if(e.rejected)return"application"===e.kind?a+="DTLS/SCTP"===e.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;e.stream&&("audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=i(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}}));var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},l.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,o){if(!n._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===e.sdpMid){a=u;break}var l=n.transceivers[a];if(!l)return o(c("OperationError","Can not add ICE candidate"));if(l.rejected)return i();var h=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===h.protocol&&(0===h.port||9===h.port))return i();if(h.component&&1!==h.component)return i();if((0===a||a>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!s(l.iceTransport,h))return o(c("OperationError","Can not add ICE candidate"));var f=e.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(h.type?f:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var d=0;d<n.transceivers.length&&(n.transceivers[d].rejected||(n.transceivers[d].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[d]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));d++);i()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw c("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){e[n].type=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}(e[n]),t.set(n,e[n])})),t}))}}}));var h=["createOffer","createAnswer"];return h.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(h=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}},{sdp:"YHvh"}],YdKx:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},{}],P3bV:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}},{}],XRic:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimPeerConnection=function(e){var t=r.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var a=(0,o.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,i.filterIceServers)(e.iceServers,t.version),r.log("ICE servers after filtering:",e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},n.shimReplaceTrack=function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return a.shimGetUserMedia}}),Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return s.shimGetDisplayMedia}});var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../utils")),i=e("./filtericeservers"),o=function(e){return e&&e.__esModule?e:{default:e}}(e("rtcpeerconnection-shim")),a=e("./getusermedia"),s=e("./getdisplaymedia")},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],GzSv:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(e){var t=r.detectBrowser(e),n=e&&e.navigator,o=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){r.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var a=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===i(e)&&"object"===i(e.audio)&&(e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","mozAutoGainControl"),a(e.audio,"noiseSuppression","mozNoiseSuppression")),s(e)},o&&o.prototype.getSettings){var c=o.prototype.getSettings;o.prototype.getSettings=function(){var e=c.apply(this,arguments);return a(e,"mozAutoGainControl","autoGainControl"),a(e,"mozNoiseSuppression","noiseSuppression"),e}}if(o&&o.prototype.applyConstraints){var u=o.prototype.applyConstraints;o.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===i(e)&&(e=JSON.parse(JSON.stringify(e)),a(e,"autoGainControl","mozAutoGainControl"),a(e,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[e])}}}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../utils"));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},{"../utils":"iSxC"}],UuGU:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}},{}],Fzdr:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimOnTrack=function(e){"object"===a(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimPeerConnection=function(e){var t=r.detectBrowser(e);if("object"===a(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]})),t.version<68){var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],r=e[1],a=e[2];return o.apply(this,[n||null]).then((function(e){if(t.version<53&&!r)try{e.forEach((function(e){e.type=i[e.type]||e.type}))}catch(a){if("TypeError"!==a.name)throw a;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,a)}}},n.shimSenderGetStats=function(e){if("object"===a(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},n.shimReceiverGetStats=function(e){if("object"===a(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},n.shimRemoveStream=function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;r.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})},n.shimRTCDataChannel=function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},n.shimAddTransceiver=function(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();"encodings"in o||(o.encodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).catch((function(){}))))}return r})}},n.shimCreateOffer=function(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}},n.shimCreateAnswer=function(e){if("object"===a(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}},Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}}),Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}});var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../utils")),i=e("./getusermedia"),o=e("./getdisplaymedia");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],t1lL:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimLocalStreamsAPI=function(e){if("object"===i(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){var n=arguments[1];return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}},n.shimRemoteStreamsAPI=function(e){if("object"===i(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}},n.shimCallbacksAPI=function(e){if("object"===i(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var c=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=c,t.setRemoteDescription=c=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=c=function(e,t,n){var r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r}}},n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(o(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}).bind(t))},n.shimConstraints=o,n.shimRTCIceServerUrls=function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(r.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,i.push(a)):i.push(e.iceServers[o])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},n.shimTrackEventTransceiver=function(e){"object"===i(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimCreateOfferLegacy=function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("../utils"));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return e&&void 0!==e.video?Object.assign({},e,{video:r.compactObject(e.video)}):e}},{"../utils":"iSxC"}],GOQK:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shimRTCIceCandidate=function(e){if(e.RTCIceCandidate&&(!e.RTCIceCandidate||!("foundation"in e.RTCIceCandidate.prototype))){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===function(e){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=r.default.parseCandidate(e.candidate),o=Object.assign(n,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},n.shimMaxMessageSize=function(e){if(e.RTCPeerConnection){var t=i.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var e=this.getConfiguration(),i=e.sdpSemantics;"plan-b"===i&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;var t=r.default.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=r.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){var o,a=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),s=(l=a,h=65536,"firefox"===t.browser&&(h=t.version<57?-1===l?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),h),c=function(e,n){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var o=r.default.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?i=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i}(arguments[0],a);o=0===s&&0===c?Number.POSITIVE_INFINITY:0===s||0===c?Math.max(s,c):Math.min(s,c);var u={};Object.defineProperty(u,"maxMessageSize",{get:function(){return o}}),this._sctp=u}var l,h;return n.apply(this,arguments)}}},n.shimSendThrowTypeError=function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},i.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}},n.shimConnectionState=function(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}},n.removeAllowExtmapMixed=function(e){if(e.RTCPeerConnection){var t=i.detectBrowser(e);if(!("chrome"===t.browser&&t.version>=71)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n")),n.apply(this,arguments)}}}};var r=function(e){return e&&e.__esModule?e:{default:e}}(e("sdp")),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("./utils"))},{sdp:"YHvh","./utils":"iSxC"}],KtlG:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.adapterFactory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},u=r.log,l=r.detectBrowser(t),h={browserDetails:l,commonShim:c,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(l.browser){case"chrome":if(!i||!i.shimPeerConnection||!n.shimChrome)return u("Chrome shim is not included in this adapter release."),h;u("adapter.js shimming chrome."),h.browserShim=i,i.shimGetUserMedia(t),i.shimMediaStream(t),i.shimPeerConnection(t),i.shimOnTrack(t),i.shimAddTrackRemoveTrack(t),i.shimGetSendersWithDtmf(t),i.shimGetStats(t),i.shimSenderReceiverGetStats(t),i.fixNegotiationNeeded(t),c.shimRTCIceCandidate(t),c.shimConnectionState(t),c.shimMaxMessageSize(t),c.shimSendThrowTypeError(t),c.removeAllowExtmapMixed(t);break;case"firefox":if(!a||!a.shimPeerConnection||!n.shimFirefox)return u("Firefox shim is not included in this adapter release."),h;u("adapter.js shimming firefox."),h.browserShim=a,a.shimGetUserMedia(t),a.shimPeerConnection(t),a.shimOnTrack(t),a.shimRemoveStream(t),a.shimSenderGetStats(t),a.shimReceiverGetStats(t),a.shimRTCDataChannel(t),a.shimAddTransceiver(t),a.shimCreateOffer(t),a.shimCreateAnswer(t),c.shimRTCIceCandidate(t),c.shimConnectionState(t),c.shimMaxMessageSize(t),c.shimSendThrowTypeError(t);break;case"edge":if(!o||!o.shimPeerConnection||!n.shimEdge)return u("MS edge shim is not included in this adapter release."),h;u("adapter.js shimming edge."),h.browserShim=o,o.shimGetUserMedia(t),o.shimGetDisplayMedia(t),o.shimPeerConnection(t),o.shimReplaceTrack(t),c.shimMaxMessageSize(t),c.shimSendThrowTypeError(t);break;case"safari":if(!s||!n.shimSafari)return u("Safari shim is not included in this adapter release."),h;u("adapter.js shimming safari."),h.browserShim=s,s.shimRTCIceServerUrls(t),s.shimCreateOfferLegacy(t),s.shimCallbacksAPI(t),s.shimLocalStreamsAPI(t),s.shimRemoteStreamsAPI(t),s.shimTrackEventTransceiver(t),s.shimGetUserMedia(t),c.shimRTCIceCandidate(t),c.shimMaxMessageSize(t),c.shimSendThrowTypeError(t),c.removeAllowExtmapMixed(t);break;default:u("Unsupported browser!")}return h};var r=l(e("./utils")),i=l(e("./chrome/chrome_shim")),o=l(e("./edge/edge_shim")),a=l(e("./firefox/firefox_shim")),s=l(e("./safari/safari_shim")),c=l(e("./common_shim"));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],tI1X:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,e("./adapter_factory.js").adapterFactory)({window:window});n.default=r},{"./adapter_factory.js":"KtlG"}],sXtV:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=r(e("webrtc-adapter"));n.webRTCAdapter=i.default},{"webrtc-adapter":"tI1X"}],I31f:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./adapter");n.Supports=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return"undefined"!=typeof RTCPeerConnection},e.prototype.isBrowserSupported=function(){var e=this.getBrowser(),t=this.getVersion();return!!this.supportedBrowsers.includes(e)&&("chrome"===e?t>=this.minChromeVersion:"firefox"===e?t>=this.minFirefoxVersion:"safari"===e&&!this.isIOS&&t>=this.minSafariVersion)},e.prototype.getBrowser=function(){return r.webRTCAdapter.browserDetails.browser},e.prototype.getVersion=function(){return r.webRTCAdapter.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var e,t=this.getBrowser(),n=r.webRTCAdapter.browserDetails.version||0;if("chrome"===t&&n<72)return!1;if("firefox"===t&&n>=59)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var i=!1;try{(e=new RTCPeerConnection).addTransceiver("audio"),i=!0}catch(o){}finally{e&&e.close()}return i},e.prototype.toString=function(){return"Supports: \n    browser:"+this.getBrowser()+" \n    version:"+this.getVersion()+" \n    isIOS:"+this.isIOS+" \n    isWebRTCSupported:"+this.isWebRTCSupported()+" \n    isBrowserSupported:"+this.isBrowserSupported()+" \n    isUnifiedPlanSupported:"+this.isUnifiedPlanSupported()},e}())},{"./adapter":"sXtV"}],BHXf:[function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(n,"__esModule",{value:!0});var i=r(e("peerjs-js-binarypack")),o=e("./supports"),a={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:0.peerjs.com:3478",username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};n.util=new(function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=a,this.browser=o.Supports.getBrowser(),this.browserVersion=o.Supports.getVersion(),this.supports=function(){var e,t={browser:o.Supports.isBrowserSupported(),webRTC:o.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;try{e=new RTCPeerConnection(a),t.audioVideo=!0;var n=void 0;try{n=e.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!n.ordered;try{n.binaryType="blob",t.binaryBlob=!o.Supports.isIOS}catch(r){}}catch(r){}finally{n&&n.close()}}catch(r){}finally{e&&e.close()}return t}(),this.pack=i.pack,this.unpack=i.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)},e.prototype.chunk=function(e){for(var t=[],r=e.size,i=Math.ceil(r/n.util.chunkedMTU),o=0,a=0;a<r;){var s=Math.min(r,a+n.util.chunkedMTU),c=e.slice(a,s);t.push({__peerData:this._dataCount,n:o,data:c,total:i}),a=s,o++}return this._dataCount++,t},e.prototype.blobToArrayBuffer=function(e,t){var n=new FileReader;return n.onload=function(e){e.target&&t(e.target.result)},n.readAsArrayBuffer(e),n},e.prototype.binaryStringToArrayBuffer=function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},e.prototype.isSecure=function(){return"https:"===location.protocol},e}())},{"peerjs-js-binarypack":"kdPp","./supports":"I31f"}],JJlS:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),c=i?i+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=this._events[i?i+e:e];if(!t)return[];if(t.fn)return[t.fn];for(var n=0,r=t.length,o=new Array(r);n<r;n++)o[n]=t[n].fn;return o},u.prototype.listenerCount=function(e){var t=this._events[i?i+e:e];return t?t.fn?1:t.length:0},u.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,a),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,r);break;default:if(!c)for(f=1,c=new Array(h-1);f<h;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return c(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||c(this,o);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:c(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?this._events[t=i?i+e:e]&&c(this,t):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,void 0!==t&&(t.exports=u)},{}],WOs9:[function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(n,"__esModule",{value:!0});var o,a="PeerJS: ";!function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"}(o=n.LogLevel||(n.LogLevel={}));var s=function(){function e(){this._logLevel=o.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!0,configurable:!0}),e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel>=o.All&&this._print.apply(this,i([o.All],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel>=o.Warnings&&this._print.apply(this,i([o.Warnings],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logLevel>=o.Errors&&this._print.apply(this,i([o.Errors],e))},e.prototype.setLogFunction=function(e){this._print=e},e.prototype._print=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=i([a],t);for(var s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);e>=o.All?console.log.apply(console,i(r)):e>=o.Warnings?console.warn.apply(console,i(["WARNING"],r)):e>=o.Errors&&console.error.apply(console,i(["ERROR"],r))},e}();n.default=new s},{}],ZRYf:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),(r=n.ConnectionEventType||(n.ConnectionEventType={})).Open="open",r.Stream="stream",r.Data="data",r.Close="close",r.Error="error",r.IceStateChanged="iceStateChanged",function(e){e.Data="data",e.Media="media"}(n.ConnectionType||(n.ConnectionType={})),function(e){e.Open="open",e.Close="close",e.Connection="connection",e.Call="call",e.Disconnected="disconnected",e.Error="error"}(n.PeerEventType||(n.PeerEventType={})),function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"}(n.PeerErrorType||(n.PeerErrorType={})),function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"}(n.SerializationType||(n.SerializationType={})),function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"}(n.SocketEventType||(n.SocketEventType={})),function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"}(n.ServerMessageType||(n.ServerMessageType={}))},{}],wJlv:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(h){i={error:h}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=e("eventemitter3"),l=c(e("./logger")),h=e("./enums"),f=function(e){function t(t,n,r,i,o,a){void 0===a&&(a=5e3);var s=e.call(this)||this;return s.pingInterval=a,s._disconnected=!0,s._messagesQueue=[],s._baseUrl=(t?"wss://":"ws://")+n+":"+r+i+"peerjs?key="+o,s}return i(t,e),t.prototype.start=function(e,t){var n=this;this._id=e,!this._socket&&this._disconnected&&(this._socket=new WebSocket(this._baseUrl+"&id="+e+"&token="+t),this._disconnected=!1,this._socket.onmessage=function(e){var t;try{t=JSON.parse(e.data),l.default.log("Server message received:",t)}catch(s){return void l.default.log("Invalid server message",e.data)}n.emit(h.SocketEventType.Message,t)},this._socket.onclose=function(e){n._disconnected||(l.default.log("Socket closed.",e),n._cleanup(),n._disconnected=!0,n.emit(h.SocketEventType.Disconnected))},this._socket.onopen=function(){n._disconnected||(n._sendQueuedMessages(),l.default.log("Socket open"),n._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var e=this;this._wsPingTimer=setTimeout((function(){e._sendHeartbeat()}),this.pingInterval)},t.prototype._sendHeartbeat=function(){if(this._wsOpen()){var e=JSON.stringify({type:h.ServerMessageType.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}else l.default.log("Cannot send heartbeat, because socket closed")},t.prototype._wsOpen=function(){return!!this._socket&&1===this._socket.readyState},t.prototype._sendQueuedMessages=function(){var e,t,n=a(this._messagesQueue);this._messagesQueue=[];try{for(var r=s(n),i=r.next();!i.done;i=r.next())this.send(i.value)}catch(f){e={error:f}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.send=function(e){if(!this._disconnected)if(this._id)if(e.type){if(this._wsOpen()){var t=JSON.stringify(e);this._socket.send(t)}}else this.emit(h.SocketEventType.Error,"Invalid message");else this._messagesQueue.push(e)},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(u.EventEmitter);n.Socket=f},{eventemitter3:"JJlS","./logger":"WOs9","./enums":"ZRYf"}],HCdX:[function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./util"),c=a(e("./logger")),u=e("./enums"),l=function(){function e(e){this.connection=e}return e.prototype.startConnection=function(e){var t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===u.ConnectionType.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){if(this.connection.type===u.ConnectionType.Data){var n=this.connection,r=t.createDataChannel(n.label,{ordered:!!e.reliable});n.initialize(r)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)},e.prototype._startPeerConnection=function(){c.default.log("Creating RTCPeerConnection.");var e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e},e.prototype._setupListeners=function(e){var t=this,n=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,o=this.connection.provider;c.default.log("Listening for ICE candidates."),e.onicecandidate=function(e){e.candidate&&e.candidate.candidate&&(c.default.log("Received ICE candidates for "+n+":",e.candidate),o.socket.send({type:u.ServerMessageType.Candidate,payload:{candidate:e.candidate,type:i,connectionId:r},dst:n}))},e.oniceconnectionstatechange=function(){switch(e.iceConnectionState){case"failed":c.default.log("iceConnectionState is failed, closing connections to "+n),t.connection.emit(u.ConnectionEventType.Error,new Error("Negotiation of connection to "+n+" failed.")),t.connection.close();break;case"closed":c.default.log("iceConnectionState is closed, closing connections to "+n),t.connection.emit(u.ConnectionEventType.Error,new Error("Connection to "+n+" closed.")),t.connection.close();break;case"disconnected":c.default.log("iceConnectionState is disconnected, closing connections to "+n),t.connection.emit(u.ConnectionEventType.Error,new Error("Connection to "+n+" disconnected.")),t.connection.close();break;case"completed":e.onicecandidate=s.util.noop}t.connection.emit(u.ConnectionEventType.IceStateChanged,e.iceConnectionState)},c.default.log("Listening for data channel"),e.ondatachannel=function(e){c.default.log("Received data channel");var t=e.channel;o.getConnection(n,r).initialize(t)},c.default.log("Listening for remote stream"),e.ontrack=function(e){c.default.log("Received remote stream");var i=e.streams[0],a=o.getConnection(n,r);a.type===u.ConnectionType.Media&&t._addStreamToMediaConnection(i,a)}},e.prototype.cleanup=function(){c.default.log("Cleaning up PeerConnection to "+this.connection.peer);var e=this.connection.peerConnection;if(e){this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=function(){};var t=!1;if(this.connection.type===u.ConnectionType.Data){var n=this.connection.dataChannel;n&&(t=!!n.readyState&&"closed"!==n.readyState)}("closed"!==e.signalingState||t)&&e.close()}},e.prototype._makeOffer=function(){return i(this,void 0,Promise,(function(){var e,t,n,i,a,l,h;return o(this,(function(o){switch(o.label){case 0:e=this.connection.peerConnection,t=this.connection.provider,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,e.createOffer(this.connection.options.constraints)];case 2:n=o.sent(),c.default.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,e.setLocalDescription(n)];case 4:return o.sent(),c.default.log("Set localDescription:",n,"for:"+this.connection.peer),i={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:s.util.browser},this.connection.type===u.ConnectionType.Data&&(a=this.connection,i=r(r({},i),{label:a.label,reliable:a.reliable,serialization:a.serialization})),t.socket.send({type:u.ServerMessageType.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=(l=o.sent())&&(t.emitError(u.PeerErrorType.WebRTC,l),c.default.log("Failed to setLocalDescription, ",l)),[3,6];case 6:return[3,8];case 7:return h=o.sent(),t.emitError(u.PeerErrorType.WebRTC,h),c.default.log("Failed to createOffer, ",h),[3,8];case 8:return[2]}}))}))},e.prototype._makeAnswer=function(){return i(this,void 0,Promise,(function(){var e,t,n,r,i;return o(this,(function(o){switch(o.label){case 0:e=this.connection.peerConnection,t=this.connection.provider,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,e.createAnswer()];case 2:n=o.sent(),c.default.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,e.setLocalDescription(n)];case 4:return o.sent(),c.default.log("Set localDescription:",n,"for:"+this.connection.peer),t.socket.send({type:u.ServerMessageType.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,browser:s.util.browser},dst:this.connection.peer}),[3,6];case 5:return r=o.sent(),t.emitError(u.PeerErrorType.WebRTC,r),c.default.log("Failed to setLocalDescription, ",r),[3,6];case 6:return[3,8];case 7:return i=o.sent(),t.emitError(u.PeerErrorType.WebRTC,i),c.default.log("Failed to create answer, ",i),[3,8];case 8:return[2]}}))}))},e.prototype.handleSDP=function(e,t){return i(this,void 0,Promise,(function(){var n,r,i,a;return o(this,(function(o){switch(o.label){case 0:t=new RTCSessionDescription(t),n=this.connection.peerConnection,r=this.connection.provider,c.default.log("Setting remote description",t),i=this,o.label=1;case 1:return o.trys.push([1,5,,6]),[4,n.setRemoteDescription(t)];case 2:return o.sent(),c.default.log("Set remoteDescription:"+e+" for:"+this.connection.peer),"OFFER"!==e?[3,4]:[4,i._makeAnswer()];case 3:o.sent(),o.label=4;case 4:return[3,6];case 5:return a=o.sent(),r.emitError(u.PeerErrorType.WebRTC,a),c.default.log("Failed to setRemoteDescription, ",a),[3,6];case 6:return[2]}}))}))},e.prototype.handleCandidate=function(e){return i(this,void 0,Promise,(function(){var t,n,r,i,a,s;return o(this,(function(o){switch(o.label){case 0:c.default.log("handleCandidate:",e),t=e.candidate,n=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,a=this.connection.provider,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,i.addIceCandidate(new RTCIceCandidate({sdpMid:r,sdpMLineIndex:n,candidate:t}))];case 2:return o.sent(),c.default.log("Added ICE candidate for:"+this.connection.peer),[3,4];case 3:return s=o.sent(),a.emitError(u.PeerErrorType.WebRTC,s),c.default.log("Failed to handleCandidate, ",s),[3,4];case 4:return[2]}}))}))},e.prototype._addTracksToConnection=function(e,t){if(c.default.log("add tracks from stream "+e.id+" to peer connection"),!t.addTrack)return c.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach((function(n){t.addTrack(n,e)}))},e.prototype._addStreamToMediaConnection=function(e,t){c.default.log("add stream "+e.id+" to media connection "+t.connectionId),t.addStream(e)},e}();n.Negotiator=l},{"./util":"BHXf","./logger":"WOs9","./enums":"ZRYf"}],tQFK:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n,r){var i=e.call(this)||this;return i.peer=t,i.provider=n,i.options=r,i._open=!1,i.metadata=r.metadata,i}return i(t,e),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),t}(e("eventemitter3").EventEmitter);n.BaseConnection=o},{eventemitter3:"JJlS"}],dbHP:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("./util"),u=s(e("./logger")),l=e("./negotiator"),h=e("./enums"),f=function(e){function t(n,r,i){var o=e.call(this,n,r,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||t.ID_PREFIX+c.util.randomToken(),o._negotiator=new l.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return i(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return h.ConnectionType.Media},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!0,configurable:!0}),t.prototype.addStream=function(t){u.default.log("Receiving stream",t),this._remoteStream=t,e.prototype.emit.call(this,h.ConnectionEventType.Stream,t)},t.prototype.handleMessage=function(e){var t=e.type,n=e.payload;switch(e.type){case h.ServerMessageType.Answer:this._negotiator.handleSDP(t,n.sdp),this._open=!0;break;case h.ServerMessageType.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:u.default.warn("Unrecognized message type:"+t+" from peer:"+this.peer)}},t.prototype.answer=function(e,t){var n,r;if(void 0===t&&(t={}),this._localStream)u.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection(o(o({},this.options._payload),{_stream:e}));var i=this.provider._getMessages(this.connectionId);try{for(var s=a(i),c=s.next();!c.done;c=s.next())this.handleMessage(c.value)}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this._open=!0}},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,h.ConnectionEventType.Close))},t.ID_PREFIX="mc_",t}(e("./baseconnection").BaseConnection);n.MediaConnection=f},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK"}],GGp6:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("eventemitter3"),s=o(e("./logger")),c=function(e){function t(){var t=e.call(this)||this;return t.fileReader=new FileReader,t._queue=[],t._processing=!1,t.fileReader.onload=function(e){t._processing=!1,e.target&&t.emit("done",e.target.result),t.doNextTask()},t.fileReader.onerror=function(e){s.default.error("EncodingQueue error:",e),t._processing=!1,t.destroy(),t.emit("error",e)},t}return i(t,e),Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!0,configurable:!0}),t.prototype.enque=function(e){this.queue.push(e),this.processing||this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(a.EventEmitter);n.EncodingQueue=c},{eventemitter3:"JJlS","./logger":"WOs9"}],GBTQ:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./util"),c=a(e("./logger")),u=e("./negotiator"),l=e("./enums"),h=e("./baseconnection"),f=e("./encodingQueue"),d=function(e){function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new f.EncodingQueue,o.connectionId=o.options.connectionId||t.ID_PREFIX+s.util.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||l.SerializationType.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",(function(e){o._bufferedSend(e)})),o._encodingQueue.on("error",(function(){c.default.error("DC#"+o.connectionId+": Error occured in encoding from blob to arraybuffer, close DC"),o.close()})),o._negotiator=new u.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return i(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return l.ConnectionType.Data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!0,configurable:!0}),t.prototype.initialize=function(e){this._dc=e,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var e=this;s.util.supports.binaryBlob&&!s.util.supports.reliable||(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){c.default.log("DC#"+e.connectionId+" dc connection success"),e._open=!0,e.emit(l.ConnectionEventType.Open)},this.dataChannel.onmessage=function(t){c.default.log("DC#"+e.connectionId+" dc onmessage:",t.data),e._handleDataMessage(t)},this.dataChannel.onclose=function(){c.default.log("DC#"+e.connectionId+" dc closed for:",e.peer),e.close()}},t.prototype._handleDataMessage=function(t){var n=this,r=t.data,i=r.constructor,o=r;if(this.serialization===l.SerializationType.Binary||this.serialization===l.SerializationType.BinaryUTF8){if(i===Blob)return void s.util.blobToArrayBuffer(r,(function(e){var t=s.util.unpack(e);n.emit(l.ConnectionEventType.Data,t)}));if(i===ArrayBuffer)o=s.util.unpack(r);else if(i===String){var a=s.util.binaryStringToArrayBuffer(r);o=s.util.unpack(a)}}else this.serialization===l.SerializationType.JSON&&(o=this.parse(r));o.__peerData?this._handleChunk(o):e.prototype.emit.call(this,l.ConnectionEventType.Data,o)},t.prototype._handleChunk=function(e){var t=e.__peerData,n=this._chunkedData[t]||{data:[],count:0,total:e.total};if(n.data[e.n]=e.data,n.count++,this._chunkedData[t]=n,n.total===n.count){delete this._chunkedData[t];var r=new Blob(n.data);this._handleDataMessage({data:r})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,l.ConnectionEventType.Close))},t.prototype.send=function(t,n){if(this.open)if(this.serialization===l.SerializationType.JSON)this._bufferedSend(this.stringify(t));else if(this.serialization===l.SerializationType.Binary||this.serialization===l.SerializationType.BinaryUTF8){var r=s.util.pack(t);if(!n&&r.size>s.util.chunkedMTU)return void this._sendChunks(r);s.util.supports.binaryBlob?this._bufferedSend(r):this._encodingQueue.enque(r)}else this._bufferedSend(t);else e.prototype.emit.call(this,l.ConnectionEventType.Error,new Error("Connection is not open. You should listen for the `open` event before sending messages."))},t.prototype._bufferedSend=function(e){!this._buffering&&this._trySend(e)||(this._buffer.push(e),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(n){var r=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout((function(){r._buffering=!1,r._tryBuffer()}),50),!1;try{this.dataChannel.send(n)}catch(e){return c.default.error("DC#:"+this.connectionId+" Error when sending:",e),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){this.open&&0!==this._buffer.length&&this._trySend(this._buffer[0])&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())},t.prototype._sendChunks=function(e){var t,n,r=s.util.chunk(e);c.default.log("DC#"+this.connectionId+" Try to send "+r.length+" chunks...");try{for(var i=o(r),a=i.next();!a.done;a=i.next())this.send(a.value,!0)}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},t.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case l.ServerMessageType.Answer:this._negotiator.handleSDP(e.type,t.sdp);break;case l.ServerMessageType.Candidate:this._negotiator.handleCandidate(t.candidate);break;default:c.default.warn("Unrecognized message type:",e.type,"from peer:",this.peer)}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(h.BaseConnection);n.DataConnection=d},{"./util":"BHXf","./logger":"WOs9","./negotiator":"HCdX","./enums":"ZRYf","./baseconnection":"tQFK","./encodingQueue":"GGp6"}],in7L:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./util"),s=o(e("./logger")),c=function(){function e(e){this._options=e}return e.prototype._buildUrl=function(e){return(this._options.secure?"https://":"http://")+this._options.host+":"+this._options.port+this._options.path+this._options.key+"/"+e+"?ts="+(new Date).getTime()+Math.random()},e.prototype.retrieveId=function(){return r(this,void 0,Promise,(function(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:e=this._buildUrl("id"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(e)];case 2:if(200!==(t=i.sent()).status)throw new Error("Error. Status:"+t.status);return[2,t.text()];case 3:throw n=i.sent(),s.default.error("Error retrieving ID",n),r="","/"===this._options.path&&this._options.host!==a.util.CLOUD_HOST&&(r=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+r);case 4:return[2]}}))}))},e.prototype.listAllPeers=function(){return r(this,void 0,Promise,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:e=this._buildUrl("peers"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(e)];case 2:if(200!==(t=r.sent()).status){if(401===t.status)throw new Error("It doesn't look like you have permission to list peers IDs. "+(this._options.host===a.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature."));throw new Error("Error. Status:"+t.status)}return[2,t.json()];case 3:throw n=r.sent(),s.default.error("Error retrieving list peers",n),new Error("Could not get list peers from the server."+n);case 4:return[2]}}))}))},e}();n.API=c},{"./util":"BHXf","./logger":"WOs9"}],Hxpd:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(h){i={error:h}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=e("eventemitter3"),l=e("./util"),h=c(e("./logger")),f=e("./socket"),d=e("./mediaconnection"),p=e("./dataconnection"),v=e("./enums"),m=e("./api"),g=function(e){function t(n,r){var i,a=e.call(this)||this;return a._id=null,a._lastServerId=null,a._destroyed=!1,a._disconnected=!1,a._open=!1,a._connections=new Map,a._lostMessages=new Map,n&&n.constructor==Object?r=n:n&&(i=n.toString()),r=o({debug:0,host:l.util.CLOUD_HOST,port:l.util.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:l.util.randomToken(),config:l.util.defaultConfig},r),a._options=r,"/"===a._options.host&&(a._options.host=window.location.hostname),a._options.path&&("/"!==a._options.path[0]&&(a._options.path="/"+a._options.path),"/"!==a._options.path[a._options.path.length-1]&&(a._options.path+="/")),void 0===a._options.secure&&a._options.host!==l.util.CLOUD_HOST?a._options.secure=l.util.isSecure():a._options.host==l.util.CLOUD_HOST&&(a._options.secure=!0),a._options.logFunction&&h.default.setLogFunction(a._options.logFunction),h.default.logLevel=a._options.debug||0,a._api=new m.API(r),a._socket=a._createServerConnection(),l.util.supports.audioVideo||l.util.supports.data?i&&!l.util.validateId(i)?(a._delayedAbort(v.PeerErrorType.InvalidID,'ID "'+i+'" is invalid'),a):(i?a._initialize(i):a._api.retrieveId().then((function(e){return a._initialize(e)})).catch((function(e){return a._abort(v.PeerErrorType.ServerError,e)})),a):(a._delayedAbort(v.PeerErrorType.BrowserIncompatible,"The current browser does not support WebRTC"),a)}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var e,t,n=Object.create(null);try{for(var r=a(this._connections),i=r.next();!i.done;i=r.next()){var o=s(i.value,2);n[o[0]]=o[1]}}catch(p){e={error:p}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!0,configurable:!0}),t.prototype._createServerConnection=function(){var e=this,t=new f.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(v.SocketEventType.Message,(function(t){e._handleMessage(t)})),t.on(v.SocketEventType.Error,(function(t){e._abort(v.PeerErrorType.SocketError,t)})),t.on(v.SocketEventType.Disconnected,(function(){e.disconnected||(e.emitError(v.PeerErrorType.Network,"Lost connection to server."),e.disconnect())})),t.on(v.SocketEventType.Close,(function(){e.disconnected||e._abort(v.PeerErrorType.SocketClosed,"Underlying socket is already closed.")})),t},t.prototype._initialize=function(e){this._id=e,this.socket.start(e,this._options.token)},t.prototype._handleMessage=function(e){var t,n,r=e.type,i=e.payload,o=e.src;switch(r){case v.ServerMessageType.Open:this._lastServerId=this.id,this._open=!0,this.emit(v.PeerEventType.Open,this.id);break;case v.ServerMessageType.Error:this._abort(v.PeerErrorType.ServerError,i.msg);break;case v.ServerMessageType.IdTaken:this._abort(v.PeerErrorType.UnavailableID,'ID "'+this.id+'" is taken');break;case v.ServerMessageType.InvalidKey:this._abort(v.PeerErrorType.InvalidKey,'API KEY "'+this._options.key+'" is invalid');break;case v.ServerMessageType.Leave:h.default.log("Received leave message from "+o),this._cleanupPeer(o),this._connections.delete(o);break;case v.ServerMessageType.Expire:this.emitError(v.PeerErrorType.PeerUnavailable,"Could not connect to peer "+o);break;case v.ServerMessageType.Offer:var s=i.connectionId;if((f=this.getConnection(o,s))&&(f.close(),h.default.warn("Offer received for existing Connection ID:"+s)),i.type===v.ConnectionType.Media)f=new d.MediaConnection(o,this,{connectionId:s,_payload:i,metadata:i.metadata}),this._addConnection(o,f),this.emit(v.PeerEventType.Call,f);else{if(i.type!==v.ConnectionType.Data)return void h.default.warn("Received malformed connection type:"+i.type);f=new p.DataConnection(o,this,{connectionId:s,_payload:i,metadata:i.metadata,label:i.label,serialization:i.serialization,reliable:i.reliable}),this._addConnection(o,f),this.emit(v.PeerEventType.Connection,f)}var c=this._getMessages(s);try{for(var u=a(c),l=u.next();!l.done;l=u.next())f.handleMessage(l.value)}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}break;default:if(!i)return void h.default.warn("You received a malformed message from "+o+" of type "+r);var f;(f=this.getConnection(o,s=i.connectionId))&&f.peerConnection?f.handleMessage(e):s?this._storeMessage(s,e):h.default.warn("You received an unrecognized message:",e)}},t.prototype._storeMessage=function(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)},t.prototype._getMessages=function(e){var t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]},t.prototype.connect=function(e,t){if(void 0===t&&(t={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError(v.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");var n=new p.DataConnection(e,this,t);return this._addConnection(e,n),n},t.prototype.call=function(e,t,n){if(void 0===n&&(n={}),this.disconnected)return h.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError(v.PeerErrorType.Disconnected,"Cannot connect to new Peer after disconnecting from server.");if(t){n._stream=t;var r=new d.MediaConnection(e,this,n);return this._addConnection(e,r),r}h.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},t.prototype._addConnection=function(e,t){h.default.log("add connection "+t.type+":"+t.connectionId+" to peerId:"+e),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)},t.prototype._removeConnection=function(e){var t=this._connections.get(e.peer);if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}this._lostMessages.delete(e.connectionId)},t.prototype.getConnection=function(e,t){var n,r,i=this._connections.get(e);if(!i)return null;try{for(var o=a(i),s=o.next();!s.done;s=o.next()){var c=s.value;if(c.connectionId===t)return c}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null},t.prototype._delayedAbort=function(e,t){var n=this;setTimeout((function(){n._abort(e,t)}),0)},t.prototype._abort=function(e,t){h.default.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(e,t){var n;h.default.error("Error:",t),(n="string"==typeof t?new Error(t):t).type=e,this.emit(v.PeerEventType.Error,n)},t.prototype.destroy=function(){this.destroyed||(h.default.log("Destroy peer with ID:"+this.id),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit(v.PeerEventType.Close))},t.prototype._cleanup=function(){var e,t;try{for(var n=a(this._connections.keys()),r=n.next();!r.done;r=n.next()){var i=r.value;this._cleanupPeer(i),this._connections.delete(i)}}catch(l){e={error:l}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(e){var t,n,r=this._connections.get(e);if(r)try{for(var i=a(r),o=i.next();!o.done;o=i.next())o.value.close()}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var e=this.id;h.default.log("Disconnect peer with ID:"+e),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit(v.PeerEventType.Disconnected,e)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)h.default.log("Attempting reconnection to server with ID "+this._lastServerId),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");h.default.error("In a hurry? We're still trying to make the initial connection!")}},t.prototype.listAllPeers=function(e){var t=this;void 0===e&&(e=function(e){}),this._api.listAllPeers().then((function(t){return e(t)})).catch((function(e){return t._abort(v.PeerErrorType.ServerError,e)}))},t.DEFAULT_KEY="peerjs",t}(u.EventEmitter);n.Peer=g},{eventemitter3:"JJlS","./util":"BHXf","./logger":"WOs9","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./enums":"ZRYf","./api":"in7L"}],iTK6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./util"),i=e("./peer");n.peerjs={Peer:i.Peer,util:r.util},n.default=i.Peer,window.peerjs=n.peerjs,window.Peer=i.Peer},{"./util":"BHXf","./peer":"Hxpd"}]},{},["iTK6"])},omvX:function(e,t,n){"use strict";n.r(t),n.d(t,"ANIMATION_MODULE_TYPE",(function(){return Et})),n.d(t,"BrowserAnimationsModule",(function(){return xt})),n.d(t,"NoopAnimationsModule",(function(){return Tt})),n.d(t,"\u0275AnimationRenderer",(function(){return yt})),n.d(t,"\u0275AnimationRendererFactory",(function(){return mt})),n.d(t,"\u0275BrowserAnimationBuilder",(function(){return lt})),n.d(t,"\u0275BrowserAnimationFactory",(function(){return ht})),n.d(t,"\u0275InjectableAnimationEngine",(function(){return _t})),n.d(t,"\u0275angular_packages_platform_browser_animations_animations_a",(function(){return bt})),n.d(t,"\u0275angular_packages_platform_browser_animations_animations_b",(function(){return Ct})),n.d(t,"\u0275angular_packages_platform_browser_animations_animations_c",(function(){return kt})),n.d(t,"\u0275angular_packages_platform_browser_animations_animations_d",(function(){return Ot})),n.d(t,"\u0275angular_packages_platform_browser_animations_animations_e",(function(){return Pt})),n.d(t,"\u0275angular_packages_platform_browser_animations_animations_f",(function(){return gt}));var r=n("8Y7J"),i=n("cUpR"),o=n("GS7A");function a(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function s(e){switch(e.length){case 0:return new o.d;case 1:return e[0];default:return new o.o(e)}}function c(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],c=[],u=-1,l=null;if(r.forEach((function(e){var n=e.offset,r=n==u,h=r&&l||{};Object.keys(e).forEach((function(n){var r=n,c=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,s),c){case o.p:c=i[n];break;case o.a:c=a[n];break;default:c=t.normalizeStyleValue(n,r,c,s)}h[r]=c})),r||c.push(h),l=h,u=n})),s.length){var h="\n - ";throw new Error("Unable to animate due to the following errors:".concat(h).concat(s.join(h)))}return c}function u(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&l(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&l(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&l(n,"destroy",e))}))}}function l(e,t,n){var r=n.totalTime,i=h(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function h(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function f(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function d(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var p=function(e,t){return!1},v=function(e,t){return!1},m=function(e,t,n){return[]},g=a();(g||"undefined"!=typeof Element)&&(p=function(e,t){return e.contains(t)},v=function(){if(g||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:v}(),m=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray2(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var y=null,_=!1;function b(e){y||(y=("undefined"!=typeof document?document.body:null)||{},_=!!y.style&&"WebkitAppearance"in y.style);var t=!0;return y.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in y.style)&&_)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in y.style),t}var C=v,k=p,w=m;function S(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var E,I=((E=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"validateStyleProperty",value:function(e){return b(e)}},{key:"matchesElement",value:function(e,t){return C(e,t)}},{key:"containsElement",value:function(e,t){return k(e,t)}},{key:"query",value:function(e,t,n){return w(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new o.d(n,r)}}]),e}()).\u0275fac=function(e){return new(e||E)},E.\u0275prov=r["\u0275\u0275defineInjectable"]({token:E,factory:E.\u0275fac}),E),O=function(){var e=function e(){_classCallCheck2(this,e)};return e.NOOP=new I,e}();function P(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:x(parseFloat(t[1]),t[2])}function x(e,t){switch(t){case"s":return 1e3*e;default:return e}}function T(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=x(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=x(parseFloat(s),a[4]));var c=a[5];c&&(o=c)}else r=e;if(!n){var u=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else A(e,n);return n}function R(e,t,n){return n?t+":"+n+";":""}function j(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=R(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=R(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function M(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=H(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),a()&&j(e))}function N(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=H(t);e.style[n]=""})),a()&&j(e))}function F(e){return Array.isArray(e)?1==e.length?e[0]:Object(o.j)(e):e}var L=new RegExp("{{\\s*(.+?)\\s*}}","g");function V(e){var t=[];if("string"==typeof e){for(var n;n=L.exec(e);)t.push(n[1]);L.lastIndex=0}return t}function U(e,t,n){var r=e.toString(),i=r.replace(L,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()}));return i==r?e:i}function B(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var G=/-+([a-z0-9])/g;function H(e){return e.replace(G,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function z(e,t){return 0===e||0===t}function q(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=Y(e,t)}))},s=1;s<t.length;s++)a()}return t}function W(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function Y(e,t){return window.getComputedStyle(e)[t]}var K=new Set(["true","1"]),Q=new Set(["false","0"]);function X(e,t){var n=K.has(e)||Q.has(e),r=K.has(t)||Q.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?K.has(e):Q.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?K.has(t):Q.has(t)),a&&s}}var J=new RegExp("s*:selfs*,?","g");function Z(e,t,n){return new $(e).build(t,n)}var $=function(){function e(t){_classCallCheck2(this,e),this._driver=t}return _createClass2(e,[{key:"build",value:function(e,t){var n=new ee(t);return this._resetContextStyleTimingState(n),W(this,F(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,c=s.name;c.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=c}else if(1==e.type){var u=n.visitTransition(e,t);r+=u.queryCount,i+=u.depCount,a.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(te(e)){var t=e;Object.keys(t).forEach((function(e){V(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=B(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=W(this,F(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(X(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(X(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:ne(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return W(n,e,t)})),options:ne(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=W(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:ne(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return re(T(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=re(0,0,"");return i.dynamic=!0,i.strValue=r,i}return re((n=n||T(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Object(o.l)({});if(5==i.type)n=this.visitKeyframes(i,t);else{var a=e.styles,s=!1;if(!a){s=!0;var c={};r.easing&&(c.easing=r.easing),a=Object(o.l)(c)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(a,t);u.isEmptyStep=s,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?e==o.a?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(te(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,c,u,l,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,c=t.errors,u=s.params||{},(l=V(a)).length&&l.forEach((function(e){u.hasOwnProperty(e)||c.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,c=0,u=e.steps.map((function(e){var r=n._makeStyleAst(e,t),u=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(te(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(te(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=u&&(i++,l=r.offset=u),s=s||l<0||l>1,a=a||l<c,c=l,o.push(l),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return u.forEach((function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:W(this,F(e.animation),t),options:ne(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:ne(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ne(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(J,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,f(t.collectedStyles,t.currentQuerySelector,{});var s=W(this,F(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:ne(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:T(e.timings,t.errors,!0);return{type:12,animation:W(this,F(e.animation),t),timings:n,options:null}}}]),e}(),ee=function e(t){_classCallCheck2(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function te(e){return!Array.isArray(e)&&"object"==typeof e}function ne(e){var t;return e?(e=A(e)).params&&(e.params=(t=e.params)?A(t):null):e={},e}function re(e,t,n){return{duration:e,delay:t,easing:n}}function ie(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var oe=function(){function e(){_classCallCheck2(this,e),this._map=new Map}return _createClass2(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray2(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),ae=new RegExp(":enter","g"),se=new RegExp(":leave","g");function ce(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ue).buildKeyframes(e,t,n,r,i,o,a,s,c,u)}var ue=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,c){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new oe;var l=new he(e,t,c,r,i,u,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),W(this,n,l);var h=l.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[ie(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?P(n.duration):null,o=null!=n.delay?P(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),W(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=le);var a=P(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return W(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?P(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),W(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return T(t.params?U(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?P(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=le);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var c=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(c=s.currentTimeline),W(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var c=t.currentTimeline;s&&c.delayNextStep(s);var u=c.currentTime;W(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}]),e}(),le={},he=function(){function e(t,n,r,i,o,a,s,c){_classCallCheck2(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=le,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new fe(this._driver,n,0),s.push(this.currentTimeline)}return _createClass2(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=P(r.duration)),null!=r.delay&&(i.delay=P(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=U(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=le,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new de(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(ae,"."+this._enterClassName)).replace(se,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray2(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),e}(),fe=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass2(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||o.a,t._currentKeyframe[e]=o.a})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var a=r&&r.params||{},s=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]=o.a})):D(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(s).forEach((function(e){var t=U(s[e],a,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:o.a),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(a,s){var c=D(a,!0);Object.keys(c).forEach((function(e){var r=c[e];r==o.p?t.add(e):r==o.a&&n.add(e)})),r||(c.offset=s/e.duration),i.push(c)}));var a=t.size?B(t.values()):[],s=n.size?B(n.values()):[];if(r){var c=i[0],u=A(c);c.offset=0,u.offset=1,i=[c,u]}return ie(this.element,i,a,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),de=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var c,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck2(this,n),(c=t.call(this,e,r,s.delay)).element=r,c.keyframes=i,c.preStyleProps=o,c.postStyleProps=a,c._stretchStartingKeyframe=u,c.timings={duration:s.duration,delay:s.delay,easing:s.easing},c}return _createClass2(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,c=D(e[0],!1);c.offset=0,o.push(c);var u=D(e[0],!1);u.offset=pe(s),o.push(u);for(var l=e.length-1,h=1;h<=l;h++){var f=D(e[h],!1);f.offset=pe((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return ie(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(fe);function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var ve,me,ge=function e(){_classCallCheck2(this,e)},ye=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"normalizePropertyName",value:function(e,t){return H(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(_e[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(ge),_e=(ve="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),me={},ve.forEach((function(e){return me[e]=!0})),me);function be(e,t,n,r,i,o,a,s,c,u,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:f}}var Ce={},ke=function(){function e(t,n,r){_classCallCheck2(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass2(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,c,u){var l=[],h=this.ast.options&&this.ast.options.params||Ce,d=this.buildStyles(n,a&&a.params||Ce,l),p=s&&s.params||Ce,v=this.buildStyles(r,p,l),m=new Set,g=new Map,y=new Map,_="void"===r,b={params:Object.assign(Object.assign({},h),p)},C=u?[]:ce(e,t,this.ast.animation,i,o,d,v,b,c,l),k=0;if(C.forEach((function(e){k=Math.max(e.duration+e.delay,k)})),l.length)return be(t,this._triggerName,n,r,_,d,v,[],[],g,y,k,l);C.forEach((function(e){var n=e.element,r=f(g,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=f(y,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&m.add(n)}));var w=B(m.values());return be(t,this._triggerName,n,r,_,d,v,C,w,g,y,k)}}]),e}(),we=function(){function e(t,n){_classCallCheck2(this,e),this.styles=t,this.defaultParams=n}return _createClass2(e,[{key:"buildStyles",value:function(e,t){var n={},r=A(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=U(o,r,t)),n[e]=o}))}})),n}}]),e}(),Se=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new we(e.style,e.options&&e.options.params||{})})),Ee(this.states,"true","1"),Ee(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new ke(t,e,r.states))})),this.fallbackTransition=new ke(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass2(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function Ee(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Ie=new oe,Oe=function(){function e(t,n,r){_classCallCheck2(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass2(e,[{key:"register",value:function(e,t){var n=[],r=Z(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=c(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],c=this._animations[e],u=new Map;if(c?(n=ce(this._driver,t,c,"ng-enter","ng-leave",{},{},i,Ie,a)).forEach((function(e){var t=f(u,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));u.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,o.a)}))}));var l=s(n.map((function(e){var t=u.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=l,l.onDestroy((function(){return r.destroy(e)})),this.players.push(l),l}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=h(t,"","","");return u(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),Pe=[],xe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Te={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ae=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck2(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=A(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass2(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),De=new Ae("void"),Re=function(){function e(t,n,r){_classCallCheck2(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ue(n,this._hostClassName)}return _createClass2(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=f(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var c=f(this._engine.statesByElement,e,{});return c.hasOwnProperty(t)||(Ue(e,"ng-trigger"),Ue(e,"ng-trigger-"+t),c[t]=De),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete c[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new Me(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Ue(e,"ng-trigger"),Ue(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var c=s[t],u=new Ae(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),s[t]=u,c||(c=De),"void"===u.value||c.value!==u.value){var l=f(this._engine.playersByElement,e,[]);l.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(c.value,u.value,e,u.params),d=!1;if(!h){if(!i)return;h=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:u,player:a,isFallbackTransition:d}),d||(Ue(e,"ng-animate-queued"),a.onStart((function(){Be(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(c.params,u.params)){var p=[],v=o.matchStyles(c.value,c.params,p),m=o.matchStyles(u.value,u.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush((function(){N(e,v),M(e,m)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&s(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||De,s=new Ae("void"),c=new Me(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:c,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==xe||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Ue(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=h(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,u(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),je=function(){function e(t,n,r){_classCallCheck2(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass2(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new Re(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(Ne(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(Ne(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ue(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Be(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(Ne(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return Ne(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return s(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=xe,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Ue(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var c=this._whenQuietFns;this._whenQuietFns=[],n.length?s(n).onDone((function(){c.forEach((function(e){return e()}))})):c.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new oe,i=[],a=new Map,c=[],u=new Map,l=new Map,h=new Map,d=new Set;this.disabledNodes.forEach((function(e){d.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)d.add(t[r])}));var p=this.bodyNode,v=Array.from(this.statesByElement.keys()),m=Ve(v,this.collectedEnterElements),g=new Map,y=0;m.forEach((function(e,t){var n="ng-enter"+y++;g.set(t,n),e.forEach((function(e){return Ue(e,n)}))}));for(var _=[],b=new Set,C=new Set,k=0;k<this.collectedLeaveElements.length;k++){var w=this.collectedLeaveElements[k],S=w.__ng_removed;S&&S.setForRemoval&&(_.push(w),b.add(w),S.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach((function(e){return b.add(e)})):C.add(w))}var E=new Map,I=Ve(v,Array.from(b));I.forEach((function(e,t){var n="ng-leave"+y++;E.set(t,n),e.forEach((function(e){return Ue(e,n)}))})),e.push((function(){m.forEach((function(e,t){var n=g.get(t);e.forEach((function(e){return Be(e,n)}))})),I.forEach((function(e,t){var n=E.get(t);e.forEach((function(e){return Be(e,n)}))})),_.forEach((function(e){n.processLeaveNode(e)}))}));for(var O=[],P=[],x=this._namespaceList.length-1;x>=0;x--)this._namespaceList[x].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(O.push(t),n.collectedEnterElements.length){var a=o.__ng_removed;if(a&&a.setForMove)return void t.destroy()}var s=!p||!n.driver.containsElement(p,o),d=E.get(o),v=g.get(o),m=n._buildInstruction(e,r,v,d,s);if(!m.errors||!m.errors.length)return s||e.isFallbackTransition?(t.onStart((function(){return N(o,m.fromStyles)})),t.onDestroy((function(){return M(o,m.toStyles)})),void i.push(t)):(m.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,m.timelines),c.push({instruction:m,player:t,element:o}),m.queriedElements.forEach((function(e){return f(u,e,[]).push(t)})),m.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=l.get(t);r||l.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),void m.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=h.get(t);r||h.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))})));P.push(m)}));if(P.length){var T=[];P.forEach((function(e){T.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return T.push("- ".concat(e,"\n"))}))})),O.forEach((function(e){return e.destroy()})),this.reportError(T)}var A=new Map,D=new Map;c.forEach((function(e){var t=e.element;r.has(t)&&(D.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,A))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){f(A,t,[]).push(e),e.destroy()}))}));var R=_.filter((function(e){return He(e,l,h)})),j=new Map;Le(j,this.driver,C,h,o.a).forEach((function(e){He(e,l,h)&&R.push(e)}));var F=new Map;m.forEach((function(e,t){Le(F,n.driver,new Set(e),l,o.p)})),R.forEach((function(e){var t=j.get(e),n=F.get(e);j.set(e,Object.assign(Object.assign({},t),n))}));var L=[],V=[],U={};c.forEach((function(e){var t=e.element,o=e.player,c=e.instruction;if(r.has(t)){if(d.has(t))return o.onDestroy((function(){return M(t,c.toStyles)})),o.disabled=!0,o.overrideTotalTime(c.totalTime),void i.push(o);var u=U;if(D.size>1){for(var l=t,h=[];l=l.parentNode;){var f=D.get(l);if(f){u=f;break}h.push(l)}h.forEach((function(e){return D.set(e,u)}))}var p=n._buildAnimation(o.namespaceId,c,A,a,F,j);if(o.setRealPlayer(p),u===U)L.push(o);else{var v=n.playersByElement.get(u);v&&v.length&&(o.parentPlayer=s(v)),i.push(o)}}else N(t,c.fromStyles),o.onDestroy((function(){return M(t,c.toStyles)})),V.push(o),d.has(t)&&i.push(o)})),V.forEach((function(e){var t=a.get(e.element);if(t&&t.length){var n=s(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var B=0;B<_.length;B++){var G=_[B],H=G.__ng_removed;if(Be(G,"ng-leave"),!H||!H.hasAnimation){var z=[];if(u.size){var q=u.get(G);q&&q.length&&z.push.apply(z,_toConsumableArray2(q));for(var W=this.driver.query(G,".ng-animating",!0),Y=0;Y<W.length;Y++){var K=u.get(W[Y]);K&&K.length&&z.push.apply(z,_toConsumableArray2(K))}}var Q=z.filter((function(e){return!e.destroyed}));Q.length?Ge(this,G,Q):this.processLeaveNode(G)}}return _.length=0,L.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),L}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var c=!i||"void"==i;s.forEach((function(e){e.queued||(c||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,c=_createForOfIteratorHelper(t.timelines);try{var u=function(){var e=r.value.element,c=e!==o,u=f(n,e,[]);i._getPreviousPlayers(e,c,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),u.push(e)}))};for(c.s();!(r=c.n()).done;)u()}catch(l){c.e(l)}finally{c.f()}N(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,a){var u=this,l=t.triggerName,h=t.element,d=[],p=new Set,v=new Set,m=t.timelines.map((function(t){var s=t.element;p.add(s);var f=s.__ng_removed;if(f&&f.removedBeforeQueried)return new o.d(t.duration,t.delay);var m,g,y=s!==h,_=(m=(n.get(s)||Pe).map((function(e){return e.getRealPlayer()})),g=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof o.o?e(i.players,n):n.push(i)}}(m,g),g).filter((function(e){return!!e.element&&e.element===s})),b=i.get(s),C=a.get(s),k=c(0,u._normalizer,0,t.keyframes,b,C),w=u._buildPlayer(t,k,_);if(t.subTimeline&&r&&v.add(s),y){var S=new Me(e,l,s);S.setRealPlayer(w),d.push(S)}return w}));d.forEach((function(e){f(u.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(u.playersByQueriedElement,e.element,e)}))})),p.forEach((function(e){return Ue(e,"ng-animating")}));var g=s(m);return g.onDestroy((function(){p.forEach((function(e){return Be(e,"ng-animating")})),M(h,t.toStyles)})),v.forEach((function(e){f(r,e,[]).push(g)})),g}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new o.d(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),Me=function(){function e(t,n,r){_classCallCheck2(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new o.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass2(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return u(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){f(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function Ne(e){return e&&1===e.nodeType}function Fe(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Le(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(Fe(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Te,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return Fe(e,o[s++])})),a}function Ve(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function Ue(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Be(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Ge(e,t,n){s(n).onDone((function(){return e.processLeaveNode(t)}))}function He(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var ze=function(){function e(t,n,r){var i=this;_classCallCheck2(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new je(t,n,r),this._timelineEngine=new Oe(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass2(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],c=Z(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new Se(e,t)}(r,c),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(d(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(d(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function qe(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=Ye(t[0]),t.length>1&&(r=Ye(t[t.length-1]))):t&&(n=Ye(t)),n||r?new We(e,n,r):null}var We=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass2(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&M(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(M(this._element,this._initialStyles),this._endStyles&&(M(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(N(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(N(this._element,this._endStyles),this._endStyles=null),M(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Ye(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];Ke(i)&&((t=t||{})[i]=e[i])}return t}function Ke(e){return"display"===e||"position"===e}var Qe=function(){function e(t,n,r,i,o,a,s){var c=this;_classCallCheck2(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return c._handleCallback(e)}}return _createClass2(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=tt(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),et(e,"",t),$e(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Xe(this._element,this._name,"paused")}},{key:"resume",value:function(){Xe(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Je(this._element,this._name);this._position=e*this._duration,et(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),$e(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=tt(e,"").split(","),r=Ze(n,t);r>=0&&(n.splice(r,1),et(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function Xe(e,t,n){et(e,"PlayState",n,Je(e,t))}function Je(e,t){var n=tt(e,"");return n.indexOf(",")>0?Ze(n.split(","),t):Ze([n],t)}function Ze(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function $e(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function et(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function tt(e,t){return e.style["animation"+t]}var nt=function(){function e(t,n,r,i,o,a,s,c){_classCallCheck2(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass2(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Qe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:Y(e.element,r))}))}this.currentSnapshot=t}}]),e}(),rt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=S(r),i}return _createClass2(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(o.d),it=function(){function e(){_classCallCheck2(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass2(e,[{key:"validateStyleProperty",value:function(e){return b(e)}},{key:"matchesElement",value:function(e,t){return C(e,t)}},{key:"containsElement",value:function(e,t){return k(e,t)}},{key:"query",value:function(e,t,n){return w(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return S(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+="".concat(i,"}\n")})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof nt})),c={};z(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return c[e]=t[e]}))}));var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=q(e,t,c));if(0==n)return new rt(e,u);var l="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);var f=qe(e,t),d=new nt(e,t,l,n,r,i,u,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),ot=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass2(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Y(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),at=function(){function e(){_classCallCheck2(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(st().toString()),this._cssKeyframesDriver=new it}return _createClass2(e,[{key:"validateStyleProperty",value:function(e){return b(e)}},{key:"matchesElement",value:function(e,t){return C(e,t)}},{key:"containsElement",value:function(e,t){return k(e,t)}},{key:"query",value:function(e,t,n){return w(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var c={},u=o.filter((function(e){return e instanceof ot}));z(n,r)&&u.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return c[e]=t[e]}))}));var l=qe(e,t=q(e,t=t.map((function(e){return D(e,!1)})),c));return new ot(e,t,s,l)}}]),e}();function st(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var ct,ut=n("SVse"),lt=((ct=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck2(this,n),(o=t.call(this))._nextAnimationId=0,o._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.ViewEncapsulation.None,styles:[],data:{animation:[]}}),o}return _createClass2(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Object(o.j)(e):e;return dt(this._renderer,null,t,"register",[n]),new ht(t,this._renderer)}}]),n}(o.b)).\u0275fac=function(e){return new(e||ct)(r["\u0275\u0275inject"](r.RendererFactory2),r["\u0275\u0275inject"](ut.DOCUMENT))},ct.\u0275prov=r["\u0275\u0275defineInjectable"]({token:ct,factory:ct.\u0275fac}),ct),ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass2(n,[{key:"create",value:function(e,t){return new ft(this._id,e,t||{},this._renderer)}}]),n}(o.c),ft=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass2(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dt(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function dt(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var pt,vt,mt=((pt=function(){function e(t,n,r){_classCallCheck2(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass2(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new gt("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)})),new yt(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||pt)(r["\u0275\u0275inject"](r.RendererFactory2),r["\u0275\u0275inject"](ze),r["\u0275\u0275inject"](r.NgZone))},pt.\u0275prov=r["\u0275\u0275defineInjectable"]({token:pt,factory:pt.\u0275fac}),pt),gt=function(){function e(t,n,r){_classCallCheck2(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass2(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),yt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return _createClass2(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),c=t.substr(1),u="";return"@"!=c.charAt(0)&&(i=(r=c).indexOf("."),c=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],u=a[1]),this.engine.listen(this.namespaceId,s,c,u,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(gt),_t=((vt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,e.body,r,i)}return n}(ze)).\u0275fac=function(e){return new(e||vt)(r["\u0275\u0275inject"](ut.DOCUMENT),r["\u0275\u0275inject"](O),r["\u0275\u0275inject"](ge))},vt.\u0275prov=r["\u0275\u0275defineInjectable"]({token:vt,factory:vt.\u0275fac}),vt);function bt(){return"function"==typeof st()?new at:new it}function Ct(){return new ye}function kt(e,t,n){return new mt(e,t,n)}var wt,St,Et=new r.InjectionToken("AnimationModuleType"),It=[{provide:o.b,useClass:lt},{provide:ge,useFactory:Ct},{provide:ze,useClass:_t},{provide:r.RendererFactory2,useFactory:kt,deps:[i["\u0275DomRendererFactory2"],ze,r.NgZone]}],Ot=[{provide:O,useFactory:bt},{provide:Et,useValue:"BrowserAnimations"}].concat(It),Pt=[{provide:O,useClass:I},{provide:Et,useValue:"NoopAnimations"}].concat(It),xt=((St=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:St}),St.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||St)},providers:Ot,imports:[i.BrowserModule]}),St),Tt=((wt=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:wt}),wt.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||wt)},providers:Pt,imports:[i.BrowserModule]}),wt)},os0x:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return v})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return g})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return k})),n.d(t,"__importDefault",(function(){return w})),n.d(t,"__classPrivateFieldGet",(function(){return S})),n.d(t,"__classPrivateFieldSet",(function(){return E}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},p8tn:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DebugLevel=((r=t.DebugLevel||{})[r.Disabled=0]="Disabled",r[r.Errors=1]="Errors",r[r.ErrorsAndWarnings=2]="ErrorsAndWarnings",r[r.All=3]="All",r)},pKmL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("IheW"),o=n("8Y7J"),a=n("jmUF"),s=n("VRCc"),c=n("BPe8"),u=n("wD+u"),l=n("fMxG"),h=n("TSSN"),f=n("k5Gf"),d=n("kU1M"),p=n("AytR"),v=n("htiD"),m=n("Nlor"),g=n("D/SK"),y=n("CkF6"),_=n("2kLq"),b=n("fDcH"),C=r.__importStar(n("8Y7J")),k=(r.__importStar(n("TSSN")),r.__importStar(n("jmUF")),[a.AngularFireModule.initializeApp(p.environment.firebase),u.AngularFirestoreModule,s.AngularFireAuthModule,c.AngularFireAuthGuardModule,l.AngularFireStorageModule]),w=[{provide:i.HTTP_INTERCEPTORS,useClass:g.LoaderInterceptor,multi:!0},{provide:i.HTTP_INTERCEPTORS,useClass:v.AuthInterceptor,multi:!0},{provide:i.HTTP_INTERCEPTORS,useClass:m.ErrorInterceptor,multi:!0},{provide:i.HTTP_INTERCEPTORS,useClass:y.ProfilerInterceptor,multi:!0}];function S(e){return new f.TranslateHttpLoader(e,"./assets/i18n/",".json")}t.createTranslateLoader=S;var E=function e(t){if(_classCallCheck2(this,e),t)throw new Error("CoreModule is already loaded. Import it in the AppModule only")};t.CoreModule=E,E.\u0275mod=C.\u0275\u0275defineNgModule({type:E}),E.\u0275inj=C.\u0275\u0275defineInjector({factory:function(e){return new(e||E)(C.\u0275\u0275inject(E,12))},providers:[{provide:o.APP_INITIALIZER,useFactory:function(e){return function(){return e.getAuthState().pipe(d.take(1)).toPromise()}},deps:[_.FirebaseService],multi:!0},{provide:l.BUCKET,useValue:p.environment.firebase.storageBucket},{provide:o.ErrorHandler,useClass:b.ErrorsHandler}].concat(w),imports:[[i.HttpClientModule,h.TranslateModule.forRoot({loader:{provide:h.TranslateLoader,useFactory:S,deps:[i.HttpClient]}})].concat(k)]})},pLZG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck2(this,e),this.predicate=t,this.thisArg=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass2(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(r.a)},pMoy:function(e,t,n){"use strict";n.r(t),n.d(t,"MAT_CHECKBOX_CLICK_ACTION",(function(){return v})),n.d(t,"MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR",(function(){return g})),n.d(t,"MAT_CHECKBOX_DEFAULT_OPTIONS",(function(){return d})),n.d(t,"MAT_CHECKBOX_DEFAULT_OPTIONS_FACTORY",(function(){return p})),n.d(t,"MAT_CHECKBOX_REQUIRED_VALIDATOR",(function(){return C})),n.d(t,"MatCheckbox",(function(){return b})),n.d(t,"MatCheckboxChange",(function(){return y})),n.d(t,"MatCheckboxModule",(function(){return E})),n.d(t,"MatCheckboxRequiredValidator",(function(){return k})),n.d(t,"_MatCheckboxRequiredValidatorModule",(function(){return S}));var r=n("8LU1"),i=n("8Y7J"),o=n("s7LF"),a=n("UhP/"),s=n("omvX"),c=n("9b/N"),u=n("YEUz"),l=["input"],h=function(){return{enterDuration:150}},f=["*"],d=new i.InjectionToken("mat-checkbox-default-options",{providedIn:"root",factory:p});function p(){return{color:"accent",clickAction:"check-indeterminate"}}var v=new i.InjectionToken("mat-checkbox-click-action"),m=0,g={provide:o.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return b})),multi:!0},y=function e(){_classCallCheck2(this,e)},_=Object(a.s)(Object(a.n)(Object(a.o)(Object(a.p)((function e(t){_classCallCheck2(this,e),this._elementRef=t}))))),b=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,a,s,c,u,l){var h;return _classCallCheck2(this,n),(h=t.call(this,e))._changeDetectorRef=r,h._focusMonitor=o,h._ngZone=a,h._clickAction=c,h._animationMode=u,h._options=l,h.ariaLabel="",h.ariaLabelledby=null,h._uniqueId="mat-checkbox-".concat(++m),h.id=h._uniqueId,h.labelPosition="after",h.name=null,h.change=new i.EventEmitter,h.indeterminateChange=new i.EventEmitter,h._onTouched=function(){},h._currentAnimationClass="",h._currentCheckState=0,h._controlValueAccessorChangeFn=function(){},h._checked=!1,h._disabled=!1,h._indeterminate=!1,h._options=h._options||{},h._options.color&&(h.color=h._options.color),h.tabIndex=parseInt(s)||0,h._focusMonitor.monitor(e,!0).subscribe((function(e){e||Promise.resolve().then((function(){h._onTouched(),r.markForCheck()}))})),h._clickAction=h._clickAction||h._options.clickAction,h}return _createClass2(n,[{key:"ngAfterViewInit",value:function(){this._syncIndeterminate(this._indeterminate)}},{key:"ngAfterViewChecked",value:function(){}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"writeValue",value:function(e){this.checked=!!e}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_getAriaChecked",value:function(){return this.checked?"true":this.indeterminate?"mixed":"false"}},{key:"_transitionCheckState",value:function(e){var t=this._currentCheckState,n=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);var r=this._currentAnimationClass;this._ngZone.runOutsideAngular((function(){setTimeout((function(){n.classList.remove(r)}),1e3)}))}}},{key:"_emitChangeEvent",value:function(){var e=new y;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)}},{key:"toggle",value:function(){this.checked=!this.checked}},{key:"_onInputClick",value:function(e){var t=this;e.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then((function(){t._indeterminate=!1,t.indeterminateChange.emit(t._indeterminate)})),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keyboard",t=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._inputElement,e,t)}},{key:"_onInteractionEvent",value:function(e){e.stopPropagation()}},{key:"_getAnimationClassForCheckStateTransition",value:function(e,t){if("NoopAnimations"===this._animationMode)return"";var n="";switch(e){case 0:if(1===t)n="unchecked-checked";else{if(3!=t)return"";n="unchecked-indeterminate"}break;case 2:n=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===t?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-".concat(n)}},{key:"_syncIndeterminate",value:function(e){var t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"required",get:function(){return this._required},set:function(e){this._required=Object(r.c)(e)}},{key:"checked",get:function(){return this._checked},set:function(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(e){var t=Object(r.c)(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}},{key:"indeterminate",get:function(){return this._indeterminate},set:function(e){var t=e!=this._indeterminate;this._indeterminate=Object(r.c)(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](u.e),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275injectAttribute"]("tabindex"),i["\u0275\u0275directiveInject"](v,8),i["\u0275\u0275directiveInject"](s.ANIMATION_MODULE_TYPE,8),i["\u0275\u0275directiveInject"](d,8))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-checkbox"]],viewQuery:function(e,t){var n;1&e&&(i["\u0275\u0275viewQuery"](l,!0),i["\u0275\u0275viewQuery"](a.j,!0)),2&e&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t._inputElement=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(i["\u0275\u0275hostProperty"]("id",t.id),i["\u0275\u0275attribute"]("tabindex",null),i["\u0275\u0275classProp"]("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[i["\u0275\u0275ProvidersFeature"]([g]),i["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:f,decls:17,vars:19,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"label",0,1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"input",3,4),i["\u0275\u0275listener"]("change",(function(e){return t._onInteractionEvent(e)}))("click",(function(e){return t._onInputClick(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",5),i["\u0275\u0275element"](6,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](7,"div",7),i["\u0275\u0275elementStart"](8,"div",8),i["\u0275\u0275namespaceSVG"](),i["\u0275\u0275elementStart"](9,"svg",9),i["\u0275\u0275element"](10,"path",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275namespaceHTML"](),i["\u0275\u0275element"](11,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"span",12,13),i["\u0275\u0275listener"]("cdkObserveContent",(function(){return t._onLabelTextChange()})),i["\u0275\u0275elementStart"](14,"span",14),i["\u0275\u0275text"](15,"\xa0"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275projection"](16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](1),r=i["\u0275\u0275reference"](13);i["\u0275\u0275attribute"]("for",t.inputId),i["\u0275\u0275advance"](2),i["\u0275\u0275classProp"]("mat-checkbox-inner-container-no-side-margin",!r.textContent||!r.textContent.trim()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),i["\u0275\u0275attribute"]("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked()),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("matRippleTrigger",n)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",i["\u0275\u0275pureFunction0"](18,h))}},directives:[a.j,c.a],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e}(),C={provide:o.NG_VALIDATORS,useExisting:Object(i.forwardRef)((function(){return k})),multi:!0},k=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(o.CheckboxRequiredValidator);return e.\u0275fac=function(t){return w(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["mat-checkbox","required","","formControlName",""],["mat-checkbox","required","","formControl",""],["mat-checkbox","required","","ngModel",""]],features:[i["\u0275\u0275ProvidersFeature"]([C]),i["\u0275\u0275InheritDefinitionFeature"]]}),e}(),w=i["\u0275\u0275getInheritedFactory"](k),S=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e}(),E=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.k,a.f,c.c,S],a.f,S]}),e}()},pjAE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},pu8Q:function(e,t,n){"use strict";n.r(t),n.d(t,"MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS",(function(){return p})),n.d(t,"MAT_PROGRESS_SPINNER_DEFAULT_OPTIONS_FACTORY",(function(){return v})),n.d(t,"MatProgressSpinner",(function(){return m})),n.d(t,"MatProgressSpinnerModule",(function(){return y})),n.d(t,"MatSpinner",(function(){return g}));var r=n("8Y7J"),i=n("SVse"),o=n("UhP/"),a=n("8LU1"),s=n("SCoL"),c=n("omvX");function u(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"circle",3)),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("animation-name","mat-progress-spinner-stroke-rotate-"+n.diameter)("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),r["\u0275\u0275attribute"]("r",n._circleRadius)}}function l(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"circle",3)),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),r["\u0275\u0275attribute"]("r",n._circleRadius)}}function h(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"circle",3)),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("animation-name","mat-progress-spinner-stroke-rotate-"+n.diameter)("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),r["\u0275\u0275attribute"]("r",n._circleRadius)}}function f(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"circle",3)),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275styleProp"]("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),r["\u0275\u0275attribute"]("r",n._circleRadius)}}var d=Object(o.n)((function e(t){_classCallCheck2(this,e),this._elementRef=t}),"primary"),p=new r.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:v});function v(){return{diameter:100}}var m=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;_classCallCheck2(this,n),(s=t.call(this,e))._elementRef=e,s._document=i,s._diameter=100,s._value=0,s._fallbackAnimation=!1,s.mode="determinate";var c=n._diameters;return c.has(i.head)||c.set(i.head,new Set([100])),s._fallbackAnimation=r.EDGE||r.TRIDENT,s._noopAnimations="NoopAnimations"===o&&!!a&&!a._forceAnimations,a&&(a.diameter&&(s.diameter=a.diameter),a.strokeWidth&&(s.strokeWidth=a.strokeWidth)),s}return _createClass2(n,[{key:"ngOnInit",value:function(){var e=this._elementRef.nativeElement;this._styleRoot=Object(s.c)(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate".concat(this._fallbackAnimation?"-fallback":"","-animation"))}},{key:"_attachStyleNode",value:function(){var e=this._styleRoot,t=this._diameter,r=n._diameters,i=r.get(e);if(!i||!i.has(t)){var o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",t+""),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}},{key:"_getAnimationText",value:function(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,"".concat(.95*this._strokeCircumference)).replace(/END_VALUE/g,"".concat(.2*this._strokeCircumference)).replace(/DIAMETER/g,"".concat(this.diameter))}},{key:"diameter",get:function(){return this._diameter},set:function(e){this._diameter=Object(a.f)(e),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}},{key:"strokeWidth",get:function(){return this._strokeWidth||this.diameter/10},set:function(e){this._strokeWidth=Object(a.f)(e)}},{key:"value",get:function(){return"determinate"===this.mode?this._value:0},set:function(e){this._value=Math.max(0,Math.min(100,Object(a.f)(e)))}},{key:"_circleRadius",get:function(){return(this.diameter-10)/2}},{key:"_viewBox",get:function(){var e=2*this._circleRadius+this.strokeWidth;return"0 0 ".concat(e," ").concat(e)}},{key:"_strokeCircumference",get:function(){return 2*Math.PI*this._circleRadius}},{key:"_strokeDashOffset",get:function(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}},{key:"_circleStrokeWidth",get:function(){return this.strokeWidth/this.diameter*100}}]),n}(d);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](i.DOCUMENT,8),r["\u0275\u0275directiveInject"](c.ANIMATION_MODULE_TYPE,8),r["\u0275\u0275directiveInject"](p))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(r["\u0275\u0275attribute"]("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),r["\u0275\u0275styleProp"]("width",t.diameter,"px")("height",t.diameter,"px"),r["\u0275\u0275classProp"]("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"svg",0),r["\u0275\u0275template"](1,u,1,9,"circle",1),r["\u0275\u0275template"](2,l,1,7,"circle",2),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("width",t.diameter,"px")("height",t.diameter,"px"),r["\u0275\u0275property"]("ngSwitch","indeterminate"===t.mode),r["\u0275\u0275attribute"]("viewBox",t._viewBox),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase",!1))},directives:[i.NgSwitch,i.NgSwitchCase],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),e._diameters=new WeakMap,e}(),g=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this,e,r,i,o,a)).mode="indeterminate",s}return n}(m);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](i.DOCUMENT,8),r["\u0275\u0275directiveInject"](c.ANIMATION_MODULE_TYPE,8),r["\u0275\u0275directiveInject"](p))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,t){2&e&&(r["\u0275\u0275styleProp"]("width",t.diameter,"px")("height",t.diameter,"px"),r["\u0275\u0275classProp"]("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"svg",0),r["\u0275\u0275template"](1,h,1,9,"circle",1),r["\u0275\u0275template"](2,f,1,7,"circle",2),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("width",t.diameter,"px")("height",t.diameter,"px"),r["\u0275\u0275property"]("ngSwitch","indeterminate"===t.mode),r["\u0275\u0275attribute"]("viewBox",t._viewBox),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase",!1))},directives:[i.NgSwitch,i.NgSwitchCase],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),e}(),y=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.f,i.CommonModule],o.f]}),e}()},pxpQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n("7o/Q"),i=n("WMd4");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,e),this.scheduler=t,this.delay=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck2(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass2(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new c(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(i.a.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(i.a.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(r.a),c=function e(t,n){_classCallCheck2(this,e),this.notification=t,this.destination=n}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return a})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return f})),n.d(t,"setUserLogHandler",(function(){return d}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},c=a.INFO,u=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){var t="string"==typeof e?s[e]:e;o.forEach((function(e){e.logLevel=t}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},q3mk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("s7LF"),o=n("qCKp"),a=r.__importStar(n("8Y7J")),s=r.__importStar(n("s7LF")),c=r.__importStar(n("f4AX")),u=r.__importStar(n("PHhj")),l=r.__importStar(n("iInd")),h=r.__importStar(n("zyZ6")),f=r.__importStar(n("R/cS")),d=r.__importStar(n("TSSN")),p=r.__importStar(n("mPVK")),v=r.__importStar(n("pMoy")),m=r.__importStar(n("SVse"));function g(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate2("",a.\u0275\u0275pipeBind1(2,2,"i18n.COMMON.DESCRIPTION"),": ",n.description,"")}}function y(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",33),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275text(2," supervised_user_circle "),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275propertyInterpolate("title",a.\u0275\u0275pipeBind1(1,1,"i18n.ROOMS.HAS_RANDOM_STARTING_PLAYER"))}function _(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",33),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275text(2," style "),a.\u0275\u0275elementEnd()),2&e&&a.\u0275\u0275propertyInterpolate("title",a.\u0275\u0275pipeBind1(1,1,"i18n.ROOMS.HAS_CARDS_BASED_ON_QUANTITY"))}function b(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",34),a.\u0275\u0275listener("click",(function(){a.\u0275\u0275restoreView(n);var e=a.\u0275\u0275nextContext().$implicit;return a.\u0275\u0275nextContext(2).deleteRoom(e.id)})),a.\u0275\u0275elementStart(1,"i",35),a.\u0275\u0275text(2,"delete"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}}function C(e,t){if(1&e){var n=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",36),a.\u0275\u0275listener("click",(function(){a.\u0275\u0275restoreView(n);var e=a.\u0275\u0275nextContext().$implicit;return a.\u0275\u0275nextContext(2).joinRoom(e.id)})),a.\u0275\u0275elementEnd()}}function k(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",37),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext().$implicit,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,r.isGameFinished(n.id)?"i18n.GAME.GAME_FINISHED":"i18n.GAME.GAME_STARTED")," ")}}function w(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"li",23),a.\u0275\u0275elementStart(1,"div",24),a.\u0275\u0275elementStart(2,"p",25),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,g,3,4,"p",26),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(5,y,3,3,"div",27),a.\u0275\u0275template(6,_,3,3,"div",27),a.\u0275\u0275elementStart(7,"div",3),a.\u0275\u0275elementStart(8,"p",28),a.\u0275\u0275text(9),a.\u0275\u0275pipe(10,"translate"),a.\u0275\u0275elementStart(11,"span",29),a.\u0275\u0275text(12),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(13,"] "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(14,b,3,0,"div",30),a.\u0275\u0275template(15,C,1,0,"div",31),a.\u0275\u0275template(16,k,3,3,"div",32),a.\u0275\u0275elementEnd()),2&e){var n=t.$implicit,r=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275property("title",n.description||""),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate2("#",n.id,": ",n.name,""),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.description),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.hasRandomStartingPlayer),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.hasCardsBasedOnQuantity),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(10,12,"i18n.COMMON.PLAYERS"),": ["),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate2("",r.getPlayersQty(n.id)," / ",r.getMaxPlayersQty(n),""),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",r.isRoomOwner(n.id)&&!n.isGameMode),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!n.isGameMode),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.isGameMode)}}function S(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"ul",21),a.\u0275\u0275template(1,w,17,14,"li",22),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",n.rooms)}}function E(e,t){1&e&&a.\u0275\u0275element(0,"div",38)}var I=function(){function e(t,n,r,i,a,s,c){_classCallCheck2(this,e),this.formBuilder=t,this.userService=n,this.roomService=r,this.router=i,this.activatedRoute=a,this.gameService=s,this.botService=c,this.subscription=new o.Subscription}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.createForm(),this.subscription.add(this.roomService.rooms$.subscribe((function(t){return e.rooms=t}))),this.subscription.add(this.roomService.roomMembers$.subscribe((function(t){return e.roomMembers=t})))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"joinRoom",value:function(e){this.router.navigate(["../",e],{relativeTo:this.activatedRoute})}},{key:"addRoom",value:function(){var e=this;if(this.form.valid){var t=this.form.getRawValue();this.roomService.addRoom(t).subscribe((function(){var n=e.gameService.getMaxAllowedPlayers(e.game);e.form.reset({game:t.game,maxQuantity:n})}))}}},{key:"deleteRoom",value:function(e){o.forkJoin([this.roomService.deleteRoom(e),this.botService.removeBots(e)]).subscribe()}},{key:"isRoomOwner",value:function(e){return this.roomService.isRoomOwner(this.userService.getCurrentUserId(),e)}},{key:"getPlayersQty",value:function(e){return this.roomMembers?this.roomMembers.filter((function(t){return t.roomId===e})).length:0}},{key:"isGameFinished",value:function(e){return this.roomService.isGameFinished(e)}},{key:"getMaxPlayersQty",value:function(e){return e&&e.maxQuantity||this.gameService.getMaxAllowedPlayers(this.game)}},{key:"getMinPlayersQty",value:function(){return this.gameService.getMinAllowedPlayers(this.game)}},{key:"createForm",value:function(){var e=this.gameService.getMaxAllowedPlayers(this.game);this.form=this.formBuilder.group({name:[null,[i.Validators.required]],description:null,game:[this.game,[i.Validators.required]],hasRandomStartingPlayer:!1,hasCardsBasedOnQuantity:!1,maxQuantity:[e,[i.Validators.min(4),i.Validators.max(e)]]})}}]),e}();t.GameRoomsComponent=I,I.\u0275fac=function(e){return new(e||I)(a.\u0275\u0275directiveInject(s.FormBuilder),a.\u0275\u0275directiveInject(c.UserService),a.\u0275\u0275directiveInject(u.RoomService),a.\u0275\u0275directiveInject(l.Router),a.\u0275\u0275directiveInject(l.ActivatedRoute),a.\u0275\u0275directiveInject(h.GameService),a.\u0275\u0275directiveInject(f.BotService))},I.\u0275cmp=a.\u0275\u0275defineComponent({type:I,selectors:[["gw-game-rooms"]],inputs:{game:"game"},decls:30,vars:18,consts:[[1,"d-flex","flex-column","flex-grow-1","p-4","gw-game-rooms"],["translate","i18n.ROOMS.CREATE_NEW_ROOM"],[1,"d-flex","flex-column",3,"formGroup"],[1,"d-flex"],[1,"d-flex","flex-column"],[1,"form-group","mr-2","flex-grow-1"],["for","name","translate","i18n.COMMON.NAME"],["matInput","","type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"form-group","mr-2","w-30"],["for","maxQuantity","translate","i18n.ROOMS.MAX_PLAYERS"],["formControlName","maxQuantity","thumbLabel","","color","primary",3,"min","max"],[1,"d-flex","flex-column","mb-3"],["formControlName","hasRandomStartingPlayer"],["formControlName","hasCardsBasedOnQuantity"],[1,"form-group","flex-grow-1","d-flex","flex-column"],["for","description","translate","i18n.COMMON.DESCRIPTION"],["formControlName","description","rows","3",1,"form-control","flex-grow-1",3,"placeholder"],["tabindex","0","translate","i18n.ROOMS.ADD_ROOM",1,"btn","btn-primary",3,"disabled","click"],["translate","i18n.ROOMS.JOIN_AVAILABLE_ROOMS",1,"mt-5"],["class","list-group",4,"ngIf","ngIfElse"],["noRooms",""],[1,"list-group"],["class","list-group-item d-flex justify-content-stretch align-items-center gw-room",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-stretch","align-items-center","gw-room"],[1,"d-flex","flex-column","flex-grow-1",3,"title"],[1,"font-weight-bold"],[4,"ngIf"],["class","material-icons gw-room-icon",3,"title",4,"ngIf"],[1,"font-weight-bold","px-2","text-nowrap"],[1,"gw-room-players"],["class","btn btn-danger btn-icon mr-2","tabindex","0",3,"click",4,"ngIf"],["class","btn btn-primary","tabindex","0","translate","i18n.ROOMS.JOIN_ROOM",3,"click",4,"ngIf"],["class","btn btn-dark disabled",4,"ngIf"],[1,"material-icons","gw-room-icon",3,"title"],["tabindex","0",1,"btn","btn-danger","btn-icon","mr-2",3,"click"],[1,"material-icons"],["tabindex","0","translate","i18n.ROOMS.JOIN_ROOM",1,"btn","btn-primary",3,"click"],[1,"btn","btn-dark","disabled"],["role","alert","translate","i18n.ROOMS.NO_ROOMS_CREATED",1,"alert","alert-warning"]],template:function(e,t){if(1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"h4",1),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275elementStart(3,"div",3),a.\u0275\u0275elementStart(4,"div",4),a.\u0275\u0275elementStart(5,"div",3),a.\u0275\u0275elementStart(6,"div",5),a.\u0275\u0275element(7,"label",6),a.\u0275\u0275element(8,"input",7),a.\u0275\u0275pipe(9,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",8),a.\u0275\u0275element(11,"label",9),a.\u0275\u0275element(12,"mat-slider",10),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(13,"div",11),a.\u0275\u0275elementStart(14,"mat-checkbox",12),a.\u0275\u0275text(15),a.\u0275\u0275pipe(16,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"mat-checkbox",13),a.\u0275\u0275text(18),a.\u0275\u0275pipe(19,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(20,"div",14),a.\u0275\u0275element(21,"label",15),a.\u0275\u0275element(22,"textarea",16),a.\u0275\u0275pipe(23,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(24,"div",3),a.\u0275\u0275elementStart(25,"button",17),a.\u0275\u0275listener("click",(function(){return t.addRoom()})),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(26,"h4",18),a.\u0275\u0275template(27,S,2,1,"ul",19),a.\u0275\u0275template(28,E,1,0,"ng-template",null,20,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd()),2&e){var n=a.\u0275\u0275reference(29);a.\u0275\u0275advance(2),a.\u0275\u0275property("formGroup",t.form),a.\u0275\u0275advance(6),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(9,10,"i18n.PLACEHOLDERS.ROOM_NAME")),a.\u0275\u0275advance(4),a.\u0275\u0275property("min",t.getMinPlayersQty())("max",t.getMaxPlayersQty()),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(16,12,"i18n.ROOMS.HAS_RANDOM_STARTING_PLAYER")," "),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(19,14,"i18n.ROOMS.HAS_CARDS_BASED_ON_QUANTITY")," "),a.\u0275\u0275advance(4),a.\u0275\u0275propertyInterpolate("placeholder",a.\u0275\u0275pipeBind1(23,16,"i18n.PLACEHOLDERS.ROOM_DESCRIPTION")),a.\u0275\u0275advance(3),a.\u0275\u0275property("disabled",t.form.invalid),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",t.rooms.length)("ngIfElse",n)}},directives:[d.TranslateDirective,s.NgControlStatusGroup,s.FormGroupDirective,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,p.MatSlider,v.MatCheckbox,m.NgIf,m.NgForOf],pipes:[d.TranslatePipe],styles:[".gw-game-rooms[_ngcontent-%COMP%]   .gw-room-icon[_ngcontent-%COMP%]{color:#ffcb9a;font-size:46px}.gw-game-rooms[_ngcontent-%COMP%]   .gw-room-players[_ngcontent-%COMP%]{min-width:50px;display:inline-block;text-align:center}.gw-game-rooms[_ngcontent-%COMP%]   .gw-room[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})},qCKp:function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return i.a})),n.d(t,"ConnectableObservable",(function(){return o.a})),n.d(t,"GroupedObservable",(function(){return a.a})),n.d(t,"observable",(function(){return s.a})),n.d(t,"Subject",(function(){return c.a})),n.d(t,"BehaviorSubject",(function(){return u.a})),n.d(t,"ReplaySubject",(function(){return l.a})),n.d(t,"AsyncSubject",(function(){return h.a})),n.d(t,"asapScheduler",(function(){return f.a})),n.d(t,"asyncScheduler",(function(){return d.a})),n.d(t,"queueScheduler",(function(){return p.a})),n.d(t,"animationFrameScheduler",(function(){return v.a})),n.d(t,"VirtualTimeScheduler",(function(){return y})),n.d(t,"VirtualAction",(function(){return _})),n.d(t,"Scheduler",(function(){return b.a})),n.d(t,"Subscription",(function(){return C.a})),n.d(t,"Subscriber",(function(){return k.a})),n.d(t,"Notification",(function(){return w.a})),n.d(t,"NotificationKind",(function(){return w.b})),n.d(t,"pipe",(function(){return S.a})),n.d(t,"noop",(function(){return E.a})),n.d(t,"identity",(function(){return I.a})),n.d(t,"isObservable",(function(){return O.a})),n.d(t,"ArgumentOutOfRangeError",(function(){return P.a})),n.d(t,"EmptyError",(function(){return x.a})),n.d(t,"ObjectUnsubscribedError",(function(){return T.a})),n.d(t,"UnsubscriptionError",(function(){return A.a})),n.d(t,"TimeoutError",(function(){return D.a})),n.d(t,"bindCallback",(function(){return F})),n.d(t,"bindNodeCallback",(function(){return U})),n.d(t,"combineLatest",(function(){return z.b})),n.d(t,"concat",(function(){return q.a})),n.d(t,"defer",(function(){return W.a})),n.d(t,"empty",(function(){return Y.b})),n.d(t,"forkJoin",(function(){return K.a})),n.d(t,"from",(function(){return Q.a})),n.d(t,"fromEvent",(function(){return X.a})),n.d(t,"fromEventPattern",(function(){return Z})),n.d(t,"generate",(function(){return $})),n.d(t,"iif",(function(){return te})),n.d(t,"interval",(function(){return re})),n.d(t,"merge",(function(){return oe.a})),n.d(t,"never",(function(){return se})),n.d(t,"of",(function(){return ce.a})),n.d(t,"onErrorResumeNext",(function(){return ue})),n.d(t,"pairs",(function(){return le})),n.d(t,"partition",(function(){return ve})),n.d(t,"race",(function(){return me.a})),n.d(t,"range",(function(){return ge})),n.d(t,"throwError",(function(){return _e.a})),n.d(t,"timer",(function(){return be.a})),n.d(t,"using",(function(){return Ce})),n.d(t,"zip",(function(){return ke.b})),n.d(t,"scheduled",(function(){return we.a})),n.d(t,"EMPTY",(function(){return Y.a})),n.d(t,"NEVER",(function(){return ae})),n.d(t,"config",(function(){return Se.a}));var r,i=n("HDdC"),o=n("EQ5u"),a=n("OQgR"),s=n("kJWO"),c=n("XNiG"),u=n("2Vo4"),l=n("jtHE"),h=n("NHP+"),f=n("7Hc7"),d=n("D0XW"),p=n("qgXg"),v=n("eNwd"),m=n("3N8a"),g=n("IjjT"),y=((r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;return _classCallCheck2(this,n),(e=t.call(this,r,(function(){return e.frame}))).maxFrames=i,e.frame=0,e.index=-1,e}return _createClass2(n,[{key:"flush",value:function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}}}]),n}(g.a)).frameTimeFactor=10,r),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.index+=1;return _classCallCheck2(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.index=o,i.active=!0,i.index=e.index=o,i}return _createClass2(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.id)return _get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t);this.active=!1;var r=new n(this.scheduler,this.work);return this.add(r),r.schedule(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(n.sortActions),!0}},{key:"recycleAsyncId",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},{key:"_execute",value:function(e,t){if(!0===this.active)return _get(_getPrototypeOf(n.prototype),"_execute",this).call(this,e,t)}}],[{key:"sortActions",value:function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1}}]),n}(m.a),b=n("Y/cZ"),C=n("quSY"),k=n("7o/Q"),w=n("WMd4"),S=n("mCNh"),E=n("KqfI"),I=n("SpAZ"),O=n("7+OI"),P=n("4I5i"),x=n("sVev"),T=n("9ppp"),A=n("pjAE"),D=n("Y6u4"),R=n("lJxs"),j=n("8Qeq"),M=n("DH7j"),N=n("z+Ro");function F(e,t,n){if(t){if(!Object(N.a)(t))return function(){return F(e,n).apply(void 0,arguments).pipe(Object(R.a)((function(e){return Object(M.a)(e)?t.apply(void 0,_toConsumableArray2(e)):t(e)})))};n=t}return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a,s=this,c={context:s,subject:a,callbackFunc:e,scheduler:n};return new i.a((function(t){if(n)return n.schedule(L,0,{args:r,subscriber:t,params:c});if(!a){a=new h.a;try{e.apply(s,[].concat(r,[function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.next(t.length<=1?t[0]:t),a.complete()}]))}catch(i){Object(j.a)(a)?a.error(i):console.warn(i)}}return a.subscribe(t)}))}}function L(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,a=i.context,s=i.scheduler,c=i.subject;if(!c){c=i.subject=new h.a;try{o.apply(a,[].concat(_toConsumableArray2(n),[function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.add(s.schedule(V,0,{value:n.length<=1?n[0]:n,subject:c}))}]))}catch(u){c.error(u)}}this.add(c.subscribe(r))}function V(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function U(e,t,n){if(t){if(!Object(N.a)(t))return function(){return U(e,n).apply(void 0,arguments).pipe(Object(R.a)((function(e){return Object(M.a)(e)?t.apply(void 0,_toConsumableArray2(e)):t(e)})))};n=t}return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a={subject:void 0,args:r,callbackFunc:e,scheduler:n,context:this};return new i.a((function(t){var i=a.context,o=a.subject;if(n)return n.schedule(B,0,{params:a,subscriber:t,context:i});if(!o){o=a.subject=new h.a;try{e.apply(i,[].concat(r,[function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift();r?o.error(r):(o.next(t.length<=1?t[0]:t),o.complete())}]))}catch(s){Object(j.a)(o)?o.error(s):console.warn(s)}}return o.subscribe(t)}))}}function B(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,a=n.args,s=n.scheduler,c=n.subject;if(!c){c=n.subject=new h.a;try{o.apply(i,[].concat(_toConsumableArray2(a),[function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.shift();t.add(i?s.schedule(H,0,{err:i,subject:c}):s.schedule(G,0,{value:n.length<=1?n[0]:n,subject:c}))}]))}catch(u){this.add(s.schedule(H,0,{err:u,subject:c}))}}this.add(c.subscribe(r))}function G(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function H(e){var t=e.err;e.subject.error(t)}var z=n("itXk"),q=n("GyhO"),W=n("NXyV"),Y=n("EY2u"),K=n("cp0P"),Q=n("Cfvw"),X=n("xgIS"),J=n("n6bG");function Z(e,t,n){return n?Z(e,t).pipe(Object(R.a)((function(e){return Object(M.a)(e)?n.apply(void 0,_toConsumableArray2(e)):n(e)}))):new i.a((function(n){var r,i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.next(1===t.length?t[0]:t)};try{r=e(i)}catch(o){return void n.error(o)}if(Object(J.a)(t))return function(){return t(i,r)}}))}function $(e,t,n,r,o){var a,s;return 1==arguments.length?(s=e.initialState,t=e.condition,n=e.iterate,a=e.resultSelector||I.a,o=e.scheduler):void 0===r||Object(N.a)(r)?(s=e,a=I.a,o=r):(s=e,a=r),new i.a((function(e){var r=s;if(o)return o.schedule(ee,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(u){return void e.error(u)}if(!i){e.complete();break}}var c=void 0;try{c=a(r)}catch(u){return void e.error(u)}if(e.next(c),e.closed)break;try{r=n(r)}catch(u){return void e.error(u)}}}))}function ee(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(n){var r;try{r=n(e.state)}catch(o){return void t.error(o)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}return t.closed||(t.next(i),t.closed)?void 0:this.schedule(e)}}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y.a;return Object(W.a)((function(){return e()?t:n}))}var ne=n("Y7HM");function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a;return(!Object(ne.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=d.a),new i.a((function(n){return n.add(t.schedule(ie,e,{subscriber:n,counter:0,period:e})),n}))}function ie(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var oe=n("VRyK"),ae=new i.a(E.a);function se(){return ae}var ce=n("LRne");function ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return Y.a;var r=t[0],o=t.slice(1);return 1===t.length&&Object(M.a)(r)?ue.apply(void 0,_toConsumableArray2(r)):new i.a((function(e){var t=function(){return e.add(ue.apply(void 0,_toConsumableArray2(o)).subscribe(e))};return Object(Q.a)(r).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function le(e,t){return new i.a(t?function(n){var r=Object.keys(e),i=new C.a;return i.add(t.schedule(he,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i}:function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})}function he(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,o[a]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var fe=n("F97/"),de=n("SeVD"),pe=n("pLZG");function ve(e,t,n){return[Object(pe.a)(t,n)(new i.a(Object(de.a)(e))),Object(pe.a)(Object(fe.a)(t,n))(new i.a(Object(de.a)(e)))]}var me=n("Nv8m");function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return new i.a((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(ye,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))}function ye(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var _e=n("z6cu"),be=n("PqYM");function Ce(e,t){return new i.a((function(n){var r,i;try{r=e()}catch(a){return void n.error(a)}try{i=t(r)}catch(a){return void n.error(a)}var o=(i?Object(Q.a)(i):Y.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var ke=n("1uah"),we=n("7HRe"),Se=n("2fFW")},qgXg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass2(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),i=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG"),a=n("pjAE"),s=function(){var e,t=function(){function e(t){_classCallCheck2(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass2(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l)n[l].remove(this);if(Object(o.a)(s))try{s.call(this)}catch(p){t=p instanceof a.a?c(p.errors):[p]}if(Object(r.a)(u))for(var h=-1,f=u.length;++h<f;){var d=u[h];if(Object(i.a)(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof a.a?t=t.concat(c(p.errors)):t.push(p)}}if(t)throw new a.a(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();return t.EMPTY=((e=new t).closed=!0,e),t}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof a.a?t.errors:t)}),[])}},rJgo:function(e,t,n){"use strict";n.r(t),n.d(t,"MAT_MENU_DEFAULT_OPTIONS",(function(){return M})),n.d(t,"MAT_MENU_PANEL",(function(){return D})),n.d(t,"MAT_MENU_SCROLL_STRATEGY",(function(){return G})),n.d(t,"MatMenu",(function(){return V})),n.d(t,"MatMenuContent",(function(){return A})),n.d(t,"MatMenuItem",(function(){return j})),n.d(t,"MatMenuModule",(function(){return K})),n.d(t,"MatMenuTrigger",(function(){return W})),n.d(t,"_MatMenu",(function(){return B})),n.d(t,"_MatMenuBase",(function(){return L})),n.d(t,"_MatMenuDirectivesModule",(function(){return Y})),n.d(t,"fadeInItems",(function(){return x})),n.d(t,"matMenuAnimations",(function(){return P})),n.d(t,"transformMenu",(function(){return T})),n.d(t,"\u0275angular_material_src_material_menu_menu_a",(function(){return N})),n.d(t,"\u0275angular_material_src_material_menu_menu_b",(function(){return H})),n.d(t,"\u0275angular_material_src_material_menu_menu_c",(function(){return z}));var r=n("YEUz"),i=n("8LU1"),o=n("Ht+U"),a=n("8Y7J"),s=n("XNiG"),c=n("quSY"),u=n("VRyK"),l=n("LRne"),h=n("7Hc7"),f=n("JX91"),d=n("eIep"),p=n("IzEk"),v=n("pLZG"),m=n("1G5W"),g=n("3E0/"),y=n("GS7A"),_=n("1z/I"),b=n("SVse"),C=n("UhP/"),k=n("1O3W"),w=n("SCoL"),S=n("9gLZ"),E=["mat-menu-item",""],I=["*"];function O(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275listener"]("keydown",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]()._handleKeydown(e)}))("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().closed.emit("click")}))("@transformMenu.start",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]()._onAnimationDone(e)})),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275projection"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("id",r.panelId)("ngClass",r._classList)("@transformMenu",r._panelAnimationState),a["\u0275\u0275attribute"]("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null)("aria-describedby",r.ariaDescribedby||null)}}var P={transformMenu:Object(y.n)("transformMenu",[Object(y.k)("void",Object(y.l)({opacity:0,transform:"scale(0.8)"})),Object(y.m)("void => enter",Object(y.g)([Object(y.i)(".mat-menu-content, .mat-mdc-menu-content",Object(y.e)("100ms linear",Object(y.l)({opacity:1}))),Object(y.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(y.l)({transform:"scale(1)"}))])),Object(y.m)("* => void",Object(y.e)("100ms 25ms linear",Object(y.l)({opacity:0})))]),fadeInItems:Object(y.n)("fadeInItems",[Object(y.k)("showing",Object(y.l)({opacity:1})),Object(y.m)("void => *",[Object(y.l)({opacity:0}),Object(y.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},x=P.fadeInItems,T=P.transformMenu,A=function(){var e=function(){function e(t,n,r,i,o,a,c){_classCallCheck2(this,e),this._template=t,this._componentFactoryResolver=n,this._appRef=r,this._injector=i,this._viewContainerRef=o,this._document=a,this._changeDetectorRef=c,this._attached=new s.a}return _createClass2(e,[{key:"attach",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._portal||(this._portal=new _.f(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new _.d(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));var t=this._template.elementRef.nativeElement;t.parentNode.insertBefore(this._outlet.outletElement,t),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,e),this._attached.next()}},{key:"detach",value:function(){this._portal.isAttached&&this._portal.detach()}},{key:"ngOnDestroy",value:function(){this._outlet&&this._outlet.dispose()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.TemplateRef),a["\u0275\u0275directiveInject"](a.ComponentFactoryResolver),a["\u0275\u0275directiveInject"](a.ApplicationRef),a["\u0275\u0275directiveInject"](a.Injector),a["\u0275\u0275directiveInject"](a.ViewContainerRef),a["\u0275\u0275directiveInject"](b.DOCUMENT),a["\u0275\u0275directiveInject"](a.ChangeDetectorRef))},e.\u0275dir=a["\u0275\u0275defineDirective"]({type:e,selectors:[["ng-template","matMenuContent",""]]}),e}(),D=new a.InjectionToken("MAT_MENU_PANEL"),R=Object(C.o)(Object(C.p)((function e(){_classCallCheck2(this,e)}))),j=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck2(this,n),(a=t.call(this))._elementRef=e,a._focusMonitor=i,a._parentMenu=o,a.role="menuitem",a._hovered=new s.a,a._focused=new s.a,a._highlighted=!1,a._triggersSubmenu=!1,i&&i.monitor(a._elementRef,!1),o&&o.addItem&&o.addItem(_assertThisInitialized(a)),a._document=r,a}return _createClass2(n,[{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",t=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){var e=this._elementRef.nativeElement,t=this._document?this._document.TEXT_NODE:3,n="";if(e.childNodes)for(var r=e.childNodes.length,i=0;i<r;i++)e.childNodes[i].nodeType===t&&(n+=e.childNodes[i].textContent);return n.trim()}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](b.DOCUMENT),a["\u0275\u0275directiveInject"](r.e),a["\u0275\u0275directiveInject"](D,8))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("click",(function(e){return t._checkDisabled(e)}))("mouseenter",(function(){return t._handleMouseEnter()})),2&e&&(a["\u0275\u0275attribute"]("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled.toString())("disabled",t.disabled||null),a["\u0275\u0275classProp"]("mat-menu-item",!0)("mat-menu-item-highlighted",t._highlighted)("mat-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a["\u0275\u0275InheritDefinitionFeature"]],attrs:E,ngContentSelectors:I,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,t){1&e&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275projection"](0),a["\u0275\u0275element"](1,"div",0)),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()))},directives:[C.j],encapsulation:2,changeDetection:0}),e}(),M=new a.InjectionToken("mat-menu-default-options",{providedIn:"root",factory:N});function N(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var F=0,L=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._elementRef=t,this._ngZone=n,this._defaultOptions=r,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new a.QueryList,this._tabSubscription=c.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new s.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new a.EventEmitter,this.close=this.closed,this.panelId="mat-menu-panel-".concat(F++)}return _createClass2(e,[{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var e=this;this._updateDirectDescendants(),this._keyManager=new r.d(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe((function(){return e.closed.emit("tab")})),this._directDescendantItems.changes.pipe(Object(f.a)(this._directDescendantItems),Object(d.a)((function(e){return Object(u.a).apply(void 0,_toConsumableArray2(e.map((function(e){return e._focused}))))}))).subscribe((function(t){return e._keyManager.updateActiveItem(t)}))}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Object(f.a)(this._directDescendantItems),Object(d.a)((function(e){return Object(u.a).apply(void 0,_toConsumableArray2(e.map((function(e){return e._hovered}))))})))}},{key:"addItem",value:function(e){}},{key:"removeItem",value:function(e){}},{key:"_handleKeydown",value:function(e){var t=e.keyCode,n=this._keyManager;switch(t){case o.e:Object(o.q)(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case o.g:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case o.k:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case o.f:case o.c:Object(o.q)(e)||(t===o.f?n.setFirstItemActive():n.setLastItemActive(),e.preventDefault());break;default:t!==o.n&&t!==o.b||n.setFocusOrigin("keyboard"),n.onKeydown(e)}}},{key:"focusFirstItem",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program";this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(p.a)(1)).subscribe((function(){return e._focusFirstItem(t)})):this._focusFirstItem(t)}},{key:"_focusFirstItem",value:function(e){var t=this._keyManager;if(t.setFocusOrigin(e).setFirstItemActive(),!t.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(e){var t="mat-elevation-z".concat(Math.min(4+e,24)),n=Object.keys(this._classList).find((function(e){return e.startsWith("mat-elevation-z")}));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[t]=!0,this._previousElevation=t)}},{key:"setPositionClasses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===e,n["mat-menu-after"]="after"===e,n["mat-menu-above"]="above"===t,n["mat-menu-below"]="below"===t}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(e){this._animationDone.next(e),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var e=this;this._allItems.changes.pipe(Object(f.a)(this._allItems)).subscribe((function(t){e._directDescendantItems.reset(t.filter((function(t){return t._parentMenu===e}))),e._directDescendantItems.notifyOnChanges()}))}},{key:"xPosition",get:function(){return this._xPosition},set:function(e){"before"!==e&&"after"!==e&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=e,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(e){"above"!==e&&"below"!==e&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=e,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(e){this._overlapTrigger=Object(i.c)(e)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(e){this._hasBackdrop=Object(i.c)(e)}},{key:"panelClass",set:function(e){var t=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach((function(e){t._classList[e]=!1})),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach((function(e){t._classList[e]=!0})),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(e){this.panelClass=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](a.NgZone),a["\u0275\u0275directiveInject"](M))},e.\u0275dir=a["\u0275\u0275defineDirective"]({type:e,contentQueries:function(e,t,n){var r;1&e&&(a["\u0275\u0275contentQuery"](n,A,!0),a["\u0275\u0275contentQuery"](n,j,!0),a["\u0275\u0275contentQuery"](n,j,!1)),2&e&&(a["\u0275\u0275queryRefresh"](r=a["\u0275\u0275loadQuery"]())&&(t.lazyContent=r.first),a["\u0275\u0275queryRefresh"](r=a["\u0275\u0275loadQuery"]())&&(t._allItems=r),a["\u0275\u0275queryRefresh"](r=a["\u0275\u0275loadQuery"]())&&(t.items=r))},viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275viewQuery"](a.TemplateRef,!0),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),e}(),V=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(L);return e.\u0275fac=function(t){return U(t||e)},e.\u0275dir=a["\u0275\u0275defineDirective"]({type:e,features:[a["\u0275\u0275InheritDefinitionFeature"]]}),e}(),U=a["\u0275\u0275getInheritedFactory"](V),B=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,e,r,i)}return n}(V);return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](a.NgZone),a["\u0275\u0275directiveInject"](M))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[a["\u0275\u0275ProvidersFeature"]([{provide:D,useExisting:V},{provide:V,useExisting:e}]),a["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:I,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,t){1&e&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275template"](0,O,3,6,"ng-template"))},directives:[b.NgClass],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[P.transformMenu,P.fadeInItems]},changeDetection:0}),e}(),G=new a.InjectionToken("mat-menu-scroll-strategy");function H(e){return function(){return e.scrollStrategies.reposition()}}var z={provide:G,deps:[k.c],useFactory:H},q=Object(w.e)({passive:!0}),W=function(){var e=function(){function e(t,n,r,i,o,s,u,l){var h=this;_classCallCheck2(this,e),this._overlay=t,this._element=n,this._viewContainerRef=r,this._parentMenu=o,this._menuItemInstance=s,this._dir=u,this._focusMonitor=l,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=c.a.EMPTY,this._hoverSubscription=c.a.EMPTY,this._menuCloseSubscription=c.a.EMPTY,this._handleTouchStart=function(){return h._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new a.EventEmitter,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.EventEmitter,this.onMenuClose=this.menuClosed,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,q),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}return _createClass2(e,[{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,q),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var e=this;if(!this._menuOpen){this._checkMenu();var t=this._createOverlay(),n=t.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe((function(){return e.closeMenu()})),this._initMenu(),this.menu instanceof V&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",t=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}},{key:"_destroyMenu",value:function(){var e=this;if(this._overlayRef&&this.menuOpen){var t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof V?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Object(v.a)((function(e){return"void"===e.toState})),Object(p.a)(1),Object(m.a)(t.lazyContent._attached)).subscribe({next:function(){return t.lazyContent.detach()},complete:function(){return e._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var e=0,t=this.menu.parentMenu;t;)e++,t=t.parentMenu;this.menu.setElevation(e)}}},{key:"_restoreFocus",value:function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}},{key:"_setIsMenuOpen",value:function(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}},{key:"_checkMenu",value:function(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new k.d({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(e){var t=this;this.menu.setPositionClasses&&e.positionChanges.subscribe((function(e){t.menu.setPositionClasses("start"===e.connectionPair.overlayX?"after":"before","top"===e.connectionPair.overlayY?"below":"above")}))}},{key:"_setPosition",value:function(e){var t=_slicedToArray("before"===this.menu.xPosition?["end","start"]:["start","end"],2),n=t[0],r=t[1],i=_slicedToArray("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),o=i[0],a=i[1],s=o,c=a,u=n,l=r,h=0;this.triggersSubmenu()?(l=n="before"===this.menu.xPosition?"start":"end",r=u="end"===n?"start":"end",h="bottom"===o?8:-8):this.menu.overlapTrigger||(s="top"===o?"bottom":"top",c="top"===a?"bottom":"top"),e.withPositions([{originX:n,originY:s,overlayX:u,overlayY:o,offsetY:h},{originX:r,originY:s,overlayX:l,overlayY:o,offsetY:h},{originX:n,originY:c,overlayX:u,overlayY:a,offsetY:-h},{originX:r,originY:c,overlayX:l,overlayY:a,offsetY:-h}])}},{key:"_menuClosingActions",value:function(){var e=this,t=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),r=this._parentMenu?this._parentMenu.closed:Object(l.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(Object(v.a)((function(t){return t!==e._menuItemInstance})),Object(v.a)((function(){return e._menuOpen}))):Object(l.a)();return Object(u.a)(t,r,i,n)}},{key:"_handleMousedown",value:function(e){Object(r.i)(e)||(this._openedBy=0===e.button?"mouse":null,this.triggersSubmenu()&&e.preventDefault())}},{key:"_handleKeydown",value:function(e){var t=e.keyCode;this.triggersSubmenu()&&(t===o.k&&"ltr"===this.dir||t===o.g&&"rtl"===this.dir)&&this.openMenu()}},{key:"_handleClick",value:function(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var e=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(v.a)((function(t){return t===e._menuItemInstance&&!t.disabled})),Object(g.a)(0,h.a)).subscribe((function(){e._openedBy="mouse",e.menu instanceof V&&e.menu._isAnimating?e.menu._animationDone.pipe(Object(p.a)(1),Object(g.a)(0,h.a),Object(m.a)(e._parentMenu._hovered())).subscribe((function(){return e.openMenu()})):e.openMenu()})))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new _.f(this.menu.templateRef,this._viewContainerRef)),this._portal}},{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(e){this.menu=e}},{key:"menu",get:function(){return this._menu},set:function(e){var t=this;e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.asObservable().subscribe((function(e){t._destroyMenu(),"click"!==e&&"tab"!==e||!t._parentMenu||t._parentMenu.closed.emit(e)}))))}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](k.c),a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](a.ViewContainerRef),a["\u0275\u0275directiveInject"](G),a["\u0275\u0275directiveInject"](V,8),a["\u0275\u0275directiveInject"](j,10),a["\u0275\u0275directiveInject"](S.Directionality,8),a["\u0275\u0275directiveInject"](r.e))},e.\u0275dir=a["\u0275\u0275defineDirective"]({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("mousedown",(function(e){return t._handleMousedown(e)}))("keydown",(function(e){return t._handleKeydown(e)}))("click",(function(e){return t._handleClick(e)})),2&e&&a["\u0275\u0275attribute"]("aria-expanded",t.menuOpen||null)("aria-controls",t.menuOpen?t.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),e}(),Y=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[z],imports:[C.f]}),e}(),K=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[z],imports:[[b.CommonModule,C.f,C.k,k.f,Y],Y]}),e}()},s7LF:function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractControl",(function(){return ve})),n.d(t,"AbstractControlDirective",(function(){return p})),n.d(t,"AbstractFormGroupDirective",(function(){return ke})),n.d(t,"COMPOSITION_BUFFER_MODE",(function(){return f})),n.d(t,"CheckboxControlValueAccessor",(function(){return l})),n.d(t,"CheckboxRequiredValidator",(function(){return We})),n.d(t,"ControlContainer",(function(){return v})),n.d(t,"DefaultValueAccessor",(function(){return d})),n.d(t,"EmailValidator",(function(){return Qe})),n.d(t,"FormArray",(function(){return ye})),n.d(t,"FormArrayName",(function(){return Ve})),n.d(t,"FormBuilder",(function(){return at})),n.d(t,"FormControl",(function(){return me})),n.d(t,"FormControlDirective",(function(){return Re})),n.d(t,"FormControlName",(function(){return Ge})),n.d(t,"FormGroup",(function(){return ge})),n.d(t,"FormGroupDirective",(function(){return Me})),n.d(t,"FormGroupName",(function(){return Fe})),n.d(t,"FormsModule",(function(){return ct})),n.d(t,"MaxLengthValidator",(function(){return $e})),n.d(t,"MinLengthValidator",(function(){return Je})),n.d(t,"NG_ASYNC_VALIDATORS",(function(){return E})),n.d(t,"NG_VALIDATORS",(function(){return S})),n.d(t,"NG_VALUE_ACCESSOR",(function(){return c})),n.d(t,"NgControl",(function(){return y})),n.d(t,"NgControlStatus",(function(){return C})),n.d(t,"NgControlStatusGroup",(function(){return k})),n.d(t,"NgForm",(function(){return Ce})),n.d(t,"NgModel",(function(){return xe})),n.d(t,"NgModelGroup",(function(){return Ie})),n.d(t,"NgSelectOption",(function(){return Y})),n.d(t,"NumberValueAccessor",(function(){return j})),n.d(t,"PatternValidator",(function(){return tt})),n.d(t,"RadioControlValueAccessor",(function(){return F})),n.d(t,"RangeValueAccessor",(function(){return V})),n.d(t,"ReactiveFormsModule",(function(){return ut})),n.d(t,"RequiredValidator",(function(){return qe})),n.d(t,"SelectControlValueAccessor",(function(){return W})),n.d(t,"SelectMultipleControlValueAccessor",(function(){return X})),n.d(t,"VERSION",(function(){return st})),n.d(t,"Validators",(function(){return O})),n.d(t,"\u0275InternalFormsSharedModule",(function(){return ot})),n.d(t,"\u0275NgNoValidate",(function(){return Te})),n.d(t,"\u0275NgSelectMultipleOption",(function(){return J})),n.d(t,"\u0275angular_packages_forms_forms_a",(function(){return nt})),n.d(t,"\u0275angular_packages_forms_forms_b",(function(){return rt})),n.d(t,"\u0275angular_packages_forms_forms_ba",(function(){return ze})),n.d(t,"\u0275angular_packages_forms_forms_bb",(function(){return Ke})),n.d(t,"\u0275angular_packages_forms_forms_bc",(function(){return Xe})),n.d(t,"\u0275angular_packages_forms_forms_bd",(function(){return Ze})),n.d(t,"\u0275angular_packages_forms_forms_be",(function(){return et})),n.d(t,"\u0275angular_packages_forms_forms_c",(function(){return it})),n.d(t,"\u0275angular_packages_forms_forms_d",(function(){return ot})),n.d(t,"\u0275angular_packages_forms_forms_e",(function(){return u})),n.d(t,"\u0275angular_packages_forms_forms_f",(function(){return h})),n.d(t,"\u0275angular_packages_forms_forms_g",(function(){return _})),n.d(t,"\u0275angular_packages_forms_forms_h",(function(){return b})),n.d(t,"\u0275angular_packages_forms_forms_i",(function(){return _e})),n.d(t,"\u0275angular_packages_forms_forms_j",(function(){return Oe})),n.d(t,"\u0275angular_packages_forms_forms_k",(function(){return Ee})),n.d(t,"\u0275angular_packages_forms_forms_l",(function(){return R})),n.d(t,"\u0275angular_packages_forms_forms_m",(function(){return M})),n.d(t,"\u0275angular_packages_forms_forms_n",(function(){return N})),n.d(t,"\u0275angular_packages_forms_forms_o",(function(){return L})),n.d(t,"\u0275angular_packages_forms_forms_p",(function(){return Ae})),n.d(t,"\u0275angular_packages_forms_forms_q",(function(){return De})),n.d(t,"\u0275angular_packages_forms_forms_r",(function(){return Be})),n.d(t,"\u0275angular_packages_forms_forms_s",(function(){return je})),n.d(t,"\u0275angular_packages_forms_forms_t",(function(){return Ne})),n.d(t,"\u0275angular_packages_forms_forms_u",(function(){return Le})),n.d(t,"\u0275angular_packages_forms_forms_v",(function(){return z})),n.d(t,"\u0275angular_packages_forms_forms_w",(function(){return K})),n.d(t,"\u0275angular_packages_forms_forms_x",(function(){return J})),n.d(t,"\u0275angular_packages_forms_forms_y",(function(){return Te})),n.d(t,"\u0275angular_packages_forms_forms_z",(function(){return He}));var r=n("8Y7J"),i=n("SVse"),o=n("cp0P"),a=n("Cfvw"),s=n("lJxs"),c=new r.InjectionToken("NgValueAccessor"),u={provide:c,useExisting:Object(r.forwardRef)((function(){return l})),multi:!0},l=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[r["\u0275\u0275ProvidersFeature"]([u])]}),e}(),h={provide:c,useExisting:Object(r.forwardRef)((function(){return d})),multi:!0},f=new r.InjectionToken("CompositionEventMode"),d=function(){var e=function(){function e(t,n,r){var o;_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(o=Object(i["\u0275getDOM"])()?Object(i["\u0275getDOM"])().getUserAgent():"",!/android (\d+)/.test(o.toLowerCase())))}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](f,8))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[r["\u0275\u0275ProvidersFeature"]([h])]}),e}(),p=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e}),e}(),v=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(p);return e.\u0275fac=function(t){return m(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,features:[r["\u0275\u0275InheritDefinitionFeature"]]}),e}(),m=r["\u0275\u0275getInheritedFactory"](v);function g(){throw new Error("unimplemented")}var y=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass2(n,[{key:"validator",get:function(){return g()}},{key:"asyncValidator",get:function(){return g()}}]),n}(p),_=function(){function e(t){_classCallCheck2(this,e),this._cd=t}return _createClass2(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),b={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return n}(_);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](y,2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r["\u0275\u0275classProp"]("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r["\u0275\u0275InheritDefinitionFeature"]]}),e}(),k=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return n}(_);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](v,2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r["\u0275\u0275classProp"]("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r["\u0275\u0275InheritDefinitionFeature"]]}),e}();function w(e){return null==e||0===e.length}var S=new r.InjectionToken("NgValidators"),E=new r.InjectionToken("NgAsyncValidators"),I=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,O=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"min",value:function(e){return function(t){if(w(t.value)||w(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(w(t.value)||w(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return w(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return w(e.value)||I.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(w(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(w(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(P);return 0==t.length?null:function(e){return T(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(P);return 0==t.length?null:function(e){var n=function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(x);return Object(o.a)(n).pipe(Object(s.a)(T))}}}]),e}();function P(e){return null!=e}function x(e){var t=Object(r["\u0275isPromise"])(e)?Object(a.a)(e):e;if(!Object(r["\u0275isObservable"])(t))throw new Error("Expected validator to return Promise or Observable.");return t}function T(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function A(e){return e.validate?function(t){return e.validate(t)}:e}function D(e){return e.validate?function(t){return e.validate(t)}:e}var R={provide:c,useExisting:Object(r.forwardRef)((function(){return j})),multi:!0},j=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r["\u0275\u0275ProvidersFeature"]([R])]}),e}(),M={provide:c,useExisting:Object(r.forwardRef)((function(){return F})),multi:!0},N=function(){var e=function(){function e(){_classCallCheck2(this,e),this._accessors=[]}return _createClass2(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),F=function(){var e=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass2(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(y),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](N),r["\u0275\u0275directiveInject"](r.Injector))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r["\u0275\u0275ProvidersFeature"]([M])]}),e}(),L={provide:c,useExisting:Object(r.forwardRef)((function(){return V})),multi:!0},V=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r["\u0275\u0275ProvidersFeature"]([L])]}),e}(),U='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',B='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',G='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',H=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(U))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(B,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(G))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(U))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(B))}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),z={provide:c,useExisting:Object(r.forwardRef)((function(){return W})),multi:!0};function q(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var W=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return _createClass2(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=q(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r["\u0275\u0275ProvidersFeature"]([z])]}),e}(),Y=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass2(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(q(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](W,9))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),K={provide:c,useExisting:Object(r.forwardRef)((function(){return X})),multi:!0};function Q(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var X=function(){var e=function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r["\u0275looseIdentical"]}return _createClass2(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var c=n.options,u=0;u<c.length;u++){var l=c.item(u);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r["\u0275\u0275ProvidersFeature"]([K])]}),e}(),J=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass2(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Q(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Q(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](X,9))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}();function Z(e,t){return[].concat(_toConsumableArray2(t.path),[e])}function $(e,t){e||re(t,"Cannot find control with"),t.valueAccessor||re(t,"No value accessor for form control with"),e.validator=O.compose([e.validator,t.validator]),e.asyncValidator=O.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ee(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ee(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function ee(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function te(e,t){null==e&&re(t,"Cannot find control with"),e.validator=O.compose([e.validator,t.validator]),e.asyncValidator=O.composeAsync([e.asyncValidator,t.asyncValidator])}function ne(e){return re(e,"There is no FormControl instance attached to form control element with")}function re(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function ie(e){return null!=e?O.compose(e.map(A)):null}function oe(e){return null!=e?O.composeAsync(e.map(D)):null}function ae(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r["\u0275looseIdentical"])(t,n.currentValue)}var se=[l,V,j,W,X,F];function ce(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function ue(e,t){if(!t)return null;Array.isArray(t)||re(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===d?n=t:(o=t,se.some((function(e){return o.constructor===e}))?(r&&re(e,"More than one built-in value accessor matches form control with"),r=t):(i&&re(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(re(e,"No valid value accessor for form control with"),null)}function le(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function he(e,t,n,i){Object(r.isDevMode)()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(H.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function fe(e){var t=pe(e)?e.validators:e;return Array.isArray(t)?ie(t):t||null}function de(e,t){var n=pe(t)?t.asyncValidators:e;return Array.isArray(n)?oe(n):n||null}function pe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var ve=function(){function e(t,n){_classCallCheck2(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass2(e,[{key:"setValidators",value:function(e){this.validator=fe(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=de(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=x(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof ge?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof ye&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.EventEmitter,this.statusChanges=new r.EventEmitter}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){pe(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),me=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck2(this,n),(e=t.call(this,fe(i),de(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass2(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(ve),ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,fe(r),de(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass2(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof me?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(ve),ye=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this,fe(r),de(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass2(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof me?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(ve),_e={provide:v,useExisting:Object(r.forwardRef)((function(){return Ce}))},be=Promise.resolve(null),Ce=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck2(this,n),(o=t.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.EventEmitter,o.form=new ge({},ie(e),oe(i)),o}return _createClass2(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;be.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),$(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;be.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),le(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;be.then((function(){var n=t._findContainer(e.path),r=new ge({});te(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;be.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;be.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,ce(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r["\u0275\u0275ProvidersFeature"]([_e]),r["\u0275\u0275InheritDefinitionFeature"]]}),e}(),ke=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Z(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ie(this._validators)}},{key:"asyncValidator",get:function(){return oe(this._asyncValidators)}}]),n}(v);return e.\u0275fac=function(t){return we(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,features:[r["\u0275\u0275InheritDefinitionFeature"]]}),e}(),we=r["\u0275\u0275getInheritedFactory"](ke),Se=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(U,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(B,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(G))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(B,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(G))}}]),e}(),Ee={provide:v,useExisting:Object(r.forwardRef)((function(){return Ie}))},Ie=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass2(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Ce||Se.modelGroupParentException()}}]),n}(ke);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](v,5),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r["\u0275\u0275ProvidersFeature"]([Ee]),r["\u0275\u0275InheritDefinitionFeature"]]}),e}(),Oe={provide:y,useExisting:Object(r.forwardRef)((function(){return xe}))},Pe=Promise.resolve(null),xe=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this)).control=new me,s._registered=!1,s.update=new r.EventEmitter,s._parent=e,s._rawValidators=i||[],s._rawAsyncValidators=o||[],s.valueAccessor=ue(_assertThisInitialized(s),a),s}return _createClass2(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),ae(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){$(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Ie)&&this._parent instanceof ke?Se.formGroupNameException():this._parent instanceof Ie||this._parent instanceof Ce||Se.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Se.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;Pe.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;Pe.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?Z(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ie(this._rawValidators)}},{key:"asyncValidator",get:function(){return oe(this._rawAsyncValidators)}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](v,9),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10),r["\u0275\u0275directiveInject"](c,10))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r["\u0275\u0275ProvidersFeature"]([Oe]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),e}(),Te=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),Ae=new r.InjectionToken("NgModelWithFormControlWarning"),De={provide:y,useExisting:Object(r.forwardRef)((function(){return Re}))},Re=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;return _classCallCheck2(this,n),(s=t.call(this))._ngModelWarningConfig=a,s.update=new r.EventEmitter,s._ngModelWarningSent=!1,s._rawValidators=e||[],s._rawAsyncValidators=i||[],s.valueAccessor=ue(_assertThisInitialized(s),o),s}return _createClass2(n,[{key:"ngOnChanges",value:function(e){this._isControlChanged(e)&&($(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),ae(e,this.viewModel)&&(he("formControl",n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}},{key:"isDisabled",set:function(e){H.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return ie(this._rawValidators)}},{key:"asyncValidator",get:function(){return oe(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10),r["\u0275\u0275directiveInject"](c,10),r["\u0275\u0275directiveInject"](Ae,8))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r["\u0275\u0275ProvidersFeature"]([De]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),e._ngModelWarningSentOnce=!1,e}(),je={provide:v,useExisting:Object(r.forwardRef)((function(){return Me}))},Me=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck2(this,n),(o=t.call(this))._validators=e,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.EventEmitter,o}return _createClass2(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return $(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){le(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);te(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);te(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,ce(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return ne(t)})),t.valueAccessor.registerOnTouched((function(){return ne(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&$(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=ie(this._validators);this.form.validator=O.compose([this.form.validator,e]);var t=oe(this._asyncValidators);this.form.asyncValidator=O.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||H.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r["\u0275\u0275ProvidersFeature"]([je]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),e}(),Ne={provide:v,useExisting:Object(r.forwardRef)((function(){return Fe}))},Fe=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass2(n,[{key:"_checkParentType",value:function(){Ue(this._parent)&&H.groupParentException()}}]),n}(ke);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](v,13),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r["\u0275\u0275ProvidersFeature"]([Ne]),r["\u0275\u0275InheritDefinitionFeature"]]}),e}(),Le={provide:v,useExisting:Object(r.forwardRef)((function(){return Ve}))},Ve=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck2(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass2(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){Ue(this._parent)&&H.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Z(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return ie(this._validators)}},{key:"asyncValidator",get:function(){return oe(this._asyncValidators)}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](v,13),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r["\u0275\u0275ProvidersFeature"]([Le]),r["\u0275\u0275InheritDefinitionFeature"]]}),e}();function Ue(e){return!(e instanceof Fe||e instanceof Me||e instanceof Ve)}var Be={provide:y,useExisting:Object(r.forwardRef)((function(){return Ge}))},Ge=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a,s){var c;return _classCallCheck2(this,n),(c=t.call(this))._ngModelWarningConfig=s,c._added=!1,c.update=new r.EventEmitter,c._ngModelWarningSent=!1,c._parent=e,c._rawValidators=i||[],c._rawAsyncValidators=o||[],c.valueAccessor=ue(_assertThisInitialized(c),a),c}return _createClass2(n,[{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),ae(e,this.viewModel)&&(he("formControlName",n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Fe)&&this._parent instanceof ke?H.ngModelGroupException():this._parent instanceof Fe||this._parent instanceof Me||this._parent instanceof Ve||H.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){H.disabledAttrWarning()}},{key:"path",get:function(){return Z(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ie(this._rawValidators)}},{key:"asyncValidator",get:function(){return oe(this._rawAsyncValidators)}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](v,13),r["\u0275\u0275directiveInject"](S,10),r["\u0275\u0275directiveInject"](E,10),r["\u0275\u0275directiveInject"](c,10),r["\u0275\u0275directiveInject"](Ae,8))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r["\u0275\u0275ProvidersFeature"]([Be]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]]}),e._ngModelWarningSentOnce=!1,e}(),He={provide:S,useExisting:Object(r.forwardRef)((function(){return qe})),multi:!0},ze={provide:S,useExisting:Object(r.forwardRef)((function(){return We})),multi:!0},qe=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"validate",value:function(e){return this.required?O.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!=="".concat(e),this._onChange&&this._onChange()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r["\u0275\u0275attribute"]("required",t.required?"":null)},inputs:{required:"required"},features:[r["\u0275\u0275ProvidersFeature"]([He])]}),e}(),We=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"validate",value:function(e){return this.required?O.requiredTrue(e):null}}]),n}(qe);return e.\u0275fac=function(t){return Ye(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&r["\u0275\u0275attribute"]("required",t.required?"":null)},features:[r["\u0275\u0275ProvidersFeature"]([ze]),r["\u0275\u0275InheritDefinitionFeature"]]}),e}(),Ye=r["\u0275\u0275getInheritedFactory"](We),Ke={provide:S,useExisting:Object(r.forwardRef)((function(){return Qe})),multi:!0},Qe=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"validate",value:function(e){return this._enabled?O.email(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"email",set:function(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[r["\u0275\u0275ProvidersFeature"]([Ke])]}),e}(),Xe={provide:S,useExisting:Object(r.forwardRef)((function(){return Je})),multi:!0},Je=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnChanges",value:function(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null==this.minlength?null:this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=O.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&r["\u0275\u0275attribute"]("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[r["\u0275\u0275ProvidersFeature"]([Xe]),r["\u0275\u0275NgOnChangesFeature"]]}),e}(),Ze={provide:S,useExisting:Object(r.forwardRef)((function(){return $e})),multi:!0},$e=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnChanges",value:function(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null!=this.maxlength?this._validator(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=O.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&r["\u0275\u0275attribute"]("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r["\u0275\u0275ProvidersFeature"]([Ze]),r["\u0275\u0275NgOnChangesFeature"]]}),e}(),et={provide:S,useExisting:Object(r.forwardRef)((function(){return tt})),multi:!0},tt=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnChanges",value:function(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=O.pattern(this.pattern)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&r["\u0275\u0275attribute"]("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[r["\u0275\u0275ProvidersFeature"]([et]),r["\u0275\u0275NgOnChangesFeature"]]}),e}(),nt=[Te,Y,J,d,j,V,l,W,X,F,C,k,qe,Je,$e,tt,We,Qe],rt=[xe,Ie,Ce],it=[Re,Me,Ge,Fe,Ve],ot=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e}(),at=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new ge(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new me(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new ye(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof me||e instanceof ge||e instanceof ye?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),st=new r.Version("9.0.7"),ct=function(){var e=function e(){_classCallCheck2(this,e)};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[N],imports:[ot]}),e}(),ut=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Ae,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}();return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[at,N],imports:[ot]}),e}()},sDVU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMultilineText=function(e){return e.replace(/\\n/g,"\n")},t.pascalCaseToUnderscore=function(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()}},sVev:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},"sX+X":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Copyright=function(){return function e(t){_classCallCheck2(this,e),this.authorName=null,this.authorCompanyName=null,this.authorCompanyUrl=null,Object.assign(this,t)}}()},sZC0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("MBfS"),s=r.__importStar(n("8Y7J")),c=r.__importStar(n("zyZ6")),u=r.__importStar(n("PHhj")),l=r.__importStar(n("iInd")),h=r.__importStar(n("R/cS")),f=r.__importStar(n("f4AX")),d=r.__importStar(n("S1xO")),p=r.__importStar(n("SVse")),v=r.__importStar(n("TSSN")),m=r.__importStar(n("rJgo"));function g(e,t){1&e&&s.\u0275\u0275element(0,"li",12)}function y(e,t){1&e&&s.\u0275\u0275element(0,"li",13)}function _(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275element(1,"h5",8),s.\u0275\u0275elementStart(2,"ul",9),s.\u0275\u0275template(3,g,1,0,"li",10),s.\u0275\u0275template(4,y,1,0,"li",11),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf",n.isRoomOwner),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.isBotManager)}}function b(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"span",18),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(3);s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(n.selectedRoom.description)}}function C(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275elementStart(1,"span",19),s.\u0275\u0275text(2),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"span",16),s.\u0275\u0275text(5),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(3);s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1("",s.\u0275\u0275pipeBind1(3,2,"i18n.COMMON.CREATOR"),":"),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(n.roomCreator)}}function k(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275elementStart(1,"span",19),s.\u0275\u0275text(2),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"span",16),s.\u0275\u0275text(5),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(3);s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1("",s.\u0275\u0275pipeBind1(3,2,"i18n.COMMON.ADMINISTRATOR"),":"),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(n.roomOwner)}}function w(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275element(1,"h5",20),s.\u0275\u0275elementStart(2,"div",21),s.\u0275\u0275listener("click",(function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).leaveRoom()})),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}}function S(e,t){if(1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"div"),s.\u0275\u0275element(2,"h5",14),s.\u0275\u0275elementStart(3,"div",15),s.\u0275\u0275elementStart(4,"span",16),s.\u0275\u0275text(5),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(6,b,2,1,"span",17),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(7,C,6,4,"div",7),s.\u0275\u0275template(8,k,6,4,"div",7),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(9,w,3,0,"div",7),s.\u0275\u0275elementContainerEnd()),2&e){var n=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(3),s.\u0275\u0275property("title",n.selectedRoom.description||""),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate2("#",n.selectedRoom.id,": ",n.selectedRoom.name,""),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.selectedRoom.description),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!!n.roomCreator),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!!n.roomOwner),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.canLeaveRoom)}}function E(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275elementStart(1,"div",23),s.\u0275\u0275listener("click",(function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).startGame()})),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}}function I(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",33),s.\u0275\u0275listener("click",(function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(4).stopGame()})),s.\u0275\u0275elementEnd()}}function O(e,t){if(1&e&&s.\u0275\u0275element(0,"div",34),2&e){s.\u0275\u0275nextContext();var n=s.\u0275\u0275reference(7);s.\u0275\u0275property("matMenuTriggerFor",n)}}function P(e,t){if(1&e&&s.\u0275\u0275element(0,"div",35),2&e){s.\u0275\u0275nextContext();var n=s.\u0275\u0275reference(10);s.\u0275\u0275property("matMenuTriggerFor",n)}}function x(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"button",36),s.\u0275\u0275listener("click",(function(){s.\u0275\u0275restoreView(n);var e=t.$implicit;return s.\u0275\u0275nextContext(4).putOnQuarantine(e)})),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate2("",s.\u0275\u0275pipeBind1(2,2,"i18n.COMMON.PLAYER")," #",r,"")}}function T(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"button",36),s.\u0275\u0275listener("click",(function(){s.\u0275\u0275restoreView(n);var e=t.$implicit;return s.\u0275\u0275nextContext(4).setLockedDoor(e)})),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate4(" ",s.\u0275\u0275pipeBind1(2,4,"i18n.COMMON.FROM")," #",r.fromId," ",s.\u0275\u0275pipeBind1(3,6,"i18n.COMMON.TO")," #",r.toId," ")}}function A(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,I,1,0,"div",24),s.\u0275\u0275elementStart(2,"div",25),s.\u0275\u0275listener("click",(function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).restartGame()})),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"div",26),s.\u0275\u0275listener("click",(function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext(3).endGame()})),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(4,O,1,1,"div",27),s.\u0275\u0275template(5,P,1,1,"div",28),s.\u0275\u0275elementStart(6,"mat-menu",null,29),s.\u0275\u0275template(8,x,3,4,"button",30),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(9,"mat-menu",null,31),s.\u0275\u0275template(11,T,4,8,"button",32),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()}if(2&e){var r=s.\u0275\u0275nextContext(3);s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!r.isGameFinished),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngIf",r.quarantineOptions.length),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",r.lockedDoorOptions.length),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngForOf",r.quarantineOptions),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngForOf",r.lockedDoorOptions)("ngForTrackBy",r.trackLockedDoorOptions)}}function D(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275element(1,"h5",22),s.\u0275\u0275template(2,E,2,0,"ng-container",7),s.\u0275\u0275template(3,A,12,6,"ng-container",7),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",n.canStartGame),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.isGameMode)}}function R(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"button",36),s.\u0275\u0275listener("click",(function(){s.\u0275\u0275restoreView(n);var e=t.$implicit;return s.\u0275\u0275nextContext(4).addBot(e)})),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate2("",s.\u0275\u0275pipeBind1(2,2,"i18n.COMMON.PLACE")," #",r,"")}}function j(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"button",36),s.\u0275\u0275listener("click",(function(){s.\u0275\u0275restoreView(n);var e=t.$implicit;return s.\u0275\u0275nextContext(4).removeBot(e)})),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate2("",s.\u0275\u0275pipeBind1(2,2,"i18n.COMMON.PLACE")," #",r,"")}}function M(e,t){if(1&e&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275element(1,"h5",37),s.\u0275\u0275element(2,"div",38),s.\u0275\u0275element(3,"div",39),s.\u0275\u0275elementStart(4,"mat-menu",null,40),s.\u0275\u0275template(6,R,3,4,"button",30),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(7,"mat-menu",null,41),s.\u0275\u0275template(9,j,3,4,"button",30),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementContainerEnd()),2&e){var n=s.\u0275\u0275reference(5),r=s.\u0275\u0275reference(8),i=s.\u0275\u0275nextContext(3);s.\u0275\u0275advance(2),s.\u0275\u0275property("matMenuTriggerFor",n),s.\u0275\u0275advance(1),s.\u0275\u0275property("matMenuTriggerFor",r),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngForOf",i.availableAddPlaces),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngForOf",i.availableRemovePlaces)}}function N(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div"),s.\u0275\u0275template(1,M,10,4,"ng-container",7),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!n.isGameMode)}}function F(e,t){if(1&e&&(s.\u0275\u0275elementStart(0,"div",5),s.\u0275\u0275elementStart(1,"div",6),s.\u0275\u0275template(2,_,5,2,"div",7),s.\u0275\u0275template(3,S,10,7,"ng-container",7),s.\u0275\u0275template(4,D,4,2,"div",7),s.\u0275\u0275template(5,N,2,1,"div",7),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()),2&e){var n=s.\u0275\u0275nextContext();s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",n.isRoomOwner||n.isBotManager),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",!!n.selectedRoom),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.isRoomOwner&&(n.canStartGame||n.isGameMode)),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",n.isBotManager)}}var L=function(e){return{opened:e}},V=function(){function e(t,n,r,o,a,s){_classCallCheck2(this,e),this.gameService=t,this.roomService=n,this.router=r,this.botService=o,this.userService=a,this.cardService=s,this.isOpened=!1,this.audioTracks=[],this.videoTracks=[],this.destroy$=new i.Subject}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"toggleSidebar",value:function(){this.isOpened=!this.isOpened}},{key:"leaveRoom",value:function(){var e=this;this.roomService.leaveRoom().subscribe((function(){return e.navigateToLobby()}))}},{key:"endGame",value:function(){var e=this;if(this.isGameMode){var t=this.roomService.getSelectedRoomId();this.gameService.endGame().pipe(o.switchMap((function(){return e.botService.processBotManagement(t,!0)}))).subscribe((function(){return e.navigateToLobby()}))}}},{key:"restartGame",value:function(){this.isGameMode&&this.gameService.restartGame().subscribe()}},{key:"stopGame",value:function(){if(this.isGameMode){var e=this.roomService.getSelectedRoomId();this.gameService.endGame(e,!1).subscribe()}}},{key:"startGame",value:function(){this.canStartGame&&this.gameService.startGame().subscribe()}},{key:"addBot",value:function(e){this.botService.addBot(this.selectedRoom.id,e).subscribe()}},{key:"removeBot",value:function(e){this.botService.removeBot(this.selectedRoom.id,e).subscribe()}},{key:"putOnQuarantine",value:function(e){this.cardService.putOnQuarantine(e).subscribe()}},{key:"setLockedDoor",value:function(e){this.cardService.setLockedDoor(e).subscribe()}},{key:"trackLockedDoorOptions",value:function(e,t){return t.fromId&&t.toId}},{key:"navigateToLobby",value:function(){var e=this.gameService.getSelectedGame();this.router.navigate(e?["/games",e.toLowerCase(),"lobby"]:["/games"])}},{key:"canLeaveRoom",get:function(){return this.gameService.canLeaveRoom}},{key:"selectedRoom",get:function(){return this.roomService.getSelectedRoom()}},{key:"isGameMode",get:function(){return this.roomService.isGameMode()}},{key:"isGameFinished",get:function(){return this.roomService.isGameFinished()}},{key:"isInactive",get:function(){return this.gameService.isInactive()}},{key:"activePlayerId",get:function(){return this.gameService.getActivePlayerId()}},{key:"availableAddPlaces",get:function(){return this.selectedRoom?this.gameService.getInactivePlayerComponents().map((function(e){return e.playerId})):[]}},{key:"availableRemovePlaces",get:function(){return this.selectedRoom?this.gameService.getActiveBotComponents().map((function(e){return e.playerId})):[]}},{key:"isBotManager",get:function(){var e=this.roomService.getSelectedRoomId();return!!e&&this.roomService.isBotManager(this.userService.getCurrentUserId(),e)}},{key:"roomCreator",get:function(){var e=this.roomService.getSelectedRoom();if(!e)return null;var t=this.userService.getUser(e.authorId);return t?t.username:null}},{key:"roomOwner",get:function(){var e=this.roomService.getSelectedRoom();if(!e)return null;var t=this.userService.getUser(e.ownerId);return t?t.username:null}},{key:"isRoomOwner",get:function(){var e=this.roomService.getSelectedRoomId();return!!e&&this.roomService.isRoomOwner(this.userService.getCurrentUserId(),e)}},{key:"quarantineOptions",get:function(){var e=this;return this.gameService.getActivePlayerComponents().filter((function(t){return!e.gameService.hasQuarantine(t.playerId)})).map((function(e){return e.playerId}))}},{key:"lockedDoorOptions",get:function(){var e=this;return a.flatten(this.gameService.getActivePlayerComponents().filter((function(t){return e.gameService.getLockedDoors(t.playerId).length<2})).map((function(t){var n=[],r=e.gameService.getPreviousPlayer(t.playerId).playerId,i=e.gameService.getNextPlayer(t.playerId).playerId;return e.gameService.hasLockedDoor(t.playerId,r)||e.gameService.hasLockedDoor(r,t.playerId)||n.push({fromId:t.playerId,toId:r}),e.gameService.hasLockedDoor(t.playerId,i)||e.gameService.hasLockedDoor(i,t.playerId)||n.push({fromId:t.playerId,toId:i}),n})))}},{key:"canStartGame",get:function(){return!!this.roomService.getSelectedRoomId()&&!this.isGameMode&&this.gameService.hasEnoughPlayers}}]),e}();t.SidebarComponent=V,V.\u0275fac=function(e){return new(e||V)(s.\u0275\u0275directiveInject(c.GameService),s.\u0275\u0275directiveInject(u.RoomService),s.\u0275\u0275directiveInject(l.Router),s.\u0275\u0275directiveInject(h.BotService),s.\u0275\u0275directiveInject(f.UserService),s.\u0275\u0275directiveInject(d.CardService))},V.\u0275cmp=s.\u0275\u0275defineComponent({type:V,selectors:[["gw-sidebar"]],decls:6,vars:4,consts:[[1,"d-flex","flex-column","align-items-stretch","gw-sidebar-wrapper",3,"ngClass"],[1,"d-flex","p-2","gw-sidebar-toggler"],[1,"btn","btn-primary",3,"click"],[1,"material-icons"],["class","p-2 mt-5 gw-sidebar-content",4,"ngIf"],[1,"p-2","mt-5","gw-sidebar-content"],[1,"d-flex","flex-column"],[4,"ngIf"],["translate","i18n.COMMON.MANAGEMENT_ROLES",1,"mt-3","border-bottom","border-secondary"],[1,"m-0","pl-4"],["class","font-weight-bold","translate","i18n.ROLES.ROOM_ADMINISTRATOR",4,"ngIf"],["class","font-weight-bold","translate","i18n.ROLES.BOT_MANAGER",4,"ngIf"],["translate","i18n.ROLES.ROOM_ADMINISTRATOR",1,"font-weight-bold"],["translate","i18n.ROLES.BOT_MANAGER",1,"font-weight-bold"],["translate","i18n.COMMON.ROOM_INFORMATION",1,"mt-3","border-bottom","border-secondary"],[1,"d-flex","flex-column","flex-grow-1",3,"title"],[1,"font-weight-bold"],["class","font-italic text-justify",4,"ngIf"],[1,"font-italic","text-justify"],[1,"mr-1"],["translate","i18n.COMMON.ROOM_SETTINGS",1,"mt-3","border-bottom","border-secondary"],["translate","i18n.GAME.LEAVE_ROOM",1,"btn","btn-primary",3,"click"],["translate","i18n.COMMON.GAME_SETTINGS",1,"mt-3","border-bottom","border-secondary"],["translate","i18n.COMMON.START_GAME",1,"btn","btn-primary","mb-2",3,"click"],["class","btn btn-primary mb-2","translate","i18n.GAME.STOP_GAME",3,"click",4,"ngIf"],["translate","i18n.GAME.RESTART_GAME",1,"btn","btn-primary","mb-2",3,"click"],["translate","i18n.GAME.STOP_AND_KICK_ALL",1,"btn","btn-primary","mb-2",3,"click"],["class","btn btn-secondary mb-2","translate","i18n.GAME.PUT_ON_QUARANTINE",3,"matMenuTriggerFor",4,"ngIf"],["class","btn btn-secondary mb-2","translate","i18n.GAME.SET_LOCKED_DOOR",3,"matMenuTriggerFor",4,"ngIf"],["quarantineMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["lockedDoorMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["translate","i18n.GAME.STOP_GAME",1,"btn","btn-primary","mb-2",3,"click"],["translate","i18n.GAME.PUT_ON_QUARANTINE",1,"btn","btn-secondary","mb-2",3,"matMenuTriggerFor"],["translate","i18n.GAME.SET_LOCKED_DOOR",1,"btn","btn-secondary","mb-2",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["translate","i18n.COMMON.BOT_SETTINGS",1,"mt-3","border-bottom","border-secondary"],["translate","i18n.GAME.ADD_BOT",1,"btn","btn-dark","mb-2",3,"matMenuTriggerFor"],["translate","i18n.GAME.REMOVE_BOT",1,"btn","btn-dark",3,"matMenuTriggerFor"],["addBotMenu","matMenu"],["removeBotMenu","matMenu"]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275elementStart(1,"div",1),s.\u0275\u0275elementStart(2,"div",2),s.\u0275\u0275listener("click",(function(){return t.toggleSidebar()})),s.\u0275\u0275elementStart(3,"i",3),s.\u0275\u0275text(4," menu "),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(5,F,6,4,"div",4),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(2,L,t.isOpened)),s.\u0275\u0275advance(5),s.\u0275\u0275property("ngIf",t.isOpened))},directives:[p.NgClass,p.NgIf,v.TranslateDirective,m._MatMenu,p.NgForOf,m.MatMenuTrigger,m.MatMenuItem],pipes:[v.TranslatePipe],styles:[".gw-sidebar-wrapper[_ngcontent-%COMP%]{background-color:#f4f7f6;position:relative;min-width:62px;width:62px;height:100%}.gw-sidebar-wrapper.opened[_ngcontent-%COMP%]{background-color:#fff;min-width:200px;width:200px;z-index:98}.gw-sidebar-wrapper[_ngcontent-%COMP%]   .gw-sidebar-toggler[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:99}.gw-sidebar-wrapper[_ngcontent-%COMP%]   .gw-sidebar-toggler[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0;min-width:46px}.gw-sidebar-wrapper[_ngcontent-%COMP%]   .gw-sidebar-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:calc(100% - 3rem)}"]})},"t/sr":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=r.__importStar(n("8Y7J")),s=r.__importStar(n("lwos")),c=function e(t){var n=this;_classCallCheck2(this,e),this.loaderService=t,this.startRequestPipe=function(e){return e.pipe(o.tap((function(){return n.loaderService.addRequest()})),o.take(1))},this.endRequestPipe=function(e){return e.pipe(o.finalize((function(){return n.loaderService.removeRequest()})),o.catchError((function(e){return console.log(e.message),i.throwError(e)})))}};t.PipeHelpers=c,c.\u0275fac=function(e){return new(e||c)(a.\u0275\u0275inject(s.LoaderService))},c.\u0275prov=a.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})},tenp:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GameAction=((r=t.GameAction||{}).TakeDeckCard="takeDeckCard",r.TakeHandCard="takeHandCard",r.PlayTableCard="playTableCard",r.PlayHandCard="playHandCard",r.DropTableCard="dropTableCard",r.DropHandCard="dropHandCard",r.GiveHandCard="giveHandCard",r.GiveTableCard="giveTableCard",r.ShowCards="showCards",r.SkipShowingCards="skipShowingCards",r.AcceptRequest="acceptRequest",r)},"tf+s":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return _classCallCheck2(this,n),(r=t.call(this)).source=e,r.delayTime=a,r.scheduler=s,(!Object(o.a)(a)||a<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=i.a),r}return _createClass2(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.a);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new c(e,t))}}var c=function(){function e(t,n){_classCallCheck2(this,e),this.scheduler=t,this.delay=n}return _createClass2(e,[{key:"call",value:function(e,t){return new a(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},tnsW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck2(this,e),this.durationSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.durationSelector))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).durationSelector=r,i.hasValue=!1,i}return _createClass2(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=Object(i.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(r.a)},uOVL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("Hs/S"),o=r.__importStar(n("8Y7J")),a=r.__importStar(n("TSSN")),s=r.__importStar(n("iInd")),c=function(e){return[e]},u=function e(){_classCallCheck2(this,e),this.Game=i.Game};t.GamesComponent=u,u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=o.\u0275\u0275defineComponent({type:u,selectors:[["gw-games"]],decls:5,vars:6,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100"],["translate","i18n.COMMON.CHOOSE_YOUR_GAME",1,"text-uppercase","light"],[1,"d-flex","flex-column","align-items-stretch"],["tabindex","0","translate","i18n.GAMES.NECHTO",1,"btn","btn-primary","btn-lg","m-2","wide","btn-game","btn-nechto",3,"routerLink"],["tabindex","0","translate","i18n.GAMES.TRUMP",1,"btn","btn-primary","btn-lg","m-2","wide","btn-game","btn-trump",3,"routerLink"]],template:function(e,t){1&e&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275element(1,"h2",1),o.\u0275\u0275elementStart(2,"div",2),o.\u0275\u0275element(3,"div",3),o.\u0275\u0275element(4,"div",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementEnd()),2&e&&(o.\u0275\u0275advance(3),o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(2,c,"./"+t.Game.Nechto.toLowerCase())),o.\u0275\u0275advance(1),o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(4,c,"./"+t.Game.Trump.toLowerCase())))},directives:[a.TranslateDirective,s.RouterLink],styles:[".btn-game[_ngcontent-%COMP%]{background-position:20px;background-size:70px auto;background-repeat:no-repeat;padding:50px}.btn-game.btn-nechto[_ngcontent-%COMP%]{background-image:url(game-nechto.dfb6add80ebb890b9bc2.png)}.btn-game.btn-trump[_ngcontent-%COMP%]{background-image:url(game-trump.380fcbce5262273461cd.png)}"]})},"ukx+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=r.__importStar(n("8Y7J")),s=r.__importStar(n("PHhj")),c=r.__importStar(n("iInd")),u=r.__importStar(n("R/cS")),l=function(){function e(t,n,r){_classCallCheck2(this,e),this.roomService=t,this.router=n,this.botService=r}return _createClass2(e,[{key:"canActivate",value:function(e){var t=this;return this.roomService.roomsResolved?this.canActivateRoom(e):this.roomService.resolveRooms().pipe(o.switchMap((function(){return t.canActivateRoom(e)})))}},{key:"canDeactivate",value:function(e,t){var n=this,r=t.paramMap.get("roomId");return r?this.botService.processBotManagement(r,!0,!1).pipe(o.map((function(){return!0}))).pipe(o.switchMap((function(){return n.roomService.setRoomOwner(r)})),o.map((function(){return!0}))):i.of(!0)}},{key:"canActivateRoom",value:function(e){var t=e.data.game,n=e.paramMap.get("roomId"),r=this.roomService.getSelectedRoomId(t);if(r)return n===r?i.of(!0):(this.router.navigate(["/games",t.toLowerCase(),r]),i.of(!1));if(!n)return i.of(!0);try{return this.roomService.selectRoom(n,t).pipe(o.map((function(){return!0})))}catch(a){return this.router.navigate(["/games",t.toLowerCase(),"lobby"]),i.of(!1)}}}]),e}();t.RoomGuard=l,l.\u0275fac=function(e){return new(e||l)(a.\u0275\u0275inject(s.RoomService),a.\u0275\u0275inject(c.Router),a.\u0275\u0275inject(u.BotService))},l.\u0275prov=a.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})},ulaF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("s7LF"),o=n("qCKp"),a=n("7rMc"),s=r.__importStar(n("8Y7J")),c=r.__importStar(n("f4AX")),u=r.__importStar(n("s7LF")),l=r.__importStar(n("GNJl")),h=r.__importStar(n("TSSN")),f=r.__importStar(n("SVse")),d=["avatarUpload"];function p(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",3),s.\u0275\u0275elementStart(1,"div",4),s.\u0275\u0275element(2,"img",5),s.\u0275\u0275elementStart(3,"div",6),s.\u0275\u0275element(4,"label",7),s.\u0275\u0275elementStart(5,"input",8,9),s.\u0275\u0275listener("change",(function(e){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().uploadAvatar(e.target.files)})),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(7,"div",10),s.\u0275\u0275elementStart(8,"div",11),s.\u0275\u0275elementStart(9,"div",6),s.\u0275\u0275element(10,"label",12),s.\u0275\u0275element(11,"input",13),s.\u0275\u0275pipe(12,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(13,"div",6),s.\u0275\u0275element(14,"label",14),s.\u0275\u0275element(15,"input",15),s.\u0275\u0275pipe(16,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(17,"div",6),s.\u0275\u0275element(18,"label",16),s.\u0275\u0275element(19,"input",17),s.\u0275\u0275pipe(20,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(21,"div",6),s.\u0275\u0275element(22,"label",18),s.\u0275\u0275element(23,"input",19),s.\u0275\u0275pipe(24,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(25,"div",11),s.\u0275\u0275elementStart(26,"div",6),s.\u0275\u0275element(27,"label",20),s.\u0275\u0275elementStart(28,"select",21),s.\u0275\u0275element(29,"option",22),s.\u0275\u0275element(30,"option",23),s.\u0275\u0275element(31,"option",24),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(32,"div",6),s.\u0275\u0275element(33,"label",25),s.\u0275\u0275element(34,"textarea",26),s.\u0275\u0275pipe(35,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(36,"div",27),s.\u0275\u0275elementStart(37,"div",28),s.\u0275\u0275listener("click",(function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().save()})),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(38,"div",29),s.\u0275\u0275listener("click",(function(){return s.\u0275\u0275restoreView(n),s.\u0275\u0275nextContext().reset()})),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}if(2&e){var r=s.\u0275\u0275nextContext();s.\u0275\u0275advance(2),s.\u0275\u0275property("src",r.user.getAvatarUrl(),s.\u0275\u0275sanitizeUrl),s.\u0275\u0275advance(5),s.\u0275\u0275property("formGroup",r.form),s.\u0275\u0275advance(4),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(12,11,"i18n.PLACEHOLDERS.EMAIL")),s.\u0275\u0275advance(4),s.\u0275\u0275propertyInterpolate1("placeholder","",s.\u0275\u0275pipeBind1(16,13,"i18n.PLACEHOLDERS.USERNAME"),"..."),s.\u0275\u0275advance(4),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(20,15,"i18n.PLACEHOLDERS.FIRST_NAME")),s.\u0275\u0275advance(4),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(24,17,"i18n.PLACEHOLDERS.LAST_NAME")),s.\u0275\u0275advance(7),s.\u0275\u0275property("value",r.Gender.Male),s.\u0275\u0275advance(1),s.\u0275\u0275property("value",r.Gender.Female),s.\u0275\u0275advance(3),s.\u0275\u0275propertyInterpolate("placeholder",s.\u0275\u0275pipeBind1(35,19,"i18n.PLACEHOLDERS.BIOGRAPHY")),s.\u0275\u0275advance(3),s.\u0275\u0275classProp("disabled",!r.form.valid)}}var v=function(){function e(t,n,r){_classCallCheck2(this,e),this.userService=t,this.formBuilder=n,this.tokenService=r,this.Gender=a.Gender,this.subscription=new o.Subscription}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.createForm(),this.subscription.add(this.userService.user$.subscribe((function(t){e.user=t,t&&e.refreshForm(t)})))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"uploadAvatar",value:function(e){var t=e.item(0);t&&this.userService.uploadAvatar(t).subscribe()}},{key:"save",value:function(){this.form.valid&&this.userService.updateUser(this.form.getRawValue()).subscribe()}},{key:"reset",value:function(){this.form&&this.form.reset(this.user)}},{key:"createForm",value:function(){this.form=this.formBuilder.group({email:[null,[i.Validators.required,i.Validators.email]],username:null,firstName:null,lastName:null,gender:null,biography:null})}},{key:"refreshForm",value:function(e){this.form.setValue({email:this.tokenService.getFirebaseUser().email,username:e.username,firstName:e.firstName,lastName:e.lastName,gender:e.gender,biography:e.biography}),this.avatarUpload&&(this.avatarUpload.nativeElement.value="")}}]),e}();t.AccountInfoComponent=v,v.\u0275fac=function(e){return new(e||v)(s.\u0275\u0275directiveInject(c.UserService),s.\u0275\u0275directiveInject(u.FormBuilder),s.\u0275\u0275directiveInject(l.TokenService))},v.\u0275cmp=s.\u0275\u0275defineComponent({type:v,selectors:[["gw-account-info"]],viewQuery:function(e,t){var n;1&e&&s.\u0275\u0275viewQuery(d,!0),2&e&&s.\u0275\u0275queryRefresh(n=s.\u0275\u0275loadQuery())&&(t.avatarUpload=n.first)},decls:3,vars:1,consts:[[1,"d-flex","flex-column","p-4","gw-account-info"],["translate","i18n.COMMON.ACCOUNT"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"d-flex","flex-column","px-3"],[1,"form-group","avatar",3,"src"],[1,"form-group"],["for","avatarFile","translate","i18n.COMMON.CHOOSE_AVATAR",1,"btn","btn-primary"],["type","file","id","avatarFile","accept","image/*",3,"change"],["avatarUpload",""],[1,"d-flex","flex-grow-1","gw-form",3,"formGroup"],[1,"d-flex","flex-column","align-items-stretch","col-md-6"],["for","email","translate","i18n.COMMON.EMAIL_ADDRESS"],["formControlName","email","type","email","id","email","readonly","",1,"form-control",3,"placeholder"],["for","username","translate","i18n.COMMON.USERNAME"],["formControlName","username","type","text","id","username",1,"form-control",3,"placeholder"],["for","firstName","translate","i18n.COMMON.FIRST_NAME"],["formControlName","firstName","type","text","id","firstName",1,"form-control",3,"placeholder"],["for","lastName","translate","i18n.COMMON.LAST_NAME"],["formControlName","lastName","type","text","id","lastName",1,"form-control",3,"placeholder"],["for","gender","translate","i18n.COMMON.GENDER"],["formControlName","gender","id","gender",1,"form-control"],["disabled","","selected","","translate","i18n.PLACEHOLDERS.GENDER"],["translate","i18n.COMMON.MALE",3,"value"],["translate","i18n.COMMON.FEMALE",3,"value"],["for","biography","translate","i18n.COMMON.BIOGRAPHY"],["formControlName","biography","id","biography","rows","9",1,"form-control",3,"placeholder"],[1,"d-flex","justify-content-start","col-12"],["tabindex","0","translate","i18n.COMMON.SAVE",1,"btn","btn-primary","mr-2",3,"click"],["tabindex","0","translate","i18n.COMMON.RESET",1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275element(1,"h4",1),s.\u0275\u0275template(2,p,39,21,"div",2),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",t.user))},directives:[h.TranslateDirective,f.NgIf,u.NgControlStatusGroup,u.FormGroupDirective,u.DefaultValueAccessor,u.NgControlStatus,u.FormControlName,u.SelectControlValueAccessor,u.NgSelectOption,u.\u0275angular_packages_forms_forms_x],pipes:[h.TranslatePipe],styles:[".gw-account-info[_ngcontent-%COMP%]{background-color:#f4f7f6;height:calc(100% - 45px)}.gw-account-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:180px}.gw-account-info[_ngcontent-%COMP%]   #avatarFile[_ngcontent-%COMP%]{display:none}"]})},ultA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToFirebaseObject=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},t.convertToFirebaseObjectWithId=function(e){try{var t=e.id;return t?{id:t,obj:Object.entries(e).filter((function(e){var t=_slicedToArray(e,2),n=t[0];t[1];return"id"!==n}))}:e}catch(n){return e}}},vY5A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("iInd"),o=n("81RL"),a=n("NUQi"),s=r.__importStar(n("8Y7J")),c=(r.__importStar(n("iInd")),[{path:"",children:[{path:"",loadChildren:function(){return Promise.resolve().then((function(){return r.__importStar(n("ebwL"))})).then((function(e){return e.MainModule}))}},{path:"auth",loadChildren:function(){return Promise.resolve().then((function(){return r.__importStar(n("305l"))})).then((function(e){return e.AuthModule}))},canLoad:[o.AnonGuard],data:{showFooter:!0}},{path:"games",loadChildren:function(){return Promise.resolve().then((function(){return r.__importStar(n("3aSD"))})).then((function(e){return e.GamesModule}))}},{path:"account",loadChildren:function(){return Promise.resolve().then((function(){return r.__importStar(n("lKKO"))})).then((function(e){return e.AccountModule}))},canLoad:[a.AuthGuard]},{path:"info",loadChildren:function(){return Promise.resolve().then((function(){return r.__importStar(n("Dxpt"))})).then((function(e){return e.InfoModule}))}}]},{path:"**",redirectTo:"",pathMatch:"full"}]),u=function e(){_classCallCheck2(this,e)};t.AppRoutingModule=u,u.\u0275mod=s.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=s.\u0275\u0275defineInjector({factory:function(e){return new(e||u)},imports:[[i.RouterModule.forRoot(c,{paramsInheritanceStrategy:"always"})],i.RouterModule]})},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(e,t,n){return function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(t,n,r){_classCallCheck2(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,s){var c;return _classCallCheck2(this,n),(c=t.call(this,e))._tapNext=i.a,c._tapError=i.a,c._tapComplete=i.a,c._tapError=a||i.a,c._tapComplete=s||i.a,Object(o.a)(r)?(c._context=_assertThisInitialized(c),c._tapNext=r):r&&(c._context=r,c._tapNext=r.next||i.a,c._tapError=r.error||i.a,c._tapComplete=r.complete||i.a),c}return _createClass2(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},vxN6:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StorageKey=((r=t.StorageKey||{}).UserLevelsVisibility="gw-user-levels",r.VideoFullScreen="gw-video-fullscreen",r.Language="gw-language",r.AudioEffects="gw-audio-effects",r)},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(e){return Object(i.a)()(Object(r.a)(a)(e))}}},"wD+u":function(e,t,n){"use strict";n.r(t),n.d(t,"AngularFirestore",(function(){return x})),n.d(t,"AngularFirestoreCollection",(function(){return k})),n.d(t,"AngularFirestoreCollectionGroup",(function(){return S})),n.d(t,"AngularFirestoreDocument",(function(){return w})),n.d(t,"AngularFirestoreModule",(function(){return T})),n.d(t,"ENABLE_PERSISTENCE",(function(){return E})),n.d(t,"PERSISTENCE_SETTINGS",(function(){return I})),n.d(t,"SETTINGS",(function(){return O})),n.d(t,"associateQuery",(function(){return P})),n.d(t,"combineChange",(function(){return b})),n.d(t,"combineChanges",(function(){return _})),n.d(t,"docChanges",(function(){return g})),n.d(t,"fromCollectionRef",(function(){return m})),n.d(t,"fromDocRef",(function(){return v})),n.d(t,"fromRef",(function(){return p})),n.d(t,"sortedChanges",(function(){return y})),n.d(t,"validateEventsArray",(function(){return C}));var r=n("8Y7J"),i=n("D0XW"),o=n("HDdC"),a=n("Cfvw"),s=n("LRne"),c=n("lJxs"),u=n("Kqap"),l=n("pLZG"),h=n("pxpQ"),f=n("jmUF"),d=n("SVse");function p(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return new o.a((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot(n)})):r=e.onSnapshot(n),function(){null!=r&&r()}}))}(e,t)}function v(e,t){return p(e,t).pipe(Object(c.a)((function(e){return{payload:e,type:"value"}})))}function m(e,t){return p(e,t).pipe(Object(c.a)((function(e){return{payload:e,type:"query"}})))}function g(e,t){return m(e,t).pipe(Object(c.a)((function(e){return e.payload.docChanges().map((function(e){return{type:e.type,payload:e}}))})))}function y(e,t,n){return m(e,n).pipe(Object(c.a)((function(e){return e.payload.docChanges()})),Object(u.a)((function(e,n){return _(e,n,t)}),[]),Object(c.a)((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function _(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=b(e,t))})),e}function b(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}function C(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var k=function(){function e(t,n,r){_classCallCheck2(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass2(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(c.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Object(l.a)((function(e){return e.length>0}))):g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Object(u.a)((function(e,t){return[].concat(_toConsumableArray2(e),_toConsumableArray2(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=C(e);return y(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(c.a)((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()}))})))}},{key:"get",value:function(e){return Object(a.a)(this.query.get(e)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new w(this.ref.doc(e),this.afs)}}]),e}(),w=function(){function e(t,n){_classCallCheck2(this,e),this.ref=t,this.afs=n}return _createClass2(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=P(this.ref.collection(e),t),r=n.ref,i=n.query;return new k(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return v(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(Object(c.a)((function(e){return e.payload.data()})))}},{key:"get",value:function(e){return Object(a.a)(this.ref.get(e)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}}]),e}(),S=function(){function e(t,n){_classCallCheck2(this,e),this.query=t,this.afs=n}return _createClass2(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(c.a)((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Object(l.a)((function(e){return e.length>0}))):g(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Object(u.a)((function(e,t){return[].concat(_toConsumableArray2(e),_toConsumableArray2(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=C(e);return y(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return m(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,Object(c.a)((function(e){return e.payload.docs.map((function(e){return e.data()}))})))}},{key:"get",value:function(e){return Object(a.a)(this.query.get(e)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}}]),e}(),E=new r.InjectionToken("angularfire2.enableFirestorePersistence"),I=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),O=new r.InjectionToken("angularfire2.firestore.settings");function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var x=function(){var e=function(){function e(t,n,r,i,o,c,u){var l=this;_classCallCheck2(this,e),this.schedulers=new f["\u0275AngularFireSchedulers"](c),this.keepUnstableUntilFirst=Object(f["\u0275keepUnstableUntilFirstFactory"])(this.schedulers,o),this.firestore=c.runOutsideAngular((function(){var e=Object(f["\u0275firebaseAppFactory"])(t,c,n);if(!e.firestore)throw"You must import 'firebase/firestore' before using AngularFirestore";var r=e.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!Object(d.isPlatformServer)(o)?c.runOutsideAngular((function(){try{return Object(a.a)(l.firestore.enablePersistence(u||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return Object(s.a)(!1)}})):Object(s.a)(!1)}return _createClass2(e,[{key:"collection",value:function(e,t){var n=P("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query;return new k(r,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new S(n(r),this)}},{key:"doc",value:function(e){var t;return t="string"==typeof e?this.firestore.doc(e):e,new w(t,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](f.FIREBASE_OPTIONS),r["\u0275\u0275inject"](f.FIREBASE_APP_NAME,8),r["\u0275\u0275inject"](E,8),r["\u0275\u0275inject"](O,8),r["\u0275\u0275inject"](r.PLATFORM_ID),r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](I,8))},e.\u0275prov=Object(r["\u0275\u0275defineInjectable"])({factory:function(){return new e(Object(r["\u0275\u0275inject"])(f.FIREBASE_OPTIONS),Object(r["\u0275\u0275inject"])(f.FIREBASE_APP_NAME,8),Object(r["\u0275\u0275inject"])(E,8),Object(r["\u0275\u0275inject"])(O,8),Object(r["\u0275\u0275inject"])(r.PLATFORM_ID),Object(r["\u0275\u0275inject"])(r.NgZone),Object(r["\u0275\u0275inject"])(I,8))},token:e,providedIn:"any"}),e}(),T=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"enablePersistence",value:function(t){return{ngModule:e,providers:[{provide:E,useValue:!0},{provide:I,useValue:t}]}}}]),e}();return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[x]}),e}()},wO2d:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UserLevel=((r=t.UserLevel||{})[r.Noob=0]="Noob",r[r.Beginner=1]="Beginner",r[r.SkilledBeginner=2]="SkilledBeginner",r[r.Intermediate=3]="Intermediate",r[r.SkilledIntermediate=4]="SkilledIntermediate",r[r.Proficient=5]="Proficient",r[r.Advanced=6]="Advanced",r[r.Extreme=7]="Extreme",r[r.Impossible=8]="Impossible",r[r.Godlike=9]="Godlike",r[r.BeyondGods=10]="BeyondGods",r[r.TopOfUniverse=11]="TopOfUniverse",r)},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n("30Go"),a=n("zVF4"),s=n("S+S0"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new c.Logger("@firebase/app"),d=function(){function e(e,t,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return c}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(t,s))throw l.create("duplicate-app",{appName:s});var c=new e(n,o,r);return t[s]=c,c},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&c.push("and"),a&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}u(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument",{appName:name});c.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.14.3",INTERNAL:{registerComponent:u,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!a.contains(t,e=e||"[DEFAULT]"))throw l.create("no-app",{appName:e});return t[e]}function u(s){var c,u,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw l.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),r[h]=d,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?e:[])}}try{for(var p=o.__values(Object.keys(t)),v=p.next();!v.done;v=p.next())t[v.value]._addComponent(s)}catch(m){c={error:m}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(c)throw c.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,e)};var y=p;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.3",void 0),e.registerVersion("fire-js","")}(y),t.default=y,t.firebase=y},"x+ZX":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(e){return e.lift(new o(e))}}var o=function(){function e(t){_classCallCheck2(this,e),this.connectable=t}return _createClass2(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass2(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},x5lf:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Language=((r=t.Language||{}).English="en",r.Ukrainian="uk",r.Russian="ru",r)},x7I3:function(e,t,n){"use strict";function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(t),n.d(t,"ErrorCode",(function(){return Kn})),n.d(t,"EventType",(function(){return Qn})),n.d(t,"WebChannel",(function(){return Xn})),n.d(t,"XhrIo",(function(){return Jn})),n.d(t,"createWebChannelTransport",(function(){return Yn}));var i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},s=o||self;function c(){}function u(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function l(e){var t=u(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function m(e,t,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function g(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var y=Date.now||function(){return+new Date};function _(e,t){function n(){}n.prototype=t.prototype,e.M=t.prototype,e.prototype=new n,e.prototype.constructor=e}function b(){this.j=this.j,this.i=this.i}b.prototype.j=!1,b.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++d)}(this)},b.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},k=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function w(e){return Array.prototype.concat.apply([],arguments)}function S(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function E(e){return/^[\s\xa0]*$/.test(e)}var I,O=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function P(e,t){return-1!=e.indexOf(t)}function x(e,t){return e<t?-1:e>t?1:0}e:{var T=s.navigator;if(T){var A=T.userAgent;if(A){I=A;break e}}I=""}function D(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function R(e){var t={};for(var n in e)t[n]=e[n];return t}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function N(e){return N[" "](e),e}N[" "]=c;var F,L,V=P(I,"Opera"),U=P(I,"Trident")||P(I,"MSIE"),B=P(I,"Edge"),G=B||U,H=P(I,"Gecko")&&!(P(I.toLowerCase(),"webkit")&&!P(I,"Edge"))&&!(P(I,"Trident")||P(I,"MSIE"))&&!P(I,"Edge"),z=P(I.toLowerCase(),"webkit")&&!P(I,"Edge");function q(){var e=s.document;return e?e.documentMode:void 0}e:{var W="",Y=(L=I,H?/rv:([^\);]+)(\)|;)/.exec(L):B?/Edge\/([\d\.]+)/.exec(L):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(L):z?/WebKit\/(\S+)/.exec(L):V?/(?:Version)[ \/]?(\S+)/.exec(L):void 0);if(Y&&(W=Y?Y[1]:""),U){var K=q();if(null!=K&&K>parseFloat(W)){F=String(K);break e}}F=W}var Q={};function X(e){return function(e,t){var n=Q;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=O(String(F)).split("."),r=O(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=x(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||x(0==a[2].length,0==s[2].length)||x(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var J=s.document&&U&&(q()||parseInt(F,10))||void 0,Z=!U||9<=Number(J),$=U&&!X("9"),ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",c,t),s.removeEventListener("test",c,t)}catch(n){}return e}();function te(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ne(e,t){if(te.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(H){e:{try{N(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:re[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}te.prototype.b=function(){this.defaultPrevented=!0},_(ne,te);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.b=function(){ne.M.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ie="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ae(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.aa=i,this.key=++oe,this.V=this.X=!1}function se(e){e.V=!0,e.listener=null,e.proxy=null,e.src=null,e.aa=null}function ce(e){this.src=e,this.a={},this.b=0}function ue(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=C(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(se(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function le(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.V&&o.listener==t&&o.capture==!!n&&o.aa==r)return i}return-1}ce.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=le(e,t,r,i);return-1<a?(t=e[a],n||(t.X=!1)):((t=new ae(t,this.src,o,!!r,i)).X=n,e.push(t)),t};var he="closure_lm_"+(1e6*Math.random()|0),fe={};function de(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Ce(r),t&&t[ie]?t.sa(n,r,h(i)?!!i.capture:!!i,o):pe(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)de(e,t[o],n,r,i);return null}return n=Ce(n),e&&e[ie]?e.ra(t,n,h(r)?!!r.capture:!!r,i):pe(e,t,n,!1,r,i)}function pe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i;if(a&&!Z)return null;var s=_e(e);if(s||(e[he]=s=new ce(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=ye,t=Z?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ee||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(me(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ve(e){if("number"!=typeof e&&e&&!e.V){var t=e.src;if(t&&t[ie])ue(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(me(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_e(t))?(ue(n,e),0==n.b&&(n.src=null,t[he]=null)):se(e)}}}function me(e){return e in fe?fe[e]:fe[e]="on"+e}function ge(e,t){var n=e.listener,r=e.aa||e.src;return e.X&&ve(e),n.call(r,t)}function ye(e,t){if(e.V)return!0;if(!Z){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return ge(e,t=new ne(t,this))}return ge(e,new ne(t,this))}function _e(e){return(e=e[he])instanceof ce?e:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ce(e){return"function"==u(e)?e:(e[be]||(e[be]=function(t){return e.handleEvent(t)}),e[be])}function ke(){b.call(this),this.c=new ce(this),this.J=this,this.A=null}function we(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.V&&a.capture==n){var s=a.listener,c=a.aa||a.src;a.X&&ue(e.c,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}_(ke,b),ke.prototype[ie]=!0,(i=ke.prototype).addEventListener=function(e,t,n,r){de(this,e,t,n,r)},i.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=h(i)?!!i.capture:!!i,r=Ce(r),t&&t[ie]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=le(a=t.a[n],r,i,o))&&(se(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=_e(t))&&(n=t.a[n.toString()],t=-1,n&&(t=le(n,r,i,o)),(r=-1<t?n[t]:null)&&ve(r))}(this,e,t,n,r)},i.dispatchEvent=function(e){var t,n=this.A;if(n)for(t=[];n;n=n.A)t.push(n);n=this.J;var r=e.type||e;if("string"==typeof e)e=new te(e,n);else if(e instanceof te)e.target=e.target||n;else{var i=e;M(e=new te(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=we(a,r,!0,e)&&i}if(i=we(a=e.a=n,r,!0,e)&&i,i=we(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=we(a=e.a=t[o],r,!1,e)&&i;return i},i.C=function(){if(ke.M.C.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)se(n[r]);delete t.a[e],t.b--}}this.A=null},i.ra=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},i.sa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Se=s.JSON.stringify;function Ee(){this.b=this.a=null}var Ie,Oe=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new xe}),(function(e){e.reset()}),100);function Pe(){var e=Re,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function xe(){this.next=this.b=this.a=null}function Te(e){s.setTimeout((function(){throw e}),0)}function Ae(e,t){Ie||function(){var e=s.Promise.resolve(void 0);Ie=function(){e.then(je)}}(),De||(Ie(),De=!0),Re.add(e,t)}Ee.prototype.add=function(e,t){var n=Oe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},xe.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},xe.prototype.reset=function(){this.next=this.b=this.a=null};var De=!1,Re=new Ee;function je(){for(var e;e=Pe();){try{e.a.call(e.b)}catch(n){Te(n)}var t=Oe;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}De=!1}function Me(e,t){ke.call(this),this.b=e||1,this.a=t||s,this.f=m(this.Ua,this),this.g=y()}function Ne(e){e.Z=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function Fe(e,t,n){if("function"==u(e))n&&(e=m(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=m(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Le(e,t,n){b.call(this),this.f=null!=n?m(e,n):e,this.c=t,this.b=m(this.Pa,this),this.a=[]}function Ve(e){e.T=Fe(e.b,e.c),e.f.apply(null,e.a)}function Ue(e){b.call(this),this.b=e,this.a={}}_(Me,ke),(i=Me.prototype).Z=!1,i.L=null,i.Ua=function(){if(this.Z){var e=y()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Ne(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=y())},i.C=function(){Me.M.C.call(this),Ne(this),delete this.a},_(Le,b),(i=Le.prototype).ba=!1,i.T=null,i.Ia=function(e){this.a=arguments,this.T?this.ba=!0:Ve(this)},i.C=function(){Le.M.C.call(this),this.T&&(s.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Ve(this))},_(Ue,b);var Be=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var i=0;i<n.length;i++){var o=de(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function He(e){D(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ve(e)}),e),e.a={}}function ze(){}Ue.prototype.C=function(){Ue.M.C.call(this),He(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=null;function We(){return qe=qe||new ke}function Ye(e){te.call(this,"serverreachability",e)}function Ke(e){var t=We();t.dispatchEvent(new Ye(t,e))}function Qe(e){te.call(this,"statevent",e)}function Xe(e){var t=We();t.dispatchEvent(new Qe(t,e))}function Je(e){te.call(this,"timingevent",e)}function Ze(e,t){if("function"!=u(e))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}_(Ye,te),_(Qe,te),_(Je,te);var $e={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},et={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function tt(){}function nt(){}tt.prototype.a=null;var rt,it={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function ot(){te.call(this,"d")}function at(){te.call(this,"c")}function st(){}function ct(e,t,n){this.g=e,this.W=t,this.U=n||1,this.G=new Ue(this),this.N=ut,this.O=new Me(e=G?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}_(ot,te),_(at,te),_(st,tt),rt=new st;var ut=45e3,lt={},ht={};function ft(e,t,n){e.B=1,e.f=jt(Pt(t)),e.j=n,e.F=!0,dt(e,null)}function dt(e,t){e.s=y(),mt(e),e.A=Pt(e.f);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Yt(n.b,"t",r),e.w=0,e.a=Vn(e.g,e.g.w?t:null),0<e.J&&(e.D=new Le(m(e.ya,e,e.a),e.J)),Ge(e.G,e.a,"readystatechange",e.Sa),t=e.m?R(e.m):{},e.j?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.$(e.A,e.v,e.j,t)):(e.v="GET",e.a.$(e.A,e.v,null,t)),Ke(1)}function pt(e,t,n){for(var r=!0;!e.l&&e.w<n.length;){var i=vt(e,n);if(i==ht){4==t&&(e.c=4,Xe(14),r=!1);break}if(i==lt){e.c=4,Xe(15),r=!1;break}Ct(e,i)}4==t&&0==n.length&&(e.c=1,Xe(16),r=!1),e.b=e.b&&r,r||(bt(e),_t(e))}function vt(e,t){var n=e.w,r=t.indexOf("\n",n);return-1==r?ht:(n=Number(t.substring(n,r)),isNaN(n)?lt:(r+=1)+n>t.length?ht:(t=t.substr(r,n),e.w=r+n,t))}function mt(e){e.P=y()+e.N,gt(e,e.N)}function gt(e,t){if(null!=e.h)throw Error("WatchDog timer not null");e.h=Ze(m(e.Qa,e),t)}function yt(e){e.h&&(s.clearTimeout(e.h),e.h=null)}function _t(e){0==e.g.u||e.l||jn(e.g,e)}function bt(e){yt(e);var t=e.D;t&&"function"==typeof t.da&&t.da(),e.D=null,Ne(e.O),He(e.G),e.a&&(t=e.a,e.a=null,t.abort(),t.da())}function Ct(e,t){try{var n=e.g;if(0!=n.u&&(n.a==e||en(n.b,e)))if(n.A=e.H,!e.o&&en(n.b,e)&&3==n.u){try{var r=n.ja.a.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.i){if(n.a){if(!(n.a.s+3e3<e.s))break e;Rn(n),n.a.cancel(),n.a=null}Dn(n),Xe(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Ze(m(n.Na,n),6e3));if(1>=$t(n.b)&&n.O){try{n.O()}catch(v){}n.O=void 0}}else Nn(n,11)}else if((e.o||n.a==e)&&Rn(n),!E(t))for(t=r=n.ja.a.parse(t),r=0;r<t.length;r++)if(n.G=(i=t[r])[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var a=i[5];null!=a&&"number"==typeof a&&0<a&&(n.D=1.5*a);var s=n,c=e.a;if(c){var u=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var l=s.b;!l.a&&(P(u,"spdy")||P(u,"quic")||P(u,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(tn(l,l.b),l.b=null))}if(s.s){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.ha=h,Rt(s.v,s.s,h))}}n.u=3,n.c&&n.c.na();var f=e;if((s=n).ea=Ln(s,s.w?s.R:null,s.P),f.o){nn(s.b,f);var d=f,p=s.D;p&&d.setTimeout(p),d.h&&(yt(d),mt(d)),s.a=f}else An(s);0<n.f.length&&On(n)}else"stop"!=i[0]&&"close"!=i[0]||Nn(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Nn(n,7):Sn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Ke(4)}catch(v){}}function kt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"==typeof e)k(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.I&&"function"==typeof e.I)n=void 0;else if(l(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.I&&"function"==typeof e.I)return e.I();if("string"==typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function wt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function St(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Et(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Et(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=ct.prototype).setTimeout=function(e){this.N=e},i.Sa=function(e){e=e.target;var t=this.D;t&&3==bn(e)?t.Ia():this.ya(e)},i.ya=function(e){try{if(e==this.a)e:{var t=bn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>t||3==t&&!G&&!this.a.Y())){this.l||4!=t||7==n||Ke(8==n||0>=r?3:2),yt(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(a)){var c=a;break t}}c=null}if(!c){this.b=!1,this.c=3,Xe(12),bt(this),_t(this);break e}this.o=!0,Ct(this,c)}this.F?(pt(this,t,o),G&&this.b&&3==t&&(Ge(this.G,this.O,"tick",this.Ra),this.O.start())):Ct(this,o),4==t&&bt(this),this.b&&!this.l&&(4==t?jn(this.g,this):(this.b=!1,mt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Xe(12)):(this.c=0,Xe(13)),bt(this),_t(this)}}}catch(u){}},i.Ra=function(){if(this.a){var e=bn(this.a),t=this.a.Y();this.w<t.length&&(yt(this),pt(this,e,t),this.b&&4!=e&&mt(this))}},i.cancel=function(){this.l=!0,bt(this)},i.Qa=function(){this.h=null;var e=y();0<=e-this.P?(2!=this.B&&(Ke(3),Xe(17)),bt(this),this.c=2,_t(this)):gt(this,this.P-e)},(i=wt.prototype).I=function(){St(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},i.K=function(){return St(this),this.a.concat()},i.get=function(e,t){return Et(this.b,e)?this.b[e]:t},i.set=function(e,t){Et(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},i.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var It=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ot(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Ot){this.a=void 0!==t?t:e.a,xt(this,e.f),this.j=e.j,Tt(this,e.c),At(this,e.h),this.g=e.g,t=e.b;var n=new Ht;n.c=t.c,t.a&&(n.a=new wt(t.a),n.b=t.b),Dt(this,n),this.i=e.i}else e&&(n=String(e).match(It))?(this.a=!!t,xt(this,n[1]||"",!0),this.j=Mt(n[2]||""),Tt(this,n[3]||"",!0),At(this,n[4]),this.g=Mt(n[5]||"",!0),Dt(this,n[6]||"",!0),this.i=Mt(n[7]||"")):(this.a=!!t,this.b=new Ht(null,this.a))}function Pt(e){return new Ot(e)}function xt(e,t,n){e.f=n?Mt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Tt(e,t,n){e.c=n?Mt(t,!0):t}function At(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Dt(e,t,n){t instanceof Ht?(e.b=t,function(e,t){t&&!e.f&&(zt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qt(this,t),Yt(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Nt(t,Bt)),e.b=new Ht(t,e.a))}function Rt(e,t,n){e.b.set(t,n)}function jt(e){return Rt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),e}function Mt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Nt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ot.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Nt(t,Lt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Nt(t,Lt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Nt(n,"/"==n.charAt(0)?Ut:Vt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Nt(n,Gt)),e.join("")};var Lt=/[#\/\?@]/g,Vt=/[#\?:]/g,Ut=/[#\?]/g,Bt=/[#\?@]/g,Gt=/#/g;function Ht(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function zt(e){e.a||(e.a=new wt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qt(e,t){zt(e),t=Kt(e,t),Et(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Et((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&St(e)))}function Wt(e,t){return zt(e),t=Kt(e,t),Et(e.a.b,t)}function Yt(e,t,n){qt(e,t),0<n.length&&(e.c=null,e.a.set(Kt(e,t),S(n)),e.b+=n.length)}function Kt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Qt(e,t){this.b=e,this.a=t}function Xt(e){this.g=e||Jt,e=s.PerformanceNavigationTiming?0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(s.ca&&s.ca.ua&&s.ca.ua()&&s.ca.ua().mb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=Ht.prototype).add=function(e,t){zt(this),this.c=null,e=Kt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},i.forEach=function(e,t){zt(this),this.a.forEach((function(n,r){k(n,(function(n){e.call(t,n,r,this)}),this)}),this)},i.K=function(){zt(this);for(var e=this.a.I(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},i.I=function(e){zt(this);var t=[];if("string"==typeof e)Wt(this,e)&&(t=w(t,this.a.get(Kt(this,e))));else{e=this.a.I();for(var n=0;n<e.length;n++)t=w(t,e[n])}return t},i.set=function(e,t){return zt(this),this.c=null,Wt(this,e=Kt(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},i.get=function(e,t){return e&&0<(e=this.I(e)).length?String(e[0]):t},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Jt=10;function Zt(e){return!!e.b||!!e.a&&e.a.size>=e.f}function $t(e){return e.b?1:e.a?e.a.size:0}function en(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function tn(e,t){e.a?e.a.add(t):e.b=t}function nn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function rn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.i);if(null!=e.a&&0!==e.a.size){var i=e.c;try{for(var o=r(e.a.values()),a=o.next();!a.done;a=o.next())i=i.concat(a.value.i)}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return S(e.c)}function on(){}function an(){this.a=new on}function sn(e,t,n){var r=n||"";try{kt(e,(function(e,n){var i=e;h(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Xt.prototype.cancel=function(){var e,t;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},on.prototype.stringify=function(e){return s.JSON.stringify(e,void 0)},on.prototype.parse=function(e){return s.JSON.parse(e,void 0)};var un=s.JSON.parse;function ln(e){ke.call(this),this.headers=new wt,this.G=e||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}_(ln,ke);var hn="",fn=/^https?$/i,dn=["POST","PUT"];function pn(e){return"content-type"==e.toLowerCase()}function vn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,mn(e),yn(e)}function mn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function gn(e){if(e.b&&void 0!==a&&(!e.s[1]||4!=bn(e)||2!=e.S()))if(e.l&&4==bn(e))Fe(e.va,0,e);else if(e.dispatchEvent("readystatechange"),4==bn(e)){e.b=!1;try{var t,n=e.S();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.D).match(It)[1]||null;if(!o&&s.self&&s.self.location){var c=s.self.location.protocol;o=c.substr(0,c.length-1)}i=!fn.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var u=2<bn(e)?e.a.statusText:""}catch(l){u=""}e.f=u+" ["+e.S()+"]",mn(e)}}finally{yn(e)}}}function yn(e,t){if(e.a){_n(e);var n=e.a,r=e.s[0]?c:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function _n(e){e.a&&e.B&&(e.a.ontimeout=null),e.m&&(s.clearTimeout(e.m),e.m=null)}function bn(e){return e.a?e.a.readyState:0}function Cn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return D(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Rt(e,t,n))}function kn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wn(e){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=kn("failFast",!1,e),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=kn("baseRetryDelayMs",5e3,e),this.Ga=kn("retryDelaySeedMs",1e4,e),this.Da=kn("forwardChannelMaxRetries",2,e),this.ga=kn("forwardChannelRequestTimeoutMs",2e4,e),this.Ea=e&&e.nb||void 0,this.D=void 0,this.w=e&&e.supportsCrossDomainXhr||!1,this.B="",this.b=new Xt(e&&e.concurrentRequestLimit),this.ja=new an,this.fa=e&&e.fastHandshake||!1,e&&e.forceLongPolling&&(this.W=!1),this.O=void 0}function Sn(e){if(En(e),3==e.u){var t=e.H++,n=Pt(e.v);Rt(n,"SID",e.B),Rt(n,"RID",t),Rt(n,"TYPE","terminate"),xn(e,n),(t=new ct(e,t,void 0)).B=2,t.f=jt(Pt(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(t.f.toString(),"")),!n&&s.Image&&((new Image).src=t.f,n=!0),n||(t.a=Vn(t.g,null),t.a.$(t.f)),t.s=y(),mt(t)}Fn(e)}function En(e){e.a&&(e.a.cancel(),e.a=null),e.i&&(s.clearTimeout(e.i),e.i=null),Rn(e),e.b.cancel(),e.g&&("number"==typeof e.g&&s.clearTimeout(e.g),e.g=null)}function In(e,t){e.f.push(new Qt(e.Fa++,t)),3==e.u&&On(e)}function On(e){Zt(e.b)||e.g||(e.g=!0,Ae(e.xa,e),e.o=0)}function Pn(e,t){var n;n=t?t.W:e.H++;var r=Pt(e.v);Rt(r,"SID",e.B),Rt(r,"RID",n),Rt(r,"AID",e.G),xn(e,r),e.h&&e.j&&Cn(r,e.h,e.j),n=new ct(e,n,e.o+1),null===e.h&&(n.m=e.j),t&&(e.f=t.i.concat(e.f)),t=Tn(e,n,1e3),n.setTimeout(Math.round(.5*e.ga)+Math.round(.5*e.ga*Math.random())),tn(e.b,n),ft(n,r,t)}function xn(e,t){e.c&&kt({},(function(e,n){Rt(t,n,e)}))}function Tn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?m(e.c.Ha,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=o))o=Math.max(0,i[c].b-100),s=!1;else try{sn(l,a,"req"+u+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.i=e,r}function An(e){e.a||e.i||(e.J=1,Ae(e.wa,e),e.m=0)}function Dn(e){return!(e.a||e.i||3<=e.m||(e.J++,e.i=Ze(m(e.wa,e),Mn(e,e.m)),e.m++,0))}function Rn(e){null!=e.l&&(s.clearTimeout(e.l),e.l=null)}function jn(e,t){var n=null;if(e.a==t){Rn(e),e.a=null;var r=2}else{if(!en(e.b,t))return;n=t.i,nn(e.b,t),r=1}if(e.A=t.H,0!=e.u)if(t.b)if(1==r){n=t.j?t.j.length:0,t=y()-t.s;var i=e.o;(r=We()).dispatchEvent(new Je(r,n,t,i)),On(e)}else An(e);else if(3==(i=t.c)||0==i&&0<e.A||!(1==r&&function(e,t){return!($t(e.b)>=e.b.f-(e.g?1:0)||(e.g?(e.f=t.i.concat(e.f),0):1==e.u||2==e.u||e.o>=(e.Ca?0:e.Da)||(e.g=Ze(m(e.xa,e,t),Mn(e,e.o)),e.o++,0)))}(e,t)||2==r&&Dn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Nn(e,5);break;case 4:Nn(e,10);break;case 3:Nn(e,6);break;default:Nn(e,2)}}function Mn(e,t){var n=e.Ba+Math.floor(Math.random()*e.Ga);return e.c||(n*=2),n*t}function Nn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=m(e.Ta,e);n||(n=new Ot("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||xt(n,"https"),jt(n)),function(e,t){var n=new ze;if(s.Image){var r=new Image;r.onload=g(cn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=g(cn,n,r,"TestLoadImage: error",!1,t),r.onabort=g(cn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=g(cn,n,r,"TestLoadImage: timeout",!1,t),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xe(2);e.u=0,e.c&&e.c.la(t),Fn(e),En(e)}function Fn(e){e.u=0,e.A=-1,e.c&&(0==rn(e.b).length&&0==e.f.length||(e.b.c.length=0,S(e.f),e.f.length=0),e.c.ka())}function Ln(e,t,n){var r=function(e){return e instanceof Ot?Pt(e):new Ot(e,void 0)}(n);if(""!=r.c)t&&Tt(r,t+"."+r.c),At(r,r.h);else{var i=s.location;r=function(e,t,n,r){var i=new Ot(null,void 0);return e&&xt(i,e),t&&Tt(i,t),n&&At(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.N&&D(e.N,(function(e,t){Rt(r,t,e)})),n=e.ha,(t=e.s)&&n&&Rt(r,t,n),Rt(r,"VER",e.oa),xn(e,r),r}function Vn(e,t){if(t&&!e.w)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ln(e.Ea)).F=e.w,t}function Un(){}function Bn(){if(U&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Gn(e,t){ke.call(this),this.a=new wn(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.j=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.pa&&(e?e["X-WebChannel-Client-Profile"]=t.pa:e={"X-WebChannel-Client-Profile":t.pa}),this.a.F=e,(e=t&&t.httpHeadersOverwriteParam)&&!E(e)&&(this.a.h=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.a.s=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new qn(this)}function Hn(e){ot.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function zn(){at.call(this),this.status=1}function qn(e){this.a=e}(i=ln.prototype).$=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.G?this.G:rt),this.a.onreadystatechange=m(this.va,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void vn(this,o)}e=n||"";var i=new wt(this.headers);r&&kt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=pn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.K()),n=s.FormData&&e instanceof s.FormData,!(0<=C(dn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_n(this),0<this.o&&((this.B=function(e){return U&&X(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=m(this.ta,this)):this.m=Fe(this.ta,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){vn(this,o)}},i.ta=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yn(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yn(this,!0)),ln.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?gn(this):this.Oa())},i.Oa=function(){gn(this)},i.S=function(){try{return 2<bn(this)?this.a.status:-1}catch(L){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(L){return""}},i.Ja=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),un(t)}},i.qa=function(){return this.h},i.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=wn.prototype).oa=8,i.u=1,i.xa=function(e){if(this.g)if(this.g=null,1==this.u){if(!e){this.H=Math.floor(1e5*Math.random());var t,n=new ct(this,e=this.H++,void 0),r=this.j;if(this.F&&(r?M(r=R(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Tn(this,n,t),Rt(i=Pt(this.v),"RID",e),Rt(i,"CVER",22),this.s&&Rt(i,"X-HTTP-Session-Id",this.s),xn(this,i),this.h&&r&&Cn(i,this.h,r),tn(this.b,n),this.fa?(Rt(i,"$req",t),Rt(i,"SID","null"),n.R=!0,ft(n,i,null)):ft(n,i,t),this.u=2}}else 3==this.u&&(e?Pn(this,e):0==this.f.length||Zt(this.b)||Pn(this))},i.wa=function(){this.i=null,this.a=new ct(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var e=Pt(this.ea);Rt(e,"RID","rpc"),Rt(e,"SID",this.B),Rt(e,"CI",this.U?"0":"1"),Rt(e,"AID",this.G),xn(this,e),Rt(e,"TYPE","xmlhttp"),this.h&&this.j&&Cn(e,this.h,this.j),this.D&&this.a.setTimeout(this.D);var t=this.a,n=this.R;t.B=1,t.f=jt(Pt(e)),t.j=null,t.F=!0,dt(t,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Dn(this),Xe(19))},i.Ta=function(e){Xe(e?2:1)},(i=Un.prototype).na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},Bn.prototype.a=function(e,t){return new Gn(e,t)},_(Gn,ke),(i=Gn.prototype).addEventListener=function(e,t,n,r){Gn.M.addEventListener.call(this,e,t,n,r)},i.removeEventListener=function(e,t,n,r){Gn.M.removeEventListener.call(this,e,t,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var e=this.a,t=this.l,n=this.b||void 0;Xe(0),e.P=t,e.N=n||{},e.U=e.W,e.v=Ln(e,null,e.P),On(e)},i.close=function(){Sn(this.a)},i.La=function(e){if("string"==typeof e){var t={};t.__data__=e,In(this.a,t)}else this.g?((t={}).__data__=Se(e),In(this.a,t)):In(this.a,e)},i.C=function(){this.a.c=null,delete this.f,Sn(this.a),delete this.a,Gn.M.C.call(this)},_(Hn,ot),_(zn,at),_(qn,Un),qn.prototype.na=function(){this.a.dispatchEvent("a")},qn.prototype.ma=function(e){this.a.dispatchEvent(new Hn(e))},qn.prototype.la=function(e){this.a.dispatchEvent(new zn(e))},qn.prototype.ka=function(){this.a.dispatchEvent("b")},Bn.prototype.createWebChannel=Bn.prototype.a,Gn.prototype.send=Gn.prototype.La,Gn.prototype.open=Gn.prototype.Ka,Gn.prototype.close=Gn.prototype.close,$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,et.COMPLETE="complete",nt.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",ke.prototype.listen=ke.prototype.ra,ln.prototype.listenOnce=ln.prototype.sa,ln.prototype.getLastError=ln.prototype.Ma,ln.prototype.getLastErrorCode=ln.prototype.qa,ln.prototype.getStatus=ln.prototype.S,ln.prototype.getResponseJson=ln.prototype.Ja,ln.prototype.getResponseText=ln.prototype.Y,ln.prototype.send=ln.prototype.$;var Wn={createWebChannelTransport:function(){return new Bn},ErrorCode:$e,EventType:et,WebChannel:nt,XhrIo:ln},Yn=Wn.createWebChannelTransport,Kn=Wn.ErrorCode,Qn=Wn.EventType,Xn=Wn.WebChannel,Jn=Wn.XhrIo;t.default=Wn},xEFI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerDto=function(){function e(t){_classCallCheck2(this,e),Object.assign(this,t)}return _createClass2(e,[{key:"isBot",get:function(){return!!this.userId&&"BOT"===this.userId.split("_")[0]}}]),e}()},xbPD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_classCallCheck2(this,e),this.defaultValue=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.defaultValue))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass2(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(r.a)},xgIS:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("DH7j"),o=n("n6bG"),a=n("lJxs");function s(e,t,n,c){return Object(o.a)(n)&&(c=n,n=void 0),c?s(e,t,n).pipe(Object(a.a)((function(e){return Object(i.a)(e)?c.apply(void 0,_toConsumableArray2(e)):c(e)}))):new r.a((function(r){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var c=t;t.on(n,r),a=function(){return c.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,r),a=function(){return u.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)e(t[l],n,r,i,o)}i.add(a)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)}))}},y0H8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=r.__importDefault(n("oLy0")),o=n("qCKp"),a=n("kU1M"),s=n("AytR"),c=n("xEFI"),u=n("Hs/S"),l=n("BGUo"),h=n("OB6y"),f=n("G+XK"),d=r.__importStar(n("8Y7J")),p=r.__importStar(n("2kLq")),v=r.__importStar(n("blSl")),m=r.__importStar(n("f4AX")),g=r.__importStar(n("PHhj")),y=r.__importStar(n("zyZ6")),_=function(){function e(t,n,r,i,s){var c=this;_classCallCheck2(this,e),this.firebaseService=t,this.mediaService=n,this.userService=r,this.roomService=i,this.gameService=s,this.peerData=[],this.isInitializingPeer=!1,this.destroy$=new o.Subject,this.reconnectInterval=1e4,this.processStreamInterval=2e3,o.interval(this.processStreamInterval).pipe(a.takeUntil(this.destroy$)).subscribe((function(){c.processActiveStreams()})),o.interval(this.reconnectInterval).pipe(a.takeUntil(this.destroy$)).subscribe((function(){c.reconnectIfNeeded()}))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"createOrRestorePeer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.gameService.getActivePlayer())return o.of(null);if(!e&&this.isInitializingPeer)return this.initializedPeer$.asObservable().pipe(a.take(1));var t=this.getOrAddPeerData();return!e&&t.currentPeer?o.of(t.currentPeer):this.initPeer()}},{key:"destroyPeer",value:function(e){var t=this,n=this.roomService.getSelectedRoomId(e),r=this.userService.getCurrentUserId();return n&&r?this.clearPeerId(n,r).pipe(a.map((function(){return t.clearPeerData(e)}))):(console.warn("Room ID or User ID not specified"),o.of(!0))}},{key:"initPeer",value:function(){var e=this,t=this.roomService.getSelectedRoomId();if(f.isNil(t))throw new Error("Game or Room ID is missing");return new o.Observable((function(n){e.isInitializingPeer=!0,e.initializedPeer$&&e.initializedPeer$.complete(),e.initializedPeer$=new o.Subject;var r=new i.default(e.firebaseService.generateId(),{debug:s.environment.peerjs.debug,host:s.environment.peerjs.host,port:s.environment.peerjs.port,path:s.environment.peerjs.path,config:s.environment.peerjs.config});r.on("open",(function(i){console.log("--Peer has been opened: ".concat(i,"--"));var s=e.userService.getCurrentUserId();return o.zip(e.setPeerId(t,s,i),e.userMedia$).pipe(a.take(1),a.tap((function(t){var n=_slicedToArray(t,2),i=(n[0],n[1]);r.on("call",(function(t){return e.initIncomingCall(t,i)}))})),a.switchMap((function(){return e.firebaseService.getQuery(c.PlayerDto,"players",[{field:"roomId",operator:"==",value:t}])})),a.switchMap((function(t){return e.processPeers(u.Game.Nechto,t,!0)})),a.map((function(){n.next(r),e.initializedPeer$.next(r)})),a.finalize((function(){return e.isInitializingPeer=!1,n.complete()})),a.catchError((function(e){return n.error(e),o.throwError(e)}))).subscribe()})),r.on("close",(function(){console.log("--Peer has been closed--")})),r.on("disconnected",(function(){console.log("--Peer has been disconnected--")})),r.on("error",(function(e){console.log("--Peer error--"),console.log(e)})),e.getOrAddPeerData().currentPeer=r}))}},{key:"setPeerId",value:function(e,t,n){var r=this;return this.firebaseService.get(c.PlayerDto,"players","".concat(e,"_").concat(t)).pipe(a.switchMap((function(i){return i?r.firebaseService.update(c.PlayerDto,"players","".concat(e,"_").concat(t),{peerId:n}):o.of(null)})))}},{key:"clearPeerData",value:function(e){if(!f.isNil(e)){var t=this.getOrAddPeerData();t&&t.currentPeer&&!t.currentPeer.destroyed&&t.currentPeer.destroy(),this.peerData=this.peerData.filter((function(t){return t.game!==e}))}}},{key:"processActiveStreams",value:function(){var e=this,t=this.getOrAddPeerData();if(t.activeStreams){var n=this.gameService.getPlayerComponents();if(t.activeStreams.length)n.forEach((function(e){if(e.peerId){var n=t.activeStreams.find((function(t){return t.peerId===e.peerId}));!n||e.hasStream&&e.playerStream.id===n.stream.id||(console.log(">>> + Enabling an active stream for player #".concat(e.playerId)),e.playerStream=n.stream)}else e.hasStream&&(console.log(">>> - Disabling an active stream for player #".concat(e.playerId)),e.playerStream=null)}));else{var r=this.gameService.getStreamingPlayerComponents().filter((function(t){return t.playerId!==e.gameService.getActivePlayerId()}));r.length&&(console.log(">>> - Removing all active streams (all players left the room except current player)"),r.forEach((function(e){e.peerId=null,e.hasStream&&(e.playerStream=null)})),this.gameService.playerStreamsUpdated$.next())}}}},{key:"getOrAddPeerData",value:function(){var e=this.gameService.getSelectedGame();if(!f.isNil(e))return this.peerData.find((function(t){return t.game===e}))||(this.peerData.push(new l.PeerData({game:e})),this.peerData.find((function(t){return t.game===e})))}},{key:"clearPeerId",value:function(e,t){return this.setPeerId(e,t,null)}},{key:"processPeers",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.userMedia$.pipe(a.take(1),a.map((function(i){var o=n.getOrAddPeerData();if(!f.isNil(e)&&!f.isNil(o.currentPeer)){var a=(t=t.filter((function(e){return e.peerId!==o.currentPeer.id}))).map((function(e){return e.peerId}));return r&&t.length&&a.map((function(e){return t.find((function(t){return t.peerId===e}))})).forEach((function(e){n.initOutgoingCall(o.currentPeer,e.peerId,i)})),o}})))}},{key:"initIncomingCall",value:function(e,t){if(e)return e.answer(t),console.log("---Call (incoming, peer ".concat(e.peer,") init---")),this.initCallListeners(e)}},{key:"initOutgoingCall",value:function(e,t,n){if(e&&t){var r=e.call(t,n);return console.log("---Call (outgoing, peer ".concat(r.peer,") init---")),this.initCallListeners(r)}}},{key:"initCallListeners",value:function(e){var t=this;return e.on("stream",(function(n){console.log("---Call (peer ".concat(e.peer,") stream---")),t.addActiveStream(e,n)})),e.on("close",(function(){console.log("---Call (peer ".concat(e.peer,") close---")),t.removeActiveStream(e.peer)})),e.on("error",(function(n){console.log("---Call (peer ".concat(e.peer,") error---")),console.log(n),t.removeActiveStream(e.peer)})),e}},{key:"addActiveStream",value:function(e,t){this.addActiveCall(e);var n=this.getOrAddPeerData(),r=e.peer,i=new h.PeerStream({peerId:r,stream:t});n.activeStreams=[].concat(_toConsumableArray2(n.activeStreams.filter((function(e){return e.peerId!==r}))),[i]),console.log(">>> + Adding an active stream for peer #".concat(r))}},{key:"addActiveCall",value:function(e){var t=this.getOrAddPeerData(),n=e.peer;t.activeCalls=[].concat(_toConsumableArray2(t.activeCalls.filter((function(e){return e.peer!==n}))),[e]),console.log(">>> + Adding an active call for peer #".concat(n))}},{key:"removeActiveStream",value:function(e){this.removeActiveCall(e);var t=this.getOrAddPeerData();t.activeStreams=t.activeStreams.filter((function(t){return t.peerId!==e})),console.log(">>> - Removing an active stream for peer #".concat(e))}},{key:"removeActiveCall",value:function(e){var t,n=this.getOrAddPeerData();n.activeCalls=_toConsumableArray2(n.activeCalls.filter((function(n){return n.peer!==e||(t=n,!1)}))),t&&t.open&&t.close(),console.log(">>> - Removing an active call for peer #".concat(e))}},{key:"reconnectIfNeeded",value:function(){var e=this,t=this.getOrAddPeerData();if(t.currentPeer){var n=this.gameService.getActivePlayerComponents(!0).length,r=this.gameService.getStreamingPlayerComponents().length;if(n!==r){var i=this.gameService.getInvalidStreamingPlayerComponents().filter((function(e){return!!e.peerId}));i.length&&(console.log("Different amount of activePlayers VS activeStreamers. Reconnecting..."),console.log("activePlayers = ".concat(n)),console.log("activeStreamers = ".concat(r)),this.userMedia$.pipe(a.map((function(n){i.forEach((function(r){r.peerId&&(e.removeActiveCall(r.peerId),e.initOutgoingCall(t.currentPeer,r.peerId,n),console.log(">>> - Reconnecting to peer #".concat(r.peerId)))}))}))).subscribe())}}}},{key:"userMedia$",get:function(){return this.mediaService.getUserMedia()}}]),e}();t.PeerService=_,_.\u0275fac=function(e){return new(e||_)(d.\u0275\u0275inject(p.FirebaseService),d.\u0275\u0275inject(v.MediaService),d.\u0275\u0275inject(m.UserService),d.\u0275\u0275inject(g.RoomService),d.\u0275\u0275inject(y.GameService))},_.\u0275prov=d.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},z4p9:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NechtoCardAction=((r=t.NechtoCardAction||{}).Event_Action_Flamethrower="flamethrower",r.Event_Action_Persistence="persistence",r.Event_Action_Whiskey="whiskey",r.Event_Action_SwapPlaces="swap-places",r.Event_Action_RunAway="run-away",r.Event_Action_Suspicion="suspicion",r.Event_Action_Analysis="analysis",r.Event_Action_Temptation="temptation",r.Event_Action_LookAround="look-around",r.Event_Action_Axe="axe",r.Event_Infection_It="it",r.Event_Infection_Infection1="infection1",r.Event_Infection_Infection2="infection2",r.Event_Infection_Infection3="infection3",r.Event_Infection_Infection4="infection4",r.Event_Defence_Fear="fear",r.Event_Defence_GoodHere="good-here",r.Event_Defence_NoBarbecue="no-barbecue",r.Event_Defence_Miss="miss",r.Event_Defence_NoThanks="no-thanks",r.Event_Obstacle_Quarantine="quarantine",r.Event_Obstacle_LockedDoor="locked-door",r.Panic_Friends="friends",r.Panic_OldRopes="old-ropes",r.Panic_BetweenUs="between-us",r.Panic_IsItParty="is-it-party",r.Panic_OneTwo="one-two",r.Panic_ThreeFour="three-four",r.Panic_BlindDate="blind-date",r.Panic_ChainReaction="chain-reaction",r.Panic_Forgetfulness="forgetfulness",r.Panic_GoAway="go-away",r.Panic_Oops="oops",r.Panic_ConfessionTime="confession-time",r)},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e,t){return new r.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},zP0r:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e){return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_classCallCheck2(this,e),this.total=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.total))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass2(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(r.a)},zUnb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("8Y7J"),o=n("AytR"),a=r.__importStar(n("ZAI4")),s=r.__importStar(n("cUpR"));o.environment.production&&(i.enableProdMode(),window.console.log=function(){}),s.platformBrowser().bootstrapModule(a.AppModule).catch((function(e){return console.error(e)}))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=(15&s)<<2|u>>6,h=63&u;c||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==c&&r.push(s<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var d=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(t,e),t}(Error),p=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?v(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",c=new d(i,s),u=0,l=Object.keys(r);u<l.length;u++){var h=l[u];"_"!==h.slice(-1)&&(h in c&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),c[h]=r[h])}return c},e}();function v(e,t){return e.replace(m,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function g(e){return JSON.parse(e)}var y=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=g(u(o[0])||""),n=g(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},_=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^s&(c^u),o=1518500249):(i=s^c^u,o=1859775393):r<60?(i=s&c|u&(s|c),o=2400959708):(i=s^c^u,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),b=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function C(){}function k(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=p,t.FirebaseError=d,t.Sha1=_,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=c,t.base64Decode=u,t.base64Encode=function(e){var t=s(e);return c.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new b(e,t);return n.subscribe.bind(n)},t.decode=y,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=k,t.getUA=f,t.isAdmin=function(e){var t=y(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return f().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isUWP=function(){return f().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=y(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=y(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=y(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=g,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(k(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(k(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(k(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zyZ6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("qCKp"),o=n("kU1M"),a=n("LyZz"),s=n("xEFI"),c=n("9/Hz"),u=n("Hs/S"),l=n("z4p9"),h=n("ngNE"),f=n("Vphj"),d=n("gcyb"),p=n("ZPdZ"),v=n("MBfS"),m=n("G+XK"),g=r.__importStar(n("8Y7J")),y=r.__importStar(n("2kLq")),_=r.__importStar(n("f4AX")),b=r.__importStar(n("PHhj")),C=r.__importStar(n("F8Su")),k=r.__importStar(n("PIpM")),w=r.__importStar(n("iInd")),S=r.__importStar(n("kBxi")),E=function(){function e(t,n,r,c,u,l,h){var f=this;_classCallCheck2(this,e),this.firebaseService=t,this.userService=n,this.roomService=r,this.gameInfoService=c,this.ratingService=u,this.router=l,this.cardHelpers=h,this.games$=new i.BehaviorSubject([]),this.currentGame$=new i.BehaviorSubject(null),this.playerStreamsUpdated$=new i.Subject,this.playerComponentsUpdated$=new i.BehaviorSubject([]),this.tableComponentUpdated$=new i.BehaviorSubject(null),this.gameStopped$=new i.Subject,this.ACTIVE_PLAYERS_NEEDED=4,this.destroy$=new i.Subject,this.firebaseService.listen(a.GameDto,"games").pipe(o.map((function(e){return f.games$.next(e),e})),o.switchMap((function(e){return i.forkJoin(f.roomService.roomsResolved?[i.of(e),i.of(f.roomService.getRooms())]:[i.of(e),f.roomService.resolveRooms()])})),o.tap((function(e){var t=_slicedToArray(e,2),n=t[0],r=(t[1],f.roomService.getSelectedRoomId()),i=n.find((function(e){return e.roomId===r})),o=f.currentGame,a=f.roomService.getRoomMembers(r).filter((function(e){return!e.isBot}));f.currentGame$.next(i),!o.roomId||i||a.length||f.navigateToLobby()})),o.takeUntil(this.destroy$)).subscribe(),this.roomService.selectedRooms$.pipe(o.switchMap((function(){var e=f.roomService.getSelectedRoomId();if(e&&f.roomService.anybodyWon()&&f.roomService.isGameFinished()){var t=f.getActivePlayer();if(t.isXpProcessed)return i.of(null);var n=f.isWinner(t.playerId)?p.UserAction.WinGame:p.UserAction.LooseGame;return i.forkJoin([f.ratingService.addXp(t.userId,n),f.firebaseService.update(s.PlayerDto,"players","".concat(e,"_").concat(t.userId),{isXpProcessed:!0})])}return i.of(null)})),o.takeUntil(this.destroy$)).subscribe()}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"getMaxAllowedPlayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedGame;switch(e){case u.Game.Nechto:default:return 12}}},{key:"getMinAllowedPlayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedGame;switch(e){case u.Game.Nechto:default:return this.ACTIVE_PLAYERS_NEEDED}}},{key:"setActivePlayerId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectedGame;if(m.isUndefined(e)||m.isNil(t))throw new Error("Player ID or game not specified");var n=this.roomService.getSelectedRoomId(t);if(m.isNil(n))throw new Error("Room ID not specified");var r=m.isNull(e)?null:f.Role.Human;return this.firebaseService.update(s.PlayerDto,"players","".concat(n,"_").concat(this.userService.getCurrentUserId()),{playerId:e,role:r})}},{key:"getActivePlayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedGame;if(m.isNil(e))throw new Error("Game not specified");var t=this.roomService.getSelectedRoomId(e);return m.isNil(t)?(console.warn("Room ID not specified"),null):this.roomService.getRoomMember(this.userService.getCurrentUserId(),t)}},{key:"getActivePlayerId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedGame,t=this.getActivePlayer(e);return t?t.playerId:null}},{key:"selectGame",value:function(e){if(m.isNil(e))throw new Error("Game not specified");this.selectedGame=e,this.roomService.selectGame(e)}},{key:"getSelectedGame",value:function(){return this.selectedGame}},{key:"startGame",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.roomService.getSelectedRoomId();if(!t)throw new Error("Room ID not specified");var n=this.roomService.getRoom(t),r=this.selectedGame;if(!n||!r)throw new Error("Room or Game not specified");var u,l=this.getActivePlayerComponents();u=n.hasRandomStartingPlayer?v.getRandomItem(l).playerId:l[0].playerId;var h=this.cardHelpers.initAllCards(r,l,n.hasCardsBasedOnQuantity),p=_slicedToArray(h,2),m=p[0],g=m.deck,y=m.hands,_=m.table,b=m.borders,C=p[1];return i.forkJoin([this.firebaseService.set(a.GameDto,"games",n.id,{roomId:n.id,deck:g,trash:[],hands:y,table:_,borders:b,currentStepPlayerId:u,currentStepPhases:[d.StepPhase.TakeFromDeck],authorId:this.userService.getCurrentUserId(),direction:c.Direction.Clockwise}),this.firebaseService.update(s.PlayerDto,"players","".concat(n.id,"_").concat(C),{role:f.Role.It}),this.firebaseService.deleteQuery("players",[{field:"roomId",operator:"==",value:n.id},{field:"playerId",operator:"==",value:null}])]).pipe(o.switchMap((function(){return i.forkJoin([e.roomService.setGameMode(n.id,!0),e.roomService.setGameFinished(n.id,!1)])})))}},{key:"endGame",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.roomService.getSelectedRoomId(),n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)throw new Error("Room ID not specified");var r=n?[this.firebaseService.deleteQuery("players",[{field:"roomId",operator:"==",value:t}])]:[this.firebaseService.updateQuery(s.PlayerDto,"players",[{field:"roomId",operator:"==",value:t}],{role:f.Role.Human})];return i.forkJoin([this.roomService.setGameMode(t,!1),this.roomService.setGameFinished(t,!1)].concat(r)).pipe(o.switchMap((function(){return i.forkJoin([e.firebaseService.delete(a.GameDto,"games",t),e.gameInfoService.deleteStepInfo(t)])})),o.tap((function(){return e.gameStopped$.next()})))}},{key:"restartGame",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.roomService.getSelectedRoomId();if(!t)throw new Error("Room ID not specified");return this.endGame(t,!1).pipe(o.switchMap((function(){return e.startGame(t)})))}},{key:"setPlayerComponents",value:function(e){var t=this,n=_toConsumableArray2(e).sort((function(e,t){return e.playerId-t.playerId}));setTimeout((function(){return t.playerComponentsUpdated$.next(n)}))}},{key:"setTableComponent",value:function(e){this.tableComponentUpdated$.next(e)}},{key:"getPlayerComponents",value:function(){return this.playerComponents}},{key:"getTableComponent",value:function(){return this.tableComponent}},{key:"getActivePlayerComponents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.playerComponents.filter((function(n){return n.hasPlayer&&(!t||!n.isInactive)&&(!e||!n.isBot)}))}},{key:"getInactivePlayerComponents",value:function(){return this.playerComponents.filter((function(e){return!e.hasPlayer}))}},{key:"getStreamingPlayerComponents",value:function(){return this.playerComponents.filter((function(e){return!e.isBot&&(e.hasStream||e.hasBlockedStream)&&!e.isInactive}))}},{key:"getInvalidStreamingPlayerComponents",value:function(){return this.getActivePlayerComponents().filter((function(e){return!e.isBot&&!e.hasStream&&!e.hasBlockedStream}))}},{key:"getActiveBotComponents",value:function(){return this.playerComponents.filter((function(e){return e.hasPlayer&&e.isBot}))}},{key:"getPlayerComponent",value:function(e){return this.playerComponents.find((function(t){return t.playerId===e}))}},{key:"getActivePlayersCount",value:function(){return this.getActivePlayerComponents().length}},{key:"isTakingStep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.roomService.isGameMode())return!1;var n=this.getCurrentStepPlayerId(),r=this.getPlayerComponent(n);return!t&&this.roomService.isBotManager(this.userService.getCurrentUserId())?e===this.getActivePlayerId()?!(!r||!r.isBot)||n===e:e===n&&!!r&&r.isBot:n===e}},{key:"isBotTakingStep",value:function(){var e=this.getCurrentStepPlayerId();return!!e&&this.getPlayerComponent(e).isBot}},{key:"hasStepPhase",value:function(e){return this.currentStepPhases.includes(e)}},{key:"hasStepPhases",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.every((function(t){return e.currentStepPhases.includes(t)}))}},{key:"hasAnyOfStepPhases",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.currentStepPhases.some((function(e){return t.includes(e)}))}},{key:"hadStepPhase",value:function(e){return this.previousStepPhases.includes(e)}},{key:"hadStepPhases",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.every((function(t){return e.previousStepPhases.includes(t)}))}},{key:"hadAnyOfStepPhases",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.previousStepPhases.some((function(e){return t.includes(e)}))}},{key:"getPreviousPlayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e||this.getCurrentStepPlayerId();var n,r=this.getActivePlayerComponents(!1,t),i=r.map((function(e){return e.playerId})),o=i.findIndex((function(t){return t===e}));return n=this.currentGame.direction===c.Direction.Clockwise?i[o-1]||i[i.length-1]:i[o+1]||i[0],r.find((function(e){return e.playerId===n}))}},{key:"getNextPlayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=e||this.getCurrentStepPlayerId();var n,r=this.getActivePlayerComponents(!1,t),i=r.map((function(e){return e.playerId})),o=i.findIndex((function(t){return t===e}));return n=this.currentGame.direction===c.Direction.Clockwise?i[o+1]||i[0]:i[o-1]||i[i.length-1],r.find((function(e){return e.playerId===n}))}},{key:"getTablePartId",value:function(e){var t=this;if(this.hasCurrentGame){var n=Object.keys(this.currentGameTable).find((function(n){var r=parseInt(n,null);return t.currentGameTable[r].some((function(t){return t.id===e}))}));return n?parseInt(n,null):null}return null}},{key:"getHandPartId",value:function(e){var t=this;if(this.hasCurrentGame){var n=Object.keys(this.currentGameHands).find((function(n){var r=parseInt(n,null);return t.currentGameHands[r].some((function(t){return t.id===e}))}));return n?parseInt(n,null):null}return null}},{key:"getBorderPartId",value:function(e){var t=this;if(this.hasCurrentGame){var n=Object.keys(this.currentGameBorders).find((function(n){var r=parseInt(n,null);return t.currentGameBorders[r].some((function(t){return t.id===e}))}));return n?parseInt(n,null):null}return null}},{key:"getActiveRequestedCard",value:function(){return this.getActiveCard()}},{key:"getActiveEventCard",value:function(){return this.getActiveCard(h.NechtoCardType.Event)}},{key:"getActivePanicCard",value:function(){return this.getActiveCard(h.NechtoCardType.Panic)}},{key:"getActiveRequester",value:function(){return this.getRequester()}},{key:"getActiveEventRequester",value:function(){return this.getRequester(h.NechtoCardType.Event)}},{key:"getActivePanicRequester",value:function(){return this.getRequester(h.NechtoCardType.Panic)}},{key:"canExchange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return console.warn("Other Player ID not specified"),!1;var i=this.getCurrentStepPlayerId();return this.canExchangeBoth(i,e,t,n,r)}},{key:"canExchangeBoth",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e&&t?!this.isInactive(e)&&!this.isInactive(t)&&(n||(i||!this.hasQuarantine(e))&&!this.hasQuarantine(t))&&(r||!this.hasLockedDoor(e,t)&&!this.hasLockedDoor(t,e)):(console.warn("First or Second Player ID not specified"),!1)}},{key:"hasQuarantine",value:function(e){return e?!!this.currentGameTable[e]&&this.currentGameTable[e].some((function(e){return e.action===l.NechtoCardAction.Event_Obstacle_Quarantine})):(console.warn("Player ID not specified"),!1)}},{key:"hasLockedDoor",value:function(e,t){return e&&t?!!this.currentGameBorders[e]&&(e===t?this.currentGameBorders[e].length>0:this.currentGameBorders[e].some((function(e){return e.blockFrom===t}))):(console.warn("Player ID or Other Player ID not specified"),!1)}},{key:"hasAnyLockedDoor",value:function(e){return e?!!this.currentGameBorders[e]&&this.currentGameBorders[e].some((function(e){return e.action===l.NechtoCardAction.Event_Obstacle_LockedDoor})):(console.warn("Player ID not specified"),!1)}},{key:"getLockedDoors",value:function(e){return e?this.currentGameBorders[e].filter((function(e){return e.action===l.NechtoCardAction.Event_Obstacle_LockedDoor})):(console.warn("Player ID not specified"),[])}},{key:"isIt",value:function(e){var t=e?this.roomService.getRoomMemberByPlayerId(e,this.roomService.getSelectedRoomId()):this.getActivePlayer();return!!t&&t.role===f.Role.It}},{key:"isInfected",value:function(e){var t=e?this.roomService.getRoomMemberByPlayerId(e,this.roomService.getSelectedRoomId()):this.getActivePlayer();return!!t&&t.role===f.Role.Infected}},{key:"isHuman",value:function(e){var t=e?this.roomService.getRoomMemberByPlayerId(e,this.roomService.getSelectedRoomId()):this.getActivePlayer();return!!t&&t.role===f.Role.Human}},{key:"wasHuman",value:function(e){var t=e?this.roomService.getRoomMemberByPlayerId(e,this.roomService.getSelectedRoomId()):this.getActivePlayer();return!!t&&t.role===f.Role.Inactive&&t.previousRole===f.Role.Human}},{key:"isInactive",value:function(e){var t=e?this.roomService.getRoomMemberByPlayerId(e,this.roomService.getSelectedRoomId()):this.getActivePlayer();return!!t&&t.role===f.Role.Inactive}},{key:"isWinner",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getActivePlayerId();return!!e&&(this.roomService.humansWon()?this.isHuman(e)||this.wasHuman(e):!!this.roomService.itWon()&&(this.isIt(e)||this.isInfected(e)||!this.wasHuman(e)))}},{key:"getTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentStepPlayerId();return this.currentGameTable[e]||[]}},{key:"getHand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentStepPlayerId();return this.currentGameHands[e]||[]}},{key:"swapPlayers",value:function(e,t){var n=this.roomService.getSelectedRoomId(),r=this.roomService.getRoomMemberByPlayerId(e,this.roomService.getSelectedRoomId()).userId,i=this.roomService.getRoomMemberByPlayerId(t,n).userId;return console.log("Swapping 2 players: #".concat(e," with #").concat(t)),[this.firebaseService.update(s.PlayerDto,"players","".concat(n,"_").concat(r),{playerId:t}),this.firebaseService.update(s.PlayerDto,"players","".concat(n,"_").concat(i),{playerId:e})]}},{key:"getCurrentStepPlayerId",value:function(){return this.currentGame.currentStepPlayerId}},{key:"getCurrentStepPlayerComponent",value:function(){return this.getPlayerComponent(this.getCurrentStepPlayerId())}},{key:"getActiveCard",value:function(e){var t=this;if(this.hasCurrentGame){var n=null;return Object.keys(this.currentGameTable).forEach((function(r){var i=parseInt(r,null);n||(n=t.currentGameTable[i].find((function(t){switch(e){case h.NechtoCardType.Event:return!!t.eventRequester;case h.NechtoCardType.Panic:return!!t.panicRequester;default:return!!t.requester}}))||null)})),n}return null}},{key:"getRequester",value:function(e){if(this.hasCurrentGame){var t,n=this.getActiveCard(e);if(!n)return null;switch(e){case h.NechtoCardType.Event:t=n.eventRequester;break;case h.NechtoCardType.Panic:t=n.panicRequester;break;default:t=n.requester}return this.getActivePlayerComponents().find((function(e){return e.playerId===t}))||null}return null}},{key:"navigateToLobby",value:function(){this.router.navigate(["/games",this.selectedGame.toLowerCase(),"lobby"])}},{key:"games",get:function(){return this.games$.value}},{key:"currentGame",get:function(){return this.currentGame$.value||new a.GameDto}},{key:"hasCurrentGame",get:function(){return!!this.currentGame.roomId}},{key:"currentGameTable",get:function(){return this.currentGame.table||{}}},{key:"currentGameHands",get:function(){return this.currentGame.hands||{}}},{key:"currentGameBorders",get:function(){return this.currentGame.borders||{}}},{key:"currentGameDeck",get:function(){return this.currentGame.deck||[]}},{key:"currentGameTrash",get:function(){return this.currentGame.trash||[]}},{key:"currentStepPhases",get:function(){return this.currentGame.currentStepPhases||[]}},{key:"previousStepPhases",get:function(){return this.currentGame.previousStepPhases||[]}},{key:"lastCard",get:function(){return this.currentGame.lastCard||{}}},{key:"hasEnoughPlayers",get:function(){return this.roomService.isPlaying&&this.getActivePlayersCount()>=this.ACTIVE_PLAYERS_NEEDED}},{key:"isBotPlaying",get:function(){return this.roomService.isGameMode()&&this.getCurrentStepPlayerComponent()&&this.getCurrentStepPlayerComponent().isBot}},{key:"hasReservedData",get:function(){return this.currentGame.reservedStepPhases.length&&!!this.currentGame.reservedStepPlayerId}},{key:"canLeaveRoom",get:function(){return(!this.roomService.isGameMode()||this.roomService.isGameFinished()||this.isInactive()||!this.getActivePlayerId())&&!!this.roomService.getSelectedRoomId()}},{key:"playerComponents",get:function(){return this.playerComponentsUpdated$.value}},{key:"tableComponent",get:function(){return this.tableComponentUpdated$.value}}]),e}();t.GameService=E,E.\u0275fac=function(e){return new(e||E)(g.\u0275\u0275inject(y.FirebaseService),g.\u0275\u0275inject(_.UserService),g.\u0275\u0275inject(b.RoomService),g.\u0275\u0275inject(C.GameInfoService),g.\u0275\u0275inject(k.RatingService),g.\u0275\u0275inject(w.Router),g.\u0275\u0275inject(S.CardHelpers))},E.\u0275prov=g.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"})}},[[0,0]]]);